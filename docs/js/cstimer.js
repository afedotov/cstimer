var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(r,Sa,d){r!=Array.prototype&&r!=Object.prototype&&(r[Sa]=d.value)};$jscomp.getGlobal=function(r){return"undefined"!=typeof window&&window===r?r:"undefined"!=typeof global&&null!=global?global:r};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(r,Sa,d,ua){if(Sa){d=$jscomp.global;r=r.split(".");for(ua=0;ua<r.length-1;ua++){var b=r[ua];b in d||(d[b]={});d=d[b]}r=r[r.length-1];ua=d[r];Sa=Sa(ua);Sa!=ua&&null!=Sa&&$jscomp.defineProperty(d,r,{configurable:!0,writable:!0,value:Sa})}};
$jscomp.polyfill("Array.prototype.fill",function(r){return r?r:function(r,d,ua){var b=this.length||0;0>d&&(d=Math.max(0,b+d));if(null==ua||ua>b)ua=b;ua=Number(ua);0>ua&&(ua=Math.max(0,b+ua));for(d=Number(d||0);d<ua;d++)this[d]=r;return this}},"es6","es3");
$jscomp.checkStringArgs=function(r,Sa,d){if(null==r)throw new TypeError("The 'this' value for String.prototype."+d+" must not be null or undefined");if(Sa instanceof RegExp)throw new TypeError("First argument to String.prototype."+d+" must not be a regular expression");return r+""};
$jscomp.polyfill("String.prototype.startsWith",function(r){return r?r:function(r,d){var ua=$jscomp.checkStringArgs(this,r,"startsWith");r+="";for(var b=ua.length,p=r.length,h=Math.max(0,Math.min(d|0,ua.length)),v=0;v<p&&h<b;)if(ua[h++]!=r[v++])return!1;return v>=p}},"es6","es3");$jscomp.findInternal=function(r,Sa,d){r instanceof String&&(r=String(r));for(var ua=r.length,b=0;b<ua;b++){var p=r[b];if(Sa.call(d,p,b,r))return{i:b,v:p}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(r){return r?r:function(r,d){return $jscomp.findInternal(this,r,d).v}},"es6","es3");$jscomp.arrayIteratorImpl=function(r){var Sa=0;return function(){return Sa<r.length?{done:!1,value:r[Sa++]}:{done:!0}}};$jscomp.arrayIterator=function(r){return{next:$jscomp.arrayIteratorImpl(r)}};$jscomp.makeIterator=function(r){var Sa="undefined"!=typeof Symbol&&Symbol.iterator&&r[Symbol.iterator];return Sa?Sa.call(r):$jscomp.arrayIterator(r)};
$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(r){function Sa(){this.batch_=null}function d(h){return h instanceof b?h:new b(function(b,d){b(h)})}if(r&&!$jscomp.FORCE_POLYFILL_PROMISE)return r;Sa.prototype.asyncExecute=function(h){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(h);return this};Sa.prototype.asyncExecuteBatch_=function(){var h=this;this.asyncExecuteFunction(function(){h.executeBatch_()})};var ua=$jscomp.global.setTimeout;Sa.prototype.asyncExecuteFunction=function(h){ua(h,
0)};Sa.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var h=this.batch_;this.batch_=[];for(var b=0;b<h.length;++b){var d=h[b];h[b]=null;try{d()}catch(Ua){this.asyncThrow_(Ua)}}}this.batch_=null};Sa.prototype.asyncThrow_=function(h){this.asyncExecuteFunction(function(){throw h;})};var b=function(h){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{h(b.resolve,b.reject)}catch(Ya){b.reject(Ya)}};b.prototype.createResolveAndReject_=
function(){function b(b){return function(h){p||(p=!0,b.call(d,h))}}var d=this,p=!1;return{resolve:b(this.resolveTo_),reject:b(this.reject_)}};b.prototype.resolveTo_=function(h){if(h===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(h instanceof b)this.settleSameAsPromise_(h);else{a:switch(typeof h){case "object":var d=null!=h;break a;case "function":d=!0;break a;default:d=!1}d?this.resolveToNonPromiseObj_(h):this.fulfill_(h)}};b.prototype.resolveToNonPromiseObj_=function(b){var h=
void 0;try{h=b.then}catch(Ya){this.reject_(Ya);return}"function"==typeof h?this.settleSameAsThenable_(h,b):this.fulfill_(b)};b.prototype.reject_=function(b){this.settle_(2,b)};b.prototype.fulfill_=function(b){this.settle_(1,b)};b.prototype.settle_=function(b,d){if(0!=this.state_)throw Error("Cannot settle("+b+", "+d+"): Promise already settled in state"+this.state_);this.state_=b;this.result_=d;this.executeOnSettledCallbacks_()};b.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var b=
0;b<this.onSettledCallbacks_.length;++b)p.asyncExecute(this.onSettledCallbacks_[b]);this.onSettledCallbacks_=null}};var p=new Sa;b.prototype.settleSameAsPromise_=function(b){var h=this.createResolveAndReject_();b.callWhenSettled_(h.resolve,h.reject)};b.prototype.settleSameAsThenable_=function(b,d){var h=this.createResolveAndReject_();try{b.call(d,h.resolve,h.reject)}catch(Ua){h.reject(Ua)}};b.prototype.then=function(h,d){function v(b,h){return"function"==typeof b?function(h){try{Ua(b(h))}catch(Ra){w(Ra)}}:
h}var Ua,w,p=new b(function(b,h){Ua=b;w=h});this.callWhenSettled_(v(h,Ua),v(d,w));return p};b.prototype["catch"]=function(b){return this.then(void 0,b)};b.prototype.callWhenSettled_=function(b,d){function h(){switch(v.state_){case 1:b(v.result_);break;case 2:d(v.result_);break;default:throw Error("Unexpected state: "+v.state_);}}var v=this;null==this.onSettledCallbacks_?p.asyncExecute(h):this.onSettledCallbacks_.push(h)};b.resolve=d;b.reject=function(h){return new b(function(b,d){d(h)})};b.race=function(h){return new b(function(b,
p){for(var v=$jscomp.makeIterator(h),w=v.next();!w.done;w=v.next())d(w.value).callWhenSettled_(b,p)})};b.all=function(h){var v=$jscomp.makeIterator(h),p=v.next();return p.done?d([]):new b(function(b,h){function w(h){return function(d){Ua[h]=d;Wa--;0==Wa&&b(Ua)}}var Ua=[],Wa=0;do Ua.push(void 0),Wa++,d(p.value).callWhenSettled_(w(Ua.length-1),h),p=v.next();while(!p.done)})};return b},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(r){return r?r:function(r,d){var ua=$jscomp.checkStringArgs(this,r,"endsWith");r+="";void 0===d&&(d=ua.length);for(var b=Math.max(0,Math.min(d|0,ua.length)),p=r.length;0<p&&0<b;)if(ua[--b]!=r[--p])return!1;return 0>=p}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var r=0;return function(Sa){return $jscomp.SYMBOL_PREFIX+(Sa||"")+r++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var r=$jscomp.global.Symbol.iterator;r||(r=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[r]&&$jscomp.defineProperty(Array.prototype,r,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var r=$jscomp.global.Symbol.asyncIterator;r||(r=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(r){$jscomp.initSymbolIterator();r={next:r};r[$jscomp.global.Symbol.iterator]=function(){return this};return r};
$jscomp.iteratorFromArray=function(r,Sa){$jscomp.initSymbolIterator();r instanceof String&&(r+="");var d=0,ua={next:function(){if(d<r.length){var b=d++;return{value:Sa(b,r[b]),done:!1}}ua.next=function(){return{done:!0,value:void 0}};return ua.next()}};ua[Symbol.iterator]=function(){return ua};return ua};$jscomp.polyfill("Array.prototype.keys",function(r){return r?r:function(){return $jscomp.iteratorFromArray(this,function(r){return r})}},"es6","es3");
$jscomp.polyfill("Math.log10",function(r){return r?r:function(r){return Math.log(r)/Math.LN10}},"es6","es3");$jscomp.polyfill("String.prototype.repeat",function(r){return r?r:function(r){var d=$jscomp.checkStringArgs(this,null,"repeat");if(0>r||1342177279<r)throw new RangeError("Invalid count value");r|=0;for(var ua="";r;)if(r&1&&(ua+=d),r>>>=1)d+=d;return ua}},"es6","es3");
$jscomp.stringPadding=function(r,Sa){var d=void 0!==r?String(r):" ";return 0<Sa&&d?d.repeat(Math.ceil(Sa/d.length)).substring(0,Sa):""};$jscomp.polyfill("String.prototype.padStart",function(r){return r?r:function(r,d){var ua=$jscomp.checkStringArgs(this,null,"padStart");return $jscomp.stringPadding(d,r-ua.length)+ua}},"es8","es3");var isInWorker="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope;
function execBoth(r,Sa,d){return!isInWorker&&r?r.apply(this,d||[]):isInWorker&&Sa?Sa.apply(this,d||[]):{}}function execWorker(r,Sa){return execBoth(void 0,r,Sa)}function execMain(r,Sa){return execBoth(r,void 0,Sa)}execWorker(function(){self.$={isArray:Array.isArray||function(r){return"array"===jQuery.type(r)},noop:function(){}}});
execMain(function(){window.onerror=function(d,r,b,p,h){void 0==h&&(h={});var v="";try{v=$.fingerprint()}catch(Ya){}try{LZString.compressToEncodedURIComponent(localStorage.properties)}catch(Ya){}console.log(CSTIMER_VERSION,v,d,r,b,p,h)};for(var r="CSTIMER_VERSION LANG_SET LANG_STR LANG_CUR OK_LANG CANCEL_LANG RESET_LANG ABOUT_LANG ZOOM_LANG BUTTON_TIME_LIST BUTTON_OPTIONS BUTTON_EXPORT BUTTON_DONATE PROPERTY_SR PROPERTY_USEINS PROPERTY_USEINS_STR PROPERTY_VOICEINS PROPERTY_VOICEINS_STR PROPERTY_VOICEVOL PROPERTY_PHASES PROPERTY_TIMERSIZE PROPERTY_USEMILLI PROPERTY_SMALLADP PROPERTY_SCRSIZE PROPERTY_SCRMONO PROPERTY_SCRLIM PROPERTY_SCRALIGN PROPERTY_SCRALIGN_STR PROPERTY_SCRFAST PROPERTY_SCRKEYM PROPERTY_SCRCLK PROPERTY_SCRCLK_STR PROPERTY_WNDSCR PROPERTY_WNDSTAT PROPERTY_WNDTOOL PROPERTY_WND_STR EXPORT_DATAEXPORT EXPORT_TOFILE EXPORT_FROMFILE EXPORT_TOSERV EXPORT_FROMSERV EXPORT_FROMOTHER EXPORT_USERID EXPORT_INVID EXPORT_ERROR EXPORT_NODATA EXPORT_UPLOADED EXPORT_CODEPROMPT EXPORT_ONLYOPT EXPORT_ACCOUNT EXPORT_LOGINGGL EXPORT_LOGINWCA EXPORT_LOGOUTCFM EXPORT_LOGINAUTHED IMPORT_FINAL_CONFIRM BUTTON_SCRAMBLE BUTTON_TOOLS IMAGE_UNAVAILABLE TOOLS_SELECTFUNC TOOLS_CROSS TOOLS_EOLINE TOOLS_ROUX1 TOOLS_222FACE TOOLS_GIIKER TOOLS_IMAGE TOOLS_STATS TOOLS_HUGESTATS TOOLS_DISTRIBUTION TOOLS_TREND TOOLS_METRONOME TOOLS_CFMTIME TOOLS_SOLVERS TOOLS_SYNCSEED TOOLS_SYNCSEED_SEED TOOLS_SYNCSEED_INPUT TOOLS_SYNCSEED_30S TOOLS_SYNCSEED_HELP TOOLS_SYNCSEED_DISABLE TOOLS_SYNCSEED_INPUTA OLCOMP_UPDATELIST OLCOMP_VIEWRESULT OLCOMP_VIEWMYRESULT OLCOMP_START OLCOMP_SUBMIT OLCOMP_SUBMITAS OLCOMP_WCANOTICE OLCOMP_OLCOMP OLCOMP_ANONYM OLCOMP_ME OLCOMP_WCAACCOUNT OLCOMP_ABORT OLCOMP_WITHANONYM PROPERTY_IMGSIZE TIMER_INSPECT TIMER_SOLVE PROPERTY_USEMOUSE PROPERTY_TIMEU PROPERTY_TIMEU_STR PROPERTY_PRETIME PROPERTY_ENTERING PROPERTY_ENTERING_STR PROPERTY_INTUNIT PROPERTY_INTUNIT_STR PROPERTY_COLOR PROPERTY_COLORS PROPERTY_VIEW PROPERTY_VIEW_STR PROPERTY_UIDESIGN PROPERTY_UIDESIGN_STR COLOR_EXPORT COLOR_IMPORT COLOR_FAIL PROPERTY_FONTCOLOR_STR PROPERTY_COLOR_STR PROPERTY_FONT PROPERTY_FONT_STR PROPERTY_FORMAT PROPERTY_USEKSC PROPERTY_NTOOLS PROPERTY_AHIDE SCRAMBLE_LAST SCRAMBLE_NEXT SCRAMBLE_SCRAMBLE SCRAMBLE_LENGTH SCRAMBLE_INPUT PROPERTY_VRCSPEED PROPERTY_VRCMP PROPERTY_VRCMPS PROPERTY_GIIKERVRC PROPERTY_GIISOK_DELAY PROPERTY_GIISOK_DELAYS PROPERTY_GIISOK_KEY PROPERTY_GIISOK_MOVE PROPERTY_GIISOK_MOVES PROPERTY_GIISBEEP PROPERTY_GIIRST PROPERTY_GIIRSTS CONFIRM_GIIRST PROPERTY_GIIAED scrdata SCRAMBLE_NOOBST SCRAMBLE_NOOBSS STATS_CFM_RESET STATS_CFM_DELSS STATS_CFM_DELMUL STATS_CFM_DELETE STATS_COMMENT STATS_REVIEW STATS_DATE STATS_SSSTAT STATS_CURROUND STATS_CURSESSION STATS_CURSPLIT STATS_EXPORTCSV STATS_SSMGR_TITLE STATS_SSMGR_NAME STATS_SSMGR_DETAIL STATS_SSMGR_OPS STATS_SSMGR_ORDER STATS_SSMGR_ODCFM STATS_SSMGR_SORTCFM STATS_ALERTMG STATS_PROMPTSPL STATS_ALERTSPL STATS_AVG STATS_SOLVE STATS_TIME STATS_SESSION STATS_SESSION_NAME STATS_SESSION_NAMEC STATS_STRING STATS_PREC STATS_PREC_STR STATS_TYPELEN STATS_STATCLR STATS_ABSIDX STATS_XSESSION_DATE STATS_XSESSION_NAME STATS_XSESSION_SCR STATS_XSESSION_CALC STATS_RSFORSS PROPERTY_PRINTSCR PROPERTY_PRINTDATE PROPERTY_SUMMARY PROPERTY_IMRENAME PROPERTY_SCR2SS PROPERTY_SS2SCR PROPERTY_SS2PHASES PROPERTY_STATINV PROPERTY_STATAL PROPERTY_STATALU PROPERTY_DELMUL PROPERTY_TOOLSFUNC PROPERTY_TRIM PROPERTY_TRIM_MED PROPERTY_STKHEAD PROPERTY_HIDEFULLSOL PROPERTY_IMPPREV PROPERTY_AUTOEXP PROPERTY_AUTOEXP_OPT PROPERTY_SCRASIZE MODULE_NAMES BGIMAGE_URL BGIMAGE_INVALID BGIMAGE_OPACITY BGIMAGE_IMAGE BGIMAGE_IMAGE_STR SHOW_AVG_LABEL USE_LOGOHINT TOOLS_SCRGEN SCRGEN_NSCR SCRGEN_PRE SCRGEN_GEN".split(" "),
Sa=0;Sa<r.length;Sa++)window[r[Sa]]=window[r[Sa]]||"|||||||||||||||";window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(d,r){return window.setTimeout(d,1E3/60)}}();window.localStorage||(window.localStorage={});"properties"in localStorage||"https:"==location.protocol||"localhost"==location.hostname||(location.href="https:"+location.href.substring(location.protocol.length));
window.performance&&window.performance.now&&($.now=function(){return Math.floor(window.performance.now())});$.urlParam=function(d){d=(new RegExp("[?&]"+d+"=([^&#]*)")).exec(window.location.href);return null==d?null:d[1]||0};$.hashParam=function(d){d=(new RegExp("[#&]"+d+"=([^&#]*)")).exec(window.location.hash);return null==d?null:d[1]||0};$.clearUrl=function(d){var r=(new RegExp("[?&]("+d+"=[^&#]*&?)")).exec(window.location.href);d=d?location.href.replace(r[1],"").replace(/\?$/,""):location.pathname;
history&&history.replaceState?history.replaceState(void 0,void 0,d):location.href=d};$.clearHash=function(d){var r=(new RegExp("[#&]("+d+"=[^&#]*&?)")).exec(window.location.href);d=d?location.href.replace(r[1],"").replace(/#$/,""):location.pathname+location.search;history&&history.replaceState?history.replaceState(void 0,void 0,d):location.href=d};$.clipboardCopy=function(d,r){var b=$("<textarea>"+d+"</textarea>").appendTo(document.body);b.focus().select();var p=!1;try{p=document.execCommand("copy")}catch(h){}b.remove();
return p};$.fingerprint=function(){var d=window.screen&&[Math.max(screen.height,screen.width),Math.min(screen.height,screen.width),screen.colorDepth].join("x"),r=(new Date).getTimezoneOffset(),b=$.map(navigator.plugins,function(b){return[b.name,b.description,$.map(b,function(b){return[b.type,b.suffixes].join("~")}).sort().join(",")].join("::")}).sort().join(";");d=[navigator.userAgent,navigator.language,!!window.sessionStorage,!!window.localStorage,!!window.indexedDB,navigator.doNotTrack,d,r,b].join("###");
return $.sha256(d)};$.ctxDrawPolygon=function(d,r,b,p){if(d){p=p||[1,0,0,0,1,0];b=$.ctxTransform(b,p);d.beginPath();d.fillStyle=r;d.moveTo(b[0][0],b[1][0]);for(r=1;r<b[0].length;r++)d.lineTo(b[0][r],b[1][r]);d.closePath();d.fill();d.stroke()}};$.ctxRotate=function(d,r){return Transform(d,[Math.cos(r),-Math.sin(r),0,Math.sin(r),Math.cos(r),0])};$.ctxTransform=function(d){for(var r,b=1;b<arguments.length;b++){var p=arguments[b];3==p.length&&(p=[p[0],0,p[1]*p[0],0,p[0],p[2]*p[0]]);r=[[],[]];for(b=0;b<
d[0].length;b++)r[0][b]=d[0][b]*p[0]+d[1][b]*p[1]+p[2],r[1][b]=d[0][b]*p[3]+d[1][b]*p[4]+p[5]}return r};"serviceWorker"in navigator?$(function(){navigator.serviceWorker.register("sw.js")}):window.applicationCache&&$(function(){applicationCache.addEventListener("updateready",function(d){applicationCache.status==applicationCache.UPDATEREADY&&(applicationCache.swapCache(),location.reload())},!1)})});var DEBUGM=!1,DEBUGWK=!1,DEBUG=isInWorker?DEBUGWK:DEBUGM&&!!$.urlParam("debug");
Array.prototype.indexOf||(Array.prototype.indexOf=function(r){for(var Sa=0;Sa<this.length;Sa++)if(this[Sa]==r)return Sa;return-1});
Function.prototype.bind||(Function.prototype.bind=function(r){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var Sa=Array.prototype.slice.call(arguments,1),d=this,ua=function(){},b=function(){return d.apply(this instanceof ua?this:r,Sa.concat(Array.prototype.slice.call(arguments)))};this.prototype&&(ua.prototype=this.prototype);b.prototype=new ua;return b});execBoth(function(){var r=function(d,r){var b=(d&65535)+(r&65535);return(d>>16)+(r>>16)+(b>>16)<<16|b&65535},Sa=function(d,r){return d>>>r|d<<32-r};$.sha256=function(d){/[\x80-\xFF]/.test(d)&&(d=unescape(encodeURI(d)));for(var ua=d,b=[],p=0;p<8*ua.length;p+=8)b[p>>5]|=(ua.charCodeAt(p/8)&255)<<24-p%32;var h=8*d.length;ua=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,
4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];
d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];p=[64];b[h>>5]|=128<<24-h%32;b[(h+64>>9<<4)+15]=h;for(h=0;h<b.length;h+=16){for(var v=d[0],Ya=d[1],Ua=d[2],w=d[3],Qa=d[4],Xa=d[5],Wa=d[6],Ta=d[7],Ra=0;64>Ra;Ra++){var Va=Ra;if(16>Ra)var f=b[h+Ra];else{f=p[Ra-2];f=Sa(f,17)^Sa(f,19)^f>>>10;f=r(f,p[Ra-7]);var z=p[Ra-15];z=Sa(z,7)^Sa(z,18)^z>>>3;f=r(r(f,z),p[Ra-16])}p[Va]=f;Va=Qa;Va=Sa(Va,6)^Sa(Va,11)^Sa(Va,25);Va=r(r(r(r(Ta,Va),Qa&Xa^~Qa&Wa),ua[Ra]),p[Ra]);Ta=
v;Ta=Sa(Ta,2)^Sa(Ta,13)^Sa(Ta,22);f=r(Ta,v&Ya^v&Ua^Ya&Ua);Ta=Wa;Wa=Xa;Xa=Qa;Qa=r(w,Va);w=Ua;Ua=Ya;Ya=v;v=r(Va,f)}d[0]=r(v,d[0]);d[1]=r(Ya,d[1]);d[2]=r(Ua,d[2]);d[3]=r(w,d[3]);d[4]=r(Qa,d[4]);d[5]=r(Xa,d[5]);d[6]=r(Wa,d[6]);d[7]=r(Ta,d[7])}b="";for(ua=0;ua<4*d.length;ua++)b+="0123456789abcdef".charAt(d[ua>>2]>>8*(3-ua%4)+4&15)+"0123456789abcdef".charAt(d[ua>>2]>>8*(3-ua%4)&15);return b}});function MersenneTwisterObject(r,Sa){function d(b,h){var d=b&65535,w=h&65535;var v=d*w;var p=v>>>16;p=p+d*((h&4294901760)>>>16)&65535;p+=((b&4294901760)>>>16)*w;p&=65535;d=p<<16|v&65535;return 0>d?d+4294967296:d}function ua(b){var w=0<arguments.length&&isFinite(b)?b&4294967295:5489,p;h=[w];v=624;for(p=1;624>p;h[p]=w=d(w^w>>>30,1812433253)+p++);}function b(b,w){var v=b.length,p;ua(1<arguments.length&&isFinite(w)?w:19650218);var r=h[0];var Ua=1;var Ra=0;for(p=Math.max(624,v);p;Ra%=v,p--)h[Ua]=r=(h[Ua++]^
d(r^r>>>30,1664525))+b[Ra]+Ra++&4294967295,623<Ua&&(h[0]=r=h[623],Ua=1);for(p=623;p;p--)h[Ua]=r=(h[Ua]^d(r^r>>>30,1566083941))-Ua++&4294967295,623<Ua&&(h[0]=r=h[623],Ua=1);h[0]=2147483648}function p(){for(var b,d;624<=v||0>v;){v=Math.max(0,v-624);for(d=0;227>d;b=h[d]&2147483648|h[d+1]&2147483647,h[d]=h[d+397]^b>>>1^Ya[b&1],d++);for(;623>d;b=h[d]&2147483648|h[d+1]&2147483647,h[d]=h[d+-227]^b>>>1^Ya[b&1],d++);b=h[623]&2147483648|h[0]&2147483647;h[623]=h[396]^b>>>1^Ya[b&1]}b=h[v++];b^=b>>>11;b^=b<<7&
2636928640;b^=b<<15&4022730752;b^=b>>>18;return 0>b?b+4294967296:b}var h=[],v=NaN,Ya=[0,2567483615];1<arguments.length?b(Sa,r):0<arguments.length?ua(r):ua();return function(){return(67108864*(p()>>>5)+(p()>>>6))/9007199254740992}}Math.random=new MersenneTwisterObject((new Date).getTime());var mathlib=function(){function r(b,f,h,d,n,z){var ab=b[f];b[f]=b[n]^z;b[n]=b[d]^z;b[d]=b[h]^z;b[h]=ab^z}function Sa(b){for(var f=arguments.length-1,h=b[arguments[f]];1<f;f--)b[arguments[f]]=b[arguments[f-1]];b[arguments[1]]=h;return Sa}function d(b,f,h,n){h=h||1;for(var ab=f.length,z=[],v=0;v<ab;v++)z[v]=b[f[v]];for(v=0;v<ab;v++){var p=(v+h)%ab;b[f[p]]=z[v];n&&(b[f[p]]+=n[p]-n[v]+n[n.length-1])}return d}function ua(b,f){return b[f>>3]>>((f&7)<<2)&15}function b(b,f,h){f=f||8;for(var d=0,ab=1985229328,
n=0;n<f-1;++n){var z=b[n]<<2;d=(f-n)*d+(ab>>z&7);ab-=286331152<<z}return 0>h?d>>1:d}function p(b,f,h,d){h=(h||8)-1;var ab=1985229328,n=0;0>d&&(f<<=1);for(var z=0;z<h;++z){var v=Ra[h-z],p=~~(f/v);n^=p;f%=v;p<<=2;b[z]=ab>>p&7;v=(1<<p)-1;ab=(ab&v)+(ab>>4&~v)}0>d&&0!=(n&1)?(b[h]=b[h-1],b[h-1]=ab&7):b[h]=ab&7;return b}function h(f,h,d){this.length=h;this.evenbase=d;this.get="p"==f?function(f){return b(f,this.length,this.evenbase)}:function(b){var f=this.evenbase,h=Math.abs(f);f=0>f?0:b[0]%h;for(var d=
this.length-1;0<d;d--)f=f*h+b[d]%h;return f};this.set="p"==f?function(b,f){return p(b,f,this.length,this.evenbase)}:function(b,f){for(var h=f,d=this.length,ab=this.evenbase,n=Math.abs(ab),z=n*d,v=1;v<d;v++)b[v]=h%n,z-=b[v],h=~~(h/n);b[0]=(0>ab?z:h)%n;return b}}function v(b,f,d,n){n=n||6;if($.isArray(d)){var ab=new h(d[1],d[2],d[3]);d=d[0];for(var z=0;z<n;z++){b[z]=[];for(var v=0;v<f;v++){var p=ab.set([],v);d(p,z);b[z][v]=ab.get(p)}}}else for(z=0;z<n;z++)for(b[z]=[],v=0;v<f;v++)b[z][v]=d(v,z)}function Ya(){this.ca=
[0,1,2,3,4,5,6,7];this.ea=[0,2,4,6,8,10,12,14,16,18,20,22]}function Ua(b,f,h,d,n,z,v,p){var ab=$.isArray(n);z=z||6;v=v||3;p=p||256;d=d||256;for(var w=0,r=h+7>>>3;w<r;w++)b[w]=-1;b[f>>3]^=15<<((f&7)<<2);for(w=f=0;w<=d;w++){r=0;var Za=w>=p,Va=w+1^15,Ua=Za?15:w,Wa=Za?w:15,$a=0;a:for(;$a<h;$a++,f>>=4){if(0==($a&7)&&(f=b[$a>>3],!Za&&-1==f)){$a+=7;continue}if((f&15)==Ua)for(var Ra=0;Ra<z;Ra++)for(var Ya=$a,kb=0;kb<v;kb++)if(Ya=ab?n[Ra][Ya]:n(Ya,Ra),ua(b,Ya)==Wa){++r;if(Za){b[$a>>3]^=Va<<(($a&7)<<2);continue a}b[Ya>>
3]^=Va<<((Ya&7)<<2)}}if(0==r)break;DEBUG&&console.log("[prun]",r)}}function w(b,f,h){this.N_STATES=h.length;this.N_MOVES=b;this.N_POWER=f;this.state_params=h;this.inited=!1}function Qa(b){return b}function Xa(b,f,h,d){this.solvedStates=b;this.doMove=f;this.movesList=[];for(var n in h)this.movesList.push([n,h[n]]);this.prunHash=d||Qa;this.prunTable={};this.toUpdateArr=null;this.prunTableSize=0;this.prunDepth=-1;this.cost=0}function Wa(b){return~~(cb.random()*b)}for(var Ta=[],Ra=[1],Va=0;32>Va;++Va){Ta[Va]=
[];for(var f=0;32>f;++f)Ta[Va][f]=0}for(Va=0;32>Va;++Va)for(Ta[Va][0]=Ta[Va][Va]=1,Ra[Va+1]=Ra[Va]*(Va+1),f=1;f<Va;++f)Ta[Va][f]=Ta[Va-1][f-1]+Ta[Va-1][f];Ya.EdgeMult=function(b,f,h){for(var d=0;12>d;d++)h.ea[d]=b.ea[f.ea[d]>>1]^f.ea[d]&1};Ya.CornMult=function(b,f,h){for(var d=0;8>d;d++)h.ca[d]=b.ca[f.ca[d]&7]&7|((b.ca[f.ca[d]&7]>>3)+(f.ca[d]>>3))%3<<3};Ya.CubeMult=function(b,f,h){Ya.CornMult(b,f,h);Ya.EdgeMult(b,f,h)};Ya.prototype.init=function(b,f){this.ca=b.slice();this.ea=f.slice();return this};
Ya.prototype.isEqual=function(b){for(var f=0;8>f;f++)if(this.ca[f]!=b.ca[f])return!1;for(f=0;12>f;f++)if(this.ea[f]!=b.ea[f])return!1;return!0};var z=[[8,9,20],[6,18,38],[0,36,47],[2,45,11],[29,26,15],[27,44,24],[33,53,42],[35,17,51]],Za=[[5,10],[7,19],[3,37],[1,46],[32,16],[28,25],[30,43],[34,52],[23,12],[21,41],[50,39],[48,14]];Ya.prototype.toFaceCube=function(b,f){b=b||z;f=f||Za;for(var h=[],d=0;54>d;d++)h[d]="URFDLB"[~~(d/9)];for(var n=0;8>n;n++){d=this.ca[n]&7;for(var ab=this.ca[n]>>3,v=0;3>
v;v++)h[b[n][(v+ab)%3]]="URFDLB"[~~(b[d][v]/9)]}for(n=0;12>n;n++)for(d=this.ea[n]>>1,ab=this.ea[n]&1,v=0;2>v;v++)h[f[n][(v+ab)%2]]="URFDLB"[~~(f[d][v]/9)];return h.join("")};Ya.prototype.invFrom=function(b){for(var f=0;12>f;f++)this.ea[b.ea[f]>>1]=f<<1|b.ea[f]&1;for(f=0;8>f;f++)this.ca[b.ca[f]&7]=f|32>>(b.ca[f]>>3)&24;return this};Ya.prototype.fromFacelet=function(b,f,h){f=f||z;h=h||Za;for(var d=0,n=[],v=b[4]+b[13]+b[22]+b[31]+b[40]+b[49],ab=0;54>ab;++ab){n[ab]=v.indexOf(b[ab]);if(-1==n[ab])return-1;
d+=1<<(n[ab]<<2)}if(10066329!=d)return-1;var p;for(ab=0;8>ab;++ab){for(p=0;3>p&&0!=n[f[ab][p]]&&3!=n[f[ab][p]];++p);b=n[f[ab][(p+1)%3]];d=n[f[ab][(p+2)%3]];for(v=0;8>v;++v)if(b==~~(f[v][1]/9)&&d==~~(f[v][2]/9)){this.ca[ab]=v|p%3<<3;break}}for(ab=0;12>ab;++ab)for(v=0;12>v;++v){if(n[h[ab][0]]==~~(h[v][0]/9)&&n[h[ab][1]]==~~(h[v][1]/9)){this.ea[ab]=v<<1;break}if(n[h[ab][0]]==~~(h[v][1]/9)&&n[h[ab][1]]==~~(h[v][0]/9)){this.ea[ab]=v<<1|1;break}}return this};f=[];for(Va=0;18>Va;Va++)f[Va]=new Ya;f[0].init([3,
0,1,2,4,5,6,7],[6,0,2,4,8,10,12,14,16,18,20,22]);f[3].init([20,1,2,8,15,5,6,19],[16,2,4,6,22,10,12,14,8,18,20,0]);f[6].init([9,21,2,3,16,12,6,7],[0,19,4,6,8,17,12,14,3,11,20,22]);f[9].init([0,1,2,3,5,6,7,4],[0,2,4,6,10,12,14,8,16,18,20,22]);f[12].init([0,10,22,3,4,17,13,7],[0,2,20,6,8,10,18,14,16,4,12,22]);f[15].init([0,1,11,23,4,5,18,14],[0,2,4,23,8,10,12,21,16,18,7,15]);for(Va=0;18>Va;Va+=3)for(var n=0;2>n;n++)Ya.EdgeMult(f[Va+n],f[Va],f[Va+n+1]),Ya.CornMult(f[Va+n],f[Va],f[Va+n+1]);Ya.moveCube=
f;Ya.prototype.edgeCycles=function(){for(var b=[],f=[0,0,0],h=0,d=!1,n=0;12>n;++n)if(!b[n]){var z=-1,v=!1,p=n;do b[p]=!0,++z,v^=this.ea[p]&1,p=this.ea[p]>>1;while(p!=n);h+=z>>1;z&1&&(d=!d,++h);v&&(0==z?++f[0]:z&1?f[2]^=1:++f[1])}f[1]+=f[2];h=f[0]<f[1]?h+(f[0]+f[1]>>1):h+(f[1]+[0,2,3,5,6,8,9][f[0]-f[1]>>1]);return h-d};f=w.prototype;f.search=function(b,f,h){h=(h||99)+1;if(!this.inited){this.move=[];this.prun=[];for(var d=0;d<this.N_STATES;d++){var n=this.state_params[d],z=n[0],ab=n[1],p=n[2],w=n[3];
n=n[4];this.move[d]=[];this.prun[d]=[];v(this.move[d],p,ab,this.N_MOVES);Ua(this.prun[d],z,p,w,this.move[d],this.N_MOVES,this.N_POWER,n)}this.inited=!0}for(this.sol=[];f<h&&!this.idaSearch(b,f,-1);f++);return f==h?null:this.sol.reverse()};f.toStr=function(b,f,h){for(var d=[],n=0;n<b.length;n++)d.push(f[b[n][0]]+h[b[n][1]]);return d.join(" ").replace(/ +/g," ")};f.idaSearch=function(b,f,h){for(var d=this.N_STATES,n=0;n<d;n++)if(ua(this.prun[n],b[n])>f)return!1;if(0==f)return!0;for(var z=b[0]+f+h+1,
v=0;v<this.N_MOVES;v++){var ab=(v+z)%this.N_MOVES;if(ab!=h)for(var p=b.slice(),w=0;w<this.N_POWER;w++){for(n=0;n<d;n++)p[n]=this.move[n][ab][p[n]];if(this.idaSearch(p,f-1,ab))return this.sol.push([ab,w]),!0}}return!1};f=Xa.prototype;f.updatePrun=function(b){b=void 0===b?this.prunDepth+1:b;for(var f=this.prunDepth+1;f<=b;f++){var h=+new Date;if(1>f)for(var d=this.prevSize=0;d<this.solvedStates.length;d++){var n=this.prunHash(this.solvedStates[d]);n in this.prunTable||(this.prunTable[n]=f,this.prunTableSize++)}else this.updatePrunBFS(f-
1);if(0==this.cost)break;this.prunDepth=f;DEBUG&&console.log(f,this.prunTableSize-this.prevSize,+new Date-h);this.prevSize=this.prunTableSize}};f.updatePrunBFS=function(b){if(null==this.toUpdateArr){this.toUpdateArr=[];for(var f in this.prunTable)this.prunTable[f]==b&&this.toUpdateArr.push(f)}for(;0!=this.toUpdateArr.length;){f=this.toUpdateArr.pop();for(var h=0;h<this.movesList.length;h++){var d=this.doMove(f,this.movesList[h][0]);!d||d in this.prunTable||(this.prunTable[d]=b+1,this.prunTableSize++)}if(0<=
this.cost){if(0==this.cost)return;this.cost--}}this.toUpdateArr=null};f.search=function(b,f,h){this.sol=[];this.subOpt=!1;this.state=b;this.visited={};this.maxl=f||0;return this.searchNext(h)};f.searchNext=function(b,f){b=b+1||99;this.prevSolStr=this.solArr?this.solArr.join(","):null;this.solArr=null;for(this.cost=f||-1;this.maxl<b;this.maxl++){this.updatePrun(Math.ceil(this.maxl/2));if(0==this.cost)return null;if(this.idaSearch(this.state,this.maxl,null,0))break}return this.solArr};f.getPruning=
function(b){b=this.prunTable[this.prunHash(b)];return void 0===b?this.prunDepth+1:b};f.idaSearch=function(b,f,h,d){if(this.getPruning(b)>f)return!1;if(0==f){if(-1==this.solvedStates.indexOf(b))return!1;b=this.getSolArr();this.subOpt=!0;if(b.join(",")==this.prevSolStr)return!1;this.solArr=b;return!0}if(!this.subOpt){if(b in this.visited&&this.visited[b]<d)return!1;this.visited[b]=d}if(0<=this.cost){if(0==this.cost)return!0;this.cost--}var n=null==h?"":this.movesList[h][0];h=null==h?-1:this.movesList[h][1];
for(var z=this.sol[d]||0;z<this.movesList.length;z++){var v=this.movesList[z],p=v[1]^h;v=v[0];if(!(0==p||0==(p&15)&&v<=n)&&(p=this.doMove(b,v))&&p!=b){this.sol[d]=z;if(this.idaSearch(p,f-1,z,d+1))return!0;this.sol.pop()}}return!1};f.getSolArr=function(){for(var b=[],f=0;f<this.sol.length;f++)b.push(this.movesList[this.sol[f]][0]);return b};var cb=function(){function b(b,n){if(n&&(n!=d||h>b)){for(var z=[],v=0;v<n.length;v++)z[v]=n.charCodeAt(v);f=new MersenneTwisterObject(z[0],z);h=0;d=n}for(;h<b;)f(),
h++}var f,h,d;b(0,""+(new Date).getTime());return{random:function(){h++;return f()},getSeed:function(){return[h,d]},setSeed:b}}(),db=/^\s*(\d+)-(\d+)-(\d+) (\d+):(\d+):(\d+)\s*$/;Math.TAU=2*Math.PI;return{Cnk:Ta,fact:Ra,getPruning:ua,setNPerm:function(b,f,h){var d,n;b[h-1]=0;for(d=h-2;0<=d;--d)for(b[d]=f%(h-d),f=~~(f/(h-d)),n=d+1;n<h;++n)b[n]>=b[d]&&++b[n]},getNPerm:function(b,f){var h,d,n;for(h=d=0;h<f;++h)for(d*=f-h,n=h+1;n<f;++n)b[n]<b[h]&&++d;return d},getNParity:function(b,f){var h;var d=0;for(h=
f-2;0<=h;--h)d^=b%(f-h),b=~~(b/(f-h));return d&1},get8Perm:b,set8Perm:p,coord:h,createMove:v,edgeMove:function(b,f){0==f?r(b,0,7,8,4,1):1==f?r(b,3,6,11,7,0):2==f?r(b,0,1,2,3,0):3==f?r(b,2,5,10,6,1):4==f?r(b,1,4,9,5,0):5==f&&r(b,11,10,9,8,0)},circle:Sa,circleOri:r,acycle:d,createPrun:Ua,CubieCube:Ya,SOLVED_FACELET:"UUUUUUUUURRRRRRRRRFFFFFFFFFDDDDDDDDDLLLLLLLLLBBBBBBBBB",fillFacelet:function(b,f,h,d,n){for(var z=0;z<b.length;z++)for(var v=0;v<b[z].length;v++)f[b[z][(v+d[z])%b[z].length]]=~~(b[h[z]][v]/
n)},rn:Wa,rndEl:function(b){return b[~~(cb.random()*b.length)]},rndProb:function(b){for(var f=0,h=0,d=0;d<b.length;d++)0!=b[d]&&(cb.random()<b[d]/(f+b[d])&&(h=d),f+=b[d]);return h},time2str:function(b,f){if(!b)return"N/A";var h=new Date(1E3*b);return(f||"%Y-%M-%D %h:%m:%s").replace("%Y",h.getFullYear()).replace("%M",("0"+(h.getMonth()+1)).slice(-2)).replace("%D",("0"+h.getDate()).slice(-2)).replace("%h",("0"+h.getHours()).slice(-2)).replace("%m",("0"+h.getMinutes()).slice(-2)).replace("%s",("0"+h.getSeconds()).slice(-2))},
str2time:function(b){b=db.exec(b);if(!b)return null;var f=new Date(0);f.setFullYear(~~b[1]);f.setMonth(~~b[2]-1);f.setDate(~~b[3]);f.setHours(~~b[4]);f.setMinutes(~~b[5]);f.setSeconds(~~b[6]);return~~(f.getTime()/1E3)},obj2str:function(b){return"string"==typeof b?b:JSON.stringify(b)},str2obj:function(b){return"string"!=typeof b?b:JSON.parse(b)},valuedArray:function(b,f){for(var h=[],d=0;d<b;d++)h[d]=f;return h},Solver:w,rndPerm:function(b){for(var f=[],h=0;h<b;h++)f[h]=h;for(h=0;h<b-1;h++)Sa(f,h,
h+Wa(b-h));return f},gSolver:Xa,getSeed:cb.getSeed,setSeed:cb.setSeed}}();var sbtree=function(){function r(b,h){this.k=b;this.v=h;this[0]=null;this[1]=null;this.cnt=1;this.sum=b;this.sk2=Math.pow(b,2)}function Sa(b){this.root=null;this.cmp=b}function d(b){return null==b?0:b.cnt}function ua(b){return null==b?0:b.sum}function b(b){return null==b?0:b.sk2}function p(b,h,d){return null==b||p(b[d],h,d)&&h(b)&&p(b[d^1],h,d)}function h(h,p){var v=h[p^1];h[p^1]=v[p];v[p]=h;v.cnt=h.cnt;h.cnt=d(h[0])+d(h[1])+1;v.sum=h.sum;h.sum=ua(h[0])+ua(h[1])+h.k;v.sk2=h.sk2;h.sk2=b(h[0])+b(h[1])+
Math.pow(h.k,2);return v}Sa.prototype.find=function(b){for(var h=this.root;null!==h;){if(b==h.k)return h.v;h=h[0>this.cmp(h.k,b)^0]}};Sa.prototype.cumSum=function(b){if(b>=d(this.root)||0==d(this.root))return ua(this.root);for(var h=this.root,v=0;0<b;){var p=d(h[0]);if(b<p)h=h[0];else{v+=ua(h[0]);if(b==p)break;v+=h.k;b-=p+1;h=h[1]}}return v};Sa.prototype.cumSk2=function(h){if(h>=d(this.root)||0==d(this.root))return b(this.root);for(var p=this.root,v=0;0<h;){var w=d(p[0]);if(h<w)p=p[0];else{v+=b(p[0]);
if(h==w)break;v+=Math.pow(p.k,2);h-=w+1;p=p[1]}}return v};Sa.prototype.rank=function(b){for(var h=this.root;h;){var p=d(h[0]);if(b<p)h=h[0];else{if(b==p)return h.k;b-=p+1;h=h[1]}}return 0>b?-1E300:1E300};Sa.prototype.rankOf=function(b){for(var h=this.root,p=0;h;)0>this.cmp(h.k,b)?(p+=d(h[0])+1,h=h[1]):h=h[0];return p};Sa.prototype.traverse=function(b,h){return p(this.root,b,h^0)};Sa.prototype.insertR=function(b,p,Ua){if(null===b)return new r(p,Ua);b.cnt+=1;b.sum+=p;b.sk2+=Math.pow(p,2);var v=0>this.cmp(b.k,
p)^0;b[v]=this.insertR(b[v],p,Ua);d(b[v][v])>d(b[v^1])?b=h(b,v^1):d(b[v][v^1])>d(b[v^1])&&(v^=1,b[v^1]=h(b[v^1],v^1),b=h(b,v));return b};Sa.prototype.insert=function(b,h){this.root=this.insertR(this.root,b,h);return this};Sa.prototype.remove=function(b){this.root=this.removeR(this.root,b);return this};Sa.prototype.removeR=function(b,h){if(null==b)return null;--b.cnt;b.sum-=h;b.sk2-=Math.pow(h,2);if(b.k==h){if(null==b[0]||null==b[1])return b[null==b[0]^0];for(var d=b[0];null!=d[1];)d=d[1];b.k=d.k;
b.v=d.v;h=d.k}d=0>this.cmp(b.k,h)^0;b[d]=this.removeR(b[d],h);return b};return{tree:function(b){return new Sa(b)}}}();var SQLFile=execMain(function(){function r(d,r,b){var p=0;if(b)for(var h=0;h<b;h++)p=p<<8|d[r[0]++];else{do p=p<<7|d[r[0]]&127;while(128<=d[r[0]++])}return p}function Sa(d,ua,b){ua=1==ua?100:(ua-1)*r(d,[16],2);var p=d[ua],h=d[ua+3]<<8|d[ua+4],v=[ua+8],Ya=-1;p&8||(Ya=r(d,v,4));for(var Ua=0;Ua<h;Ua++){var w=[(100==ua?0:ua)+r(d,[v[0]+2*Ua],2)];if(2!=p&&10!=p)if(5==p)w=r(d,w,4),Sa(d,w,b);else if(13==p){var Qa=r(d,w),Xa=d,Wa=w[0],Ta=b,Ra=[Wa],Va=r(Xa,Ra),f=Wa+Va;Wa=Ra;Ra=[];for(Va=[];Wa[0]<f;)Ra.push(r(Xa,
Wa));for(f=0;f<Ra.length;f++){var z=Ra[f];0==z?Va[f]=null:1<=z&&4>=z?Va[f]=r(Xa,Wa,z):5==z?(Va[f]=void 0,r(Xa,Wa,6)):6==z?(Va[f]=void 0,r(Xa,Wa,8)):7==z?(Va[f]=void 0,r(Xa,Wa,8)):8==z?Va[f]=0:9==z?Va[f]=1:10!=z&&11!=z&&(0==Ra[f]%2?(Va[f]=Xa.slice(Wa[0],Wa[0]+(z-12)/2),Wa[0]+=(z-12)/2):(Va[f]=String.fromCharCode.apply(null,Xa.slice(Wa[0],Wa[0]+(z-13)/2)),Wa[0]+=(z-13)/2))}Ta(Va);w[0]+=Qa}}-1!=Ya&&Sa(d,Ya,b)}return{loadTableList:function(d){var r={};Sa(d,1,function(b){r[b[2]]=[b[3],b[4]]});return r},
loadPage:Sa}});var TimerDataConverter=execMain(function(){function r(b){try{return decodeURIComponent(escape(b))}catch(p){}return b}function Sa(b,d){b=r(b).split(/\r?\n/g);for(var h=[],p=[],ua=[],Ua=0,w=0;w<b.length;w++){for(var Qa=b[w].split(d),Xa=0;Xa<Qa.length;Xa++)ua.push(Qa[Xa]),Ua+=(Qa[Xa].match(/"/g)||[]).length,0==Ua%2&&(ua=ua.join(","),'"'==ua[0]&&(ua=ua.replace(/""/g,'"').slice(1,-1)),p.push(ua),ua=[]);0==Ua%2&&(h.push(p),p=[],ua=[],Ua=0)}return h}var d=/^(DNF)?\(?(\d*?):?(\d*?):?(\d*\.?\d*?)(\+)?\)?$/,
ua={csTimer:[/^{"session1"/i,function(b){b=JSON.parse(r(b));var d={};try{d=mathlib.str2obj(mathlib.str2obj(b.properties).sessionData)}catch(Ta){}var h=[],v;for(v in b){var ua=/^session(\d+)$/.exec(v);if(ua){var Ua={},w=[];try{w=mathlib.str2obj(b[v])}catch(Ta){}if($.isArray(w)&&0!=w.length){for(var Qa=[],Xa=0;Xa<w.length;Xa++){var Wa=w[Xa];$.isArray(Wa)&&$.isArray(Wa[0])&&(Wa[0]=$.map(Wa[0],Number),Qa.push(Wa))}Ua.times=Qa;~~ua[1]in d?(w=d[~~ua[1]],Ua.name=w.name||ua[1],Ua.opt=w.opt||{scrType:w.scr||
"333",phases:w.phases||1},Ua.rank=w.rank):(Ua.name=ua[1],Ua.opt={},Ua.rank=h.length+1);h.push(Ua)}}}h.sort(function(b,h){return b.rank-h.rank});return h}],csTimerCSV:[/^No\.;Time;Comment;Scramble;Date;P\.1/i,function(b){b=Sa(b,";");for(var p=[],h=b[0].length-5,v=1;v<b.length;v++){var r=b[v],Ua=[],w=d.exec(r[1]);if(w){for(Ua[0]=w[1]?-1:w[5]?2E3:0;""==r[r.length-1];)r.pop();for(var Qa=5;Qa<r.length;Qa++)w=d.exec(r[Qa]),w=Math.round(36E5*~~w[2]+6E4*~~w[3]+1E3*parseFloat(w[4])),Ua[r.length-Qa]=(Ua[r.length-
Qa+1]||0)+w;Ua=[Ua,r[3],r[2],mathlib.str2time(r[4])];p.push(Ua)}else console.log("Invalid data detected")}return[{name:"import",opt:{phases:h},times:p}]}],ZYXTimer:[/^Session: /i,function(b){}],TwistyTimer:[/^Puzzle,Category,Time\(millis\),Date\(millis\),Scramble,Penalty,Comment/i,function(b){b=Sa(b,";");for(var d={333:"333",222:"222so",444:"444wca",555:"555wca",pyra:"pyrso",skewb:"skbso",mega:"mgmp",sq1:"sqrs",clock:"clkwca",666:"666wca",777:"777wca"},h={},r=[],ua=1;ua<b.length;ua++){var Ua=b[ua];
if(7==Ua.length){var w=Ua[0]+"-"+Ua[1],Qa=[{0:0,1:2E3,2:-1}[Ua[5]],Math.round(Ua[2])];w in h||(h[w]=r.length,r.push({name:w,opt:{scrType:d[Ua[0]]||"333"},times:[]}));r[h[w]].times.push([Qa,Ua[4],Ua[6],Math.round(Ua[3]/1E3)])}}return r}],BlockKeeper:[/^{"puzzles":\[{"name":/i,function(b){b=JSON.parse(r(b)).puzzles;var d={"3x3x3":"333","2x2x2":"222so","4x4x4":"444wca","5x5x5":"555wca",Pyraminx:"pyrso",Skewb:"skbso",Megaminx:"mgmp","Square-1":"sqrs",Clock:"clkwca","6x6x6":"666wca","7x7x7":"777wca","3x3x3 BLD":"333ni",
"4x4x4 BLD":"444bld","5x5x5 BLD":"555bld"},h=[];$.each(b,function(b,p){var r=p.name,v=p.scrambler,Qa=p.splits;$.each(p.sessions,function(b,p){var w=p.name,Ra=[];$.each(p.records,function(b,f){var h=[{OK:0,"+2":2E3,DNF:-1}[f.result],Math.round(1E3*f.time)];Array.prototype.push.apply(h,$.map(f.split.reverse(),function(b){return Math.round(1E3*b)}));Ra.push([h,f.scramble,f.comment||"",Math.round(f.date/1E3)])});0!=Ra.length&&h.push({name:r+"-"+w,opt:{phases:Qa,scrType:d[v]||"333"},times:Ra})})});return h}],
PrismaTimer:[/^[^\t\n]*(\t[^\t\n]*){4}\n/i,function(b){}],"DCTimer.raw":[/^\d+[\r\n]+[^\t\n]*(\t[^\t\n]*){11}[\r\n]+/i,function(b){b=r(b).split(/[\r\n]+/);for(var d={},h=0,v=[],ua=0;ua<b.length;ua++)if(/^\d+$/.exec(b[ua]))h=~~b[ua],d[h]=v.length,v.push({name:h,opt:{},times:[]});else{var Ua=b[ua].split("\t");6>Ua.length||v[d[h]].times.push([["1"==Ua[2]?"1"==Ua[1]?2E3:0:-1,~~Ua[0]],Ua[3],Ua[5],mathlib.str2time(Ua[4])])}return v}],"DCTimer.sqlite":[/^SQLite format 3\0/i,function(b){for(var d=new Uint8Array(b.length),
h=0;h<b.length;h++)d[h]=b.charCodeAt(h);b=SQLFile.loadTableList(d);var v={},ua=[],Ua=function(b,h){b in v||(v[b]=ua.length,ua.push({name:h||b+1,opt:{},times:[]}))};SQLFile.loadPage(d,b.sessiontb[0],function(b){Ua(b[0],r(b[1]))});for(var w in b)if(h=/^result(\d+|tb)$/.exec(w)){var Qa=("tb"==h[1]?1:~~h[1])-1;SQLFile.loadPage(d,b[w][0],function(b){Ua(Qa);ua[v[Qa]].times.push([["1"==b[3]?"1"==b[2]?2E3:0:-1,~~b[1]],r(b[4]||""),r(b[6]||""),mathlib.str2time(b[5])])})}SQLFile.loadPage(d,b.resultstb[0],function(b){var h=
b[1];Ua(h);ua[v[h]].times.push([["1"==b[4]?"1"==b[3]?2E3:0:-1,~~b[2]],r(b[5]||""),r(b[7]||""),mathlib.str2time(b[6])])});return ua}],"mateus.cubetimer":[/^"Category";"Time \(MM:SS\.SSS\)";"Scrambler";"Date";"Penalty \+2 \(yes or no\)";"DNF \(yes or no\)";"Section"\n/i,function(b){b=Sa(b,";");for(var p={"3x3x3":"333","2x2x2":"222so","4x4x4":"444wca","5x5x5":"555wca",Pyraminx:"pyrso",Skewb:"skbso",Megaminx:"mgmp","Square-1":"sqrs","Rubik's Clock":"clkwca","6x6x6":"666wca","7x7x7":"777wca","3x3x3 Blindfolded":"333ni",
"4x4x4 Blindfolded":"444bld","5x5x5 Blindfolded":"555bld","3x3x3 One-Handed":"333oh","3x3x3 Multi-Blindfolded":"r3ni","3x3x3 With Feet":"333ft","3x3x3 Fewest Moves":"333fm"},h={},r=[],ua=1;ua<b.length;ua++){var Ua=b[ua];if(!(7>Ua.length)){var w=Ua[0]+"-"+Ua[6],Qa=d.exec(Ua[1]);if(Qa){Qa=Math.round(36E5*~~Qa[2]+6E4*~~Qa[3]+1E3*parseFloat(Qa[4]));var Xa=Ua[2],Wa=0;"yes"==Ua[5]?Wa=-1:"yes"==Ua[4]&&(Wa=2E3);w in h||(h[w]=r.length,r.push({name:w,opt:{scrType:p[Ua[0]]||"333"},times:[]}));r[h[w]].times.push([[Wa,
Qa],Xa,"",mathlib.str2time(Ua[3]+":00")])}else console.log("Invalid data detected")}}return r}]};return function(b){var d=void 0,h;for(h in ua)if(ua[h][0].exec(b)){console.log("try read by "+h);try{d=ua[h][1](b);break}catch(v){console.log(v)}}return d}});var LZString=function(){function r(b,p){if(!d[b]){d[b]={};for(var h=0;h<b.length;h++)d[b][b.charAt(h)]=h}return d[b][p]}var Sa=String.fromCharCode,d={},ua={compressToBase64:function(b){if(null==b)return"";b=ua._compress(b,6,function(b){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)});switch(b.length%4){default:case 0:return b;case 1:return b+"===";case 2:return b+"==";case 3:return b+"="}},decompressFromBase64:function(b){return null==b?"":""==b?null:ua._decompress(b.length,
32,function(d){return r("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b.charAt(d))})},compressToUTF16:function(b){return null==b?"":ua._compress(b,15,function(b){return Sa(b+32)})+" "},decompressFromUTF16:function(b){return null==b?"":""==b?null:ua._decompress(b.length,16384,function(d){return b.charCodeAt(d)-32})},compressToUint8Array:function(b){b=ua.compress(b);for(var d=new Uint8Array(2*b.length),h=0,r=b.length;h<r;h++){var Sa=b.charCodeAt(h);d[2*h]=Sa>>>8;d[2*h+1]=Sa%256}return d},
decompressFromUint8Array:function(b){if(null===b||void 0===b)return ua.decompress(b);for(var d=Array(b.length/2),h=0,r=d.length;h<r;h++)d[h]=256*b[2*h]+b[2*h+1];var Ya=[];d.forEach(function(b){Ya.push(Sa(b))});return ua.decompress(Ya.join(""))},compressToEncodedURIComponent:function(b){return null==b?"":ua._compress(b,6,function(b){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$".charAt(b)})},decompressFromEncodedURIComponent:function(b){if(null==b)return"";if(""==b)return null;
b=b.replace(/ /g,"+");return ua._decompress(b.length,32,function(d){return r("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",b.charAt(d))})},compress:function(b){return ua._compress(b,16,function(b){return Sa(b)})},_compress:function(b,d,h){if(null==b)return"";var p,r={},ua={},w="",Qa=2,Xa=3,Wa=2,Ta=[],Ra=0,Va=0,f;for(f=0;f<b.length;f+=1){var z=b.charAt(f);Object.prototype.hasOwnProperty.call(r,z)||(r[z]=Xa++,ua[z]=!0);var Za=w+z;if(Object.prototype.hasOwnProperty.call(r,Za))w=
Za;else{if(Object.prototype.hasOwnProperty.call(ua,w)){if(256>w.charCodeAt(0)){for(p=0;p<Wa;p++)Ra<<=1,Va==d-1?(Va=0,Ta.push(h(Ra)),Ra=0):Va++;var n=w.charCodeAt(0);for(p=0;8>p;p++)Ra=Ra<<1|n&1,Va==d-1?(Va=0,Ta.push(h(Ra)),Ra=0):Va++,n>>=1}else{n=1;for(p=0;p<Wa;p++)Ra=Ra<<1|n,Va==d-1?(Va=0,Ta.push(h(Ra)),Ra=0):Va++,n=0;n=w.charCodeAt(0);for(p=0;16>p;p++)Ra=Ra<<1|n&1,Va==d-1?(Va=0,Ta.push(h(Ra)),Ra=0):Va++,n>>=1}Qa--;0==Qa&&(Qa=Math.pow(2,Wa),Wa++);delete ua[w]}else for(n=r[w],p=0;p<Wa;p++)Ra=Ra<<
1|n&1,Va==d-1?(Va=0,Ta.push(h(Ra)),Ra=0):Va++,n>>=1;Qa--;0==Qa&&(Qa=Math.pow(2,Wa),Wa++);r[Za]=Xa++;w=String(z)}}if(""!==w){if(Object.prototype.hasOwnProperty.call(ua,w)){if(256>w.charCodeAt(0)){for(p=0;p<Wa;p++)Ra<<=1,Va==d-1?(Va=0,Ta.push(h(Ra)),Ra=0):Va++;n=w.charCodeAt(0);for(p=0;8>p;p++)Ra=Ra<<1|n&1,Va==d-1?(Va=0,Ta.push(h(Ra)),Ra=0):Va++,n>>=1}else{n=1;for(p=0;p<Wa;p++)Ra=Ra<<1|n,Va==d-1?(Va=0,Ta.push(h(Ra)),Ra=0):Va++,n=0;n=w.charCodeAt(0);for(p=0;16>p;p++)Ra=Ra<<1|n&1,Va==d-1?(Va=0,Ta.push(h(Ra)),
Ra=0):Va++,n>>=1}Qa--;0==Qa&&(Qa=Math.pow(2,Wa),Wa++);delete ua[w]}else for(n=r[w],p=0;p<Wa;p++)Ra=Ra<<1|n&1,Va==d-1?(Va=0,Ta.push(h(Ra)),Ra=0):Va++,n>>=1;Qa--;0==Qa&&Wa++}n=2;for(p=0;p<Wa;p++)Ra=Ra<<1|n&1,Va==d-1?(Va=0,Ta.push(h(Ra)),Ra=0):Va++,n>>=1;for(;;)if(Ra<<=1,Va==d-1){Ta.push(h(Ra));break}else Va++;return Ta.join("")},decompress:function(b){return null==b?"":""==b?null:ua._decompress(b.length,32768,function(d){return b.charCodeAt(d)})},_decompress:function(b,d,h){var p=[],r=4,ua=4,w=3,Qa=
[],Xa,Wa,Ta=h(0),Ra=d,Va=1;for(Xa=0;3>Xa;Xa+=1)p[Xa]=Xa;var f=0;var z=Math.pow(2,2);for(Wa=1;Wa!=z;){var Za=Ta&Ra;Ra>>=1;0==Ra&&(Ra=d,Ta=h(Va++));f|=(0<Za?1:0)*Wa;Wa<<=1}switch(f){case 0:f=0;z=Math.pow(2,8);for(Wa=1;Wa!=z;)Za=Ta&Ra,Ra>>=1,0==Ra&&(Ra=d,Ta=h(Va++)),f|=(0<Za?1:0)*Wa,Wa<<=1;var n=Sa(f);break;case 1:f=0;z=Math.pow(2,16);for(Wa=1;Wa!=z;)Za=Ta&Ra,Ra>>=1,0==Ra&&(Ra=d,Ta=h(Va++)),f|=(0<Za?1:0)*Wa,Wa<<=1;n=Sa(f);break;case 2:return""}Xa=p[3]=n;for(Qa.push(n);;){if(Va>b)return"";f=0;z=Math.pow(2,
w);for(Wa=1;Wa!=z;)Za=Ta&Ra,Ra>>=1,0==Ra&&(Ra=d,Ta=h(Va++)),f|=(0<Za?1:0)*Wa,Wa<<=1;switch(n=f){case 0:f=0;z=Math.pow(2,8);for(Wa=1;Wa!=z;)Za=Ta&Ra,Ra>>=1,0==Ra&&(Ra=d,Ta=h(Va++)),f|=(0<Za?1:0)*Wa,Wa<<=1;p[ua++]=Sa(f);n=ua-1;r--;break;case 1:f=0;z=Math.pow(2,16);for(Wa=1;Wa!=z;)Za=Ta&Ra,Ra>>=1,0==Ra&&(Ra=d,Ta=h(Va++)),f|=(0<Za?1:0)*Wa,Wa<<=1;p[ua++]=Sa(f);n=ua-1;r--;break;case 2:return Qa.join("")}0==r&&(r=Math.pow(2,w),w++);if(p[n])n=p[n];else if(n===ua)n=Xa+Xa.charAt(0);else return null;Qa.push(n);
p[ua++]=Xa+n.charAt(0);r--;Xa=n;0==r&&(r=Math.pow(2,w),w++)}}};return ua}();var min2phase=function(){function r(){this.move=[];this.moveSol=[];this.nodeUD=[];this.valid1=0;this.allowShorter=!1;this.cc=new h;this.urfCubieCube=[];this.urfCoordCube=[];this.phase1Cubie=[];this.preMoveCubes=[];this.preMoves=[];this.maxPreMoves=this.preMoveLen=0;this.isRec=!1;for(var b=0;21>b;b++)this.nodeUD[b]=new Ta,this.phase1Cubie[b]=new h;for(b=0;6>b;b++)this.urfCubieCube[b]=new h,this.urfCoordCube[b]=new Ta;for(b=0;20>b;b++)this.preMoveCubes[b+1]=new h}function Sa(b,f,h){return h?f<<1|b&
1:f|b&248}function d(b,f){return f?b>>1:b&7}function ua(b,f,h){b[f>>3]^=h<<(f<<2)}function b(b,f,h){return Math.min(b,f[h>>3]>>(h<<2)&15)}function p(b,f,h){b=Qb[b];h&&(b^=14540032>>((b&15)<<1)&3);return b&65520|jb[b&15][f]}function h(){this.ca=[0,1,2,3,4,5,6,7];this.ea=[0,2,4,6,8,10,12,14,16,18,20,22]}function v(b,f,h,d){h--;for(var n=1985229328,z=0;z<h;++z){var p=cb[h-z],r=~~(f/p);f%=p;r<<=2;b[z]=Sa(b[z],n>>r&15,d);p=(1<<r)-1;n=(n&p)+(n>>4&~p)}b[h]=Sa(b[h],n&15,d)}function Ya(b,f,h){for(var n=0,
z=1985229328,p=0;p<f-1;++p){var r=d(b[p],h)<<2;n=(f-p)*n+(z>>r&15);z-=286331152<<r}return n}function Ua(b,f,h,n){b[h-1]=Sa(b[h-1],0,n);for(var z=h-2;0<=z;--z){b[z]=Sa(b[z],f%(h-z),n);f=~~(f/(h-z));for(var p=z+1;p<h;++p)d(b[p],n)>=d(b[z],n)&&(b[p]=Sa(b[p],d(b[p],n)+1,n))}}function w(b,f,h){for(var n=0,z=0;z<f;++z){n*=f-z;for(var p=z+1;p<f;++p)d(b[p],h)<d(b[z],h)&&++n}return n}function Qa(b,f,h){for(var z=0,p=4,r=b.length-1;0<=r;r--)(d(b[r],h)&12)==f&&(z+=n[r][p--]);return z}function Xa(b,f,h,d){for(var z=
b.length-1,p=4,r=z;0<=z;z--)f>=n[z][p]?(f-=n[z][p--],b[z]=Sa(b[z],p|h,d)):((r&12)==h&&(r-=4),b[z]=Sa(b[z],r--,d))}function Wa(b,f){for(var h=0,d=f-2;0<=d;d--)h^=b%(f-d),b=~~(b/(f-d));return h&1}function Ta(){this.flipc=this.twistc=this.prun=this.slice=this.fsym=this.flip=this.tsym=this.twist=0}function Ra(){var b=new h,f=new h,d,n=(new h).initCoord(28783,0,259268407,0),z=(new h).initCoord(15138,0,119765538,7),p=(new h).initCoord(5167,0,83473207,0);for(d=0;8>d;d++)p.ca[d]|=24;for(d=0;16>d;d++)nb[d]=
(new h).init(b.ca,b.ea),h.CornMultFull(b,z,f),h.EdgeMult(b,z,f),b.init(f.ca,f.ea),3==d%4&&(h.CornMultFull(b,p,f),h.EdgeMult(b,p,f),b.init(f.ca,f.ea)),7==d%8&&(h.CornMultFull(b,n,f),h.EdgeMult(b,n,f),b.init(f.ca,f.ea));for(d=0;16>d;d++)jb[d]=[],qb[d]=[],sb[d]=[],Ab[d]=[],$a[d]=[];for(d=0;16>d;d++)for(n=0;16>n;n++)jb[d][n]=d^n^84660>>n&d<<1&2,qb[jb[d][n]][n]=d;b=new h;for(z=0;16>z;z++)for(n=0;18>n;n++){h.CornConjugate(mb[n],qb[0][z],b);p=0;a:for(;18>p;p++){for(d=0;8>d;d++)if(mb[p].ca[d]!=b.ca[d])continue a;
sb[z][n]=p;$a[z][kb[n]]=kb[p];break}0==z%2&&(Ab[n<<3|z>>1]=sb[z][n])}d=function(b,f,d,n,z,p,r){for(var w=new h,Za=new h,Va=0,ab=2<=z?1:2,v=1!=z?h.EdgeConjugate:h.CornConjugate,Ra=0;Ra<b;Ra++)if(void 0===d[Ra]){p.call(w,Ra);for(var $a=0;16>$a;$a+=ab){v(w,$a,Za);var Wa=r.call(Za);0==z&&(Cb[Va<<3|$a>>1]=Wa);Wa==Ra&&(n[Va]|=1<<$a/ab);d[Wa]=(Va<<4|$a)/ab}f[Va++]=Ra}return Va};d(2048,zb,Bb,tb,0,h.prototype.setFlip,h.prototype.getFlip);d(2187,xb,ub,Lb,1,h.prototype.setTwist,h.prototype.getTwist);d(40320,
rb,wb,Ib,2,h.prototype.setEPerm,h.prototype.getEPerm);n=new h;for(d=0;2768>d;d++)v(n.ea,rb[d],8,!0),Gb[d]=Qa(n.ea,0,!0)+70*Wa(rb[d],8),b.invFrom(n),Qb[d]=wb[b.getEPerm()];d=function(d,h,n,z,p,r,w,Za){for(var Va=0;Va<n;Va++){d[Va]=[];p.call(b,h[Va]);for(var Ra=0;Ra<z;Ra++)w(b,mb[Za?Za[Ra]:Ra],f),d[Va][Ra]=r.call(f)}};b=new h;f=new h;d(Nb,zb,336,18,h.prototype.setFlip,h.prototype.getFlipSym,h.EdgeMult);d(Pb,xb,324,18,h.prototype.setTwist,h.prototype.getTwistSym,h.CornMult);d(Hb,rb,2768,10,h.prototype.setEPerm,
h.prototype.getEPermSym,h.EdgeMult,ab);d(Jb,rb,2768,10,h.prototype.setCPerm,h.prototype.getCPermSym,h.CornMult,ab);for(d=0;495>d;d++){Db[d]=[];Fb[d]=[];b.setUDSlice(d);for(n=0;18>n;n++)h.EdgeMult(b,mb[n],f),Db[d][n]=f.getUDSlice();for(n=0;16>n;n+=2)h.EdgeConjugate(b,qb[0][n],f),Fb[d][n>>1]=f.getUDSlice()}for(d=0;24>d;d++){Yb[d]=[];Rb[d]=[];b.setMPerm(d);for(n=0;10>n;n++)h.EdgeMult(b,mb[ab[n]],f),Yb[d][n]=f.getMPerm();for(n=0;16>n;n++)h.EdgeConjugate(b,qb[0][n],f),Rb[d][n]=f.getMPerm()}for(d=0;140>
d;d++){gc[d]=[];Zb[d]=[];b.setCComb(d%70);for(n=0;10>n;n++)h.CornMult(b,mb[ab[n]],f),gc[d][n]=f.getCComb()+70*(165>>n&1^~~(d/70));for(n=0;16>n;n++)h.CornConjugate(b,qb[0][n],f),Zb[d][n]=f.getCComb()+70*~~(d/70)}}function Va(b,f,d,h,n,z,p,r){var Va=r&15,w=1==(r>>4&1)?14540032:0,Ra=r>>8&15,$a=r>>12&15,ab=r>>16&15,v=(1<<Va)-1,Wa=null==h;d*=f;r=1==(r>>5&1)?10:18;var Ta=10==r?66:599186,Qa=(b[d>>3]>>(d<<2)&15)-1;if(-1==Qa){for(var Ua=0;Ua<(d>>3)+1;Ua++)b[Ua]=4294967295;ua(b,0,15);Qa=0}else ua(b,d,15^Qa+
1);for($a=0<Za?Math.min(Math.max(Qa+1,ab),$a):$a;Qa<$a;){var Xa=(ab=Qa>Ra)?15:Qa,nb=286331153*Xa,cb=ab?Qa:15;Qa++;Mb++;var Sa=Qa^15,db=0,mb=0;for(Ua=0;Ua<d;Ua++,mb>>=4){if(0==(Ua&7)){mb=b[Ua>>3];var bb=mb^nb;if(0==(bb-286331153&~bb&2290649224)){Ua+=7;continue}}if((mb&15)==Xa){bb=Ua%f;var Ya=~~(Ua/f),kb=0,ob=0;Wa&&(kb=Bb[bb],ob=kb&7,kb>>=3);for(var zb=0;zb<r;zb++){var jb=z[Ya][zb];var qb=Wa?Cb[Nb[kb][Ab[zb<<3|ob]]^ob^jb&v]:n[h[bb][zb]][jb&v];jb>>=Va;var fb=jb*f+qb,xb=b[fb>>3]>>(fb<<2)&15;if(xb!=cb)xb<
Qa-1&&(zb+=Ta>>zb&3);else{db++;if(ab){ua(b,Ua,Sa);break}ua(b,fb,Sa);fb=1;for(xb=p[jb];0!=(xb>>=1);fb++)if(1==(xb&1)){var ib=jb*f;ib=Wa?ib+Cb[Bb[qb]^fb]:ib+n[qb][fb^w>>(fb<<1)&3];(b[ib>>3]>>(ib<<2)&15)==cb&&(ua(b,ib,Sa),db++)}}}}}}ua(b,d,Qa+1^15);return Qa+1}function f(b){$b=Va(vb,2048,324,null,null,Pb,Lb,103939);Mb>b||(dc=Va(Kb,495,324,Db,Fb,Pb,Lb,431619),Mb>b||(Vb=Va(Eb,495,336,Db,Fb,Nb,tb,431619),Mb>b||(Sb=Va(ic,24,2768,Yb,Rb,Jb,Ib,584244),Mb>b||(ec=Va(ac,140,2768,gc,Zb,Hb,Ib,514084)))))}function z(){0>
Mb&&(Ra(),Mb=0);if(0==Mb)f(99);else if(54>Mb)f(Mb);else return!0;return!1}for(var Za=2,n=[],cb=[1],db="U ;U2;U';R ;R2;R';F ;F2;F';D ;D2;D';L ;L2;L';B ;B2;B'".split(";"),ab=[0,1,2,4,7,9,10,11,13,16,3,5,6,8,12,14,15,17],kb=[],fb=[],lb=[[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],[6,7,8,0,1,2,3,4,5,15,16,17,9,10,11,12,13,14],[3,4,5,6,7,8,0,1,2,12,13,14,15,16,17,9,10,11],[2,1,0,5,4,3,8,7,6,11,10,9,14,13,12,17,16,15],[8,7,6,2,1,0,5,4,3,17,16,15,11,10,9,14,13,12],[5,4,3,8,7,6,2,1,0,14,13,12,17,16,15,
11,10,9]],gb=0;18>gb;gb++)kb[ab[gb]]=gb;for(gb=0;10>gb;gb++)for(var bb=~~(ab[gb]/3),hb=fb[gb]=0;10>hb;hb++){var ib=~~(ab[hb]/3);fb[gb]|=(bb==ib||bb%3==ib%3&&bb>=ib?1:0)<<hb}for(gb=fb[10]=0;13>gb;gb++)for(n[gb]=[],cb[gb+1]=cb[gb]*(gb+1),hb=n[gb][0]=n[gb][gb]=1;13>hb;hb++)n[gb][hb]=hb<=gb?n[gb-1][hb-1]+n[gb-1][hb]:0;h.EdgeMult=function(b,f,d){for(var h=0;12>h;h++)d.ea[h]=b.ea[f.ea[h]>>1]^f.ea[h]&1};h.CornMult=function(b,f,d){for(var h=0;8>h;h++)d.ca[h]=b.ca[f.ca[h]&7]&7|((b.ca[f.ca[h]&7]>>3)+(f.ca[h]>>
3))%3<<3};h.CornMultFull=function(b,f,d){for(var h=0;8>h;h++){var n=b.ca[f.ca[h]&7]>>3,z=f.ca[h]>>3,p=n+(3>n?z:6-z);p=p%3+(3>n==3>z?0:3);d.ca[h]=b.ca[f.ca[h]&7]&7|p<<3}};h.CornConjugate=function(b,f,d){var h=nb[qb[0][f]];f=nb[f];for(var n=0;8>n;n++){var z=b.ca[f.ca[n]&7]>>3;d.ca[n]=h.ca[b.ca[f.ca[n]&7]&7]&7|(3>h.ca[b.ca[f.ca[n]&7]&7]>>3?z:(3-z)%3)<<3}};h.EdgeConjugate=function(b,f,d){var h=nb[qb[0][f]];f=nb[f];for(var n=0;12>n;n++)d.ea[n]=h.ea[b.ea[f.ea[n]>>1]>>1]^b.ea[f.ea[n]>>1]&1^f.ea[n]&1};h.prototype.init=
function(b,f){this.ca=b.slice();this.ea=f.slice();return this};h.prototype.initCoord=function(b,f,d,h){v(this.ca,b,8,!1);this.setTwist(f);Ua(this.ea,d,12,!0);this.setFlip(h);return this};h.prototype.isEqual=function(b){for(var f=0;8>f;f++)if(this.ca[f]!=b.ca[f])return!1;for(f=0;12>f;f++)if(this.ea[f]!=b.ea[f])return!1;return!0};h.prototype.setFlip=function(b){for(var f=0,d,h=10;0<=h;h--,b>>=1)f^=d=b&1,this.ea[h]=this.ea[h]&254|d;this.ea[11]=this.ea[11]&254|f};h.prototype.getFlip=function(){for(var b=
0,f=0;11>f;f++)b=b<<1|this.ea[f]&1;return b};h.prototype.getFlipSym=function(){return Bb[this.getFlip()]};h.prototype.setTwist=function(b){for(var f=15,d,h=6;0<=h;h--,b=~~(b/3))f-=d=b%3,this.ca[h]=this.ca[h]&7|d<<3;this.ca[7]=this.ca[7]&7|f%3<<3};h.prototype.getTwist=function(){for(var b=0,f=0;7>f;f++)b+=(b<<1)+(this.ca[f]>>3);return b};h.prototype.getTwistSym=function(){return ub[this.getTwist()]};h.prototype.setCPerm=function(b){v(this.ca,b,8,!1)};h.prototype.getCPerm=function(){return Ya(this.ca,
8,!1)};h.prototype.getCPermSym=function(){var b=wb[Ya(this.ca,8,!1)];return b^14540032>>((b&15)<<1)&3};h.prototype.setEPerm=function(b){v(this.ea,b,8,!0)};h.prototype.getEPerm=function(){return Ya(this.ea,8,!0)};h.prototype.getEPermSym=function(){return wb[Ya(this.ea,8,!0)]};h.prototype.getUDSlice=function(){return 494-Qa(this.ea,8,!0)};h.prototype.setUDSlice=function(b){Xa(this.ea,494-b,8,!0)};h.prototype.getMPerm=function(){return w(this.ea,12,!0)%24};h.prototype.setMPerm=function(b){Ua(this.ea,
b,12,!0)};h.prototype.getCComb=function(){return Qa(this.ca,0,!1)};h.prototype.setCComb=function(b){Xa(this.ca,b,0,!1)};h.prototype.URFConjugate=function(){var b=new h;h.CornMult(h.urf2,this,b);h.CornMult(b,h.urf1,this);h.EdgeMult(h.urf2,this,b);h.EdgeMult(b,h.urf1,this)};var pb=[[8,9,20],[6,18,38],[0,36,47],[2,45,11],[29,26,15],[27,44,24],[33,53,42],[35,17,51]],ob=[[5,10],[7,19],[3,37],[1,46],[32,16],[28,25],[30,43],[34,52],[23,12],[21,41],[50,39],[48,14]];h.prototype.toFaceCube=function(b,f){b=
b||pb;f=f||ob;for(var h=[],d=0;54>d;d++)h[d]="URFDLB"[~~(d/9)];for(var n=0;8>n;n++){d=this.ca[n]&7;for(var z=this.ca[n]>>3,p=0;3>p;p++)h[b[n][(p+z)%3]]="URFDLB"[~~(b[d][p]/9)]}for(n=0;12>n;n++)for(d=this.ea[n]>>1,z=this.ea[n]&1,p=0;2>p;p++)h[f[n][(p+z)%2]]="URFDLB"[~~(f[d][p]/9)];return h.join("")};h.prototype.invFrom=function(b){for(var f=0;12>f;f++)this.ea[b.ea[f]>>1]=f<<1|b.ea[f]&1;for(f=0;8>f;f++)this.ca[b.ca[f]&7]=f|32>>(b.ca[f]>>3)&24;return this};h.prototype.fromFacelet=function(b,f,d){f=f||
pb;d=d||ob;for(var h=0,n=[],z=b[4]+b[13]+b[22]+b[31]+b[40]+b[49],p=0;54>p;++p){n[p]=z.indexOf(b[p]);if(-1==n[p])return-1;h+=1<<(n[p]<<2)}if(10066329!=h)return-1;var r;for(p=0;8>p;++p){for(r=0;3>r&&0!=n[f[p][r]]&&3!=n[f[p][r]];++r);b=n[f[p][(r+1)%3]];h=n[f[p][(r+2)%3]];for(z=0;8>z;++z)if(b==~~(f[z][1]/9)&&h==~~(f[z][2]/9)){this.ca[p]=z|r%3<<3;break}}for(p=0;12>p;++p)for(z=0;12>z;++z){if(n[d[p][0]]==~~(d[z][0]/9)&&n[d[p][1]]==~~(d[z][1]/9)){this.ea[p]=z<<1;break}if(n[d[p][0]]==~~(d[z][1]/9)&&n[d[p][1]]==
~~(d[z][0]/9)){this.ea[p]=z<<1|1;break}}};Ta.prototype.set=function(b){this.twist=b.twist;this.tsym=b.tsym;this.flip=b.flip;this.fsym=b.fsym;this.slice=b.slice;this.prun=b.prun;this.twistc=b.twistc;this.flipc=b.flipc};Ta.prototype.calcPruning=function(f){this.prun=Math.max(Math.max(b(dc,Kb,495*this.twist+Fb[this.slice][this.tsym]),b(Vb,Eb,495*this.flip+Fb[this.slice][this.fsym])),Math.max(b($b,vb,this.twistc>>3<<11|Cb[this.flipc^this.twistc&7]),b($b,vb,this.twist<<11|Cb[this.flip<<3|this.fsym^this.tsym])))};
Ta.prototype.setWithPrun=function(f,d){this.twist=f.getTwistSym();this.flip=f.getFlipSym();this.tsym=this.twist&7;this.twist>>=3;this.prun=b($b,vb,this.twist<<11|Cb[this.flip^this.tsym]);if(this.prun>d)return!1;this.fsym=this.flip&7;this.flip>>=3;this.slice=f.getUDSlice();this.prun=Math.max(this.prun,Math.max(b(dc,Kb,495*this.twist+Fb[this.slice][this.tsym]),b(Vb,Eb,495*this.flip+Fb[this.slice][this.fsym])));if(this.prun>d)return!1;var n=new h;h.CornConjugate(f,1,n);h.EdgeConjugate(f,1,n);this.twistc=
n.getTwistSym();this.flipc=n.getFlipSym();this.prun=Math.max(this.prun,b($b,vb,this.twistc>>3<<11|Cb[this.flipc^this.twistc&7]));return this.prun<=d};Ta.prototype.doMovePrun=function(f,d,h){this.slice=Db[f.slice][d];this.flip=Nb[f.flip][Ab[d<<3|f.fsym]];this.fsym=this.flip&7^f.fsym;this.flip>>=3;this.twist=Pb[f.twist][Ab[d<<3|f.tsym]];this.tsym=this.twist&7^f.tsym;this.twist>>=3;return this.prun=Math.max(Math.max(b(dc,Kb,495*this.twist+Fb[this.slice][this.tsym]),b(Vb,Eb,495*this.flip+Fb[this.slice][this.fsym])),
b($b,vb,this.twist<<11|Cb[this.flip<<3|this.fsym^this.tsym]))};Ta.prototype.doMovePrunConj=function(f,d){d=sb[3][d];this.flipc=Nb[f.flipc>>3][Ab[d<<3|f.flipc&7]]^f.flipc&7;this.twistc=Pb[f.twistc>>3][Ab[d<<3|f.twistc&7]]^f.twistc&7;return b($b,vb,this.twistc>>3<<11|Cb[this.flipc^this.twistc&7])};r.prototype.solution=function(b,f,d,h,n){z();b=this.verify(b);if(0!=b)return"Error "+Math.abs(b);void 0===f&&(f=21);void 0===d&&(d=1E9);void 0===h&&(h=0);void 0===n&&(n=0);this.sol=f+1;this.probe=0;this.probeMax=
d;this.probeMin=Math.min(h,d);this.verbose=n;this.moveSol=null;this.isRec=!1;this.initSearch();return this.search()};r.prototype.initSearch=function(){this.conjMask=0;this.maxPreMoves=7<this.conjMask?0:20;for(var b=0;6>b;b++)if(this.urfCubieCube[b].init(this.cc.ca,this.cc.ea),this.urfCoordCube[b].setWithPrun(this.urfCubieCube[b],20),this.cc.URFConjugate(),2==b%3){var f=(new h).invFrom(this.cc);this.cc.init(f.ca,f.ea)}};r.prototype.next=function(b,f,d){this.probe=0;this.probeMax=b;this.probeMin=Math.min(f,
b);this.moveSol=null;this.isRec=!0;this.verbose=d;return search()};r.prototype.verify=function(b){if(-1==this.cc.fromFacelet(b))return-1;for(var f=b=0,d=0;12>d;d++)f|=1<<(this.cc.ea[d]>>1),b^=this.cc.ea[d]&1;if(4095!=f)return-2;if(0!=b)return-3;for(d=b=f=0;8>d;d++)f|=1<<(this.cc.ca[d]&7),b+=this.cc.ca[d]>>3;return 255!=f?-4:0!=b%3?-5:0!=(Wa(w(this.cc.ea,12,!0),12)^Wa(this.cc.getCPerm(),8))?-6:0};r.prototype.phase1PreMoves=function(b,f,d){this.preMoveLen=this.maxPreMoves-b;if(this.isRec?this.depth1==
this.length1-this.preMoveLen:0==this.preMoveLen||0==(225207>>f&1))if(this.depth1=this.length1-this.preMoveLen,this.phase1Cubie[0].init(d.ca,d.ea),this.allowShorter=7==this.depth1&&0!=this.preMoveLen,this.nodeUD[this.depth1+1].setWithPrun(d,this.depth1)&&0==this.phase1(this.nodeUD[this.depth1+1],this.depth1,-1))return 0;if(0==b||this.preMoveLen+7>=this.length1)return 1;var n=0;if(1==b||this.preMoveLen+1+7>=this.length1)n|=225207;f=3*~~(f/3);for(var z=0;18>z;z++)if(z==f||z==f-9||z==f+9)z+=2;else if(!(this.isRec&&
z!=this.preMoves[this.maxPreMoves-b]||0!=(n&1<<z))&&(h.CornMult(mb[z],d,this.preMoveCubes[b]),h.EdgeMult(mb[z],d,this.preMoveCubes[b]),this.preMoves[this.maxPreMoves-b]=z,0==this.phase1PreMoves(b-1,z,this.preMoveCubes[b])))return 0;return 1};r.prototype.search=function(){for(this.length1=this.isRec?this.length1:0;this.length1<this.sol;this.length1++)for(this.urfIdx=this.isRec?this.urfIdx:0;6>this.urfIdx;this.urfIdx++)if(0==(this.conjMask&1<<this.urfIdx)&&0==this.phase1PreMoves(this.maxPreMoves,-30,
this.urfCubieCube[this.urfIdx],0))return null==this.moveSol?"Error 8":this.moveSol;return null==this.moveSol?"Error 7":this.moveSol};r.prototype.initPhase2Pre=function(){this.isRec=!1;if(this.probe>=(null==this.moveSol?this.probeMax:this.probeMin))return 0;++this.probe;for(var b=this.valid1;b<this.depth1;b++)h.CornMult(this.phase1Cubie[b],mb[this.move[b]],this.phase1Cubie[b+1]),h.EdgeMult(this.phase1Cubie[b],mb[this.move[b]],this.phase1Cubie[b+1]);this.valid1=this.depth1;b=this.initPhase2(this.phase1Cubie[this.depth1]);
if(0==b||0==this.preMoveLen||2==b)return b;b=3*~~(this.preMoves[this.preMoveLen-1]/3)+1;h.CornMult(mb[b],this.phase1Cubie[this.depth1],this.phase1Cubie[this.depth1+1]);h.EdgeMult(mb[b],this.phase1Cubie[this.depth1],this.phase1Cubie[this.depth1+1]);this.preMoves[this.preMoveLen-1]+=2-this.preMoves[this.preMoveLen-1]%3*2;b=this.initPhase2(this.phase1Cubie[this.depth1+1]);this.preMoves[this.preMoveLen-1]+=2-this.preMoves[this.preMoveLen-1]%3*2;return b};r.prototype.initPhase2=function(f){var d=f.getCPermSym(),
h=d&15;d>>=4;var n=f.getEPermSym(),z=n&15;n>>=4;f=f.getMPerm();var p=Math.max(b(ec,ac,140*n+Zb[Gb[d]&255][qb[z][h]]),b(Sb,ic,24*d+Rb[f][h])),r=Math.min(13,this.sol-this.length1);if(p>=r)return p>r?2:1;var Va;for(Va=r-1;Va>=p;Va--){var w=this.phase2(n,z,d,h,f,Va,this.depth1,10);if(0>w)break;Va-=w;this.moveSol=[];for(w=0;w<this.depth1+Va;w++)this.appendSolMove(this.move[w]);for(w=this.preMoveLen-1;0<=w;w--)this.appendSolMove(this.preMoves[w]);this.sol=this.moveSol.length;this.moveSol=this.solutionToString()}return Va!=
r-1?this.probe>=this.probeMin?0:1:1};r.prototype.phase1=function(b,f,d){if(0==b.prun&&5>f){if(this.allowShorter||0==f){this.depth1-=f;var h=this.initPhase2Pre();this.depth1+=f;return h}return 1}for(var n=0;18>n;n+=3)if(n!=d&&n!=d-9)for(var z=0;3>z;z++)if(h=n+z,!this.isRec||h==this.move[this.depth1-f]){var p=this.nodeUD[f].doMovePrun(b,h,!0);if(p>f)break;else if(p==f)continue;p=this.nodeUD[f].doMovePrunConj(b,h);if(p>f)break;else if(p==f)continue;this.move[this.depth1-f]=h;this.valid1=Math.min(this.valid1,
this.depth1-f);h=this.phase1(this.nodeUD[f],f-1,n);if(0==h)return 0;if(2==h)break}return 1};r.prototype.appendSolMove=function(b){if(0==this.moveSol.length)this.moveSol.push(b);else{var f=~~(b/3),d=~~(this.moveSol[this.moveSol.length-1]/3);f==d?(b=(b%3+this.moveSol[this.moveSol.length-1]%3+1)%4,3==b?this.moveSol.pop():this.moveSol[this.moveSol.length-1]=3*f+b):1<this.moveSol.length&&f%3==d%3&&f==~~(this.moveSol[this.moveSol.length-2]/3)?(b=(b%3+this.moveSol[this.moveSol.length-2]%3+1)%4,3==b?(this.moveSol[this.moveSol.length-
2]=this.moveSol[this.moveSol.length-1],this.moveSol.pop()):this.moveSol[this.moveSol.length-2]=3*f+b):this.moveSol.push(b)}};r.prototype.phase2=function(f,d,h,n,z,r,Va,w){if(0==f&&0==h&&0==z)return r;w=fb[w];for(var Za=0;10>Za;Za++)if(0!=(w>>Za&1))Za+=66>>Za&3;else{var Ra=Yb[z][Za],v=Jb[h][$a[n][Za]],Wa=jb[v&15][n];v>>=4;if(!(b(Sb,ic,24*v+Rb[Ra][Wa])>=r)){var ua=Hb[f][$a[d][Za]],Ta=jb[ua&15][d];ua>>=4;if(!(b(ec,ac,140*ua+Zb[Gb[v]&255][qb[Ta][Wa]])>=r)){var Qa=p(ua,Ta,!1),Ua=p(v,Wa,!0);if(!(b(ec,ac,
140*(Qa>>4)+Zb[Gb[Ua>>4]&255][qb[Qa&15][Ua&15]])>=r)&&(Ra=this.phase2(ua,Ta,v,Wa,Ra,r-1,Va+1,Za),0<=Ra))return this.move[Va]=ab[Za],Ra}}}return-1};r.prototype.solutionToString=function(){var b="",f=0!=(this.verbose&2)?(this.urfIdx+3)%6:this.urfIdx;if(3>f)for(var d=0;d<this.moveSol.length;++d)b+=db[lb[f][this.moveSol[d]]]+" ";else for(d=this.moveSol.length-1;0<=d;--d)b+=db[lb[f][this.moveSol[d]]]+" ";return b};var mb=[],nb=[],jb=[],qb=[],sb=[],$a=[],Ab=[],zb=[],Bb=[],xb=[],ub=[],rb=[],wb=[],tb=[],
Lb=[],Ib=[],Cb=[],Gb=[],Qb=[],Db=[],Pb=[],Nb=[],Fb=[],Kb=[],Eb=[],vb=[],Jb=[],Hb=[],Yb=[],Rb=[],gc=[],Zb=[],ic=[],ac=[],$b=15,dc=15,Vb=15,Sb=15,ec=15;for(gb=0;18>gb;gb++)mb[gb]=new h;mb[0].initCoord(15120,0,119750400,0);mb[3].initCoord(21021,1494,323403417,0);mb[6].initCoord(8064,1236,29441808,550);mb[9].initCoord(9,0,5880,0);mb[12].initCoord(1230,412,2949660,0);mb[15].initCoord(224,137,328552,137);for(gb=0;18>gb;gb+=3)for(bb=0;2>bb;bb++)h.EdgeMult(mb[gb+bb],mb[gb],mb[gb+bb+1]),h.CornMult(mb[gb+bb],
mb[gb],mb[gb+bb+1]);h.urf1=(new h).initCoord(2531,1373,67026819,1367);h.urf2=(new h).initCoord(2089,1906,322752913,2040);var Mb=-1;return{Search:r,solve:function(b){return(new r).solution(b)},randomCube:function(){var b=~~(2048*Math.random()),f=~~(2187*Math.random());do{var d=~~(Math.random()*cb[12]);var n=~~(Math.random()*cb[8])}while(Wa(n,8)!=Wa(d,12));return(new h).initCoord(n,f,d,b).toFaceCube()},initFull:function(){Za=0;z()}}}();
"undefined"!==typeof module&&"undefined"!==typeof module.exports&&(module.exports=min2phase);var cubeutil=function(){function r(b,d){for(var h=[],p=0;54>p;p++)h[d[p]]=b[p];return h.join("")}function Sa(b,d){d=d||mathlib.SOLVED_FACELET;for(var h={},p=0;54>p;p++)if("-"!=d[p]){if(d[p]in h&&h[d[p]]!=b[p])return 1;h[d[p]]=b[p]}return 0}function d(b){return Sa(b,"----U--------R--R-----F--F--D-DDD-D-----L--L-----B--B-")?9:Sa(b,"----U-------RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?4+Sa(b,"----U-------RR-RR-----FF-FF-DDDDD-D-----L--L-----B--B-")+Sa(b,"----U--------R--R----FF-FF-DD-DDD-D-----LL-LL----B--B-")+
Sa(b,"----U--------RR-RR----F--F--D-DDD-DD----L--L----BB-BB-")+Sa(b,"----U--------R--R-----F--F--D-DDDDD----LL-LL-----BB-BB"):Sa(b,"-U-UUU-U----RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?4:Sa(b,"UUUUUUUUU---RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?3:Sa(b,"UUUUUUUUUr-rRRRRRRf-fFFFFFFDDDDDDDDDl-lLLLLLLb-bBBBBBB")?2:Sa(b)?1:0}function ua(b){return Sa(b,"----U--------R--R-----F--F--D-DDD-D-----L--L-----B--B-")?7:Sa(b,"----U-------RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?2+Sa(b,"----U-------RR-RR-----FF-FF-DDDDD-D-----L--L-----B--B-")+
Sa(b,"----U--------R--R----FF-FF-DD-DDD-D-----LL-LL----B--B-")+Sa(b,"----U--------RR-RR----F--F--D-DDD-DD----L--L----BB-BB-")+Sa(b,"----U--------R--R-----F--F--D-DDDDD----LL-LL-----BB-BB"):Sa(b,"UUUUUUUUU---RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?2:Sa(b)?1:0}function b(b){return Sa(b,"----U--------R--R-----F--F--D-DDD-D-----L--L-----B--B-")?4:Sa(b,"----U-------RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?3:Sa(b,"UUUUUUUUU---RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?2:Sa(b)?1:0}function p(b){return Sa(b,
"----U-------RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?2:Sa(b)?1:0}function h(b){return Sa(b,"---------------------F--F--D--D--D-----LLLLLL-----B--B")?4:Sa(b,"------------RRRRRR---F-FF-FD-DD-DD-D---LLLLLL---B-BB-B")?3:Sa(b,"U-U---U-Ur-rRRRRRRf-fF-FF-FD-DD-DD-Dl-lLLLLLLb-bB-BB-B")?2:Sa(b)?1:0}function v(b,d,h){for(var p=99,Va=0;Va<h;Va++)p=Math.min(p,d(b)),b=r(b,Va&1?Ua:w),5==Va%6&&(b=r(b,w),b=r(b,w)),11==Va%12&&(b=r(b,Ya),b=r(b,Ya));return p}var Ya=[2,5,8,1,4,7,0,3,6,18,19,20,21,22,23,24,25,26,
36,37,38,39,40,41,42,43,44,33,30,27,34,31,28,35,32,29,45,46,47,48,49,50,51,52,53,9,10,11,12,13,14,15,16,17],Ua=[53,52,51,50,49,48,47,46,45,11,14,17,10,13,16,9,12,15,0,1,2,3,4,5,6,7,8,18,19,20,21,22,23,24,25,26,42,39,36,43,40,37,44,41,38,35,34,33,32,31,30,29,28,27],w=[11,14,17,10,13,16,9,12,15,29,32,35,28,31,34,27,30,33,20,23,26,19,22,25,18,21,24,38,41,44,37,40,43,36,39,42,2,5,8,1,4,7,0,3,6,51,48,45,52,49,46,53,50,47],Qa=[[0,2,4,3,5,1],[5,1,0,2,4,3],[4,0,2,1,3,5]];return{getProgress:function(r,w){switch(w){case "cfop":return v(r,
b,6);case "fp":return v(r,p,6);case "cf4op":return v(r,ua,6);case "roux":return v(r,h,24);case "cf4o2p2":return v(r,d,6);case "n":return v(r,Sa,1)}},getPrettyMoves:function(b){var d=[0,1,2,3,4,5];return $.map(b,function(b,h){function p(b,d){0==f.length||~~(f[f.length-1]/3)!=b?f.push(3*b+d):(d=(d+f[f.length-1]%3+1)%4,3==d?f.pop():f[f.length-1]=3*b+d)}for(var f=[],z=0;z<b.length;z++){var r=d.indexOf("URFDLB".indexOf(b[z][0][0])),n=" 2'".indexOf(b[z][0][1])%3;if(z==b.length-1||100<b[z+1][1]-b[z][1])p(r,
n);else{var w=d.indexOf("URFDLB".indexOf(b[z+1][0][0])),v=" 2'".indexOf(b[z+1][0][1])%3;if(r!=w&&r%3==w%3&&2==n+v){w=r%3;r=(n-1)*[1,1,-1,-1,-1,1][r]+1;p(w+6,r);for(n=0;n<r+1;n++){v=[];for(var ab=0;6>ab;ab++)v[ab]=d[Qa[w][ab]];d=v}z++}else p(r,n)}}return[[$.map(f,function(b){return"URFDLBEMS".charAt(~~(b/3))+" 2'".charAt(b%3)}).join(""),f.length]]})},moveSeq2str:function(b){return $.map(b,function(b){return b[0].trim()+"@"+b[1]}).join(" ")}}}();var JSON;JSON||(JSON={});
(function(){function r(b){return 10>b?"0"+b:b}function Sa(d){b.lastIndex=0;return b.test(d)?'"'+d.replace(b,function(b){var d=v[b];return"string"===typeof d?d:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+d+'"'}function d(b,r){var w,v,ua=p,Ta=r[b];Ta&&"object"===typeof Ta&&"function"===typeof Ta.toJSON&&(Ta=Ta.toJSON(b));"function"===typeof Ya&&(Ta=Ya.call(r,b,Ta));switch(typeof Ta){case "string":return Sa(Ta);case "number":return isFinite(Ta)?""+Ta:"null";case "boolean":case "null":return""+
Ta;case "object":if(!Ta)return"null";p+=h;var Ra=[];if("[object Array]"===Object.prototype.toString.apply(Ta)){var Va=Ta.length;for(w=0;w<Va;w+=1)Ra[w]=d(w,Ta)||"null";var f=0===Ra.length?"[]":p?"[\n"+p+Ra.join(",\n"+p)+"\n"+ua+"]":"["+Ra.join(",")+"]";p=ua;return f}if(Ya&&"object"===typeof Ya)for(Va=Ya.length,w=0;w<Va;w+=1)"string"===typeof Ya[w]&&(v=Ya[w],(f=d(v,Ta))&&Ra.push(Sa(v)+(p?": ":":")+f));else for(v in Ta)Object.prototype.hasOwnProperty.call(Ta,v)&&(f=d(v,Ta))&&Ra.push(Sa(v)+(p?": ":":")+
f);f=0===Ra.length?"{}":p?"{\n"+p+Ra.join(",\n"+p)+"\n"+ua+"}":"{"+Ra.join(",")+"}";p=ua;return f}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+r(this.getUTCMonth()+1)+"-"+r(this.getUTCDate())+"T"+r(this.getUTCHours())+":"+r(this.getUTCMinutes())+":"+r(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var ua=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
b=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,p,h,v={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},Ya;"function"!==typeof JSON.stringify&&(JSON.stringify=function(b,r,v){var w;h=p="";if("number"===typeof v)for(w=0;w<v;w+=1)h+=" ";else"string"===typeof v&&(h=v);if((Ya=r)&&"function"!==typeof r&&("object"!==typeof r||"number"!==typeof r.length))throw Error("JSON.stringify");return d("",{"":b})});
"function"!==typeof JSON.parse&&(JSON.parse=function(b,d){function h(b,p){var r,w,f=b[p];if(f&&"object"===typeof f)for(r in f)Object.prototype.hasOwnProperty.call(f,r)&&(w=h(f,r),void 0!==w?f[r]=w:delete f[r]);return d.call(b,p,f)}var p;b=""+b;ua.lastIndex=0;ua.test(b)&&(b=b.replace(ua,function(b){return"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return p=eval("("+b+")"),"function"===typeof d?h({"":p},""):p;throw new SyntaxError("JSON.parse");})})();var kernel=execMain(function(){function r(b,f){DEBUG&&console.log("[signal]",b,f);if(void 0!=v[b])for(var d in v[b])if(void 0===v[b][d][1]||v[b][d][1].exec(f[0]))v[b][d][0](b,f)}function Sa(b,f,d,h){void 0==v[f]&&(v[f]={});v[f][b]=[d,h]}function d(b,f){if(0>b)return"DNF";var d=Ua("useMilli");b=Math.floor(b/(d?1:10));var h=b%(d?1E3:100);b=Math.floor(b/(d?1E3:100));var n=Ua("timeFormat"),p=0,r=0;"h"==n?(n=b%60,p=Math.floor(b/60)%60,r=Math.floor(b/3600)):"m"==n?(n=b%60,p=Math.floor(b/60)):n=b;var w=
(f=f&&Ua("smallADP"))?["</span>"]:[];w.push(h);10>h&&w.push("0");100>h&&d&&w.push("0");w.push(n+"."+(f?'<span style="font-size:0.75em;">':""));10>n&&0<p+r&&w.push("0");0<p+r&&w.push(p+":");10>p&&0<r&&w.push("0");0<r&&w.push(r+":");return w.reverse().join("")}function ua(b){if(0>=b)return b;var f=Ua("useMilli")?1:10;return Math.round(b/f)*f}function b(){timer.refocus()}$.ajaxSetup({cache:!0});var p=$("<div />").css("visibility","hidden"),h=$('<div id="wndctn" />'),v={},Ya=function(){function b(){var b=
$(this).data("module");f(b);d(b)}function f(b){if(!Ya[b][0].hasClass("enable")){for(var f in Ya)Ya[f][0].removeClass("enable");Ya[b][0].addClass("enable");sb=b}}function d(b){setTimeout(function(){ob.scrollTop(b?ob.scrollTop()+Ya[b][1].position().top-3:$a)},0)}function h(){$a=ob.scrollTop();var b="kernel",d;for(d in Ya)50<Ya[d][1].position().top||(b=d);f(b)}function n(b){b=$(this);var f=b.prop("name");if(b.is(".opthelp"))" [?] "==b.html()?b.html("<br> [?] "+$('strong[data="opt_'+b.attr("data")+'"]').parent().html().split("</strong>. ")[1]):
b.html(" [?] ");else if(b.is("select"))ua(f,b.val());else switch(b.prop("type")){case "checkbox":ua(f,b.prop("checked"));break;case "color":if(b.attr("data")){var d=4*~~b.attr("data")-4,h=v(f);ua(f,[h.slice(0,d),Xa.nearColor(b.val()),h.slice(d+4)].join(""))}else ua(f,b.val());break;case "text":case "button":for(d in Ua)if(f in Ua[d]){d=Ua[d][f];h=v(f);switch(b.val()){case "+":h=Math.min(h+1,d[3][2]);break;case "-":h=Math.max(h-1,d[3][1]);break;default:b.val().match(/^\d+$/)&&(h=+b.val().match(/^0*(.+)$/)[1],
h=Math.max(Math.min(h,d[3][2]),d[3][1]))}d[0].val(h);ua(f,h);break}}}function p(){Ya={};jb.empty();mb.empty();ob.unbind("scroll").scroll(h);for(var f in MODULE_NAMES){0===sb&&(sb=f);var d=Ya[f]=[$("<div>"),$("<tr>")];d[0].html('<span class="icon" style="font-size:1em;">'+Ab[f]+"</span><span>"+MODULE_NAMES[f]+"</span>").addClass("tab").data("module",f).click(b).appendTo(jb);d[1].append($("<th>").html('<span class="icon">'+Ab[f]+"</span> "+MODULE_NAMES[f].replace(/<br>-?/g,"")),$('<th class="sr">').html(PROPERTY_SR),
$('<th class="sr">').html('<span class="icon"></span>'));mb.append(d[1]);for(var p in Ua[f]){d=Ua[f][p];var z=v(p),r=d[1],w=v("sr_"+p),Za=$('<td class="sr">');d[4]&1&&Za.append($('<input type="checkbox" name="sr_'+p+'"'+(w?" checked":"")+">").click(n));w=$("<td colspan=2>");if(0>r)if($.urlParam("debug"))r=~r;else continue;if(0==r)d[0]=$('<input type="checkbox" name="'+p+'">').prop("checked",z).click(n),w.append($("<label>").append(d[0],d[2]));else if(1==r){d[0]=$('<select name="'+p+'">');var Va=
d[3][1],$a=d[3][2];for(r=0;r<Va.length;r++)d[0].append($("<option />").val(Va[r]).html($a[r]));d[0].val(z);d[0].change(n);w.append(d[2],": ",d[0])}else if(2==r)d[0]=$('<input type="text" maxlength="4" name="'+p+'">').val(z).change(n),z=$('<input type="button" style="width: 1.5em;" value="+" name="'+p+'">').click(n),r=$('<input type="button" style="width: 1.5em;" value="-" name="'+p+'">').click(n),w.append(d[2]+"("+d[3][1]+"~"+d[3][2]+")",$("<span>").css("white-space","nowrap").append(r,d[0],z));else if(3==
r)d[0]=$('<input type="color" name="'+p+'">').val(z).change(n),w.append(d[2],": ",d[0]);else if(4==r){Va=z.match(/#[0-9a-fA-F]{3}/g);d[0]=$('<input type="text" name="'+p+'" style="display:none">').val(z);z=[];for(r=0;r<Va.length;r++)z.push($('<input type="color" name="'+p+'" data="'+(r+1)+'" class="mulcolor">').val(Xa.nearColor(Va[r],0,!0)).change(n));w.append(d[2],": ",d[0],z)}else 5==r&&($.urlParam("debug")?(d[0]=$('<input type="text" name="'+p+'" readonly>').val(z),w.append(d[2]+" ("+p+"): ",d[0])):
(d[0]=$('<input type="text" name="'+p+'" style="display:none">').val(z),w.append(d[2],d[0])));0<$('strong[data="opt_'+p+'"]').length&&w.append($('<span class="click opthelp" data="'+p+'"/>').html(" [?] ").click(n));mb.append($("<tr>").append(w,Za))}}mb.append($('<tr style="height: 10em;">'));Ya[sb][0].click()}function w(){pb&&(p(),pb=!1);$(".opthelp").html(" [?] ");d();Xa.showDialog([nb,$.noop,void 0,$.noop,[RESET_LANG,function(){for(var b in Qa){var f=Qa[b];b.startsWith("col-")||void 0===f||v(b)===
f||b.startsWith("session")||(delete Ta[b],r("property",[b,f,"reset"]))}p();return!1}],[BUTTON_EXPORT.replace("-<br>",""),exportFunc.exportProperties]],"option",BUTTON_OPTIONS.replace("-<br>",""),function(){qb.find('select[name="lang"]').focus().blur();d()})}function v(b,f){void 0!=f&&void 0==Qa[b]&&(Qa[b]=f,r("property",[b,v(b),"set"]));Ta[b]===Qa[b]&&delete Ta[b];return b in Ta?Ta[b]:Qa[b]}function ua(b,f,d){for(var h in Ua)if(b in Ua[h]&&void 0!==Ua[h][b][0]&&Ua[h][b][0].val()!=f){Ua[h][b][0].val(f);
break}v(b)!==f&&(Ta[b]=f,r("property",[b,v(b),d||"modify"]))}function Ra(){localStorage.properties=JSON.stringify(Ta)}function Wa(){var b=localStorage.properties;void 0!=b&&""!=b&&(Ta=JSON.parse(b))}var Ta={},Qa={},Ua={},Ya={},pb=!0,ob=$('<div class="noScrollBar">'),mb=$('<table class="opttable">'),nb=$('<table class="options" />'),jb=$("<td />"),qb=$("<td />").addClass("tabValue");nb.append($("<tr />").append(jb,qb.append(ob.append(mb))));var sb=0,$a=0,Ab={kernel:"",ui:"",color:"",timer:"",scramble:"",
stats:"",tools:"",vrc:""};$(function(){Wa();Xa.addButton("property",BUTTON_OPTIONS,w,1);Sa("property","property",Ra)});return{get:v,set:ua,reg:function(b,f,d,h,n,p){pb=!0;void 0==Ua[b]&&(Ua[b]={});Ua[b][f]=[void 0,d,h,n,p];Qa[f]=n[0];Qa["sr_"+f]=2==(p&2);r("property",[f,v(f),"set"])},getSProps:function(){var b={},f;for(f in Ta)0!=f.indexOf("sr_")&&v("sr_"+f,!1)&&(b[f]=v(f));return b},setSProps:function(b){for(var f in Qa)0!=f.indexOf("sr_")&&v("sr_"+f,!1)&&(f in b?ua(f,b[f],"session"):ua(f,Qa[f],
"session"))},load:Wa,reload:p}}(),Ua=Ya.get,w=Ya.set,Qa=Ya.reg;$(function(){var b=LANG_CUR||"en-us";Qa("kernel","lang",1,"Language",[b,(LANG_SET+"|h").split("|").slice(1),(LANG_STR+"|help translation").split("|")]);w("lang",b);Sa("kernel","property",function(f,d){d[1]!=b&&"modify"==d[2]&&("h"==d[1]?confirm("Press OK to redirect to crowdin for translating cstimer")&&(window.location.href="https://crowdin.com/project/cstimer"):window.location.href="?lang="+d[1],w("lang",b))},/^lang$/);if($.urlParam("lang")){var f=
"lang="+$.urlParam("lang");document.cookie=f+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/";$.clearUrl("lang")}});var Xa=function(){function d(b,f,d,h){$a=$a||$("#leftbar");$a.children(".c"+h).click(d).find("span:first").html(f)}function f(){var b=$(this),f=b.data("module");nb[f].button?(b.removeClass("enable"),jb&&nb[f].auto||nb[f].div.stop(!0,!0).fadeOut(200,function(b){return function(){r("button",[b,!1])}}(f))):(b.addClass("enable"),r("button",[f,!0]),nb[f].div.stop(!0,!0).fadeIn(200),jb&&
nb[f].auto&&nb[f].div.hide());nb[f].button=!nb[f].button;w(f,nb[f].button)}function z(){var b=$(this).attr("data");w(b,!Ua(b,!1))}function v(b,f,d,h){qb=!0;Bb.removeClass().addClass("dialog").addClass("dialog"+f);xb.html(d);ub.children().appendTo(p);b[0].appendTo(ub.empty());rb.empty();2>b.length?ub.css("bottom","0"):ub.css("bottom","2.5em");void 0!=b[1]&&rb.append(wb.unbind("click").click(function(){b[1]&&b[1]();n()}));void 0!=b[2]&&rb.append(tb.unbind("click").click(function(){b[2]&&b[2]();n()}));
sb.unbind("click");void 0!=b[3]&&sb.click(function(){b[3]&&b[3]();n()});for(f=4;f<b.length;f++)rb.append($('<input type="button" class="buttonOK">').val(b[f][0]).unbind("click").click(function(b){return function(){b()&&n()}}(b[f][1])));Bb.stop(!0,!0).fadeTo(100,.98,function(){b[0].focus();h&&h()});sb.stop(!0,!0).fadeTo(100,.25)}function n(){Bb.stop(!0,!0).fadeOut(100,function(){qb||(ub.children().appendTo(p),Bb.removeClass(),b())});sb.hide();qb=!1}function ua(){if(!jb){jb=!0;ab();for(var b in nb)nb[b].auto&&
nb[b].button&&nb[b].div.stop(!0,!0).fadeOut(100);r("ashow",!1)}}function Ra(){if(jb){jb=!1;ab();for(var b in nb)nb[b].auto&&nb[b].button&&nb[b].div.stop(!0,!0).fadeIn(100);r("ashow",!0)}}function ab(b){var f=!1,d;for(d in nb)if(nb[d].button){f=!0;break}f&&!jb||b||jQuery.fx.off?$a.stop(!0,!0).fadeTo(200,1):$a.stop(!0,!0).fadeTo(200,.01)}function Ta(b){for(var f=0;7>f;f++)Gb[f]=Xa(b.substr(4*f,4));w("col-font",Xa(Gb[0],0,!0));w("col-back",Xa(Gb[1],0,!0));w("col-board",Xa(Gb[2],0,!0));w("col-button",
Xa(Gb[3],0,!0));w("col-link",Xa(Gb[4],0,!0));w("col-logo",Xa(Gb[5],0,!0));w("col-logoback",Xa(Gb[6],0,!0));Wa()}function Wa(){for(var b="ns"==Ua("uidesign")||"mtns"==Ua("uidesign")?Ib[1]:Ib[0],f="#000"==Xa(Gb[0])?-1:1,d=0;d<Qb.length;d++)b=b.replace("?",Xa(Gb[Qb[d]&15],(Qb[d]<<20>>24)*f));Lb[0].styleSheet?Lb[0].styleSheet.cssText=b:Lb[0].innerHTML=b}function Xa(b,f,d){var h,n;f=f||0;(n=/^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/.exec(b))&&(h=[n[1]+n[1],n[2]+n[2],n[3]+n[3]]);(n=/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/.exec(b))&&
(h=[n[1],n[2],n[3]]);for(b=0;3>b;b++)h[b]=parseInt(h[b],16),h[b]+=f,h[b]=Math.min(Math.max(h[b],0),255),h[b]=Math.round(h[b]/17).toString(16);return"#"+(d?h[0]+h[0]+h[1]+h[1]+h[2]+h[2]:h[0]+h[1]+h[2])}function gb(b){return(b=/^\s*((#[0-9a-fA-F]{3}){7})\s*$/.exec(b))?(Ta(b[1]),!0):!1}function bb(){return Gb.join("")}function hb(){"mt"==Ua("uidesign")||"mtns"==Ua("uidesign")?$("html").addClass("mtds"):$("html").removeClass("mtds")}function ib(){var b=$(window).width(),f=$(window).height(),d=Ua("view");
(Pb="m"==d?!0:"d"==d?!1:1.2>b/f)?$("html").addClass("m"):$("html").removeClass("m")}function pb(b,f){if("property"==b)switch(f[0]){case "color":if("u"!=f[1])if("i"==f[1]||"e"==f[1]){var d=bb(),h=prompt(EXPORT_CODEPROMPT,d);h&&h!=d&&!gb(h)&&alert(COLOR_FAIL);Ya.set("color","u")}else Ta(Cb["r"==f[1]?~~(Math.random()*Cb.length):f[1]-1]);break;case "font":"r"==f[1]?$("#container, #multiphase").css("font-family",["lcd","lcd2","lcd3","lcd4","lcd5"][~~(5*Math.random())]):$("#container, #multiphase").css("font-family",
f[1]);break;case "col-font":case "col-back":case "col-board":case "col-button":case "col-link":case "col-logo":case "col-logoback":d=Db.indexOf(f[0].substring(4,f[0].length));h=f[1];h=Xa(h);Gb[d]!=h&&(Gb[d]=h,w("color","u"),Wa());break;case "zoom":$("html").attr("class","p"+~~(100*f[1])),$(window).trigger("resize"),hb();case "view":ib();break;case "uidesign":hb();Wa();break;case "wndScr":ob("scramble","f"==f[1]);break;case "wndStat":ob("stats","f"==f[1]);break;case "wndTool":ob("tools","f"==f[1])}}
function ob(b,f){nb[b]?f?nb[b].div.addClass("fixed"):nb[b].div.removeClass("fixed"):$(ob.bind(void 0,b,f))}function mb(){gb(window.location.hash)&&(Ya.set("color","u"),$.clearHash())}var nb={},jb=!1,qb=!1,sb,$a,Ab=$("<div />"),zb={scramble:"scrHide",tools:"toolHide",stats:"statHide"},Bb=$("<div />").addClass("dialog"),xb=$("<div />").addClass("title"),ub=$("<div />").addClass("value"),rb=$("<div />").addClass("button"),wb=$('<input type="button" class="buttonOK">').val(OK_LANG),tb=$('<input type="button" class="buttonOK">').val(CANCEL_LANG);
Bb.append(xb,ub,rb);var Lb=$("<style>").appendTo("head"),Ib="html,body,textarea,#leftbar{color:?;background-color:?}#leftbar{border-color:?}#logo{color:?;border-color:?;background-color:?}.mybutton,.tab,.cntbar{border-color:?}html:not(.m) .mybutton:hover,.mybutton:active,.tab:active,.mywindow,.popup,.dialog{background-color:?}.mybutton.enable,.tab.enable,.cntbar,.selected,table.opttable tr th:first-child,div.helptable h2,div.helptable h3{background-color:?}#gray{background-color:?}html:not(.m) .times:hover,html:not(.m) .click:hover,.times:active,.click:active,textarea{background-color:?}.click{color:?}.mywindow,.popup,.dialog,.table,.table td,.table th,textarea,.tabValue,.opttable td.sr{border-color:?}html:not(.m) #avgstr .click:hover,#avgstr .click:active{background-color:?}select,input[type='button'],input[type='text']{color:?;background:?;border-color:?}input:disabled,table.opttable tr:nth-child(odd) td:first-child,div.helptable li:nth-child(odd){background:?}.mywindow::before,.popup,.dialog,#leftbar::before";
Ib=[Ib+"{box-shadow:0 0 .6em ?}",Ib+"{box-shadow:none}"];var Cb="#000#efc#fdd#fbb#00f#ff0#000 #000#ffe#ff9#ff0#00f#fa0#000 #fff#600#668#408#ccf#0ff#000 #fff#000#555#888#aaa#000#aaa #000#fff#ccc#ddd#555#fff#888 #fff#227#9c3#563#580#dad#000 #9aa#023#034#b80#28d#678#034 #678#ffe#eed#ffe#28d#678#eed".split(" "),Gb="#000 #efc #fdd #fbb #dbb #ff0 #000".split(" "),Qb=[0,1,545,5,549,6,546,2,3,0,546,4,546,545,0,3826,546,274,0],Db="font back board button link logo logoback".split(" "),Pb=!1;$(function(){Sa("ui",
"property",pb,/^(?:color|font|col-.+|zoom|view|uidesign|wnd(?:Scr|Stat|Tool))/);Qa("ui","zoom",1,ZOOM_LANG,["1","0.7 0.8 0.9 1 1.1 1.25 1.5".split(" "),"70% 80% 90% 100% 110% 125% 150%".split(" ")]);Qa("ui","font",1,PROPERTY_FONT,["lcd","r Arial lcd lcd2 lcd3 lcd4 lcd5 Roboto".split(" "),PROPERTY_FONT_STR.split("|").concat("Roboto")]);Qa("kernel","ahide",0,PROPERTY_AHIDE,[!0]);Qa("ui","uidesign",1,PROPERTY_UIDESIGN,["mtns",["n","mt","ns","mtns"],PROPERTY_UIDESIGN_STR.split("|")]);Qa("ui","view",1,
PROPERTY_VIEW,["a",["a","m","d"],PROPERTY_VIEW_STR.split("|")]);Qa("color","color",1,PROPERTY_COLOR,["4","uer12345678".split(""),PROPERTY_COLOR_STR.split("|")]);var b=PROPERTY_COLORS.split("|");Qa("color","col-font",3,b[0],["#000000"]);Qa("color","col-back",3,b[1],["#eeffcc"]);Qa("color","col-board",3,b[2],["#ffdddd"]);Qa("color","col-button",3,b[3],["#ffbbbb"]);Qa("color","col-link",3,b[4],["#0000ff"]);Qa("color","col-logo",3,b[5],["#ffff00"]);Qa("color","col-logoback",3,b[6],["#000000"]);Qa("color",
"colcube",4,"Cube",["#ff0#fa0#00f#fff#f00#0d0"]);Qa("color","colpyr",4,"Pyraminx",["#0f0#f00#00f#ff0"]);Qa("color","colskb",4,"Skewb",["#fff#00f#f00#ff0#0f0#f80"]);Qa("color","colmgm",4,"Megaminx",["#fff#d00#060#81f#fc0#00b#ffb#8df#f83#7e0#f9f#999"]);Qa("color","colsq1",4,"SQ1",["#ff0#f80#0f0#fff#f00#00f"]);Qa("color","col15p",4,"15 Puzzle",["#f99#9f9#99f#fff"]);Qa("ui","wndScr",1,PROPERTY_WNDSCR,["n",["n","f"],PROPERTY_WND_STR.split("|")]);Qa("ui","wndStat",1,PROPERTY_WNDSTAT,["n",["n","f"],PROPERTY_WND_STR.split("|")]);
Qa("ui","wndTool",1,PROPERTY_WNDTOOL,["n",["n","f"],PROPERTY_WND_STR.split("|")]);sb=$("#gray");$(".donate").appendTo(Ab);d("donate",BUTTON_DONATE,function(){v([Ab,0,void 0,0],"stats",BUTTON_DONATE.replace("<br>",""))},5);$a.appendTo(h).mouseenter(function(){ab(!0)}).mouseleave(function(){ab()});setTimeout(ab,3E3);Bb.appendTo("body");$(window).resize(ib);$(window).bind("hashchange",mb);mb();"https:"!=location.protocol&&(document.title="[UNSAFE] "+document.title)});return{addWindow:function(b,d,n,
p,w,v){n.appendTo(h);n.addClass("mywindow");n.append($('<span class="chide" data="'+zb[b]+'"></span>').click(z));p=Ua(b,p);$a=$a||$("#leftbar");$a.children(".c"+v).addClass(p?"enable":"").data("module",b).click(f).find("span:first").html(d);nb[b]={button:p,div:n,auto:w};p?n.show():n.hide();r("button",[b,p])},addButton:d,showDialog:v,hideDialog:n,isDialogShown:function(b){return Bb.hasClass("dialog"+b)},exportColor:bb,nearColor:Xa,setAutoShow:function(b){(b=b||!Ua("ahide"))?Ra():ua();timer.showAvgDiv(b)},
hide:ua,show:Ra,isPop:function(){return qb},toggleLeftBar:ab}}(),Wa=function(){function d(b,f,d,h,p){this.data=b;this.callback=f;this.select1=d;this.select2=h;this.reset(p)}function f(b,f,d){for(var h=0;h<b.length;h++)if($.isArray(b[h][1]))for(var n=0;n<b[h][1].length;n++){if(b[h][1][n][1]==f){d(h,n);return}}else if(b[h][1]==f){d(h,null);break}}var h=d.prototype;h.loadSelect2=function(f){b();f=f||0;var d=~~this.select1.prop("selectedIndex");d=(this.data[d]||[])[1];this.select2.empty();if($.isArray(d)){this.select2.show();
for(var h=0;h<d.length;h++)this.select2.append($("<option>").html(d[h][0]).val(d[h][1]));this.select2.prop("selectedIndex",f)}else this.select2.hide();this.onSelect2Change()};h.onSelect1Change=function(){this.loadSelect2()};h.onSelect2Change=function(){this.callback&&this.callback(this.getSelected())};h.getSelIdx=function(){var b=~~this.select1.prop("selectedIndex");if(!$.isArray((this.data[b]||[])[1]))return[b];var f=~~this.select2.prop("selectedIndex");return[b,f]};h.getSelected=function(){var b=
this.getSelIdx();return 1==b.length?(this.data[b[0]]||[])[1]:this.data[b[0]][1][b[1]][1]};h.reset=function(b){b=b||this.getSelected();this.select1.empty();for(var f=0;f<this.data.length;f++)this.select1.append($("<option>").html(this.data[f][0]).val($.isArray(this.data[f][1])?f:this.data[f][1]));this.select1.unbind("change").change(this.onSelect1Change.bind(this));this.select2.unbind("change").change(this.onSelect2Change.bind(this));b&&this.loadVal(b)};h.loadVal=function(b){var d=this.callback;this.callback=
null;f(this.data,b,function(b,f){this.select1.prop("selectedIndex",b);this.loadSelect2(f)}.bind(this));this.callback=d};h.getValName=function(b){var d=null;f(this.data,b,function(b,f){d=this.data[b][0];null!=f&&(d+=">"+this.data[b][1][f][0])}.bind(this));return d};h.getValIdx=function(b){var d=null;f(this.data,b,function(b,f){d=100*b+(null==f?f:99)});return d};return d}();(function(){function b(b,z){if("bgImgO"==z[0])h.stop(!0,!0).fadeTo(0,z[1]/100);else if("bgImgS"==z[0])if("n"==z[1])h.hide(),n=
"n";else if(h.show(),"u"==z[1])if("modify"==z[2]){var r=prompt(BGIMAGE_URL,f);p.exec(r)?(f=r,h.attr("src",f),w("bgImgSrc",f)):(alert(BGIMAGE_INVALID),w("bgImgS",n),Ya.reload())}else f=Ua("bgImgSrc",f),h.attr("src",f);else n=z[1],h.attr("src",d[z[1]])}var f="",d=["https://i.imgur.com/X7Xi7D1.png","https://i.imgur.com/K4zbMsu.png","https://i.imgur.com/Fsh6MaM.png"],h,n=0,p=/^((http|https|ftp):\/\/)?(\w(:\w)?@)?([0-9a-z_-]+\.)*?([a-z0-9-]+\.[a-z]{2,6}(\.[a-z]{2})?(:[0-9]{2,6})?)((\/[^?#<>\/\\*":]*)+(\?[^#]*)?(#.*)?)?$/i;
$(function(){h=$("#bgImage");Sa("bgImage","property",b,/^bgImg[OS]$/);Qa("ui","bgImgO",2,BGIMAGE_OPACITY,[25,0,100]);Qa("ui","bgImgS",1,BGIMAGE_IMAGE,["n",["n","u",0,1,2],BGIMAGE_IMAGE_STR.split("|").slice(0,-1).concat(1,2,3)])})})();var Ta=/^([\d]+)?([FRUBLDfrubldzxySME])(?:([w])|&sup([\d]);)?([2'])?$/,Ra=!0;$(function(){Qa("kernel","useMilli",0,PROPERTY_USEMILLI,[!1],1);Qa("kernel","timeFormat",1,PROPERTY_FORMAT,["h",["h","m","s"],["hh:mm:ss.XX(X)","mm:ss.XX(X)","ss.XX(X)"]],1);p.appendTo("body");
h.appendTo("body");$(document).keydown(function(b){Ra=!0;r("keydown",b);timer.onkeydown(b);return Ra});$(document).keyup(function(b){Ra=!0;r("keyup",b);timer.onkeyup(b);return Ra});$("#container").bind("touchstart",function(d){$(d.target).is(".click")||(b(),timer.onkeydown({which:32}),d.preventDefault&&d.preventDefault())});$("#container").bind("touchend",function(d){$(d.target).is(".click")||(b(),timer.onkeyup({which:32}),d.preventDefault&&d.preventDefault())});$("#container").bind("touch",function(b){$(b.target).is(".click")||
b.preventDefault&&b.preventDefault()});$("#touch").remove();$("#container").mousedown(function(b){!$(b.target).is(".click")&&1==b.which&&Ua("useMouse")&&(timer.onkeydown({which:32}),b.preventDefault&&b.preventDefault())});$("#container").mouseup(function(b){!$(b.target).is(".click")&&1==b.which&&Ua("useMouse")&&(timer.onkeyup({which:32}),b.preventDefault&&b.preventDefault())});try{document.cookie="fp="+$.fingerprint()+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/"}catch(Va){}});$(function(){for(var b=
"properties cachedScr devData wcaData gglData locData".split(" "),f=0;f<b.length;f++)try{JSON.parse(localStorage[b[f]]||"{}")}catch(n){delete localStorage[b[f]]}var d=[];for(f=1;f<=~~Ua("sessionN",15);f++)b.push("session"+f);for(f=0;f<localStorage.length;f++){var h=localStorage.key(f);-1==b.indexOf(h)&&d.push(h)}for(f=0;f<d.length;f++)delete localStorage[d[f]]});return{pretty:d,getProp:Ua,setProp:w,regProp:Qa,getSProps:Ya.getSProps,setSProps:Ya.setSProps,regListener:Sa,addWindow:Xa.addWindow,addButton:Xa.addButton,
pushSignal:r,showDialog:Xa.showDialog,hideDialog:Xa.hideDialog,isDialogShown:Xa.isDialogShown,exportColor:Xa.exportColor,clrKey:function(){Ra=!1},temp:p,reprop:Ya.reload,loadProp:Ya.load,parseScramble:function(b,f){for(var d=[],h=(Ua("preScr")+" "+b).split(" "),n,p,r,w=0;w<h.length;w++)n=Ta.exec(h[w]),null!=n&&(r="FRUBLDfrubldzxySME".indexOf(n[2]),14<r?(n="2'".indexOf(n[5]||"X")+2,r=[0,4,5][r%3],d.push([f.indexOf("FRUBLD".charAt(r)),2,n]),d.push([f.indexOf("FRUBLD".charAt(r)),1,4-n])):(p=12>r?~~n[1]||
~~n[4]||("w"==n[3]||5<r)&&2||1:-1,n=(12>r?1:-1)*("2'".indexOf(n[5]||"X")+2),d.push([f.indexOf("FRUBLD".charAt(r%6)),p,n])));return d},blur:b,ui:Xa,TwoLvMenu:Wa,pround:function(b,f){return d(ua(b),f)},round:ua}});var exportFunc=execMain(function(){function r(){return storage.exportAll().then(function(b){b.properties=mathlib.str2obj(localStorage.properties);cb=JSON.stringify(b)})}function Sa(){var b=null;try{b=JSON.parse(this.result)}catch(ab){logohint.push("Invalid Data");return}d(b)}function d(b){var f=0,d=0,h=0;storage.exportAll().then(function(n){for(var p=1;p<=~~kernel.getProp("sessionN");p++){var z=mathlib.str2obj(n["session"+p]||[]),r=mathlib.str2obj(b["session"+p]||[]);z.length!=r.length&&(f++,d+=Math.max(r.length-
z.length,0),h+=Math.max(z.length-r.length,0))}return confirm(IMPORT_FINAL_CONFIRM.replace("%d",f).replace("%a",d).replace("%r",h))?Promise.resolve():Promise.reject()}).then(function(){if("properties"in b){var f=localStorage.devData||"{}",d=localStorage.wcaData||"{}",h=localStorage.gglData||"{}",n=localStorage.locData||"{}";localStorage.clear();localStorage.devData=f;localStorage.wcaData=d;localStorage.gglData=h;localStorage.locData=n;localStorage.properties=mathlib.obj2str(b.properties);kernel.loadProp()}storage.importAll(b).then(function(){location.reload()})},
$.noop)}function ua(b){this.files.length&&b.readAsText(this.files[0],"UTF-8")}function b(b){return b&&/^[A-Za-z0-9]+$/.exec(b)}function p(b,f){try{return JSON.parse(localStorage[b])[f]||""}catch(kb){return""}}function h(d){if(d.target===f[0]||d.target===Va[0])d=p("wcaData","cstimer_token");else{d=prompt(EXPORT_USERID,p("locData","id"));if(null==d)return;localStorage.locData=JSON.stringify({id:d,compid:p("locData","compid")});kernel.pushSignal("export",["account","locData"])}if(b(d))return d;alert(EXPORT_INVID)}
function v(b){return new Promise(function(f,d){var h=LZString.compressToEncodedURIComponent(cb);$.post("https://cstimer.net/userdata.php",{id:b,data:h},function(b){0==b.retcode?f(b):d(b)},"json").error(d)})}function Ya(b){var f=h(b);if(f){var d=$(b.target),n=d.html();d.html("...");v(f).then(function(){alert(EXPORT_UPLOADED)},function(){alert(EXPORT_ERROR)}).then(function(){d.html(n)})}}function Ua(b){var f=h(b);if(f){var n=$(b.target),p=n.html();n.html("Check File List...");var z=function(){alert(EXPORT_ERROR)},
r=function(){n.html(p)};b=function(b){b=~~b.data;if(0==b)return alert("No Data Found"),r();var d=1;if(kernel.getProp("expp")&&(d=~~prompt("You have %d file(s), load (1 - lastest one, 2 - lastest but one, etc) ?".replace("%d",b),"1"),0>=d||d>b))return r();n.html("Import Data...");$.post("https://cstimer.net/userdata.php",{id:f,offset:d-1},w,"json").error(z).always(r)};var w=function(b){var f=b.retcode;if(0==f)try{d(JSON.parse(LZString.decompressFromEncodedURIComponent(b.data)))}catch(pb){alert(EXPORT_ERROR)}else 404==
f?alert(EXPORT_NODATA):alert(EXPORT_ERROR);r()};kernel.getProp("expp")?$.post("https://cstimer.net/userdata.php",{id:f,cnt:1},b,"json").error(z).always(r):b({data:1})}}function w(){r().then(function(){if(window.Blob){var b=new Blob([cb],{type:"text/plain"});n.attr("href",URL.createObjectURL(b));n.attr("download","cstimer_"+mathlib.time2str(new Date/1E3,"%Y%M%D_%h%m%s")+".txt")}kernel.showDialog([Wa,0,void 0,0,[EXPORT_ONLYOPT,Qa]],"export",EXPORT_DATAEXPORT)})}function Qa(){var b=JSON.parse(localStorage.properties),
f={},d;for(d in b)d.startsWith("session")||(f[d]=b[d]);b=LZString.compressToEncodedURIComponent(JSON.stringify(f));if((f=prompt(EXPORT_CODEPROMPT,b))&&f!=b)try{f=JSON.parse(LZString.decompressFromEncodedURIComponent(f))}catch(fb){f=void 0}else f=void 0;if(!f)return!1;b=JSON.parse(localStorage.properties);for(d in b)d.startsWith("session")&&(f[d]=b[d]);localStorage.properties=mathlib.obj2str(f);location.reload();return!1}var Xa="https://www.worldcubeassociation.org/oauth/authorize?client_id=63a89d6694b1ea2d7b7cbbe174939a4d2adf8dd26e69acacd1280af7e7727554&response_type=code&scope=public&redirect_uri="+
encodeURI(location.href.split("?")[0]);encodeURI(location.href.split("?")[0]);var Wa=$("<div />"),Ta=$('<table class="expOauth expUpDown">'),Ra=$("<td></td>");$("<tr>").append('<td class="img"/>',Ra);var Va=$('<a class="click"/>').html(EXPORT_FROMSERV+" (csTimer)").click(Ua),f=$('<a class="click"/>').html(EXPORT_TOSERV+" (csTimer)").click(Ya);Ra=$("<td></td>");$("<tr>").append('<td class="img"/>',Ra);$('<a class="click"/>');$('<a class="click"/>');var z=$('<input type="file" id="file" accept="text/*"/>'),
Za=$('<input type="file" id="file" accept="text/*"/>'),n=$('<a class="click"/>').html(EXPORT_TOFILE);$('<a class="click"/>').html(EXPORT_FROMSERV+" (csTimer)").click(Ua);$('<a class="click"/>').html(EXPORT_TOSERV+" (csTimer)").click(Ya);var cb;Ta.append($("<tr>").append($("<td>").append($('<a class="click"/>').html(EXPORT_FROMFILE).click(function(){z.click()})),$("<td>").append(n)),$("<tr>").append($("<td colspan=2>").append($('<a class="click"/>').html(EXPORT_FROMOTHER).click(function(){Za.click()}))));
$(function(){kernel.addButton("export",BUTTON_EXPORT,w,2);Wa.append("<br>",Ta);if(window.FileReader&&window.Blob){var b=new FileReader;b.onload=Sa;var f=new FileReader;f.onload=function(){0==stats.importSessions(TimerDataConverter(this.result))&&logohint.push("No session imported")};z.change(ua.bind(z[0],b));Za.change(ua.bind(Za[0],f))}});return{exportProperties:Qa,isValidId:b,getDataId:p,logoutFromWCA:function(b){if(!b||confirm(EXPORT_LOGOUTCFM))delete localStorage.wcaData,kernel.pushSignal("export",
["account","wcaData"])},wcaLoginUrl:Xa}});var logohint=execMain(function(){function r(){b=void 0;Sa()}function Sa(){if(v)h.removeClass("hint"),h.html("ABOUT"),b=void 0;else if(void 0==b)if(b=ua.shift(),void 0==b)h.removeClass("hint"),h.html("csTimer");else{h.html('<div class="pad" style="width: '+p.width()+'px; ">csTimer</div><span style="font-family: sans-serif; margin: 0 1em 0 1em;">'+b+'</span><div class="pad" style="width: '+p.width()+'px; position: absolute;">csTimer</div>');h.removeClass("hint");var d=.1*(b.length+15)+"s";h.css({"-webkit-animation-duration":d,
"-moz-animation-duration":d,"animation-duration":d});setTimeout(function(){h.addClass("hint")})}}function d(){var b=["Webkit","Moz","O","ms","Khtml"],d=document.createElement("div");if(void 0!==d.style.animationName)return!0;for(var h=0;h<b.length;h++)if(void 0!==d.style[b[h]+"AnimationName"])return!0;return!1}var ua=[],b,p,h,v=!1,Ya=!1;$(function(){p=$("#logo");h=p.children().children();h.bind("oanimationend animationend webkitAnimationEnd",r);var b=$("#about"),w=b.children("h1").appendTo(kernel.temp).html();
p.mouseenter(function(){v=!0;Sa()});p.mouseleave(function(){v=!1;Sa()});p.click(function(){"https:"!=location.protocol&&confirm("Your access to csTimer is unsafe. Press OK for safe access.")&&(location.protocol="https:");b.show();kernel.showDialog([b,0,void 0,0],"logo",w)});b.hide();kernel.regProp("kernel","useLogo",0,USE_LOGOHINT,[!0],1);Ya=d()});return{push:function(b){Ya&&kernel.getProp("useLogo",!0)&&(ua.push(b),Sa())}}});var timer=execMain(function(r,Sa,d,ua,b,p){function h(){var b=d("useIns");if(!0===b||"a"==b)return!0;if(!1===b||"n"==b)return!1;if("b"==b)return null==/^(333ni|444bld|555bld|r3ni)$/.exec(d("scrType"))}function v(b,f){var d=[];b=(b||"").match(/#[0-9a-fA-F]{3}/g)||[];for(var h=0;h<b.length;h++)d.push(~~kernel.ui.nearColor(b[f[h]],0,!0).replace("#","0x"));return d}function Ya(b){var f=b.which;if(17==f)if(b=b.originalEvent,1==b.location||1==b.keyLocation)f=256;else if(2==b.location||2==b.keyLocation)f=
257;return f}var Ua,w=-1,Qa=[],Xa,Wa=[],Ta={play:$.noop},Ra=Ta,Va=Ta,f=Ta,z=Ta;void 0!==window.Audio&&(Ra=new Audio("data:audio/mp3;base64,//M4xAATSYYMAUxAAFnLyWJYln7RIAmBMD5PP7MLFh+v9gwMDBZyIn6JW5Ydg3AXBeH59S7vomiV+iILi7veiV///6In/wgoKGI7/+CbwQDH/gg7/5QEP5QMKs/q0cGlVL/ljQ06DnN/5yXn//M4xBEYsl6gAZmQASxhYji4zI0B9iVDm+gt1kQHSPZI/sgyZbMyXMRcn6bsgzk2M2J3LBLCgP5fSQQW7ikxUiqM2RpJiFP/f+Sw5hE80QQb//qbbzpPigBWhVKI71IfgLsD/GxF3etnsPVA//M4xA0YQhbUVc9IAYJsgBw94rEX5Zn32GB9ZJjM7WRsZByUJeG5tRzP///Pf5e/fnvj/6fnaROkqmWIVzyANulyUmy0y1+SM9qVIYeNThdSTt+Mr1dybYemoxoARO2BkwVpYBgP+hht2G3h//M4xAsXug7E9VgwA7hYwgWS6ksd1YZlz3SGJu9Tf9Nnh/QES1GjUas4DDPRsz6mUfOZ3RfFmnfdROWbCX//9enmoPCRJo0UuSOVVU+V6fM7/5rt///nr+Ei8PQumSH7twFhltkx/BAAAFsm//M4xAsYCnKY95k4ABXvCvTG+ZhpjLmGBPUOxY3uVbnhYC4i/qKgAl+s8ajiCcam+fG70NEYoMjT/vwWlhsMgsAjmx1l/gwsIok2JGjyp+n9yZUajYIgaaj///UfPJqlScmqAFAtFAtFottF//M4xAkXS38GX4EoArXUKwIPwD8ku8n7kImb5JCZqG+RnJ9PnezvO6//xA8+8g+tVcRFjauathAUMIAg8OCgodAezJxwoKOn/djpbbVGFFOQUZkIuqDVK7HdP6bt///jx1VoiZeQAK3+k2aJ//M4xAoX40MLHcg4AlCJVEGgLifPIFMGlO////2X6/6SbmA9JMKweDx2qhCSf/1Pfi1TVnqpD/55tUNLr/1qk5p6O2utkSc8w0003od7sk9roq6oceebQ46drqNR5yw+xpV1WIZlWJqoxBjD//M4xAkXIOsTGs4GXjzGCDgkBTJvzm+iZZL5OW2BQRQBdEfi9JG599JMa2qxISC8DMToZwZIgjTOMAiYj/MZDgIJ2fNmfZFBebWkAANCaSsG/c0cwBRxz//sPu///i3+hZvpd//JGObwoVXH//M4xAsXCPseWMMRI8KLBT5VTQZUaR+psYbbV0pcQAUJGtAxqeZjEEUMqUIQMQiIkmrChKdhgrzxluLhsqa6EwWtCAvBcUQPulnoHANyQxiijuwFEl1g/ilr/3+2/SqCVmRApRzgVEsmKcqa//M4xA0S+KLxv0lIAhehSRNXiyJCQgBBEhJYImmHiEERSGUIpCoBh7FgaUDLuoeCsFgayolLVHg0VO6w1LAXLfrLD8l9n2Tv//iIO5R88yRoxfLP60GESF0/nDMiacux54YAujYBIUHPuRFR//M4xCAcMsawAZhQAODgtEJMKyu88L8FgVhXC4IU1e74kCDGBMhIcWIyMSDf3GotCEFUPwGBgxceEQvKHf88kHCckfod///7Hj8w8uSD99yMyQyY3+Z/2c40nLu+VQKFvTbkoA8CijpNUkRQ//M4xA4UohrVn8YoAhQVpc+iJgUeAYryHnlIYPHDplFSoYxSxEVp6loHgsMDxxIWyzGo6lMY0vyiI4xUMpfvZ9v+WVkMpBIPIZyoJCTyKYKh1QEk3DdbkAgLmdaIAcZrvsZeRo1qN88WJe2b//M4xBoU0nq1t08oAkWHSapRERYpS1ZNEOpyCp0Z++Uhjcm/mvnRL9Dv6nRT3br/9a/daqivOpyT8pTzgdIm56oH3p//+tVpyS2yWSSWyWi261igBtlcTNuVMBDryxNmQvt1gMnh+q60Ycbs//M4xCUeAybGX5g4AkzzRWNhIP6tk+xpFjEOmsZHS80mXQ8xH5r/NJFqHl6Hdf4nJElTqabU3/uYY4PRuJghEUkNweCKPgJKVRTen+aNyZDdP////zFJsJA0nEDxuhAcDEgkEYjEkkgkjUJZ//M4xAwXgx7yX4IoAgCeXYgZ9oovHihUXv7Ob1OeQaRxi+hFflYXMXqt/92vlci/8+rttZXrai+ScQFMgn+Zv+1DvnPJDjTnnTd2UUIKCjyD55GfPCQixBcxX/z//BO33bDbW2PRBjsKUcCg//M4xA0UGqL2W8gQAtSYFFPQa5Z7v//KBhBHkIrkVz/oxFc4s7//5SlKvXuV35So77I900dv1///09f/SoslqKxA4cB8FoiEsBLGq7ksGoGKm+utulrklKqGKg0DDy3oNQvNH1uL2O9JZx/n//M4xBsUYQLiWsCMqo2CtyElAU930DGtGeUSEkYJXP///9Mk4BAkwIKORLN/LB2eh3K2nip0RZW3/DX/+HSxP/+s7spJrvAhfRAKXHSVTp/qR1yZwT//SsEOql7ChW9Q/OMbWcqTwk5mHqx3//M4xCgVUiJ0VEjKfJvMY0oqpWoY8RDupfzZhIqlN///0EmUDU9LHg0HOCodwVU8AnQaBUFfrKkt5CppLbfCQZI1EFRdF8qqmnnCQw/NfiYYhS57l/GgCLKyId/5H+VALvUe/75r5Xyx5n8e//M4xDENOQJoHjBKtLM67iEbxmn4ZnCdCLoqFQ9kxWiedXM7lVzLTKYul04P0UbpIFFAR5lxub6eFzRpwGWZebNGnFXF5s0//7s7O+bm5RpxRYJhmKEv//5UKiwtrUxBTUUzLjk5LjVVVVVV//M4xFsTMXHgAHsMHFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV"),
Va=new Audio("data:audio/mp3;base64,//M4xAASgV4kFUwQACCAxs7JZPjOBIJicEBEdOxLJ6/6P3mlKTvt5zn5CBCEbI2c7oc57qf/XyEZTnQOBgYGLP/5c/1ygICQEP//EYPh+XBAMQ+Xf/wfbFqFNoEQoEFQEAoFAB+AVB4IMjon//M4xBUaKkrKX48oAFfHUmf89zpuUPoIoH/EBQgAD2Doh8EcCEYrHQOfg5IqAYuEADFAFIHufiYfOwfFyFFBYcHRAO/9XIRpJyy1dxT/+MFHac/xYuZar/fl+6pO7///UgWBacsstohOUoCw//M4xAsYGUbNn8wwAAMnmZ+cDu8djuSCYwYOmCwwdXtktWsTP35ZVoIgRJ5bXk6qf1VUR/f45seXnP2/2UZaUqN4JCMUOZ/QXBZBJxhp0akGam/eSOtFNysFTrfvaRb86SJV/8UPUrp+zSj1//M4xAkWefLEAMMG6O9KX1ERIatSpfyIuESQIBoKtVAipJxzbQQL48CaGZwhwiYAxOflcSz+973gNziP9c/v5/0/PsIzp/FcDcOP1BFm4cWZOejhzT30AwOIEAKnIInmpCW45KAB9YbUZ/KO//M4xA4XWgcGXnnS9wSLgdo+4uIZd65P8BmAVW7Y7RdHPK0MI1NPaSAaisaW6PReado2a3tr53Z8shskyFmpyIk2z3asoILchTb6As0mgosPDodNkqQyWtyzkN9VAOkEPxM62BmWyoOLzh2U//M4xA8Wo0bYVmBTPhU4VyIfetOVNubJtJwyjshE7b2ZpJtlITxc1n/J8XP///PMvDxcXPIwoA2s1hyf////4epZ4XqCenBIuF2M//9QvWE0dqBj/xLGEsUPE0jEFdMCsIqJSpRLJos62sp0//M4xBMZMz68BGoN5Wl11LRQpL29v/6e3///639n///10zdl8ltVyki9kGU76S73MSKDiwVgLnoYqS8dkGQxmRWYCIdkDyemBEJt8sECJ2ygAEKBwu6AY8ogACBZO52rx//7v/////6///////M4xA0WszrIAAhS/P6/8eVUMxJ6xGbUUV4y5GK2pLIUAIUTHlEKNVUUhYRFAMCkbC4YGRWQHAYoRJsg2ygsiFIlCSHN7VkjS8W1rJ2LYOTYG2bOm0LajK9swZdtrdttoNb7LQuMMOlQ3VRo//M4xBEZGU8SWMPS0tIV9Mkfd/1pqxzFRKswhSTgwWwQgQwhCwHACoEwdQyVi3qp5kt5l4gufzHb1ftPqNOHREJQLGOQMB6sJEcosEZvF0clGJo0hQoSQm2gQNrHxOBCKpL/dt/t4P83PyNq//M4xAsWcU8uWU9gA8fiEqmxOxkCxR4akYDKVhCQ5ihISWhdx7Aacl4qxKysejiaMq0RKVKjw1EIlXx7kNyh+YhTYQTIuJ6qH1XMejdTtLLsn1CrEeL7987UtHZP8DNiNI+8XNT2ZP9/uW15//M4xBAYwl6sAZhQAFu1p+7QEoFEBV6g1nEhETM/vMKP1RNwuAaAayAeGj0oc6q/i2hhO+PSRjjjX/FwXAsFAWAaAQzeahzov+TmOYx/5pqev7f9jx4WAgbOC3//B9weLoMQSAOtHnOtlwEc//M4xAwYUX64AY94ADqMNCC4LhWjHbCcscWKI+gkIRT5wve2X0GfevrOLVi2pfW/m3v4L2Die0CG/rPiJDe/fhRLzvp9YpesOBPrWKfGcRgVO0IKLecj34HDowGogX0kfwaqGKkalAB07DTR//M4xAkVUXa4988oA96hJKmadYbXjLDpmV8xPo1k6wuL0PCxnMJGMhSyrzFKVW7Sh0OgUtEsVmKxerFKpf0Q4iHg87wUFGhQV/pgoKCjcgoKahBS/0L/v/XqRrkvl1uuAHPRw8YD6obbAZWC//M4xBIUulrVv0YYAsy5WpzC/FjkoESgR4UTt+wwhRQCEFLAKVdjpuarL+uveMFSGZM6nmZMaEOIWDlW/5/+0r5//SO+5f3a+jXFKZxDY3GQ/s1JvAR00Bwm8O7JGQqoMUFo+y7mpgYG2r2Z//M4xB4bcyaYAY+AANJE6Zpfv7lAmES+t//rfSMzhikn//v2djA6YGqX//rdb6ponW8jSfJ8ibkXHX//3y4gabqQ8Zw1DEgm8QXFPFzCAAEwcY4A9QdIpc9///iBPL////////3//6M9cxlS//M4xA8XA0bMC8A4AsjHnuerv7VVCh9rmHodKIIiiUY7mD6VLmXU0bsJZcfcyYaPisRxwBgOwHnjQeMG4TgVGQhDhUTEwinA9B6g6NmFprmIhYajYcHygjk2V4VncGh/pRDV74GwDcP0CGGr//M4xBITSQr3GHgSwgw5n97yKxUMaHpRn1/7kgiEwoT78OtpAEDCCkDp+fpVl4UQo5o98MXf/aeWXBfInf////X4SBp//7b0qgCIGi9cuqFSVYVE2qotihQ5KWrE2fOIiAMVuhpaCTI7/0Dw//M4xCMUaO6dskgKwLA0WAQe/sCeCz8RJOxE10qrOhphGAQkGn1nexseGgoPBWMWAhKWWRDTIK5UA5ZtAroFgVAmNWRLlixNLy/xbJKikZ29gwqyerczBhX/o6Kibf/0+/1bYxSlaitzCKf3//M4xDAVGx5cFEiKzEdAiCD1rIHqlm6GpKZeWj6Gh46mGkVqGKVhIPHby1Zy8pfCQqpAWOqAYgcSGJhoGRGZHsMxdJkWFmegGRWgKiMBC6xUMgJn8e2aBkUDxrjxVMCirFixoKioo3FW/4sS//M4xDoR2CIEAkiEADQVFG4q38BBIRhkyEm1TEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV"),
f=new Audio("data:audio/mp3;base64,//M4xAATEZoICUEQACAAAAAAVjGPIABjGMYxjGQhG/qc7znAAAQQhCEIBgZzn//nfIT///OACCAgCAIA+D4f1AgCDu/4Pg//BAEAQBD+D4Pg4CDogB8PlAQV/lyZtCAp/v2yc4zIHc/+UWAK//M4xBIZMvKIAZqQAQy6fRSNAxgABQc3y4i7ilB2l4t/20mIGbn//xmCKEgXDEr/+2w43WSBgVCJ/+mtTILdRIHCXMRzx3kQZD/9uympqz5UM0lui5eOEQNP/+r//N5Z/e8LkFm0AKioK/UN//M4xAwX0eawAdhAAUrHCF0Xyt8mH+FmJNO7GaWW0L6MPJXkR+2bc26/iL/uuZmIOmYGTZtbRo0aTfrOMMts4YKnqUUfYjnHGhktCIExYjMNlU6UuxpZy0mb/nM+giFCFaQQgI7LAFMBlv/y//M4xAsX4mbGXsIKnHpCwXElk/qwtoiMigBBRYYAMG6v9geFWqiha0rlTWVobWLi5m11Vmyl9ZVVaWYqKvf+yGsipuxhoULRZkKJGs9SX4wt/f67oUPCYo0ih1Et/Of4NOUpySxlRsf7ZHkf//M4xAoXSl68flmEulpKJzj4HRAjce2at13fUYlVa81Ao7xm5DvuRGYrbf1B1ZtrXZqLSczrZVqtDG85ZwpvKJarJLMnQxnUvK2//CiRQaXEHfWHyDUPGvKdAnuygnfJqiqqAaP/y5zeISIf//M4xAsWMzKwVBhTraE4JQMQ82CUXHSsAKLmIWCKLSuDZK6KLh/93cGBwg5oV5fy3/////5f/cqr14yU5IbSzejWjcl3qChaEaQIIGKuYrKMJvAILCg9DdUmbiO/5EAFgTgHV3kXGB5LzZhY//M4xBEXU0K8CkCTPLCnbWj/8LVfenb+v/9lMdhLkuZ////+h1e0////ZWuiu25JXU4gIdVOhgZI5auESAnYXYPtGLUVNkw7AZqT2UR1DRMOtEiMdJ1sojbqlksl0lij/vaaaWCAoUoOsOYj//M4xBIZWW7yWNMHKgmVLqEkBMvdl3bkthguWpAMJL5dmCBEMMvMFyiijcL0EPwsO/78WKl4Qx4ODxz9SJW37VEMH3l3Vxg5RrFjA8GI/soju6ZTz88GLg1nCLfLsQODdZMRym1ANb0zCehG//M4xAsU4SrBjgvMHF48ZpdH8XJp18bP0yXW60P4TU4WFxtISSN2WosJZ57tW1Wz5kjP9f1uU8oycSAssqs7rDT4iJCUaBn01bMlSOf1AZ5D3f4l4hWAC+VSUH1YSABA8DgzLD94INFxHhUG//M4xBYUgzq09kBFXhnywvc/I/749Tqi5YJPyMGAtWO9FRGXONgyKILofPtDMho9WsaEq/9P/9eZGWRgyPkdzI/V9NCXBB+oZTwx/5ZkohiZfFYWGUnhLK43nk8bR3byGp2OQCms4M5k3dYz//M4xCMUYUqgKsFNDAaLS6pDeQeM4oGqVgmMfV/0df0+e75mZaYIerAmcBUFUJFXNty0TEQM06bMf/jVoBMla1FwGt16zGA8NQefkpVAN0tnbzz1C06KzuUensbO9SV2RyYMOpFsarqJI2lK//M4xDAVQXalH1kYAK/2GsnDmUuZ6l+FJuXQlnlBR08KxEVjwEKmGf/rKgLDpVyG/5QgguSRiMOCQQOSyqMhGmSI0qtdpYGVsYNfgCHScsHWrAQqDrQckoEi/yCXUjSk/79aKf+tajBVaCz7//M4xDojc86+X5loAn+t02X//f7r9bplxtM2HeRmHqp0/93U2b3TlQ8xzl8e6kEFIG6mMEDI31/TTdvYvpM7oJjHGDJURsphZqqLhgSBcUZnkhwkoPw/f//5IHv//x5CJQBtaN/99owR/who//M4xAsVOd7mX8FAAsYFIH97r8ivyxIagvaf/+l6J/+44QAExgoMmpeCDHv///WmHpMo1Q7I9pQ4RgqFjCyGND0Wg0tx4RPLWFfkXvhVMOs//yhIeIwEkmhE332M1sAGU0ua+qxgESxhRLOA//M4xBUTyKKa/ghGBJqX1Y3AokRAV3UCp3w6dBqJRj/wKWbIhICjGB0iGjxLKlfqCvJMO5ICkg6GvhUSkQkBSAFIgsEgyk7VBP1OmAhQMBDCArw0eOsDoSPFSowOkiEYBe0CkAqAkUCIkggI//M4xCQSKB4U0hiCALz3UDICqAtg0sVLFSXCj0ZEJAXrLLHu3niRH8e4iSlS06dh0NJMQU1FMy45OS41qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"),
z=new Audio("data:audio/mp3;base64,//M4xAASgSo1hUMQAIAgkWD33c9AN9ELeOf9d85/5CanO6HOhCNO//+hGUIQ5lw/EDogh8uH9YYLg+/UCEoCCwfLh/5Q4JDgPwQD6gQcDhwT/WDjidYYH41Hok//1+vs9vT8Aq1dS2NBQo9g//M4xBUaQmL2X4dAALQ2Nv44Xi2W/qxHUQblV/6FjBgoCtYppT/xUXgeJR7XVZl//o6MtmtX//9V+PR4UurefhUiY9P/v+HYURyEZPn2FUyg0IfGvlAQE4nuPo+d//Of6skEArDfvp+iADgm//M4xAsWqQbBZ88wAI8Z4TAwlzUxOFRqMwLkt7PBjyPCAzN57EJBCEQ7AhBUQ9J+MoqjYeqLUyR06dGBVigkZSuiSkjqVA08t/50tzOeqOg0HZglErtv+wsDIx9qsCCVRS8ugA0eMpdgLnQG//M4xA8Y+N7OVg4eHLkxaawiYEAmMzp+pVi0QgyWuSbfaLu2JCPMS48djN2OjQPo8Gm+1MTkQMvbWocLgBnJur3ebwmcLuKCc5bAgWU5jkzRmh7dVJw5hgQGKdTD4rLwfD/TApD6T3GsZ+jo//M4xAoVsMbllgvSOoaajtekUtnRNv4yigtZDycK1KCSjIEDHoXy5yCw8KkJoEIdZuEOmhM5IuAjwKlxUSmGXpCh5P7V0accB0u6n2KTHs/+J5P4YiA5EjpdEQKAAbh9B4FwOix3NYbHKio4//M4xBIWU0bg9jgfcoo1b0Gx3zTUfScea3RH////////j/////6huEM0ydj1nWzrgtgR8MM7g1AmhYF2q9N5b1G5qxk0wODIi0UWAfZJ4g3yTn+q1Q5KzlECQfkaxWsgj0I/RRb/2/v//9Vn//M4xBcaw0rBl0FoAHpf////sy1rrb///X//9kzydJBKkiipmY6O8Yom4cw0Lw+HguQW4KkIodoUAHsGwDYC1iJEUSQl5CFMcBNJIqCiC8hVRGw6AP4LeBlCxD0BcBVDFxaPvr/f9//9/t/L//M4xAsX2j8eX404AtuxjqjEzRIDwC51mFMl6MqmiWPEEbHnxoe62msPLMPPJsxnnBRvKtc+e6/LDrecjN+Y6DpnoPkzmXvmkjvb8z+hpR/FQ0fVKkELosVELRvtIqHf8qqbyaTMDIgnGhw1//M4xAoXiV7Yy494AId4yhnCcPiNF1KghyHyKgIIj2VKqcJqpPDrepyth2GrAcR63Fmhap8aeZtrEPE1J7TUjYiapaTTJjUCZuxLP8534sKLvX6+C4hRnyd0DLYhIa//DdW4SwYlwqtK1Zk1//M4xAoWEa64AZloABtJuengjtCaHvhxARYZEw5I8VtBIRvIKJJF4vLXxLjIzQLyKNFvpHx3Eqo7UmkZGX47RhB7ukbKMdnZt/cwmKNFmSQRnale8WIoQL1XARX18OEI5r/AaBcP1ehjqz4B//M4xBAXUuasAY84AAD8RB4wufax6mmJf3WY046i/zjS3OU//PQ0uPKg3dB48anHo0z5NmGhojnMTOHWGhxU1f/5U51m2tOpr+v//PtY2etxwtYLAVa3Fv/kFQpAY3wDgA//5BYdMtqpa7qi//M4xBEVET7Bt9iAAKTOTxnaPGEt9Kbeq7T3to8ZWvAPiGSMzEig4TiSjIqpKYpmyNlq9dSq+kg99n99MvhEXLFp27/U0OmrQK7fT6LGtJPVSABDsRjmAGH14mKnQlMUeVmib52Ev1vKSCGb//M4xBsU6MK5v1gYAMWnvrRa/zK6+rut4USRcWHkoCREFWw8SVVdAQdBo8HRLeCsc4JPLfaeI5aSK/4dEqVAwHyIVGvtUgAIKPKv/z/gAHxAkOJGEARIEghZOYmCTCxgEhs/SVqNzJ2S2uDz//M4xCYei86plZpoAGGcep4x54vonz6NvVVur6+YKXNqmQSPaS0UEqnQ7amo+j//Q01ejW3/6v+7et+gTDpTX//9PU03WmbvtQLhoMASZsSR0iCmE8GACQf//7f//xwgr9UCSgS2iC2oEfkI//M4xAoUC0LuX8EoAkdUf8b5/89Cd0///qqi5G///yodv50YXKLlExcABN0KYgoJoVxgmKkDpSOAwmKCwFDrGPRuzt6/00Zyr///1+jWOR0U0WKqEAls1wn0iBHCH/MIKAQktE4BU5EiRASW//M4xBgTIbrOXgmKlv/7y8scFEknl8///NZQ6KwiKiQecrf//5qVYxpQ64iCRKFDQVT88VBU7/1Q7/9raCJGRCTaAkYG01QNZFtww1LYo1EwKhNwSArlhI8Ej0OiURAIed1FQEPksJu8qIiS//M4xCoSsGIcFDBGQIqWW7wCAvkbSQiKjDp5YSDgdyxYe4986HQ0HdodEpUiSkxBTUUzLjk5LjWqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"));
var Za={n:1,cfop:4,fp:2,roux:4,cf4op:7,cf4o2p2:9},n={n:[],cfop:["cross","F2L","OLL","PLL"],fp:["F2L","LL"],roux:["1st block","2nd block","CMLL","L6E"],cf4op:"cross;1st F2L;2nd F2L;3rd F2L;4th F2L;OLL;PLL".split(";"),cf4o2p2:"cross;1st F2L;2nd F2L;3rd F2L;4th F2L;EOLL;COLL;CPLL;EPLL".split(";")},cb=function(){function n(b,f){b&&void 0==ab?(requestAnimFrame(p),ab=1,bb=0):b||void 0==ab||(ab=void 0);Ua=f?$a:Wa}function p(b){if(0!=w&&-1!=w&&-4!=w&&void 0!=ab){b=$.now()-Xa;var n=Ua===$a?Sa:"";if(-3==w||
-2==w&&h())Za(Ua,("n"!=d("timeU")?17E3<b?"DNF":15E3<b?"+2":15-~~(b/1E3):TIMER_INSPECT)+n);else{var r=ua(b,!0);Za(Ua,{u:r,c:r.replace(/([.>])(\d)\d+(<|$)/,"$1$2$3"),s:r.split(".")[0],n:TIMER_SOLVE,i:TIMER_SOLVE}[d("timeU")]+n)}if(-3==w||-2==w)Ua!==$a&&(12E3<=b?Za($a,'<div style="font-family: Arial;">Go!!!&nbsp;&nbsp;</div>'):8E3<=b&&Za($a,'<div style="font-family: Arial;">8s!&nbsp;&nbsp;</div>')),"n"!=d("voiceIns")&&(n=Ta,7900<=b&&7900>bb&&(n="1"==d("voiceIns")?Ra:f),11900<=b&&11900>bb&&(n="1"==d("voiceIns")?
Va:z),n.volume=~~d("voiceVol")/100,n.play());bb=b;requestAnimFrame(p)}}function r(b){Wa.css("color",b);$a.css("color",b)}function v(b,f){Za(f?$a:Wa,void 0!=b?ua(b,!0):"--:--")}function Za(b,f){var d=b===$a?1:0;Ya[d]!==f&&(Ya[d]=f,b.html(f))}var Wa,$a=$("<div />"),Ua,ab,Sa="",Ya=["",""],bb=0;$(function(){Wa=$("#lcd");$("#multiphase").append($a)});return{setRunning:n,color:r,val:v,setEnable:function(b){b?Wa.show():Wa.hide()},append:function(b){Za($a,$a.html()+b)},setStaticAppend:function(b,f){Sa=f?
Sa+b:b},fixDisplay:function(f,d){var p=!1;0==w?cb.color("red"):-1==w||-4==w?r(f&&d?h()?"#0d0":"#f00":""):-2==w?(r(f&&d?"#0d0":""),p=h()):(-3==w?r(f&&d?"#dd0":"#f00"):r(f?"#0d0":""),p=!0);b.setAutoShow(0==w||-1==w);n(p)},getMulPhaseAppend:function(b,f){for(var d=[],h=f;h>b;h--)d.push(ua(Qa[h]-~~Qa[h+1],!0));return b==f||1==f?"":'<div style="font-size: 0.65em">='+d.join("<br>+")+"</div>"},reset:function(b){Wa.empty();$a.empty();Ya[0]="";Ya[1]="";v(0,b);n(!1);Sa=""}}}(),db=function(){function b(b,f){h.html(f[0]).unbind("click");
void 0!=f[2]?h.addClass("click").click(function(){f[4](f[2][0],f[2][1],f[2][2],f[2][3])}):h.removeClass("click");n.html(f[1]).unbind("click");void 0!=f[3]?n.addClass("click").click(function(){f[4](f[3][0],f[3][1],f[3][2],f[3][3])}):n.removeClass("click")}var f,h=$('<span class="click">'),n=$('<span class="click">'),p=!0;$(function(){f=$("#avgstr").append(h,"<br>",n);r("timer","avg",b)});return{showAvgDiv:function(b){b&&d("showAvg")&&-1!=$.inArray(d("input"),["s","m","t","i","b"])?p||(f.show(),p=!0):
p&&(f.hide(),p=!1)}}}(),ab=function(){function f(){void 0!=Ra&&(clearTimeout(Ra),Ra=void 0)}function n(){if(-1==w||-3==w)-1==w&&cb.reset(),w=-2,Ra=void 0,cb.fixDisplay(!0,!0)}function z(b,f,d){var h=$a;255<b?$a=f?$a&~(1<<b):$a|1<<b:d.ctrlKey||($a=0);return 32==b||3==h&&255<b||3==$a}var r=0,v=0,Ra=void 0,$a=0;return{onkeydown:function($a,Wa){var Za=z($a,0,Wa),Ta=$.now();if(!(200>Ta-r)){if(0<w){r=Ta;Qa[w]=r-Xa;d("phases")!=w&&cb.append("+");1!=d("phases")&&cb.append(ua(Qa[w]-~~Qa[w+1],!0)+"&nbsp;<br>");
if(27==$a){Ta=[-1];for(var Va=1;w<Qa.length;)Ta[Va++]=Qa[w++];w=1;Qa=Ta}0==--w&&(v=r,cb.val(Qa[1]),b.setAutoShow(!0),p("time",Qa),32!=$a&&(w=-1))}else Za?w==(h()?-3:-1)&&void 0==Ra?Ra=setTimeout(n,d("preTime")):-1==w&&h()&&(w=-4):27==$a&&-1>=w&&(f(),w=-1,cb.val(0),b.setAutoShow(!0));cb.fixDisplay(!0,Za);Za&&kernel.clrKey()}},onkeyup:function(b,n){a:{var p=z(b,1,n);var r=$.now();if(p)if(0==w)w=-1;else if(-1==w||-3==w){if(f(),500>r-v){cb.fixDisplay(!1,p);p=void 0;break a}}else if(-2==w){w=d("phases");
var ua=h()?r-Xa:0;Qa=[17E3<ua?-1:15E3<ua?2E3:0];Xa=r;cb.reset()}else-4==w&&(w=-3,cb.reset(),Xa=r);cb.fixDisplay(!1,p);p&&kernel.clrKey();p=void 0}return p},reset:function(){void 0!=Ra&&(clearTimeout(Ra),Ra=void 0);r=v=0}}}(),kb=function(){var b=$('<textarea id="inputTimer" rows="1" />'),f=0;$(function(){$("#lcd").after(b)});return{setEnable:function(f){f?b.show():b.hide();f?(pb=b,b[0].select(),b.unbind("click").click(function(){b[0].select()})):pb=void 0},parseInput:function(){var d=/^(?:[\d]+\. )?\(?(DNF)?\(?(\d*?):?(\d*?):?(\d*\.?\d*?)(\+)?\)?(?:=([\d:.+]+?))?(?:\[([^\]]+)\])?\)?\s*(?:   ([^@].*?))?(?:   @(.*?))?$/,
h=/^(\d*?):?(\d*?):?(\d*\.?\d*?)$/,n=b.val(),z=$.now();if(/^[\s\n]*$/.exec(n)&&z>f+500)kernel.pushSignal("ctrl",["scramble","next"]),f=z;else for(n=n.split(/\s*[,\n]\s*/),z=0;z<n.length;z++){var r=d.exec(n[z]);if(null!=r&&""!=r[4]){var w=Math.round(36E5*Math.floor(r[2])+6E4*Math.floor(r[3])+1E3*parseFloat(r[4]));if(0!=w){if(""==r[2]&&""==r[3]&&/^\d+$/.exec(r[4])){var v=kernel.getProp("intUN")||20100;w=Math.floor(w/(v%1E4));var ua=Math.floor(w/1E7);var Ra=Math.floor(w/1E5)%100;var Za=w%1E5;2E4<v?w=
6E4*(60*ua+Ra)+Za:1E4<v&&(w=6E4*(100*ua+Ra)+Za)}"DNF"==r[1]?v=-1:"+"==r[5]&&2E3<w?(v=2E3,w-=2E3):v=0;ua=[];if(r[6]){ua=r[6].split("+").reverse();Ra=w;for(Za=0;Za<ua.length;Za++){var Wa=h.exec(ua[Za]);if(null==Wa){Ra=1E8;break}Ra-=Math.round(36E5*Math.floor(Wa[1])+6E4*Math.floor(Wa[2])+1E3*parseFloat(Wa[3]));ua[Za]=Math.max(0,Ra)}Math.abs(Ra)>10*ua.length?ua=[]:ua.pop()}Ra=r[7]||"";Za=r[8];Qa=[Ra,Za,[v,w].concat(ua)];(w=mathlib.str2time(r[9]))&&Qa.push(w);p("time",Qa);kernel.clrKey()}}}b.val("")},
clear:function(){b.val("")}}}(),fb=function(){function f(f){if(d){var z=$.now();if(f.on){var v=f.time_milli;if(f.running){if(-3==w||-4==w)r=z-Xa-v,cb.reset();w=1;Xa=z-v;b.setAutoShow(!1)}else-1!=w||!h()||0!=v||"R"!=f.signalHeader&&"L"!=f.signalHeader?-3!=w&&-4!=w&&(w=-1,cb.val(v),b.setAutoShow(!0)):(w=-3,b.setAutoShow(!1),Xa=z);n.running&&!f.running&&0!=f.time_milli&&(r=h()?17E3<r?-1:15E3<r?2E3:0:0,p("time",[r,~~v]));f.greenLight?cb.color("#0d0"):f.rightHand&&f.leftHand?cb.color("#f00"):-4==w?cb.color("#0d0"):
cb.color("");cb.setRunning(-3==w||f.running&&67!=f.signalHeader)}else w=-1,cb.val(),cb.setRunning(!1),cb.color(""),b.setAutoShow(!0);n=f}}var d=!1,n={},r;return{setEnable:function(b){(d="s"==b||"m"==b)?(stackmatutil.setCallBack(f),stackmatutil.init(b,!1).then($.noop,function(){kernel.showDialog([$("<div>Press OK To Connect To Stackmat</div>"),function(){stackmatutil.init(b,!0).then($.noop,console.log)},0,0],"share","Stackmat Connect")})):stackmatutil.stop()},onkeyup:function(b){var f=$.now();32==
b&&-4==w&&(w=-3,cb.reset(),Xa=f,cb.fixDisplay(!1,32==b));32==b&&kernel.clrKey()},onkeydown:function(b){var f=$.now();32==b&&-1==w&&h()&&n.on&&0==n.time_milli?(w=-4,Xa=f,cb.fixDisplay(!0,!0)):27==b&&-1>=w&&(w=-1,cb.val(0),cb.fixDisplay(!0,!1));32==b&&kernel.clrKey()}}}(),lb=function(){function f(f){if(d)switch(f.state){case GanTimerState.HANDS_ON:cb.color("#f00");break;case GanTimerState.HANDS_OFF:cb.color("");break;case GanTimerState.GET_SET:cb.color("#0d0");break;case GanTimerState.IDLE:n=0;switch(w){case -1:h()&&
(w=-3,cb.setRunning(!0),Xa=$.now(),b.setAutoShow(!1));break;default:w=-1,cb.reset(),b.setAutoShow(!0)}break;case GanTimerState.RUNNING:-3==w&&(n=$.now()-Xa,n=h()?17E3<n?-1:15E3<n?2E3:0:0);Xa=$.now();cb.reset();cb.color("");w=1;cb.setRunning(!0);b.setAutoShow(!1);break;case GanTimerState.STOPPED:cb.setRunning(!1);cb.val(f.recordedTime.asTimestamp);b.setAutoShow(!0);p("time",[n,f.recordedTime.asTimestamp]);break;case GanTimerState.DISCONNECT:w=-1,cb.val(),cb.setRunning(!1),cb.color(""),b.setAutoShow(!0)}}
var d=!1,n=0;return{setEnable:function(b){(d="b"==b)?(setTimeout(cb.val,100),kernel.showDialog([$("<div><br><br><b>Press OK to connect to GAN Smart Timer</b><br><br>If you have enabled WCA inspections in settings, use GAN Smart Timer RESET button to start/cancel inspection timer.</div>"),function(){GanTimerDriver.connect().then(function(){GanTimerDriver.setStateUpdateCallback(f);cb.reset(0)})["catch"](function(b){alert(b)})},0,0],"share","GAN Smart Timer")):GanTimerDriver.disconnect()},onkeyup:$.noop,
onkeydown:$.noop}}(),gb=function(){function b(z,w,v,ua){if(void 0==window.twistyjs)!f&&document.createElement("canvas").getContext?(f=!0,$.getScript("js/twisty.js",b.bind(null,z,w,v,ua))):ua(void 0,!0);else if("q"!=d("input")){var Ra=void 0==h;Ra&&(h=new twistyjs.TwistyScene,h.addMoveListener(w),v.empty().append(h.getDomElement()),p=null);h.initializeTwisty(z);n=h.getTwisty();ua(r,Ra)}else{if(Ra=void 0==p)p=twistyjs.qcube,p.addMoveListener(w),v.empty().append(p.getDomElement()),p.resize(),h=null;
p.init(z);ua(p,Ra)}}var f=!1,h,n,p,r={keydown:function(b){return h.keydown(b)},resize:function(){return h.resize()},addMoves:function(b){return h.addMoves(b)},applyMoves:function(b){return h.applyMoves(b)},isRotation:function(b){return n.isInspectionLegalMove(n,b)},move2str:function(b){return n.move2str(b)},toggleColorVisible:function(b){return n.toggleColorVisible(n,b)},isSolved:function(b){return n.isSolved(n,b)},moveCnt:function(b){return n.moveCnt(b)},parseScramble:function(b){return n.parseScramble(b)}};
return{init:b}}(),bb=function(){function f(f,r){if(1!=r){var v=$.now();if(-3==w||-2==w){if(Ta.isRotation(f)&&!/^(333ni|444bld|555bld)$/.exec(bb)){0==r&&Wa[0].push([Ta.move2str(f),0]);return}Ua=h()?v-Xa:0;Xa=v;ab=0;w=3==kb&&"r3"!=bb?Za[d("vrcMP","n")]:1;var ua=Wa[0];Wa=[];for(var Ra=0;Ra<w;Ra++)Wa[Ra]=[];Wa[w]=ua;Sa=w;Qa=[17E3<Ua?-1:15E3<Ua?2E3:0];cb.setRunning(!0,!0);b.setAutoShow(!1)}if(1<=w){/^(333ni|444bld|555bld)$/.exec(bb)&&!Ta.isRotation(f)&&Ta.toggleColorVisible(0==Ta.isSolved(d("vrcMP","n")));
0==r&&Wa[w-1].push([Ta.move2str(f),v-Xa]);if(2==r){var Va=Ta.isSolved(d("vrcMP","n"));if(Va<w)for(Ra=w;Ra>Va;Ra--)Qa[Ra]=v-Xa;w=Math.min(Va,w)||1;1<Sa&&cb.setStaticAppend(cb.getMulPhaseAppend(w,Sa))}0==Va&&2==r&&(ab+=Ta.moveCnt(),bb.match(/^r\d+$/)&&0!=Ya.length?("r3"!=bb&&kb++,n(!0),z()):(b.setAutoShow(!0),w=-1,cb.setRunning(!1),cb.setStaticAppend(""),cb.val(Qa[1],!0),cb.append(cb.getMulPhaseAppend(0,Sa)),cb.append('<div style="font-family: Arial; font-size: 0.5em">'+ab+" moves<br>"+~~(1E5*ab/Qa[1])/
100+" tps</div>"),Wa.reverse(),p("time",["",0,Qa,0,[$.map(Wa,cubeutil.moveSeq2str).join(" ")]])))}}}function n(b){if((!ib||d("input")!=Va)&&lb){ib=!0;Va=d("input");var h=kb;h||(h=3);h={type:"cube",faceColors:v(kernel.getProp("colcube"),[3,4,5,0,1,2]),dimension:h,stickerWidth:1.7,scale:.9};"skb"==fb?h={type:"skewb",faceColors:v(kernel.getProp("colskb"),[0,5,4,2,1,3]),scale:.9}:"mgm"==fb?h={type:"mgm",faceColors:v(kernel.getProp("colmgm"),[0,2,1,5,4,3,11,9,8,7,6,10]),scale:.9}:"pyr"==fb?h={type:"pyr",
faceColors:v(kernel.getProp("colpyr"),[3,1,2,0]),scale:.9}:"sq1"==fb&&(h={type:"sq1",faceColors:v(kernel.getProp("colsq1"),[0,5,4,2,1,3]),scale:.9});gb.init(h,f,hb,function(f,h){Ta=f;h&&!Ta&&(hb.css("height",""),hb.html("--:--"));b||(cb.setRunning(!1,!0),cb.setStaticAppend(""),Ra(d("timerSize")))})}}function z(){n();var b=Ya;bb.match(/^r\d+$/)&&(b=Ya.shift().match(/\d+\) (.*)$/)[1],cb.setStaticAppend("<br>"+(Ya.length+1)+"/"+Ya.len));b=Ta.parseScramble(b);ib=!1;Ta.applyMoves(b);Ta.moveCnt(!0);Wa=
[[]]}function ua(b,f){if("scramble"==b){bb=f[0];Ya=f[1];var d=tools.puzzleType(bb),h=db.indexOf(d);"cubennn"==d&&(h=f[2]);-1==h||kb==h&&fb==d||(kb=h,fb=d,ib=!1,n());if(d=f[0].match(/^r(\d)\d*$/))Ya=Ya.split("\n"),Ya.len=Ya.length,kb!=~~d[1]&&(kb=~~d[1],ib=!1,n())}}function Ra(b){hb.css("height",b*$("#logo").width()/9+"px");Ta&&Ta.resize()}var Ta,Va="",Ua=0,ab=0,Sa=1,Ya,bb,kb,fb,db=" sq1 222 333 444 555 666 777 888 999 101010 111111 skb mgm pyr".split(" "),ib=!1,hb=$("<div />"),lb=!1;$(function(){r("timer",
"scramble",ua);hb.appendTo("#container")});return{onkeydown:function(f){if(void 0!=Ta){var d=$.now();if(-1==w)32==f&&(z(),h()?(w=-3,Xa=d,cb.setRunning(!0,!0)):(cb.setRunning(!1,!0),cb.val(0,!0),w=-2),b.setAutoShow(!1));else if(-3==w||-2==w||1<=w)27==f?(b.setAutoShow(!0),1<=w&&p("time",["",0,[-1,d-Xa],0,[$.map(Wa,cubeutil.moveSeq2str).join(" ")]]),n(),w=-1):Ta.keydown({keyCode:f});27!=f&&32!=f||kernel.clrKey()}},setEnable:function(b){(lb=b)?hb.show():hb.hide()},setSize:Ra,reset:n}}(),hb=function(){function f(){Va&&
(clearTimeout(Va),Va=0);Ua&&(clearTimeout(Ua),Ua=0)}function r(r,v,ua){bb=r;if(Ra){Ta&&kb.setState(r,v,!1);f();if(-1==w){if(r!=mathlib.SOLVED_FACELET){var $a=d("giiSD");"s"==$a?giikerutil.checkScramble()&&z(ua):"n"!=$a&&(Va=setTimeout(function(){z(ua)},1E3*~~$a));$a=d("giiSM");"n"!=$a&&{x4:/^([URFDLB][ '])\1\1\1$/,xi2:/^([URFDLB])( \1'\1 \1'|'\1 \1'\1 )$/}[$a].exec(v.join(""))&&(Ua=setTimeout(function(){z(ua)},1E3))}}else if(-3==w||-2==w){ab=h()?ua-Xa:0;Xa=ua;w=Za[d("vrcMP","n")];Wa=[];for($a=0;$a<
w;$a++)Wa[$a]=[];Ya=w;Qa=[17E3<ab?-1:15E3<ab?2E3:0];cb.fixDisplay(!1,!0);cb.setRunning(!0,Ta);b.setAutoShow(!1)}if(1<=w){Wa[w-1].push([v[0],ua-Xa]);v=cubeutil.getProgress(r,kernel.getProp("vrcMP","n"));if(v<w)for($a=w;$a>v;$a--)Qa[$a]=ua-Xa;w=Math.min(v,w)||1;cb.setStaticAppend(cb.getMulPhaseAppend(w,Ya));if(r==mathlib.SOLVED_FACELET){Wa.reverse();r=cubeutil.getPrettyMoves(Wa);v="";var Sa=n[kernel.getProp("vrcMP","n")],nb=0;for($a=0;$a<r.length;$a++)nb+=r[$a][1],v+=r[$a][0]+(Sa[$a]?" //"+Sa[$a]+" "+
r[$a][1]+" move(s)%0A":"");giikerutil.setLastSolve(v);w=-1;Qa[1]=ua-Xa;b.setAutoShow(!0);cb.setRunning(!1,Ta);cb.setStaticAppend("");cb.fixDisplay(!1,!0);cb.val(Qa[1],Ta);cb.append(cb.getMulPhaseAppend(0,Ya));cb.append('<div style="font-family: Arial; font-size: 0.5em">'+nb+" moves<br>"+~~(1E5*nb/Qa[1])/100+" tps</div>");if(0!=Qa[1]){v=[$.map(Wa,cubeutil.moveSeq2str).join(" ")];v[r.length]=r[0][1];for($a=1;$a<r.length;$a++)v[r.length-$a]=v[r.length-$a+1]+r[$a][1];p("time",["",0,Qa,0,v])}}}}}function z(n){f();
-1==w&&(giikerutil.markScrambled(),giikerutil.checkScramble()||p("scramble",["333",scramble_333.genFacelet(bb),0]),w=-2,Xa=n,cb.fixDisplay(!0,!0),h()&&cb.setRunning(!0,Ta),b.setAutoShow(!1),d("giiBS")&&metronome.playTick())}function ua(b){(Ta=b)?Sa.show():Sa.hide();b&&kb.initVRC()}var Ra=!1,Ta=!1,Va=0,Ua=0,ab=0,Sa=$("<div />"),Ya=1,bb=mathlib.SOLVED_FACELET,kb=function(){function b(b){void 0!=n&&!r&&Ta&&(r=!0,n.initializeTwisty({type:"cube",faceColors:v(kernel.getProp("colcube"),[3,4,5,0,1,2]),dimension:3,
stickerWidth:1.7,scale:.9}),w.fromFacelet(mathlib.SOLVED_FACELET),p=n.getTwisty(),b||f(d("timerSize")))}function f(b){Sa.css("height",b*$("#logo").width()/9+"px");n&&n.resize()}function h(){void 0==n&&(void 0!=window.twistyjs?(n=new twistyjs.TwistyScene,Sa.empty().append(n.getDomElement()),b(),n.resize(),z=!1):!z&&document.createElement("canvas").getContext?($.getScript("js/twisty.js",h),z=!0):(Sa.css("height",""),Sa.html("--:--")))}var n,p,r=!1,z=!1,w=new mathlib.CubieCube,ua=new mathlib.CubieCube,
Ra=new mathlib.CubieCube;return{resetVRC:b,initVRC:h,setState:function(f,d,h){ua.fromFacelet(f);h=[];for(var z=!0,v=0;v<d.length;v++){h.push(d[v]);var Ta=3*"URFDLB".indexOf(d[v][0])+"'2 ".indexOf(d[v][1]);if(0<=Ta&&18>Ta&&(mathlib.CubieCube.EdgeMult(ua,mathlib.CubieCube.moveCube[Ta],Ra),mathlib.CubieCube.CornMult(ua,mathlib.CubieCube.moveCube[Ta],Ra),Ta=ua,ua=Ra,Ra=Ta,ua.isEqual(w))){z=!1;break}}z?(b(!1),w.fromFacelet(mathlib.SOLVED_FACELET),h=scramble_333.genFacelet(f)):h=h.reverse().join(" ");d=
h.match(/^\s*$/)?[]:p.parseScramble(h);5>d.length?n.addMoves(d):n.applyMoves(d);r=!1;w.fromFacelet(f)},setSize:f}}();$(function(){Sa.appendTo("#container")});return{setEnable:function(b){(Ra="g"==b)?(giikerutil.setCallBack(r),(b=giikerutil.init())&&b.then($.noop,function(b){b.code==b.SECURITY_ERR&&kernel.showDialog([$("<div>Press OK To Connect To Giiker Cube</div>"),function(){giikerutil.init().then($.noop,console.log)},0,0],"share","Giiker Connect")})):GiikerCube.stop();ua(Ra&&d("giiVRC"))},onkeydown:function(h){27==
h?(f(),w=-1,b.setAutoShow(!0),cb.val(0,Ta),cb.setRunning(!1,Ta),cb.fixDisplay(!1,!0)):32==h&&d("giiSK")&&bb!=mathlib.SOLVED_FACELET&&-1==w&&z($.now())},setVRC:ua,setSize:kb.setSize}}(),ib="input phases preScr useMilli smallADP giiVRC".split(" ");$(function(){Ua=$("#container");r("timer","property",function(f,h){"timerSize"==h[0]&&(Ua.css("font-size",h[1]+"em"),bb.setSize(h[1]),hb.setSize(h[1]));"timerSize"!=h[0]&&"phases"!=h[0]||$("#multiphase").css("font-size",d("timerSize")/Math.max(d("phases"),
4)+"em");"input"==h[0]&&(fb.setEnable(h[1]),hb.setEnable(h[1]),lb.setEnable(h[1]));"showAvg"==h[0]&&db.showAvgDiv(h[1]);"giiVRC"==h[0]&&"set"!=h[2]&&hb.setEnable(d("input"));if(-1!=$.inArray(h[0],ib)){var n=d("input");w=-1;bb.setEnable("v"==n||"q"==n);bb.reset();cb.setEnable("i"!=n);cb.reset("v"==n||"q"==n||"g"==n&&d("giiVRC"));ab.reset();kb.setEnable("i"==n);b.setAutoShow(!0)}},/^(?:input|phases|scrType|preScr|timerSize|showAvg|useMilli|smallADP|giiVRC)$/);Sa("vrc","vrcSpeed",1,PROPERTY_VRCSPEED,
[100,[0,50,100,200,500,1E3],"∞ 20 10 5 2 1".split(" ")],1);Sa("vrc","vrcMP",1,PROPERTY_VRCMP,["n","n cfop fp cf4op cf4o2p2 roux".split(" "),PROPERTY_VRCMPS.split("|")],1);Sa("vrc","vrcAH",1,"Useless pieces in huge cube",["01",["00","01","10","11"],["Hide","Border","Color","Show"]],1);Sa("vrc","giiVRC",0,PROPERTY_GIIKERVRC,[!0],1);Sa("vrc","giiSD",1,PROPERTY_GIISOK_DELAY,["s","2345ns".split(""),PROPERTY_GIISOK_DELAYS.split("|")],1);Sa("vrc","giiSK",0,PROPERTY_GIISOK_KEY,[!0],1);Sa("vrc","giiSM",1,
PROPERTY_GIISOK_MOVE,["n",["x4","xi2","n"],PROPERTY_GIISOK_MOVES.split("|")],1);Sa("vrc","giiBS",0,PROPERTY_GIISBEEP,[!0],1);Sa("vrc","giiRST",1,PROPERTY_GIIRST,["p",["a","p","n"],PROPERTY_GIIRSTS.split("|")]);Sa("vrc","giiAED",0,PROPERTY_GIIAED,[!1]);Sa("timer","useMouse",0,PROPERTY_USEMOUSE,[!1],1);Sa("timer","useIns",1,PROPERTY_USEINS,["n",["a","b","n"],PROPERTY_USEINS_STR.split("|")],1);Sa("timer","voiceIns",1,PROPERTY_VOICEINS,["1",["n","1","2"],PROPERTY_VOICEINS_STR.split("|")],1);Sa("timer",
"voiceVol",2,PROPERTY_VOICEVOL,[100,1,100],1);Sa("timer","input",1,PROPERTY_ENTERING,["t","tismvgqb".split(""),PROPERTY_ENTERING_STR.split("|")],1);Sa("timer","intUN",1,PROPERTY_INTUNIT,[20100,[1,100,1E3,10001,10100,11E3,20001,20100,21E3],"X X.XX X.XXX X:XX X:XX.XX X:XX.XXX X:XX:XX X:XX:XX.XX X:XX:XX.XXX".split(" ")],1);Sa("timer","timeU",1,PROPERTY_TIMEU,["c",["u","c","s","i","n"],PROPERTY_TIMEU_STR.split("|")],1);Sa("timer","preTime",1,PROPERTY_PRETIME,[300,[0,300,550,1E3],["0","0.3","0.55","1"]],
1);Sa("timer","phases",2,PROPERTY_PHASES,[1,1,10],3);Sa("kernel","showAvg",0,SHOW_AVG_LABEL,[!0],1);Sa("ui","timerSize",2,PROPERTY_TIMERSIZE,[20,1,100],1);Sa("ui","smallADP",0,PROPERTY_SMALLADP,[!0],1)});var pb;return{onkeydown:function(f){if(!b.isPop()){var h=Ya(f),n=$(document.activeElement);if(n.is("input, textarea, select"))"i"==d("input")&&"inputTimer"==n.prop("id")&&13==h&&kb.parseInput();else switch(n.blur(),d("input")){case "t":ab.onkeydown(h,f);break;case "s":fb.onkeydown(h,f);break;case "b":lb.onkeydown(h,
f);break;case "v":case "q":bb.onkeydown(h,f);break;case "g":hb.onkeydown(h,f)}}},onkeyup:function(f){if(!b.isPop()){var h=Ya(f),n=$(document.activeElement);if(n.is("input, textarea, select"))"i"==d("input")&&"inputTimer"==n.prop("id")&&13==h&&kb.clear();else switch(n.blur(),d("input")){case "t":ab.onkeyup(h,f);break;case "s":fb.onkeyup(h,f);break;case "b":lb.onkeyup(h,f)}}},showAvgDiv:db.showAvgDiv,refocus:function(){void 0!=pb?pb.focus():document.activeElement&&document.activeElement.blur&&document.activeElement.blur()},
getCurTime:function(b){return 0<w?(b||$.now())-Xa:0}}},[kernel.regListener,kernel.regProp,kernel.getProp,kernel.pretty,kernel.ui,kernel.pushSignal]);var scrMgr=function(r,Sa){function d(b,d,h){b=b||[[""]];d=d||[""];h=h||0;for(var p=0,v=-1,ua=[],Wa,Ta,Ra=0;Ra<h;Ra++){do Wa=r(b.length),Ta=r(b[Wa].length),Wa!=v&&(p=0,v=Wa);while(0!=(p>>Ta&1));p|=1<<Ta;b[Wa][Ta].constructor==Array?ua.push(Sa(b[Wa][Ta])+Sa(d)):ua.push(b[Wa][Ta]+Sa(d))}return ua.join(" ")}function ua(d,r,Ua){DEBUG&&console.log("[regscr]",d);if($.isArray(d))for(Ua=0;Ua<d.length;Ua++)b[d[Ua]]=r;else b[d]=r,void 0!=Ua&&(p[d]=Ua[0],h[d]=Ua[1]);return ua}var b={blank:function(){return"N/A"}},
p={},h={};return{reg:ua,scramblers:b,filters:p,probs:h,mega:d,formatScramble:function(h){return h.replace(/[$#]\{([^\}]+)\}/g,function(h,p){if("$"==h[0]){var r=[p];"["==p[0]&&(r=JSON.parse(p));return b[r[0]].apply(this,r)}return"#"==h[0]?d.apply(this,JSON.parse("["+p+"]")):""})},rndState:function(b,d){if(void 0!=d){var h=d.slice();void 0==b&&(b=h);for(var p=0;p<b.length;p++)b[p]||(h[p]=0);return mathlib.rndProb(h)}},fixCase:function(b,d){return void 0==b?mathlib.rndProb(d):b}}}(mathlib.rn,mathlib.rndEl),
scramble=execMain(function(r,Sa){function d(){kernel.blur();hb.html("Scrambling...");zb=!nb||/^(remote|input$)/.exec(nb)?zb:nb;Bb||(sb=nb,$a=jb,Ab=qb);Bb=!1;$a&&xb.addClass("click").unbind("click").click(ua);nb=db.getSelected();qb=~~bb.val();sb!=nb&&kernel.setProp("scrType",nb);jb="";requestAnimFrame(v)}function ua(){Bb=!0;hb.html(h(sb,$a,Ab,!0));xb.removeClass("click").unbind("click");void 0!=$a&&kernel.pushSignal("scrambleX",h(sb,$a,Ab))}function b(){Bb?(Bb=!1,hb.html(h(nb,jb,qb,!0)),xb.addClass("click").unbind("click").click(ua),
kernel.pushSignal("scrambleX",h(nb,jb,qb))):d()}function p(){if(jb){var f=kernel.getProp("scrClk","n");"c"==f?$.clipboardCopy(hb.text())&&logohint.push("scramble copied"):"+"==f&&b()}}function h(b,f,d,h){f=f||"";d=d||0;var n=/^\$T([a-zA-Z0-9]+)(-[0-9]+)?\$\s*(.*)$/.exec(f);n&&(b=n[1],f=n[3],d=~~n[2]);return h?(b=kernel.getProp("scrASize")?Math.max(.25,Math.round(20*Math.pow(50/Math.max(f.length,10),.3))/20):1,hb.css("font-size",b+"em"),DEBUG&&console.log("[scrFontSize]",b),f.replace(/~/g,"&nbsp;").replace(/\\n/g,
"\n").replace(/`([^']*)`/g,kernel.getProp("scrKeyM",!1)?"<u>$1</u>":"$1")):[b,f.replace(/~/g,"").replace(/\\n/g,"\n").replace(/`([^']*)`/g,"$1"),d]}function v(){w();jb?(jb=jb.replace(/(\s*)$/,""),hb.html(h(nb,jb,qb,!0)),kernel.pushSignal("scramble",h(nb,jb,qb))):hb.html("Scrambling... ")}function Ya(b,f,d){rb&&(csTimerWorker&&csTimerWorker.getScramble?wb=wb||csTimerWorker.getScramble(b,function(b,f){DEBUG&&console.log("[scrcache]",b+" cached by csTimerWorker");Ua(b,f)}.bind(void 0,f)):d||(wb=wb||
setTimeout(function(b,f){var d=Va[f[0]];Ua(b,d.apply(d,f))}.bind(void 0,f,b),500)))}function Ua(b,f){var d=JSON.parse(localStorage.cachedScr||null)||{};$.isArray(d)&&(d={});d[b]=f;localStorage.cachedScr=JSON.stringify(d);wb=0}function w(){if(nb){jb="";var b=pb[nb]||nb;if("input"==b)jb=tb.next();else if(tb.clear(),b in Va){var f=JSON.parse(localStorage.cachedScr||null)||{},d=JSON.stringify([b,qb,ob[1]]);rb&&d in f?(jb=f[d],delete f[d],localStorage.cachedScr=JSON.stringify(f)):jb=Va[b](b,qb,Cb(ob[1],
z[b]));Ya([b,qb,Cb(ob[1],z[b])],d)}else requestAnimFrame(v)}}function Qa(){kernel.blur();var b=db.getSelIdx();b=scrdata[b[0]][1][b[1]][2];bb.val(Math.abs(b));bb[0].disabled=0>=b;b=db.getSelected();ob=JSON.parse(kernel.getProp("scrFlt",JSON.stringify([b,f[b]])));ab[0].disabled=bb[0].disabled&&!(b in f);ob[0]!=b&&(ob=[b,f[b]&&mathlib.valuedArray(f[b].length,1)],kernel.setProp("scrFlt",JSON.stringify(ob),"session"))}function Xa(){Qa();d()}function Wa(){function b(){if(nb in f){for(var b=mathlib.valuedArray(f[nb].length,
1),n=!1,r=0;r<h.length;r++)h[r][0].checked?n=!0:b[r]=0;n?(ob=[nb,b],b=JSON.stringify(ob),kernel.getProp("scrFlt")!=b&&(p=!0,kernel.setProp("scrFlt",b))):alert("Should Select At Least One Case");p&&d()}}fb.empty();var h=[],n=[],p=!1;if(nb in f){var r=f[nb],z=r;ob[0]==nb&&(z=ob[1]||r);fb.append("<br>",lb,gb,"<br><br>");for(var w={},v=0;v<r.length;v++){var ua=r[v].indexOf("-");-1==ua?w[r[v]]=[v]:(ua=r[v].slice(0,ua),w[ua]=w[ua]||[],w[ua].push(v))}for(v=0;v<r.length;v++)ua=$('<input type="checkbox">').val(v),
z[v]&&(ua[0].checked=!0),h.push(ua),n.push($("<label>").append(ua,r[v]));var Ra=function(b){var f=0;$.each(w[b],function(b,d){f+=h[d][0].checked?1:0});return f+"/"+w[b].length},Ta;for(Ta in w)1==w[Ta].length&&fb.append(n[w[Ta][0]]);for(Ta in w)1!=w[Ta].length&&fb.append($("<div>").attr("data",Ta).append($("<span>").html(Ta+" "+Ra(Ta))," | ",$('<span class="click">').html("All").click(function(){var b=$(this).parent().attr("data");$.each(w[b],function(b,f){h[f][0].checked=!0});$(this).parent().children().first().html(b+
" "+Ra(b))})," | ",$('<span class="click">').html("None").click(function(){var b=$(this).parent().attr("data");$.each(w[b],function(b,f){h[f][0].checked=!1});$(this).parent().children().first().html(b+" "+Ra(b))})," | ",$('<span class="click">[+]</span>').click(function(){$(this).next().toggle()}),$("<div>").append($.map(w[Ta],function(b){h[b].change(function(){var b=$(this).parent().parent().parent().attr("data");$(this).parent().parent().parent().children().first().html(b+" "+Ra(b))});return n[b]})).hide()));
lb.unbind("click").click(function(){for(var b=0;b<h.length;b++)h[b][0].checked||(h[b][0].checked=!0),h[b].change()});gb.unbind("click").click(function(){for(var b=0;b<h.length;b++)h[b][0].checked&&(h[b][0].checked=!1),h[b].change()})}kernel.showDialog([kb,b,null,b],"scropt","Scramble Options")}function Ta(f,p){"time"==f?Lb?d():(hb.empty(),kernel.pushSignal("scramble",["-","",0])):"property"==f?"scrSize"==p[0]?ib.css("font-size",p[1]/7+"em"):"scrMono"==p[0]?Za.css("font-family",p[1]?"SimHei, Monospace":
"Arial"):"scrType"==p[0]?p[1]!=db.getSelected()&&(db.loadVal(p[1]),Xa()):"scrLim"==p[0]?p[1]?ib.addClass("limit"):ib.removeClass("limit"):"scrAlign"==p[0]?"c"==p[1]?Za.css("text-align","center"):"l"==p[1]?Za.css("text-align","left"):"r"==p[1]&&Za.css("text-align","right"):"scrFast"==p[0]?(pb["444wca"]=p[1]?"444m":"444wca","444wca"==nb&&d()):"scrKeyM"==p[0]?hb.html(Bb?h(sb,$a||"",Ab||0,!0):h(nb,jb||"",qb,!0)):"scrHide"==p[0]&&(p[1]?n.hide():n.show()):"button"==f&&"scramble"==p[0]?(Lb=p[1])&&""==hb.html()&&
d():"ctrl"==f&&"scramble"==p[0]&&("last"==p[1]?ua():"next"==p[1]&&b())}function Ra(b,f){for(var d=0;d<scrdata.length;d++)for(var h=0;h<scrdata[d][1].length;h++)if(scrdata[d][1][h][1]==b){f(d,h);return}}var Va=scrMgr.scramblers,f=scrMgr.filters,z=scrMgr.probs,Za=$('<div id="scrambleDiv"/>'),n=$("<div />").addClass("title"),cb=[$("<select />"),$("<select />")],db=new kernel.TwoLvMenu(scrdata,Xa,cb[0],cb[1],"333"),ab=$('<input type="button" class="icon">').val(""),kb=$("<div>"),fb=$('<div class="sflt">'),
lb=$('<input type="button">').val("Select All"),gb=$('<input type="button">').val("Select None"),bb=$('<input type="text" maxlength="3">'),hb=$("<div>"),ib=$('<div id="scrambleTxt"/>'),pb={"333oh":"333","333ft":"333"},ob="",mb=$("<textarea />"),nb,jb,qb=0,sb,$a,Ab=0,zb="333",Bb=!1,xb=$("<span />").html(SCRAMBLE_LAST),ub=$("<span />").addClass("click").html(SCRAMBLE_NEXT).click(b),rb=!0,wb=0;$(function(){if(csTimerWorker&&csTimerWorker.getScramble){var b=['["444wca",40,null]'],f=JSON.parse(localStorage.cachedScr||
null)||{};$.isArray(f)&&(f={});for(var d=0;d<b.length;d++)b[d]in f||setTimeout(Ya.bind(void 0,JSON.parse(b[d]),b[d],!0),2500+~~(5E3*Math.random()))}});(function(){function b(){kernel.setProp("scrType",zb)}function f(b){if(!$.isArray(b))return!1;d=b;return 0!=d.length}var d=[];return{next:function(h){for(var n=null;!n&&0!=d.length;)n=d.shift();if(n)return n;"remoteComp"==h?(onlinecomp||b(),n=onlinecomp.getScrambles(),f(n)?requestAnimFrame(v):b()):"remoteURL"==h&&$.getJSON("https://cstimer.net/testRemoteScramble.php",
function(d){f(d)?requestAnimFrame(v):b()}).error(b);return""},clear:function(){d=[]}}})();var tb=function(){function b(){var b=mb.val();if(b.match(/^\s*$/))b=!1;else{d=[];b=b.split("\n");for(var f=0;f<b.length;f++){var h=b[f];null==h.match(/^\s*$/)&&d.push(h.replace(/^\d+[\.\),]\s*/,""))}b=0!=d.length}b?v():kernel.setProp("scrType",zb)}function f(){kernel.setProp("scrType",zb)}var d=[];return{next:function(){for(var h=null;!h&&0!=d.length;)h=d.shift();if(h)return h;mb.val("");kernel.showDialog([mb,
b,f],"input",SCRAMBLE_INPUT);return""},clear:function(){d=[]}}}(),Lb=!1,Ib=function(){function b(){for(var b=~~h.val(),f="",d=jb,r=p.val(),z=0;z<b;z++)w(),f+=r.replace("1",z+1)+jb+"\n";jb=d;n.text(f);n.select()}var f=$("<div />").css("text-align","center").css("font-size","0.7em"),d=$("<span />").addClass("click").html(SCRGEN_GEN),h=$('<input type="text" maxlength="3">').val(5),n=$('<textarea rows="10" style="width: 100%" readonly />'),p=$('<select><option value="1. ">1. </option><option value="1) ">1) </option><option value="(1) ">(1) </option><option value=""></option></select>');
f.append(SCRGEN_NSCR,h,"&nbsp;",SCRGEN_PRE).append(p,"<br>",d,"<br>",n);return function(h){h&&(h.empty().append(f.width(Za.width()/2)),p.unbind("change").change(kernel.blur),d.unbind("click").click(b))}}(),Cb=scrMgr.rndState;$(function(){kernel.regListener("scramble","time",Ta);kernel.regListener("scramble","property",Ta,/^scr(?:Size|Mono|Type|Lim|Align|Fast|KeyM|Hide)$/);kernel.regListener("scramble","button",Ta,/^scramble$/);kernel.regListener("scramble","ctrl",Ta,/^scramble$/);kernel.regProp("scramble",
"scrSize",2,PROPERTY_SCRSIZE,[15,5,50],1);kernel.regProp("scramble","scrASize",0,PROPERTY_SCRASIZE,[!0],1);kernel.regProp("scramble","scrMono",0,PROPERTY_SCRMONO,[!0],1);kernel.regProp("scramble","scrLim",0,PROPERTY_SCRLIM,[!1],1);kernel.regProp("scramble","scrAlign",1,PROPERTY_SCRALIGN,["c",["c","l","r"],PROPERTY_SCRALIGN_STR.split("|")],1);kernel.regProp("scramble","preScr",1,"pre-scramble",[""," z2 z' z x' x".split(" ")," z2 z' z x' x".split(" ")],1);kernel.regProp("scramble","scrFast",0,PROPERTY_SCRFAST,
[!1]);kernel.regProp("scramble","scrKeyM",0,PROPERTY_SCRKEYM,[!1],1);kernel.regProp("scramble","scrClk",1,PROPERTY_SCRCLK,["n",["n","c","+"],PROPERTY_SCRCLK_STR.split("|")],1);kernel.regProp("scramble","scrType",-6,"Scramble Type",["333"],3);bb.change(d);ab.click(Wa);kb.append($("<div>").append(SCRAMBLE_LENGTH+": ",bb),fb);n.append($("<nobr>").append(cb[0]," ",cb[1]," ",ab)," <wbr>");n.append($("<nobr>").append(xb,"/",ub,SCRAMBLE_SCRAMBLE));Za.append(n,ib.append(hb).click(p));tools.regTool("scrgen",
TOOLS_SCRGEN,Ib);ib.click(function(){n.show();kernel.blur();kernel.setProp("scrHide",!1)});kernel.regProp("ui","scrHide",-1,"Hide Scramble Selector",[!1]);kernel.addWindow("scramble",BUTTON_SCRAMBLE,Za,!0,!0,3);Qa()});return{getTypeName:function(b){var f="";Ra(b,function(b,d){f=scrdata[b][0]+">"+scrdata[b][1][d][0]});return f},getTypeIdx:function(b){var f=1E300;Ra(b,function(b,d){f=100*b+d});return f},scrStd:h,setCacheEnable:function(b){rb=b}}},[mathlib.rn,mathlib.rndEl]);(function(r,Sa,d){function ua(b,d){var h=Ya[b];switch(h.length){case 1:return r(h[0],[""],d);case 2:return r(h[0],h[1],d);case 3:return r(h[0],h[1],h[2])}}function b(b,p){var r=w[b],v=r[1],ua=r[2],f=0,z=0,Za=[],n=[["R","R'"],["R'","R"],["L","L'"],["L'","L"],["F'","F"],["F","F'"],["B","B'"],["B'","B"]],Wa=["U","D"];r=r[0];for(var Qa=0;Qa<ua.length;Qa++)Za[Qa]=0;for(Qa=0;Qa<p;Qa++){for(var Ua=!1;!Ua;)for(var Ya="",Xa=0;Xa<ua.length;Xa++){var lb=Sa(4);Za[Xa]+=lb;0!=lb&&(Ua=!0,Ya+=" "+ua[Xa]+h[lb-1])}Ua=
Sa(8);Xa=Sa(2);lb=Sa(3);r+=Ya+" "+n[Ua][0]+" "+Wa[Xa]+h[lb]+" "+n[Ua][1];0==Xa&&(f+=lb+1);1==Xa&&(z+=lb+1)}for(Qa=0;Qa<ua.length;Qa++)lb=4-Za[Qa]%4,4>lb&&(r+=" "+ua[Qa]+h[lb-1]);f=4-f%4;z=4-z%4;4>f&&(r+=" U"+h[f-1]);4>z&&(r+=" D"+h[z-1]);return r+=" "+d(v)}function p(b,d){var h=Ua[b].replace(/%l/g,d).replace(/%c/g,'["","2","\'"]');return scrMgr.formatScramble(h)}var h=["","2","'"],v=["","2","'","2'"],Ya={111:[[["x"],["y"],["z"]],h],2223:[[["U"],["R"],["F"]],h],2226:[[[["U","D"]],[["R","L"]],[["F",
"B"]]],h],"333o":[[["U","D"],["R","L"],["F","B"]],h],334:[[[["U","U'","U2"],["u","u'","u2"]],[["R2","L2","M2"]],[["F2","B2","S2"]]]],336:[[[["U","U'","U2"],["u","u'","u2"],["3u","3u2","3u'"]],[["R2","L2","M2"]],[["F2","B2","S2"]]]],888:[["U D u d 3u 3d 4u".split(" "),"R L r l 3r 3l 4r".split(" "),"F B f b 3f 3b 4f".split(" ")],h],999:[["U D u d 3u 3d 4u 4d".split(" "),"R L r l 3r 3l 4r 4l".split(" "),"F B f b 3f 3b 4f 4b".split(" ")],h],101010:[["U D u d 3u 3d 4u 4d 5u".split(" "),"R L r l 3r 3l 4r 4l 5r".split(" "),
"F B f b 3f 3b 4f 4b 5f".split(" ")],h],111111:[["U D u d 3u 3d 4u 4d 5u 5d".split(" "),"R L r l 3r 3l 4r 4l 5r 5l".split(" "),"F B f b 3f 3b 4f 4b 5f 5b".split(" ")],h],444:[[["U","D","u"],["R","L","r"],["F","B","f"]],h],"444m":[[["U","D","Uw"],["R","L","Rw"],["F","B","Fw"]],h],555:[[["U","D","u","d"],["R","L","r","l"],["F","B","f","b"]],h],"555wca":[[["U","D","Uw","Dw"],["R","L","Rw","Lw"],["F","B","Fw","Bw"]],h],"666p":[[["U","D","2U","2D","3U"],["R","L","2R","2L","3R"],["F","B","2F","2B","3F"]],
h],"666wca":[[["U","D","Uw","Dw","3Uw"],["R","L","Rw","Lw","3Rw"],["F","B","Fw","Bw","3Fw"]],h],"666s":[[["U","D","U&sup2;","D&sup2;","U&sup3;"],["R","L","R&sup2;","L&sup2;","R&sup3;"],["F","B","F&sup2;","B&sup2;","F&sup3;"]],h],"666si":[[["U","D","u","d","3u"],["R","L","r","l","3r"],["F","B","f","b","3f"]],h],"777p":[["U D 2U 2D 3U 3D".split(" "),"R L 2R 2L 3R 3L".split(" "),"F B 2F 2B 3F 3B".split(" ")],h],"777wca":[["U D Uw Dw 3Uw 3Dw".split(" "),"R L Rw Lw 3Rw 3Lw".split(" "),"F B Fw Bw 3Fw 3Bw".split(" ")],
h],"777s":[["U D U&sup2; D&sup2; U&sup3; D&sup3;".split(" "),"R L R&sup2; L&sup2; R&sup3; L&sup3;".split(" "),"F B F&sup2; B&sup2; F&sup3; B&sup3;".split(" ")],h],"777si":[["U D u d 3u 3d".split(" "),"R L r l 3r 3l".split(" "),"F B f b 3f 3b".split(" ")],h],cm3:[[[["U<","U>","U2"],["E<","E>","E2"],["D<","D>","D2"]],[["R^","Rv","R2"],["M^","Mv","M2"],["L^","Lv","L2"]]]],cm2:[[[["U<","U>","U2"],["D<","D>","D2"]],[["R^","Rv","R2"],["L^","Lv","L2"]]]],233:[[[["U","U'","U2"]],["R2","L2"],["F2","B2"]]],
fto:[[["U","D"],["F","B"],["L","BR"],["R","BL"]],["","'"]],gear:[[["U"],["R"],["F"]]," 2 3 4 5 6 ' 2' 3' 4' 5'".split(" ")],sfl:[[["R","L"],["U","D"]],h],ufo:[[["A"],["B"],["C"],[["U","U'","U2'","U2","U3"]]]],"2gen":[[["U"],["R"]],h],"2genl":[[["U"],["L"]],h],roux:[[["U"],["M"]],h],"3gen_F":[[["U"],["R"],["F"]],h],"3gen_L":[[["U"],["R","L"]],h],RrU:[[["U"],["R","r"]],h],RrUu:[[["U","u"],["R","r"]],h],minx2g:[[["U"],["R"]],v],mlsll:[[[["R U R'","R U2 R'","R U' R'","R U2' R'"]],[["F' U F","F' U2 F",
"F' U' F","F' U2' F"]],[["U","U2","U'","U2'"]]]],half:[[["U","D"],["R","L"],["F","B"]],["2"]],lsll:[[[["R U R'","R U2 R'","R U' R'"]],[["F' U F","F' U2 F","F' U' F"]],[["U","U2","U'"]]]],prco:[[["F","B"],["U","D"],["L","DBR"],["R","DBL"],["BL","DR"],["BR","DL"]],v],skb:[[["R"],["L"],["B"],["U"]],["","'"]],ivy:[[["R"],["L"],["D"],["B"]],["","'"]],112:[[["R"],["R"]],h],eide:[[["OMG"],["WOW"],["WTF"],["WOO-HOO WOO-HOO MATYAS YES YES YAY YEEEEEEEEEEEES".split(" ")],["HAHA"],["XD"],[":D"],["LOL"]],["",
"","","!!!"]]},Ua={sia113:'#{[["U","u"],["R","r"]],%c,%l} z2 #{[["U","u"],["R","r"]],%c,%l}',sia123:'#{[["U"],["R","r"]],%c,%l} z2 #{[["U"],["R","r"]],%c,%l}',sia222:'#{[["U"],["R"],["F"]],%c,%l} z2 y #{[["U"],["R"],["F"]],%c,%l}',335:'#{[[["U","U\'","U2"],["D","D\'","D2"]],["R2","L2"],["F2","B2"]],0,%l} / ${333}',337:'#{[[["U","U\'","U2","u","u\'","u2","U u","U u\'","U u2","U\' u","U\' u\'","U\' u2","U2 u","U2 u\'","U2 u2"],["D","D\'","D2","d","d\'","d2","D d","D d\'","D d2","D\' d","D\' d\'","D\' d2","D2 d","D2 d\'","D2 d2"]],["R2","L2"],["F2","B2"]],0,%l} / ${333}',
r234:"2) ${222so}\\n3) ${333}\\n4) ${[444,40]}",r2345:'${r234}\\n5) ${["555",60]}',r23456:'${r2345}\\n6) ${["666p",80]}',r234567:'${r23456}\\n7) ${["777p",100]}',r234w:'2) ${222so}\\n3) ${333}\\n4) ${["444m",40]}',r2345w:'${r234w}\\n5) ${["555wca",60]}',r23456w:'${r2345w}\\n6) ${["666wca",80]}',r234567w:'${r23456w}\\n7) ${["777wca",100]}',"333ni":'${333}#{[[""]],["","Rw ","Rw2 ","Rw\' ","Fw ","Fw\' "],1}#{[[""]],["","Uw","Uw2","Uw\'"],1}',"444bld":'${444wca}#{[[""]],[""," x"," x2"," x\'"," z"," z\'"],1}#{[[""]],[""," y"," y2"," y\'"],1}',
"555bld":'${["555wca",%l]}#{[[""]],[""," 3Rw"," 3Rw2"," 3Rw\'"," 3Fw"," 3Fw\'"],1}#{[[""]],[""," 3Uw"," 3Uw2"," 3Uw\'"],1}'},w={"4edge":["r b2",["b2 r'","b2 U2 r U2 r U2 r U2 r"],["u"]],"5edge":["r R b B",["B' b' R' r'","B' b' R' U2 r U2 r U2 r U2 r"],["u","d"]],"6edge":["3r r 3b b",["3b' b' 3r' r'","3b' b' 3r' U2 r U2 r U2 r U2 r","3b' b' r' U2 3r U2 3r U2 3r U2 3r","3b' b' r2 U2 3r U2 3r U2 3r U2 3r U2 r"],["u","3u","d"]],"7edge":["3r r 3b b",["3b' b' 3r' r'","3b' b' 3r' U2 r U2 r U2 r U2 r","3b' b' r' U2 3r U2 3r U2 3r U2 3r",
"3b' b' r2 U2 3r U2 3r U2 3r U2 3r U2 r"],["u","3u","3d","d"]]},Qa;for(Qa in Ya)scrMgr.reg(Qa,ua);for(Qa in Ua)scrMgr.reg(Qa,p);for(Qa in w)scrMgr.reg(Qa,b);scrMgr.reg("cubennn",function(b,d){if(1>=d)return"N/A";for(var p=[[],[],[]],w=0;w<d-1;w++)0==w%2?(p[0].push((4>w?"":~~(w/2+1))+(2>w?"U":"u")),p[1].push((4>w?"":~~(w/2+1))+(2>w?"R":"r")),p[2].push((4>w?"":~~(w/2+1))+(2>w?"F":"f"))):(p[0].push((4>w?"":~~(w/2+1))+(2>w?"D":"d")),p[1].push((4>w?"":~~(w/2+1))+(2>w?"L":"l")),p[2].push((4>w?"":~~(w/2+
1))+(2>w?"B":"b")));return r(p,h,10*d)})})(scrMgr.mega,mathlib.rn,mathlib.rndEl);var scramble_333=function(r,Sa,d,ua,b,p){function h(b){b.cp=[0,1,2,3,4,5,6,7];b.co=[0,0,0,0,0,0,0,0];b.ep=[0,1,2,3,4,5,6,7,8,9,10,11];b.eo=[0,0,0,0,0,0,0,0,0,0,0,0]}function v(b,f,d){var h;for(h=0;8>h;++h){d.cp[h]=b.cp[f.cp[h]];var n=b.co[f.cp[h]];var p=f.co[h];var r=n;r+=3>n?p:6-p;r%=3;3<=n!==3<=p&&(r+=3);d.co[h]=r}}function Ya(){h(this)}function Ua(b,f,n,p){h(this);d(this.cp,b);b=f;var r=0;for(f=6;0<=f;--f)r+=this.co[f]=b%3,b=~~(b/3);this.co[7]=(15-r)%3;Sa(this.ep,n,12);n=p;b=0;for(p=10;0<=p;--p)b^=
this.eo[p]=n&1,n>>=1;this.eo[11]=b}function w(b,f,d){var h;for(h=0;12>h;++h)d.ep[h]=b.ep[f.ep[h]],d.eo[h]=f.eo[h]^b.eo[f.ep[h]]}function Qa(){Qa=$.noop;var b,f;hb[0]=new Ua(15120,0,119750400,0);hb[3]=new Ua(21021,1494,323403417,0);hb[6]=new Ua(8064,1236,29441808,550);hb[9]=new Ua(9,0,5880,0);hb[12]=new Ua(1230,412,2949660,0);hb[15]=new Ua(224,137,328552,137);for(b=0;18>b;b+=3)for(f=0;2>f;++f)hb[b+f+1]=new Ya,w(hb[b+f],hb[b],hb[b+f+1]),v(hb[b+f],hb[b],hb[b+f+1])}function Xa(){return f(0xffffffffffff,
0xffffffffffff,4294967295,4294967295)}function Wa(b){for(var f=0,d=0;d<b.length;d++)-1==b[d]&&f++;return f}function Ta(f,d,h){for(var n=0,p=0,r=0;r<f.length;r++)-1!=f[r]&&(n+=f[r]);n%=h;for(r=0;r<f.length-1;r++)-1==f[r]&&(1==d--?f[r]=((h<<4)-n)%h:(f[r]=b(h),n+=f[r])),p*=h,p+=f[r];return p}function Ra(f,d,h){for(var n=[0,1,2,3,4,5,6,7,8,9,10,11],p=0;p<f.length;p++)-1!=f[p]&&(n[f[p]]=-1);for(var z=p=0;p<n.length;p++)-1!=n[p]&&(n[z++]=n[p]);var w;for(p=0;p<f.length&&0<d;p++)if(-1==f[p]){z=b(d);for(f[p]=
n[z];11>z;z++)n[z]=n[z+1];2==d--&&(w=p)}ua(r(f,f.length),f.length)==1-h&&(d=f[p-1],f[p-1]=f[w],f[w]=d);return r(f,f.length)}function Va(b,f){if("number"!==typeof b)return b;for(var d=[],h=0;h<f;h++){var n=b&15;d[h]=15==n?-1:n;b/=16}return d}function f(b,f,d,h,n,z){Qa();n=n||qb;z=z||qb;b=Va(b,12);f=Va(f,12);d=Va(d,8);h=Va(h,8);var Za="";do{var $a=f.slice(),ab=b.slice(),Sa=h.slice(),cb=d.slice();$a=Ta($a,Wa($a),2);Sa=Ta(Sa,Wa(Sa),3);var bb=Wa(ab),Xa=Wa(cb);0==bb&&0==Xa?(ab=r(ab,12),cb=r(cb,8)):0!=bb&&
0==Xa?(cb=r(cb,8),ab=Ra(ab,bb,ua(cb,8))):(ab=0==bb&&0!=Xa?r(ab,12):Ra(ab,bb,-1),cb=Ra(cb,Xa,ua(ab,12)));if(0!=cb+Sa+ab+$a){Za=new Ua(cb,Sa,ab,$a);ab=new Ya;cb=p(z);$a=p(n);for(Sa=0;Sa<cb.length;Sa++)v(hb[cb[Sa]],Za,ab),w(hb[cb[Sa]],Za,ab),bb=ab,ab=Za,Za=bb;for(Sa=0;Sa<$a.length;Sa++)v(Za,hb[$a[Sa]],ab),w(Za,hb[$a[Sa]],ab),bb=ab,ab=Za,Za=bb;cb=Za;ab=[];Za=[85,82,70,68,76,66];for($a=0;54>$a;++$a)ab[$a]=Za[~~($a/9)];for(Xa=0;8>Xa;++Xa)for(bb=cb.cp[Xa],$a=cb.co[Xa],Sa=0;3>Sa;++Sa)ab[ib[Xa][(Sa+$a)%3]]=
Za[~~(ib[bb][Sa]/9)];for(Xa=0;12>Xa;++Xa)for(bb=cb.ep[Xa],$a=cb.eo[Xa],Sa=0;2>Sa;++Sa)ab[pb[Xa][(Sa+$a)%2]]=Za[~~(pb[bb][Sa]/9)];Za=String.fromCharCode.apply(null,ab);Za=(new min2phase.Search).solution(Za,21,1E9,50,2)}}while(3>=Za.length);return Za.replace(/ +/g," ")}function z(){return f(0xffffffffffff,0xffffffffffff,1985229328,0)}function Za(){return f(0xba9876543210,0,4294967295,4294967295)}function n(){return f(0xba987654ffff,65535,1985282047,65535)}function cb(b,d,h){b=sb[scrMgr.fixCase(h,$a)];
d=Math.pow(16,b&15);h=Math.pow(16,b>>8&15);return f(0xba9f7654ffff-7*d,64424574975-(15^b>>4&1)*d,1986002943-11*h,1048575-(15^b>>12&3)*h)}function db(){return f(0xffff7654ffff,0xffff0000ffff,4294967295,4294967295)}function ab(b,d,h){b=Ab[scrMgr.fixCase(h,zb)];return f(0xba987654ffff,0,b[0]+1985216512,b[1],mb,mb)}function kb(){return f(0xba9876543f1f,0,1985282047,65535,mb)}function fb(){var d=b(4);return f(0xba98f6f4ffff,4042326015,1985229328,0,[nb[d]],mb)+jb[d]}function lb(d,h,n){d=b(4);h=[];for(var p=
0;p<mb.length;p++)h.push(mb[p].concat(nb[d]));return f(0xba98f6f4ffff,4042326015,1985282047,Bb[scrMgr.fixCase(n,xb)],h,mb)+jb[d]}function gb(){return f(0xba9876543210,0,1985282047,65535)}function bb(){return f(0xba987654ffff,65535,1985229328,0)}Ua.prototype=Ya.prototype;var hb=[],ib=[[8,9,20],[6,18,38],[0,36,47],[2,45,11],[29,26,15],[27,44,24],[33,53,42],[35,17,51]],pb=[[5,10],[7,19],[3,37],[1,46],[32,16],[28,25],[30,43],[34,52],[23,12],[21,41],[50,39],[48,14]],ob=new min2phase.Search,mb=[[],[0],
[1],[2]],nb=[[],[3,14],[4,13],[5,12]],jb=["","x'","x2","x"],qb=[[]],sb=[8192,4113,8210,4099,8195,4114,8194,4115,8211,4098,8208,4097,8209,4096,8193,4112,0,17,3,18,2,19,1,16,1024,1041,5120,9233,5137,9216,24,8,8200,4104,8216,4120,1048,5128,9224,5144,9240,1032],$a=[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1],Ab=[[12816,8481],[12306,8481],[12576,8481],[12801,8481],[12306,4128],[12321,4128],[12801,4128],[12546,4128],[12816,4128],[12576,4128],[12546,4386],[12576,
4386],[12306,4386],[12321,4386],[12816,4386],[12801,4386],[12576,8736],[12546,8736],[12816,8736],[12801,8736],[12321,8736],[12306,8736],[12816,8448],[12306,8448],[12801,8448],[12576,8448],[12546,8448],[12321,8448],[12321,4608],[12801,4608],[12306,4608],[12576,4608],[12546,4608],[12816,4608],[12546,4353],[12576,4353],[12306,4353],[12321,4353],[12816,4353],[12801,4353],[65535,0]],zb=[1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3],Bb=[0,4626,258,4386,546,33,18,273],
xb=[6,12,24,24,24,24,24,24],ub=[[4146,12816],[12546,12816],[12321,12816],[8961,12816],[12816,12321],[12816,12546],[12816,8961],[12306,12801],[8496,12321],[4896,12546],[12321,12546],[12546,12321],[12801,12801],[12576,12801],[4656,12306],[12306,12306],[531,12801],[8976,12801],[4656,12801],[12576,12306],[12801,12306]],rb=[1,4,4,2,4,4,2,4,4,4,4,4,4,4,1,1,4,4,4,4,4],wb=[[0,0],[4369,4626],[4369,4386],[4369,546],[4369,273],[17,8226],[17,4113],[17,8706],[17,273],[17,4368],[17,8736],[17,546],[17,4353],[257,
8226],[257,273],[257,546],[257,4113],[4369,258],[4369,18],[4369,33],[4369,0],[0,4626],[0,4386],[0,18],[0,33],[0,258],[0,273],[0,546],[17,0],[17,528],[17,8448],[17,33],[17,4098],[257,33],[257,528],[17,4128],[17,258],[17,8208],[17,513],[257,4128],[257,258],[17,4608],[17,288],[17,18],[17,8193],[257,18],[257,288],[17,4641],[17,4386],[17,8466],[17,8721],[257,4641],[257,4386],[17,8481],[17,4626],[257,8481],[257,4626],[257,0]],tb=[1,2,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,2,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,2,2,2];scrMgr.reg("333",Xa)("333fm",function(){do{var b=Xa();var f=b.split(" ");if(!(3>f.length)){var d=f[0][0];var h=f[1][0];var n=f[f.length-2][0];var p=f[f.length-3][0]}}while("F"==d||"B"==d&&"F"==h||"R"==n||"L"==n&&"R"==p);return"R' U' F "+b+"R' U' F"})("edges",z)("corners",Za)("ll",n)("lsll2",cb,["Easy-01 Easy-02 Easy-03 Easy-04 RE-05 RE-06 RE-07 RE-08 REFC-09 REFC-10 REFC-11 REFC-12 REFC-13 REFC-14 SPGO-15 SPGO-16 SPGO-17 SPGO-18 PMS-19 PMS-20 PMS-21 PMS-22 Weird-23 Weird-24 CPEU-25 CPEU-26 CPEU-27 CPEU-28 CPEU-29 CPEU-30 EPCU-31 EPCU-32 EPCU-33 EPCU-34 EPCU-35 EPCU-36 ECP-37 ECP-38 ECP-39 ECP-40 ECP-41 Solved-42".split(" "),
$a])("f2l",db)("zbll",ab,["H-BBFF H-FBFB H-RFLF H-RLFF L-FBRL L-LBFF L-LFFB L-LFFR L-LRFF L-RFBL Pi-BFFB Pi-FBFB Pi-FRFL Pi-FRLF Pi-LFRF Pi-RFFL S-FBBF S-FBFB S-FLFR S-FLRF S-LFFR S-LFRF T-BBFF T-FBFB T-FFLR T-FLFR T-RFLF T-RLFF U-BBFF U-BFFB U-FFLR U-FRLF U-LFFR U-LRFF aS-FBBF aS-FBFB aS-FRFL aS-FRLF aS-LFRF aS-RFFL PLL".split(" "),zb])("zzll",kb)("zbls",function(){return f(0xba9f7654ffff,0,1986002943,1048575)})("lse",fb)("cmll",lb,["O H L Pi S T U aS".split(" "),xb])("cll",gb)("ell",bb)("pll",function(b,
d,h){b=ub[scrMgr.fixCase(h,rb)];return f(b[0]+0xba9876540000,0,b[1]+1985216512,0,mb,mb)},["H Ua Ub Z Aa Ab E F Ga Gb Gc Gd Ja Jb Na Nb Ra Rb T V Y".split(" "),rb])("oll",function(b,d,h){b=wb[scrMgr.fixCase(h,tb)];return f(0xba987654ffff,b[0],1985282047,b[1],mb,mb)},["PLL Point-1 Point-2 Point-3 Point-4 Square-5 Square-6 SLBS-7 SLBS-8 Fish-9 Fish-10 SLBS-11 SLBS-12 Knight-13 Knight-14 Knight-15 Knight-16 Point-17 Point-18 Point-19 CO-20 OCLL-21 OCLL-22 OCLL-23 OCLL-24 OCLL-25 OCLL-26 OCLL-27 CO-28 Awkward-29 Awkward-30 P-31 P-32 T-33 C-34 Fish-35 W-36 Fish-37 W-38 BLBS-39 BLBS-40 Awkward-41 Awkward-42 P-43 P-44 T-45 C-46 L-47 L-48 L-49 L-50 I-51 I-52 L-53 L-54 I-55 I-56 CO-57".split(" "),
tb])("2gll",function(){return f(0xba987654ffff,0,1985229328,65535,mb)})("easyc",function(b,d){var h=cross.getEasyCross(d);return f(h[0],h[1],4294967295,4294967295)})("eoline",function(){return f(0xffff7f5fffff,0,4294967295,4294967295)});return{getRandomScramble:Xa,getEdgeScramble:z,getCornerScramble:Za,getLLScramble:n,getLSLLScramble:cb,getZBLLScramble:ab,getZZLLScramble:kb,getF2LScramble:db,getLSEScramble:fb,getCMLLScramble:lb,getCLLScramble:gb,getELLScramble:bb,getAnyScramble:f,genFacelet:function(b){return ob.solution(b,
21,1E9,50,2)},solvFacelet:function(b){return ob.solution(b,21,1E9,50,0)}}}(mathlib.getNPerm,mathlib.setNPerm,mathlib.set8Perm,mathlib.getNParity,mathlib.rn,mathlib.rndEl);var scramble_444=function(r,Sa,d){function ua(b,f){var d;var h=Array(b);if(void 0!=f)for(d=0;d<b;d++)h[d]=Array(f);return h}function b(b,f,d){var h=pc[b];h&&!h.___clazz$?yb=h.prototype:(!h&&(h=pc[b]=function(){}),yb=h.prototype=0>f?{}:new pc[f],yb.castableTypeMap$=d);for(var n=3;n<arguments.length;++n)arguments[n].prototype=yb;h.___clazz$&&(yb.___clazz$=h.___clazz$,h.___clazz$=null)}function p(b){for(var f={},d=0,h=b.length;d<h;++d)f[b[d]]=1;return f}function h(){}function v(){}function Ya(b,f){var d=
Array(f);if(3==b)for(var h=0;h<f;++h){var n={};n.l=n.m=n.h=0;d[h]=n}else if(0<b)for(n=[null,0,!1][b],h=0;h<f;++h)d[h]=n;return d}function Ua(b,f,d,h,n){h=Ya(n,h);w(b,f,d,h);return h}function w(b,f,d,h){Qa();var n=Hc,p=Ic;Qa();for(var r=0,z=n.length;r<z;++r)h[n[r]]=p[r];h.___clazz$=b;h.castableTypeMap$=f;h.queryId$=d;return h}function Qa(){Qa=h;Hc=[];Ic=[];var b=new v,f=Hc,d=Ic,n=0,p,r;for(r in b)if(p=b[r])f[n]=r,d[n]=p,++n}function Xa(){Xa=h;zc=ua(15582,36);qc=ua(15582);Ub=ua(15582);jc=ua(48,48);
Wb=ua(48,36);kc=ua(48);Jc=ua(48)}function Wa(b,f){var d;if(null!=f&&f.castableTypeMap$&&f.castableTypeMap$[21]){for(d=0;24>d;++d)if(b.ct[d]!=f.ct[d])return!1;return!0}return!1}function Ta(b){var f;var d=0;var h=8;for(f=23;0<=f;--f)1==b.ct[f]&&(d+=Sa[f][h--]);return d}function Ra(b){var d;if(null!=lc)return lc[Ta(b)];for(d=0;48>d;++d){var h=Ta(b);a:{var n;var p=0;for(n=qc.length-1;p<=n;){var r=p+(~~(n-p)>>1);var z=qc[r];if(z<h)p=r+1;else if(z>h)n=r-1;else{h=r;break a}}h=-p-1}h=0<=h?h:-1;if(-1!=h)return 64*
h+d;f(b,0);1==d%2&&f(b,1);7==d%8&&f(b,2);15==d%16&&f(b,3)}}function Va(b,f){var d=f%3;switch(~~(f/3)){case 0:eb(b.ct,0,1,2,3,d);break;case 1:eb(b.ct,16,17,18,19,d);break;case 2:eb(b.ct,8,9,10,11,d);break;case 3:eb(b.ct,4,5,6,7,d);break;case 4:eb(b.ct,20,21,22,23,d);break;case 5:eb(b.ct,12,13,14,15,d);break;case 6:eb(b.ct,0,1,2,3,d);eb(b.ct,8,20,12,16,d);eb(b.ct,9,21,13,17,d);break;case 7:eb(b.ct,16,17,18,19,d);eb(b.ct,1,15,5,9,d);eb(b.ct,2,12,6,10,d);break;case 8:eb(b.ct,8,9,10,11,d);eb(b.ct,2,19,
4,21,d);eb(b.ct,3,16,5,22,d);break;case 9:eb(b.ct,4,5,6,7,d);eb(b.ct,10,18,14,22,d);eb(b.ct,11,19,15,23,d);break;case 10:eb(b.ct,20,21,22,23,d);eb(b.ct,0,8,4,14,d);eb(b.ct,3,11,7,13,d);break;case 11:eb(b.ct,12,13,14,15,d),eb(b.ct,1,20,7,18,d),eb(b.ct,0,23,6,17,d)}}function f(b,f){switch(f){case 0:Va(b,19);Va(b,28);break;case 1:Va(b,21);Va(b,32);break;case 2:eb(b.ct,0,3,1,2,1);eb(b.ct,8,11,9,10,1);eb(b.ct,4,7,5,6,1);eb(b.ct,12,15,13,14,1);eb(b.ct,16,19,21,22,1);eb(b.ct,17,18,20,23,1);break;case 3:Va(b,
18),Va(b,29),Va(b,24),Va(b,35)}}function z(b,d){var h;for(h=0;h<d;++h)f(b,0),1==h%2&&f(b,1),7==h%8&&f(b,2),15==h%16&&f(b,3)}function Za(b,f){var d;var h=8;for(d=23;0<=d;--d)b.ct[d]=0,f>=Sa[d][h]&&(f-=Sa[d][h--],b.ct[d]=1)}function n(b,f){var d;for(d=0;24>d;++d)b.ct[d]=f.ct[d]}function cb(){var b;this.ct=ua(24);for(b=0;8>b;++b)this.ct[b]=1;for(b=8;24>b;++b)this.ct[b]=0}function db(b,f){var d;this.ct=ua(24);for(d=0;24>d;++d)this.ct[d]=~~(b.ct[d]/2)==f?1:0}function ab(b){var f;this.ct=ua(24);for(f=0;24>
f;++f)this.ct[f]=b[f]}function kb(){kb=h;Ac=ua(70,28);Bc=ua(6435,28);id=ua(70,16);jd=ua(6435,16);Ob=ua(450450);kd=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,1,0,0,0]}function fb(b){var f;var d=0;var h=8;for(f=14;0<=f;--f)b.ct[f]!=b.ct[15]&&(d+=Sa[f][h--]);return d}function lb(b){var f;var d=0;var h=4;for(f=6;0<=f;--f)b.rl[f]!=b.rl[7]&&(d+=Sa[f][h--]);return 2*d+b.parity}function gb(b,f){b.parity^=kd[f];var d=f%3;switch(~~(f/3)){case 0:eb(b.ct,0,1,2,3,d);break;case 1:eb(b.rl,
0,1,2,3,d);break;case 2:eb(b.ct,8,9,10,11,d);break;case 3:eb(b.ct,4,5,6,7,d);break;case 4:eb(b.rl,4,5,6,7,d);break;case 5:eb(b.ct,12,13,14,15,d);break;case 6:eb(b.ct,0,1,2,3,d);eb(b.rl,0,5,4,1,d);eb(b.ct,8,9,12,13,d);break;case 7:eb(b.rl,0,1,2,3,d);eb(b.ct,1,15,5,9,d);eb(b.ct,2,12,6,10,d);break;case 8:eb(b.ct,8,9,10,11,d);eb(b.rl,0,3,6,5,d);eb(b.ct,3,2,5,4,d);break;case 9:eb(b.ct,4,5,6,7,d);eb(b.rl,3,2,7,6,d);eb(b.ct,11,10,15,14,d);break;case 10:eb(b.rl,4,5,6,7,d);eb(b.ct,0,8,4,14,d);eb(b.ct,3,11,
7,13,d);break;case 11:eb(b.ct,12,13,14,15,d),eb(b.rl,1,4,7,2,d),eb(b.ct,1,0,7,6,d)}}function bb(b,f){switch(f){case 0:gb(b,19);gb(b,28);break;case 1:gb(b,21);gb(b,32);break;case 2:eb(b.ct,0,3,1,2,1),eb(b.ct,8,11,9,10,1),eb(b.ct,4,7,5,6,1),eb(b.ct,12,15,13,14,1),eb(b.rl,0,3,5,6,1),eb(b.rl,1,2,4,7,1)}}function hb(b,f,d){var h;for(h=0;16>h;++h)b.ct[h]=~~(f.ct[h]/2);for(h=0;8>h;++h)b.rl[h]=f.ct[h+16];b.parity=d}function ib(b,f){var d;var h=8;b.ct[15]=0;for(d=14;0<=d;--d)f>=Sa[d][h]?(f-=Sa[d][h--],b.ct[d]=
1):b.ct[d]=0}function pb(b,f){var d;b.parity=f&1;f>>>=1;var h=4;b.rl[7]=0;for(d=6;0<=d;--d)f>=Sa[d][h]?(f-=Sa[d][h--],b.rl[d]=1):b.rl[d]=0}function ob(){this.rl=ua(8);this.ct=ua(16)}function mb(){mb=h;rc=ua(29400,20);ld=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1];bc=ua(29400);Kc=[0,9,14,23,27,28,41,42,46,55,60,69];Lc=ua(70)}function nb(b){var f;var d=0;var h=4;for(f=6;0<=f;--f)b.ud[f]!=b.ud[7]&&(d+=Sa[f][h--]);d*=35;h=4;for(f=6;0<=f;--f)b.fb[f]!=b.fb[7]&&(d+=Sa[f][h--]);var n=b.fb[7]^b.ud[7];var p=
0;h=4;for(f=7;0<=f;--f)b.rl[f]!=n&&(p+=Sa[f][h--]);return b.parity+2*(12*d+Lc[p])}function jb(b,f,d){var h;var n=f.ct[0]>f.ct[8]^f.ct[8]>f.ct[16]^f.ct[0]>f.ct[16]?1:0;for(h=0;8>h;++h)b.ud[h]=f.ct[h]&1^1,b.fb[h]=f.ct[h+8]&1^1,b.rl[h]=f.ct[h+16]&1^1^n;b.parity=n^d}function qb(){this.ud=ua(8);this.rl=ua(8);this.fb=ua(8)}function sb(){sb=h}function $a(){var b;this.ct=ua(24);for(b=0;24>b;++b)this.ct[b]=~~(b/4)}function Ab(b){$a.call(this);for(b=0;23>b;++b){var f=b+r(24-b);if(this.ct[f]!=this.ct[b]){var d=
this.ct[b];this.ct[b]=this.ct[f];this.ct[f]=d}}}function zb(){zb=h;Tb=ua(18);var b,f;Tb[0]=new wb(15120,0);Tb[3]=new wb(21021,1494);Tb[6]=new wb(8064,1236);Tb[9]=new wb(9,0);Tb[12]=new wb(1230,412);Tb[15]=new wb(224,137);for(b=0;18>b;b+=3)for(f=0;2>f;++f)Tb[b+f+1]=new rb,ub(Tb[b+f],Tb[b],Tb[b+f+1])}function Bb(b){b.cp=[0,1,2,3,4,5,6,7];b.co=[0,0,0,0,0,0,0,0]}function xb(b,f){var d;for(d=0;8>d;++d)b.cp[d]=f.cp[d],b.co[d]=f.co[d]}function ub(b,f,d){var h;for(h=0;8>h;++h){d.cp[h]=b.cp[f.cp[h]];var n=
b.co[f.cp[h]];var p=f.co[h];var r=n;r+=3>n?p:6-p;r%=3;3<=n^3<=p&&(r+=3);d.co[h]=r}}function rb(){Bb(this)}function wb(b,f){Bb(this);mathlib.set8Perm(this.cp,b);var d=f,h;var n=0;for(h=6;0<=h;--h)n+=this.co[h]=d%3,d=~~(d/3);this.co[7]=(15-n)%3}function tb(b){wb.call(this,r(40320),r(2187))}function Lb(){Lb=h;Xb=ua(1937880);Cc=ua(1538);Dc=ua(1538);mc=ua(11880);md=[0,1,6,3,4,5,2,7];Mc=ua(160,12);Nc=ua(160,12);Oc=[1,1,1,3,12,60,360,2520,20160,181440,1814400,19958400,239500800];Pc=[0,2,4,6,1,3,7,5,8,9,
10,11]}function Ib(b,f,d,h,n){var p=b.edgeo[n];b.edgeo[n]=b.edge[h];b.edge[h]=b.edgeo[d];b.edgeo[d]=b.edge[f];b.edge[f]=p}function Cb(b,f){var d;b.isStd||Eb(b);var h=0;var n=1985229328;var p=47768;for(d=0;d<f;++d){var r=b.edge[d]<<2;h*=12-d;32<=r?(h+=p>>r-32&15,p-=4368<<r-32):(h+=n>>r&15,p-=4369,n-=286331152<<r)}return h}function Gb(b){var f=Cb(b,4);f=mc[f];var d=f&7;f>>=3;Pb(b,d);b=Cb(b,10)%20160;return 20160*f+b}function Qb(b,f){b.isStd=!1;switch(f){case 0:d(b.edge,0,4,1,5);d(b.edgeo,0,4,1,5);break;
case 1:vb(b.edge,0,4,1,5);vb(b.edgeo,0,4,1,5);break;case 2:d(b.edge,0,5,1,4);d(b.edgeo,0,5,1,4);break;case 3:vb(b.edge,5,10,6,11);vb(b.edgeo,5,10,6,11);break;case 4:d(b.edge,0,11,3,8);d(b.edgeo,0,11,3,8);break;case 5:vb(b.edge,0,11,3,8);vb(b.edgeo,0,11,3,8);break;case 6:d(b.edge,0,8,3,11);d(b.edgeo,0,8,3,11);break;case 7:d(b.edge,2,7,3,6);d(b.edgeo,2,7,3,6);break;case 8:vb(b.edge,2,7,3,6);vb(b.edgeo,2,7,3,6);break;case 9:d(b.edge,2,6,3,7);d(b.edgeo,2,6,3,7);break;case 10:vb(b.edge,4,8,7,9);vb(b.edgeo,
4,8,7,9);break;case 11:d(b.edge,1,9,2,10);d(b.edgeo,1,9,2,10);break;case 12:vb(b.edge,1,9,2,10);vb(b.edgeo,1,9,2,10);break;case 13:d(b.edge,1,10,2,9);d(b.edgeo,1,10,2,9);break;case 14:vb(b.edge,0,4,1,5);vb(b.edgeo,0,4,1,5);d(b.edge,9,11);d(b.edgeo,8,10);break;case 15:vb(b.edge,5,10,6,11);vb(b.edgeo,5,10,6,11);d(b.edge,1,3);d(b.edgeo,0,2);break;case 16:vb(b.edge,0,11,3,8);vb(b.edgeo,0,11,3,8);d(b.edge,5,7);d(b.edgeo,4,6);break;case 17:vb(b.edge,2,7,3,6);vb(b.edgeo,2,7,3,6);d(b.edge,8,10);d(b.edgeo,
9,11);break;case 18:vb(b.edge,4,8,7,9);vb(b.edgeo,4,8,7,9);d(b.edge,0,2);d(b.edgeo,1,3);break;case 19:vb(b.edge,1,9,2,10),vb(b.edgeo,1,9,2,10),d(b.edge,4,6),d(b.edgeo,5,7)}}function Db(b,f){b.isStd=!1;switch(f){case 0:Qb(b,14);Qb(b,17);break;case 1:Ib(b,11,5,10,6);Ib(b,5,10,6,11);Ib(b,1,2,3,0);Ib(b,4,9,7,8);Ib(b,8,4,9,7);Ib(b,0,1,2,3);break;case 2:Jb(b,4,5),Jb(b,5,4),Jb(b,11,8),Jb(b,8,11),Jb(b,7,6),Jb(b,6,7),Jb(b,9,10),Jb(b,10,9),Jb(b,1,1),Jb(b,0,0),Jb(b,3,3),Jb(b,2,2)}}function Pb(b,f){for(;2<=f;)f-=
2,Db(b,1),Db(b,2);0!=f&&Db(b,0)}function Nb(b,f){var d,h;var n=1985229328;var p=47768;for(d=h=0;11>d;++d){var r=Oc[11-d];var z=~~(f/r);f%=r;h^=z;z<<=2;32<=z?(z-=32,b.edge[d]=p>>z&15,r=(1<<z)-1,p=(p&r)+(p>>4&~r)):(b.edge[d]=n>>z&15,r=(1<<z)-1,n=(n&r)+(n>>>4&~r)+(p<<28),p>>=4)}0==(h&1)?b.edge[11]=n:(b.edge[11]=b.edge[10],b.edge[10]=n);for(d=0;12>d;++d)b.edgeo[d]=d;b.isStd=!0}function Fb(b,f){var d;for(d=0;12>d;++d)b.edge[d]=f.edge[d],b.edgeo[d]=f.edgeo[d];b.isStd=f.isStd}function Kb(b,f){var d;null==
b.temp&&(b.temp=ua(12));for(d=0;12>d;++d)b.temp[d]=d,b.edge[d]=f.ep[Pc[d]+12]%12;var h=1;for(d=0;12>d;++d)for(;b.edge[d]!=d;){var n=b.edge[d];b.edge[d]=b.edge[n];b.edge[n]=n;var p=b.temp[d];b.temp[d]=b.temp[n];b.temp[n]=p;h^=1}for(d=0;12>d;++d)b.edge[d]=b.temp[f.ep[Pc[d]]%12];return h}function Eb(b){var f;null==b.temp&&(b.temp=ua(12));for(f=0;12>f;++f)b.temp[b.edgeo[f]]=f;for(f=0;12>f;++f)b.edge[f]=b.temp[b.edge[f]],b.edgeo[f]=f;b.isStd=!0}function vb(b,f,d,h,n){var p=b[f];b[f]=b[h];b[h]=p;p=b[d];
b[d]=b[n];b[n]=p}function Jb(b,f,d){var h=b.edge[f];b.edge[f]=b.edgeo[d];b.edgeo[d]=h}function Hb(){this.edge=ua(12);this.edgeo=ua(12)}function Yb(b,f){return b[f>>4]>>((f&15)<<1)&3}function Rb(b,f,d){var h=Nc[f];var n=Mc[f];var p=0;var r=1985229328;var z=47768;for(f=0;f<d;++f){var w=h[b[n[f]]]<<2;p*=12-f;32<=w?(p+=z>>w-32&15,z-=4368<<w-32):(p+=r>>w&15,z-=4369,r-=286331152<<w)}return p}function gc(b){var f=new Hb;var d=0;var h=Yb(Xb,b);if(3==h)return 10;for(;0!=b;){0==h?h=2:--h;var n=~~(b/20160);
n=Cc[n];var p=b%20160;Nb(f,20160*n+p);for(n=0;17>n;++n){p=Rb(f.edge,n<<3,4);p=mc[p];var r=p&7;p>>=3;r=Rb(f.edge,n<<3|r,10)%20160;p=20160*p+r;if(Yb(Xb,p)==h){++d;b=p;break}}}return d}function Zb(b,f,d){b[f>>4]^=(3^d)<<((f&15)<<1)}function ic(){ic=h}function ac(){var b;this.ep=ua(24);for(b=0;24>b;++b)this.ep[b]=b}function $b(b){ac.call(this);for(b=0;23>b;++b){var f=b+r(24-b);if(f!=b){var d=this.ep[b];this.ep[b]=this.ep[f];this.ep[f]=d}}}function dc(){dc=h;Qc=[35,1,34,2,4,6,22,5,19]}function Vb(b,f){var d=
b.edge;var h=f.edge,n;for(n=0;24>n;++n)d.ep[n]=h.ep[n];d=b.center;h=f.center;for(n=0;24>n;++n)d.ct[n]=h.ct[n];xb(b.corner,f.corner);b.value=f.value;b.add1=f.add1;b.length1=f.length1;b.length2=f.length2;b.length3=f.length3;b.sym=f.sym;for(d=0;60>d;++d)b.moveBuffer[d]=f.moveBuffer[d];b.moveLength=f.moveLength;b.edgeAvail=f.edgeAvail;b.centerAvail=f.centerAvail;b.cornerAvail=f.cornerAvail}function Sb(b){for(;b.centerAvail<b.moveLength;){var f=b.center,d=b.moveBuffer[b.centerAvail++];var h=d%3;switch(~~(d/
3)){case 0:eb(f.ct,0,1,2,3,h);break;case 1:eb(f.ct,16,17,18,19,h);break;case 2:eb(f.ct,8,9,10,11,h);break;case 3:eb(f.ct,4,5,6,7,h);break;case 4:eb(f.ct,20,21,22,23,h);break;case 5:eb(f.ct,12,13,14,15,h);break;case 6:eb(f.ct,0,1,2,3,h);eb(f.ct,8,20,12,16,h);eb(f.ct,9,21,13,17,h);break;case 7:eb(f.ct,16,17,18,19,h);eb(f.ct,1,15,5,9,h);eb(f.ct,2,12,6,10,h);break;case 8:eb(f.ct,8,9,10,11,h);eb(f.ct,2,19,4,21,h);eb(f.ct,3,16,5,22,h);break;case 9:eb(f.ct,4,5,6,7,h);eb(f.ct,10,18,14,22,h);eb(f.ct,11,19,
15,23,h);break;case 10:eb(f.ct,20,21,22,23,h);eb(f.ct,0,8,4,14,h);eb(f.ct,3,11,7,13,h);break;case 11:eb(f.ct,12,13,14,15,h),eb(f.ct,1,20,7,18,h),eb(f.ct,0,23,6,17,h)}}return b.center}function ec(b){for(;b.cornerAvail<b.moveLength;){var f=b.corner,d=b.moveBuffer[b.cornerAvail++]%18;!f.temps&&(f.temps=new rb);ub(f,Tb[d],f.temps);xb(f,f.temps)}return b.corner}function Mb(b){for(;b.edgeAvail<b.moveLength;){var f=b.edge,d=b.moveBuffer[b.edgeAvail++];var h=d%3;switch(~~(d/3)){case 0:eb(f.ep,0,1,2,3,h);
eb(f.ep,12,13,14,15,h);break;case 1:eb(f.ep,11,15,10,19,h);eb(f.ep,23,3,22,7,h);break;case 2:eb(f.ep,0,11,6,8,h);eb(f.ep,12,23,18,20,h);break;case 3:eb(f.ep,4,5,6,7,h);eb(f.ep,16,17,18,19,h);break;case 4:eb(f.ep,1,20,5,21,h);eb(f.ep,13,8,17,9,h);break;case 5:eb(f.ep,2,9,4,10,h);eb(f.ep,14,21,16,22,h);break;case 6:eb(f.ep,0,1,2,3,h);eb(f.ep,12,13,14,15,h);eb(f.ep,9,22,11,20,h);break;case 7:eb(f.ep,11,15,10,19,h);eb(f.ep,23,3,22,7,h);eb(f.ep,2,16,6,12,h);break;case 8:eb(f.ep,0,11,6,8,h);eb(f.ep,12,
23,18,20,h);eb(f.ep,3,19,5,13,h);break;case 9:eb(f.ep,4,5,6,7,h);eb(f.ep,16,17,18,19,h);eb(f.ep,8,23,10,21,h);break;case 10:eb(f.ep,1,20,5,21,h);eb(f.ep,13,8,17,9,h);eb(f.ep,14,0,18,4,h);break;case 11:eb(f.ep,2,9,4,10,h),eb(f.ep,14,21,16,22,h),eb(f.ep,7,15,1,17,h)}}return b.edge}function sd(b){var d,h;var n=Array(b.moveLength-(b.add1?2:0));for(d=h=0;d<b.length1;++d)n[h++]=b.moveBuffer[d];var p=b.sym;for(d=b.length1+(b.add1?2:0);d<b.moveLength;++d)if(27<=Wb[p][b.moveBuffer[d]]){n[h++]=Wb[p][b.moveBuffer[d]]-
9;var r=Qc[Wb[p][b.moveBuffer[d]]-27];p=jc[p][r]}else n[h++]=Wb[p][b.moveBuffer[d]];d=jc[kc[p]];a:{b=Sb(b);var z;b=new ab(b.ct);for(z=0;48>z;++z){p=!0;for(r=0;24>r;++r)if(b.ct[r]!=~~(r/4)){p=!1;break}if(p){b=z;break a}f(b,0);1==z%2&&f(b,1);7==z%8&&f(b,2);15==z%16&&f(b,3)}b=-1}d=d[b];b="";p=d;for(d=h-1;0<=d;--d)h=n[d],h=3*~~(h/3)+(2-h%3),27<=Wb[p][h]?(b=b+Rc[Wb[p][h]-9]+" ",r=Qc[Wb[p][h]-27],p=jc[p][r]):b=b+Rc[Wb[p][h]]+" ";return b}function cc(b,f){b.moveBuffer[b.moveLength++]=f}function uc(){this.moveBuffer=
ua(60);this.edge=new ac;this.center=new $a;this.corner=new rb}function vc(b){uc.call(this);Vb(this,b)}function Uc(b){this.moveBuffer=ua(60);this.edge=new $b(b);this.center=new Ab(b);this.corner=new tb(b)}function Vc(){}function Wc(){Wc=h;var b,f;Rc="U  ;U2 ;U' ;R  ;R2 ;R' ;F  ;F2 ;F' ;D  ;D2 ;D' ;L  ;L2 ;L' ;B  ;B2 ;B' ;Uw ;Uw2;Uw';Rw ;Rw2;Rw';Fw ;Fw2;Fw';Dw ;Dw2;Dw';Lw ;Lw2;Lw';Bw ;Bw2;Bw'".split(";");fc=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,19,21,22,23,25,28,30,31,32,34,36];sc=[0,1,2,4,6,
7,8,9,10,11,13,15,16,17,19,22,25,28,31,34,36];nd=ua(37);od=ua(37);nc=ua(37,36);Ec=ua(29,28);Fc=ua(21,20);Sc=ua(36);tc=ua(28);oc=ua(20);for(b=0;29>b;++b)nd[fc[b]]=b;for(b=0;21>b;++b)od[sc[b]]=b;for(b=0;36>b;++b){for(f=0;36>f;++f)nc[b][f]=~~(b/3)==~~(f/3)||~~(b/3)%3==~~(f/3)%3&&b>f;nc[36][b]=!1}for(b=0;29>b;++b)for(f=0;28>f;++f)Ec[b][f]=nc[fc[b]][fc[f]];for(b=0;21>b;++b)for(f=0;20>f;++f)Fc[b][f]=nc[sc[b]][sc[f]];for(b=0;36>b;++b)for(Sc[b]=36,f=b;36>f;++f)if(!nc[b][f]){Sc[b]=f-1;break}for(b=0;28>b;++b)for(tc[b]=
28,f=b;28>f;++f)if(!Ec[b][f]){tc[b]=f-1;break}for(b=0;20>b;++b)for(oc[b]=20,f=b;20>f;++f)if(!Fc[b][f]){oc[b]=f-1;break}}function td(b){b.solution="";var f=Ra(new db(Sb(b.c),0));var d=Ra(new db(Sb(b.c),1));var h=Ra(new db(Sb(b.c),2));var n=Ub[~~f>>6];var r=Ub[~~d>>6];var z=Ub[~~h>>6];b.p1SolsCnt=0;b.arr2idx=0;vd(b.p1sols.heap);for(b.length1=(n<r?n:r)<z?n<r?n:r:z;100>b.length1&&!(z<=b.length1&&wc(b,~~h>>>6,h&63,b.length1,-1,0)||n<=b.length1&&wc(b,~~f>>>6,f&63,b.length1,-1,0)||r<=b.length1&&wc(b,~~d>>>
6,d&63,b.length1,-1,0));++b.length1);z=xd(b.p1sols,Ua(yd,p([25,30,40]),24,0,0));z.sort(function(b,f){return b.value-f.value});r=9;do{h=z[0].value;a:for(;100>h;++h)for(d=0;d<z.length&&!(z[d].value>h);++d)if(!(h-z[d].length1>r)&&(Vb(b.c1,z[d]),hb(b.ct2,Sb(b.c1),xc(Mb(b.c1).ep)),f=fb(b.ct2),n=lb(b.ct2),b.length1=z[d].length1,b.length2=h-z[d].length1,Xc(b,f,n,b.length2,28,0)))break a;++r}while(100==h);b.arr2.sort(function(b,f){return b.value-f.value});z=0;h=13;do{r=b.arr2[0].value;a:for(;100>r;++r)for(d=
0;d<Math.min(b.arr2idx,100)&&!(b.arr2[d].value>r);++d)if(!(r-b.arr2[d].length1-b.arr2[d].length2>h)){f=Kb(b.e12,Mb(b.arr2[d]));jb(b.ct3,Sb(b.arr2[d]),f^xc(ec(b.arr2[d]).cp));f=nb(b.ct3);n=Cb(b.e12,10);var w=gc(Gb(b.e12));if(w<=r-b.arr2[d].length1-b.arr2[d].length2&&Yc(b,n,f,w,r-b.arr2[d].length1-b.arr2[d].length2,20,0)){z=d;break a}}++h}while(100==r);h=new vc(b.arr2[z]);b.length1=h.length1;b.length2=h.length2;r=r-b.length1-b.length2;for(d=0;d<r;++d)cc(h,sc[b.move3[d]]);b.solution=sd(h)}function ud(b,
d){if(!pd){var h,p,r;var w=new cb;for(h=0;24>h;++h)w.ct[h]=h;var v=new ab(w.ct);var $a=new ab(w.ct);var Qa=new ab(w.ct);for(h=0;48>h;++h){for(p=0;48>p;++p){for(r=0;48>r;++r)Wa(w,v)&&(jc[h][p]=r,0==r&&(kc[h]=p)),f(v,0),1==r%2&&f(v,1),7==r%8&&f(v,2),15==r%16&&f(v,3);f(w,0);1==p%2&&f(w,1);7==p%8&&f(w,2);15==p%16&&f(w,3)}f(w,0);1==h%2&&f(w,1);7==h%8&&f(w,2);15==h%16&&f(w,3)}for(h=0;48>h;++h)for(n(w,$a),z(w,kc[h]),p=0;36>p;++p)for(n(v,w),Va(v,p),z(v,h),r=0;36>r;++r)if(n(Qa,$a),Va(Qa,r),Wa(Qa,v)){Wb[h][p]=
r;break}Za(w,0);for(h=0;48>h;++h)Jc[kc[h]]=Ta(w),f(w,0),1==h%2&&f(w,1),7==h%8&&f(w,2),15==h%16&&f(w,3);lc=ua(735471);w=new cb;p=ua(22984);for($a=0;22984>$a;$a++)p[$a]=0;for($a=v=0;735471>$a;++$a)if(0==(p[~~$a>>>5]&1<<($a&31))){Za(w,$a);for(h=0;48>h;++h)Qa=Ta(w),p[~~Qa>>>5]|=1<<(Qa&31),null!=lc&&(lc[Qa]=v<<6|kc[h]),f(w,0),1==h%2&&f(w,1),7==h%8&&f(w,2),15==h%16&&f(w,3);qc[v++]=$a}w=new cb;v=new cb;for($a=0;15582>$a;++$a)for(Za(v,qc[$a]),Qa=0;36>Qa;++Qa)n(w,v),Va(w,Qa),zc[$a][Qa]=Ra(w);lc=null;yc(Ub);
v=Ub[0]=0;for($a=1;15582!=$a;){var Ua=(p=4<v)?-1:v;w=p?v:-1;++v;for(Qa=0;15582>Qa;++Qa)if(Ub[Qa]==Ua)for(r=0;27>r;++r)if(h=~~zc[Qa][r]>>>6,Ub[h]==w)if(++$a,p){Ub[Qa]=v;break}else Ub[h]=v}$a=new ob;for(w=0;70>w;++w)for(v=0;28>v;++v)pb($a,w),gb($a,fc[v]),Ac[w][v]=lb($a);for(w=0;70>w;++w)for(pb($a,w),v=0;16>v;++v)id[w][v]=lb($a),bb($a,0),1==v%2&&bb($a,1),7==v%8&&bb($a,2);for(w=0;6435>w;++w)for(ib($a,w),v=0;16>v;++v)jd[w][v]=fb($a)&65535,bb($a,0),1==v%2&&bb($a,1),7==v%8&&bb($a,2);for(w=0;6435>w;++w)for(v=
0;28>v;++v)ib($a,w),gb($a,fc[v]),Bc[w][v]=fb($a)&65535;yc(Ob);Qa=Ob[0]=Ob[18]=Ob[28]=Ob[46]=Ob[54]=Ob[56]=0;for(h=6;450450!=h;){Ua=(r=6<Qa)?-1:Qa;var Ya=r?Qa:-1;++Qa;for(w=0;450450>w;++w)if(Ob[w]==Ua)for($a=~~(w/70),p=w%70,v=0;23>v;++v){var Xa=Bc[$a][v];var mb=Ac[p][v];Xa=70*Xa+mb;if(Ob[Xa]==Ya)if(++h,r){Ob[w]=Qa;break}else Ob[Xa]=Qa}}for(w=0;12>w;++w)Lc[Kc[w]]=w;$a=new qb;for(w=0;29400>w;++w)for(v=0;20>v;++v){p=$a;r=w;p.parity=r&1;r>>>=1;Ua=Kc[r%12];r=~~(r/12);Qa=4;for(h=7;0<=h;--h)p.rl[h]=0,Ua>=
Sa[h][Qa]&&(Ua-=Sa[h][Qa--],p.rl[h]=1);Ua=r%35;r=~~(r/35);Qa=4;p.fb[7]=0;for(h=6;0<=h;--h)Ua>=Sa[h][Qa]?(Ua-=Sa[h][Qa--],p.fb[h]=1):p.fb[h]=0;Qa=4;p.ud[7]=0;for(h=6;0<=h;--h)r>=Sa[h][Qa]?(r-=Sa[h][Qa--],p.ud[h]=1):p.ud[h]=0;Qa=$a;h=v;Qa.parity^=ld[h];switch(h){case 0:case 1:case 2:eb(Qa.ud,0,1,2,3,h%3);break;case 3:eb(Qa.rl,0,1,2,3,1);break;case 4:case 5:case 6:eb(Qa.fb,0,1,2,3,(h-1)%3);break;case 7:case 8:case 9:eb(Qa.ud,4,5,6,7,(h-1)%3);break;case 10:eb(Qa.rl,4,5,6,7,1);break;case 11:case 12:case 13:eb(Qa.fb,
4,5,6,7,(h+1)%3);break;case 14:eb(Qa.ud,0,1,2,3,1);eb(Qa.rl,0,5,4,1,1);eb(Qa.fb,0,5,4,1,1);break;case 15:eb(Qa.rl,0,1,2,3,1);eb(Qa.fb,1,4,7,2,1);eb(Qa.ud,1,6,5,2,1);break;case 16:eb(Qa.fb,0,1,2,3,1);eb(Qa.ud,3,2,5,4,1);eb(Qa.rl,0,3,6,5,1);break;case 17:eb(Qa.ud,4,5,6,7,1);eb(Qa.rl,3,2,7,6,1);eb(Qa.fb,3,2,7,6,1);break;case 18:eb(Qa.rl,4,5,6,7,1);eb(Qa.fb,0,3,6,5,1);eb(Qa.ud,0,3,4,7,1);break;case 19:eb(Qa.fb,4,5,6,7,1),eb(Qa.ud,0,7,6,1,1),eb(Qa.rl,1,4,7,2,1)}rc[w][v]=nb($a)&65535}yc(bc);$a=bc[0]=0;
for(Qa=1;29400!=Qa;){for(w=0;29400>w;++w)if(bc[w]==$a)for(v=0;17>v;++v)-1==bc[rc[w][v]]&&(bc[rc[w][v]]=$a+1,++Qa);++$a}w=new Hb;for($a=0;20>$a;++$a)for(Qa=0;8>Qa;++Qa){Nb(w,0);Qb(w,$a);Pb(w,Qa);for(v=0;12>v;++v)Mc[$a<<3|Qa][v]=w.edge[v];Eb(w);for(v=0;12>v;++v)Nc[$a<<3|Qa][v]=w.temp[v]}v=new Hb;p=ua(1485);for($a=0;1485>$a;$a++)p[$a]=0;for($a=w=0;11880>$a;++$a)if(0==(p[~~$a>>>3]&1<<($a&7))){Nb(v,$a*Oc[8]);for(h=0;8>h;++h)Qa=Cb(v,4),Qa==$a&&(Dc[w]=(Dc[w]|1<<h)&65535),p[~~Qa>>3]|=1<<(Qa&7),mc[Qa]=w<<
3|md[h],Db(v,0),1==h%2&&(Db(v,1),Db(v,2));Cc[w++]=$a}var Ab;$a=new Hb;Qa=new Hb;p=new Hb;yc(Xb);v=0;Gc=1;for(Zb(Xb,0,0);31006080!=Gc;){r=9<v;Ua=v%3;w=(v+1)%3;h=r?3:Ua;Ua=r?Ua:3;if(9<=v)break;for(mb=0;31006080>mb;mb+=16){var kb=Xb[~~mb>>4];if(r||-1!=kb)for(Xa=mb,Ya=mb+16;Xa<Ya;++Xa,kb>>=2)if((kb&3)==h){var jb=~~(Xa/20160);jb=Cc[jb];var db=Xa%20160;Nb($a,20160*jb+db);for(jb=0;17>jb;++jb){db=Rb($a.edge,jb<<3,4);db=mc[db];var hb=db&7;db>>=3;var sb=Rb($a.edge,jb<<3|hb,10)%20160;sb=20160*db+sb;if(Yb(Xb,
sb)==Ua){Zb(Xb,r?Xa:sb,w);++Gc;if(r)break;sb=Dc[db];if(1!=sb)for(Fb(Qa,$a),Qb(Qa,jb),Pb(Qa,hb),Ab=1;0!=(sb=~~sb>>1&65535);++Ab)1==(sb&1)&&(Fb(p,Qa),Pb(p,Ab),hb=20160*db+Cb(p,10)%20160,Yb(Xb,hb)==Ua&&(Zb(Xb,hb,w),++Gc))}}}}++v}pd=!0}b.c=new Uc(d);td(b);return b.solution}function wc(b,f,d,h,n,p){var r,z,w;if(0==f){if(f=0==h){Vb(b.c1,b.c);for(f=0;f<b.length1;++f)cc(b.c1,b.move1[f]);switch(Jc[d]){case 0:cc(b.c1,24);cc(b.c1,35);b.move1[b.length1]=24;b.move1[b.length1+1]=35;b.add1=!0;d=19;break;case 12869:cc(b.c1,
18);cc(b.c1,29);b.move1[b.length1]=18;b.move1[b.length1+1]=29;b.add1=!0;d=34;break;case 735470:b.add1=!1,d=0}hb(b.ct2,Sb(b.c1),xc(Mb(b.c1).ep));f=fb(b.ct2);h=lb(b.ct2);b.c1.value=Ob[70*f+h]+b.length1;b.c1.length1=b.length1;b.c1.add1=b.add1;b.c1.sym=d;++b.p1SolsCnt;if(500>b.p1sols.heap.size)var v=new vc(b.c1);else{d=b.p1sols;if(0==d.heap.size)v=null;else{f=d.heap.array[0];h=d.heap;n=d.heap.size-1;p=h.array[n];h.array.splice(n,1);--h.size;if(0<d.heap.size){hc(d.heap,0,p);h=0;n=d.heap.size;for(w=d.heap.array[h];2*
h+1<n;){p=(r=2*h+1,v=r+1,z=r,v<n&&0>d.heap.array[r].value-d.heap.array[v].value&&(z=v),z);if(0>d.heap.array[p].value-w.value)break;hc(d.heap,h,d.heap.array[p]);h=p}hc(d.heap,h,w)}v=f}v.value>b.c1.value&&Vb(v,b.c1)}r=b.p1sols;b:{z=r.heap.size;d=r.heap;f=d.size++;for(d.array[f]=v;0<z;){d=z;z=~~((z-1)/2);if(0>=v.value-r.heap.array[z].value){hc(r.heap,d,v);break b}hc(r.heap,d,r.heap.array[z])}hc(r.heap,z,v)}f=1E4==b.p1SolsCnt}return f}for(r=0;27>r;r+=3)if(r!=n&&r!=n-9&&r!=n-18)for(w=0;3>w;++w){z=r+w;
v=zc[f][Wb[d][z]];var ua=Ub[~~v>>>6];if(ua>=h){if(ua>h)break}else if(ua=jc[d][v&63],v>>>=6,b.move1[p]=z,wc(b,v,ua,h-1,r,p+1))return!0}return!1}function Xc(b,f,d,h,n,p){var r;if(0==f&&0==Ob[d]){if(f=0==h){Vb(b.c2,b.c1);for(f=0;f<b.length2;++f)cc(b.c2,b.move2[f]);f=Mb(b.c2);d=0;n=!1;for(h=0;12>h;++h)d|=1<<f.ep[h],n=n!=12<=f.ep[h];0!=(d&~~d>>12)||n?f=!1:(f=Kb(b.e12,Mb(b.c2)),jb(b.ct3,Sb(b.c2),f^xc(ec(b.c2).cp)),f=nb(b.ct3),Cb(b.e12,10),d=gc(Gb(b.e12)),b.arr2[b.arr2idx]?Vb(b.arr2[b.arr2idx],b.c2):b.arr2[b.arr2idx]=
new vc(b.c2),b.arr2[b.arr2idx].value=b.length1+b.length2+Math.max(d,bc[f]),b.arr2[b.arr2idx].length2=b.length2,++b.arr2idx,f=b.arr2idx==b.arr2.length)}return f}for(r=0;23>r;++r)if(Ec[n][r])r=tc[r];else{var z=Bc[f][r];var w=Ac[d][r];var v=Ob[70*z+w];if(v>=h)v>h&&(r=tc[r]);else if(b.move2[p]=fc[r],Xc(b,z,w,h-1,r,p+1))return!0}return!1}function Yc(b,f,d,h,n,p,r){var z;if(0==n)return 0==f&&0==d;Nb(b.tempe[r],f);for(z=0;17>z;++z)if(Fc[p][z])z=oc[z];else{f=rc[d][z];var w=bc[f];if(w>=n)w>n&&14>z&&(z=oc[z]);
else{w=Rb(b.tempe[r].edge,z<<3,10);var v=~~(w/20160);v=mc[v];var ua=v&7;v>>=3;var $a=Rb(b.tempe[r].edge,z<<3|ua,10)%20160;ua=h;v=Yb(Xb,20160*v+$a);v=3==v?10:(1227133513<<v>>ua&3)+ua-1;if(v>=n)v>n&&14>z&&(z=oc[z]);else if(Yc(b,w,f,v,n-1,z,r+1))return b.move3[r]=z,!0}}return!1}function Zc(){var b;this.p1sols=new fd(new Vc);this.move1=ua(15);this.move2=ua(20);this.move3=ua(20);this.c1=new uc;this.c2=new uc;this.ct2=new ob;this.ct3=new qb;this.e12=new Hb;this.tempe=ua(20);this.arr2=ua(100);for(b=0;20>
b;++b)this.tempe[b]=new Hb}function $c(){$c=h}function xc(b){var f,d,h;var n=h=0;for(d=b.length;n<d;++n)for(f=n;f<d;++f)b[n]>b[f]&&(h^=1);return h}function eb(b,f,d,h,n,p){switch(p){case 0:p=b[n];b[n]=b[h];b[h]=b[d];b[d]=b[f];b[f]=p;break;case 1:p=b[f];b[f]=b[h];b[h]=p;p=b[d];b[d]=b[n];b[n]=p;break;case 2:p=b[f],b[f]=b[d],b[d]=b[h],b[h]=b[n],b[n]=p}}function ad(){}function bd(b,f,d,h){var n=new ad;n.typeName=b+f;dd(0!=d?-d:0)&&ed(0!=d?-d:0,n);n.modifiers=4;n.superclass=Tc;n.componentType=h;return n}
function cd(b,f,d,h){var n=new ad;n.typeName=b+f;dd(d)&&ed(d,n);n.superclass=h;return n}function dd(b){return"number"==typeof b&&0<b}function ed(b,f){f.seedId=b;if(2==b)var d=String.prototype;else if(0<b)if(d=pc[f.seedId])d=d.prototype;else{d=pc[b]=function(){};d.___clazz$=f;return}else return;d.___clazz$=f}function vd(b){b.array=Ua(qd,p([30,40]),0,0,0);b.size=0}function hc(b,f,d){var h=b.array[f];b.array[f]=d;return h}function wd(){this.array=Ua(qd,p([30,40]),0,0,0);this.array.length=500}function yc(b){var f=
b.length,d;for(d=0;d<f;++d)b[d]=-1}function xd(b,f){var d=b.heap,h=f;if(h.length<d.size){var n=Ya(0,d.size);w(h.___clazz$,h.castableTypeMap$,h.queryId$,n);h=n}for(n=0;n<d.size;++n)h[n]=d.array[n];h.length>d.size&&(h[d.size]=null);return h}function fd(b){this.heap=new wd;this.cmp=b}function gd(){gd=h;Wc();$c();Xa();kb();mb();Lb();sb();zb();ic();dc();rd=new Zc}function hd(){gd();return(scramble_333.getRandomScramble()+ud(rd,Math)).replace(/\s+/g," ")}var yb,pc={};b(1,-1,{});yb.value=null;b(73,1,{},
v);yb.queryId$=0;var Hc,Ic;b(153,1,p([21]),cb,db,ab);var Ub,zc,Jc,lc=null,qc,kc,Wb,jc;b(154,1,{},ob);yb.parity=0;var Bc,Ob,jd,kd,Ac,id;b(155,1,{},qb);yb.parity=0;var rc,ld,bc,Kc,Lc;b(156,1,{},$a,Ab);b(157,1,p([22]),rb,wb,tb);yb.temps=null;var Tb;b(158,1,p([23]),Hb);yb.isStd=!0;yb.temp=null;var Pc,Gc=0,Xb,Oc,Mc,Nc,mc,Cc,md,Dc;b(159,1,{},ac,$b);b(160,1,p([24,34]),uc,vc,Uc);yb.compareTo$=function(b){return this.value-b.value};yb.add1=!1;yb.center=null;yb.centerAvail=0;yb.corner=null;yb.cornerAvail=0;
yb.edge=null;yb.edgeAvail=0;yb.length1=0;yb.length2=0;yb.length3=0;yb.moveLength=0;yb.sym=0;yb.value=0;var Qc;b(161,1,{},Vc);yb.compare=function(b,f){return f.value-b.value};var nc,Ec,Fc,fc,Rc,sc,Sc,tc,oc,nd,od;b(163,1,p([26]),Zc);yb.add1=!1;yb.arr2idx=0;yb.c=null;yb.length1=0;yb.length2=0;yb.p1SolsCnt=0;yb.solution="";var pd=!1;yb.val$outerIter=null;yb.size=0;b(239,1,{},fd);yb.cmp=null;yb.heap=null;var Tc=cd("java.lang.","Object",1,null),qd=bd("[Ljava.lang.","Object;",356,Tc),zd=cd("cs.threephase.",
"FullCube",160,Tc),yd=bd("[Lcs.threephase.","FullCube;",381,zd),rd;scrMgr.reg("444wca",hd);return{getRandomScramble:hd}}(mathlib.rn,mathlib.Cnk,mathlib.circle);(function(r,Sa,d,ua){function b(b,f){f<<=2;if(24<f){f=48-f;var d=b.ul;b.ul=(b.ul>>f|b.ur<<24-f)&16777215;b.ur=(b.ur>>f|d<<24-f)&16777215}else 0<f?(d=b.ul,b.ul=(b.ul<<f|b.ur>>24-f)&16777215,b.ur=(b.ur<<f|d>>24-f)&16777215):0==f?(d=b.ur,b.ur=b.dl,b.dl=d,b.ml=1-b.ml):-24<=f?(f=-f,d=b.dl,b.dl=(b.dl<<f|b.dr>>24-f)&16777215,b.dr=(b.dr<<f|d>>24-f)&16777215):-24>f&&(f=48+f,d=b.dl,b.dl=(b.dl>>f|b.dr<<24-f)&16777215,b.dr=(b.dr>>f|d<<24-f)&16777215)}function p(b,f){var d;6>f?d=b.ul>>(5-f<<2):12>f?d=b.ur>>(11-
f<<2):18>f?d=b.dl>>(17-f<<2):d=b.dr>>(23-f<<2);return d&15}function h(b,f,d){6>f?(b.ul&=~(15<<(5-f<<2)),b.ul|=d<<(5-f<<2)):12>f?(b.ur&=~(15<<(11-f<<2)),b.ur|=d<<(11-f<<2)):18>f?(b.dl&=~(15<<(17-f<<2)),b.dl|=d<<(17-f<<2)):(b.dr&=~(15<<(23-f<<2)),b.dr|=d<<(23-f<<2))}function v(){this.arr=[];this.prm=[]}function Ya(b){var f;void 0===b&&(b=ua(3678));var d=new v;var n=lb[b];var p=324508639;var r=38177486;var z=f=8;for(b=0;24>b;b++)if(0==(n>>b&1)){var w=ua(f)<<2;h(d,23-b,r>>w&15);w=(1<<w)-1;r=(r&w)+(r>>
4&~w);--f}else w=ua(z)<<2,h(d,23-b,p>>w&15),h(d,22-b,p>>w&15),w=(1<<w)-1,p=(p&w)+(p>>4&~w),--z,++b;d.ml=ua(2);return d}function Ua(f,d,h,n,r,z){if(0==h&&4>n){if(d=0==n)a:{d=f.Search_d;n=f.Search_c;d.ul=n.ul;d.ur=n.ur;d.dl=n.dl;d.dr=n.dr;d.ml=n.ml;for(d=0;d<f.Search_length1;++d)b(f.Search_d,f.Search_move[d]);d=f.Search_d;n=f.Search_sq;for(r=0;8>r;++r)d.prm[r]=p(d,3*r+1)>>1;n.cornperm=Sa(d.prm);n.topEdgeFirst=p(d,0)==p(d,1);r=n.topEdgeFirst?2:0;for(z=0;4>z;r+=3,++z)d.prm[z]=p(d,r)>>1;n.botEdgeFirst=
p(d,12)==p(d,13);for(r=n.botEdgeFirst?14:12;8>z;r+=3,++z)d.prm[z]=p(d,r)>>1;n.edgeperm=Sa(d.prm);n.ml=d.ml;r=f.Search_sq.edgeperm;n=f.Search_sq.cornperm;z=f.Search_sq.ml;for(d=Math.max(ob[f.Search_sq.edgeperm<<1|z],ob[f.Search_sq.cornperm<<1|z]);d<f.Search_maxlen2;++d)if(w(f,r,n,f.Search_sq.topEdgeFirst,f.Search_sq.botEdgeFirst,z,d,f.Search_length1,0)){for(n=0;n<d;++n)b(f.Search_d,f.Search_move[f.Search_length1+n]);n=f;r="";h=z=0;for(d=d+f.Search_length1-1;0<=d;d--){var v=f.Search_move[d];0<v?(v=
12-v,z=6<v?v-12:v):0>v?(v=12+v,h=6<v?v-12:v):(v="/",d==f.Search_length1-1&&(v="`/`"),r=0==z&&0==h?r+v:r+(" ("+z+","+h+")"+v),z=h=0)}if(0!=z||0!=h)r+=" ("+z+","+h+") ";n.Search_sol_string=r;d=!0;break a}d=!1}return d}if(0!=z){var ua=hb[d];v=gb[ua];if(v<n&&(f.Search_move[r]=0,Ua(f,ua,v,n-1,r+1,0)))return!0}ua=d;if(0>=z)for(h=0;;){h+=bb[ua];ua=h>>4;h&=15;if(12<=h)break;v=gb[ua];if(v>n)break;else if(v<n&&(f.Search_move[r]=h,Ua(f,ua,v,n-1,r+1,1)))return!0}ua=d;if(1>=z)for(h=0;;){h+=fb[ua];ua=h>>4;h&=15;
if(6<=h)break;v=gb[ua];if(v>n)break;else if(v<n&&(f.Search_move[r]=-h,Ua(f,ua,v,n-1,r+1,2)))return!0}return!1}function w(b,f,d,h,n,p,r,z,v){var ua,Qa;if(0==r&&!h&&n)return!0;if(0!=v&&h==n){var Ra=nb[f];var Za=nb[d];if(ob[Ra<<1|1-p]<r&&ob[Za<<1|1-p]<r&&(b.Search_move[z]=0,w(b,Ra,Za,h,n,1-p,r-1,z+1,0)))return!0}if(0>=v){Ra=(Qa=!h)?mb[f]:f;Za=Qa?d:mb[d];var Ta=Qa?1:2;var Wa=ob[Ra<<1|p];for(ua=ob[Za<<1|p];12>Ta&&Wa<=r&&Wa<=r;){if(Wa<r&&ua<r&&(b.Search_move[z]=Ta,w(b,Ra,Za,Qa,n,p,r-1,z+1,1)))return!0;
(Qa=!Qa)?(Ra=mb[Ra],Wa=ob[Ra<<1|p],Ta+=1):(Za=mb[Za],ua=ob[Za<<1|p],Ta+=2)}}if(1>=v)for(Ra=(n=!n)?pb[f]:f,Za=n?d:pb[d],Ta=n?1:2,Wa=ob[Ra<<1|p],ua=ob[Za<<1|p];Ta<(6<r?6:12)&&Wa<=r&&Wa<=r;){if(Wa<r&&ua<r&&(b.Search_move[z]=-Ta,w(b,Ra,Za,h,n,p,r-1,z+1,2)))return!0;(n=!n)?(Ra=pb[Ra],Wa=ob[Ra<<1|p],Ta+=1):(Za=pb[Za],ua=ob[Za<<1|p],Ta+=2)}return!1}function Qa(b,d){b.Search_c=d;var h=d.ur&1118481;h|=h>>3;h|=h>>6;h=h&15|h>>12&48;var n=d.ul&1118481;n|=n>>3;n|=n>>6;n=n&15|n>>12&48;var r=d.dr&1118481;r|=r>>
3;r|=r>>6;r=r&15|r>>12&48;var z=d.dl&1118481;z|=z>>3;z|=z>>6;z=z&15|z>>12&48;var w,v;var ua=0;d.arr[0]=p(d,0);for(w=1;24>w;++w)p(d,w)!=d.arr[ua]&&(d.arr[++ua]=p(d,w));for(ua=v=0;16>ua;++ua)for(w=ua+1;16>w;++w)d.arr[ua]>d.arr[w]&&(v^=1);z=f(v<<24|n<<18|h<<12|z<<6|r);for(b.Search_length1=gb[z];100>b.Search_length1&&(b.Search_maxlen2=Math.min(32-b.Search_length1,17),!Ua(b,z,gb[z],b.Search_length1,0,-1));++b.Search_length1);return b.Search_sol_string}function Xa(){this.Search_move=[];this.Search_d=new v;
this.Search_sq=new Za}function Wa(){Wa=$.noop;ib=[0,3,6,12,15,24,27,30,48,51,54,60,63];lb=[];gb=[];bb=[];fb=[];hb=[];var b,d;for(d=b=0;28561>d;++d){var h=ib[d%13];var p=ib[~~(d/13)%13];var r=ib[~~(~~(d/13)/13)%13];var z=ib[~~(~~(~~(d/13)/13)/13)];p=z<<18|r<<12|p<<6|h;16==n(p)&&(lb[b++]=p)}b=new Va;for(d=0;7356>d;++d){Ra(b,d);p=bb;h=d;var w=b;z=r=0;do 0==(w.top&2048)?(r+=1,w.top<<=1):(r+=2,w.top=w.top<<2^12291),z=1-z;while(0!=(n(w.top&63)&1));0==(n(w.top)&2)&&(w.Shape_parity^=z);p[h]=r;bb[d]|=Ta(b)<<
4;Ra(b,d);p=fb;h=d;w=b;z=r=0;do 0==(w.bottom&2048)?(r+=1,w.bottom<<=1):(r+=2,w.bottom=w.bottom<<2^12291),z=1-z;while(0!=(n(w.bottom&63)&1));0==(n(w.bottom)&2)&&(w.Shape_parity^=z);p[h]=r;fb[d]|=Ta(b)<<4;Ra(b,d);z=b.top&63;p=n(z);h=n(b.bottom&4032);b.Shape_parity^=1&(p&h)>>1;b.top=b.top&4032|b.bottom>>6&63;b.bottom=b.bottom&63|z<<6;hb[d]=Ta(b)}for(d=0;7536>d;++d)gb[d]=-1;gb[f(14378715)]=0;gb[f(31157686)]=0;gb[f(23967451)]=0;gb[f(7191990)]=0;p=4;h=0;for(b=-1;p!=h;)for(h=p,++b,d=0;7536>d;++d)if(gb[d]==
b){r=0;z=d;do z=bb[z],r+=z&15,z>>=4,-1==gb[z]&&(++p,gb[z]=b+1);while(12!=r);r=0;z=d;do z=fb[z],r+=z&15,z>>=4,-1==gb[z]&&(++p,gb[z]=b+1);while(12!=r);z=hb[d];-1==gb[z]&&(++p,gb[z]=b+1)}}function Ta(b){return cb(lb,b.top<<12|b.bottom)<<1|b.Shape_parity}function Ra(b,f){b.Shape_parity=f&1;b.top=lb[f>>1];b.bottom=b.top&4095;b.top>>=12}function Va(){}function f(b){return cb(lb,b&16777215)<<1|b>>24}function z(){z=$.noop;ob=[];nb=[];mb=[];pb=[];var b,f,h;var n=[];for(f=0;40320>f;++f)r(n,f),d(n,2,4)(n,3,
5),nb[f]=Sa(n),r(n,f),d(n,0,3,2,1),mb[f]=Sa(n),r(n,f),d(n,4,7,6,5),pb[f]=Sa(n);for(f=0;80640>f;++f)ob[f]=-1;var p=ob[0]=0;for(b=1;80640>b;){var w=(h=11<=p)?-1:p;n=h?p:-1;++p;f=0;a:for(;80640>f;++f)if(ob[f]==w){var v=f>>1;var ua=f&1;var Qa=nb[v]<<1|1-ua;if(ob[Qa]==n&&(++b,ob[h?f:Qa]=p,h))continue a;Qa=v;for(v=0;4>v;++v)if(Qa=mb[Qa],ob[Qa<<1|ua]==n&&(++b,ob[h?f:Qa<<1|ua]=p,h))continue a;for(v=0;4>v;++v)if(Qa=pb[Qa],ob[Qa<<1|ua]==n&&(++b,ob[h?f:Qa<<1|ua]=p,h))continue a}}}function Za(){}function n(b){b-=
b>>1&1431655765;b=(b>>2&858993459)+(b&858993459);b=(b>>4)+b&252645135;b+=b>>8;return b+(b>>16)&63}function cb(b,f){var d;var h=0;for(d=b.length-1;h<=d;){var n=h+(d-h>>1);var p=b[n];if(p<f)h=n+1;else if(p>f)d=n-1;else return n}return-h-1}function db(){db=$.noop;for(var b=new Va,f=0;f<jb.length;f++){for(var d=[jb[f]],h=0;h<d.length;h++){var n=d[h];do n=bb[n<<1]>>5,-1==d.indexOf(n)&&d.push(n);while(n!=d[h]);do n=fb[n<<1]>>5,-1==d.indexOf(n)&&d.push(n);while(n!=d[h]);Ra(b,n<<1);n=b.top;b.top=b.bottom;
b.bottom=n;n=Ta(b)>>1;-1==d.indexOf(n)&&d.push(n)}jb[f]=d}}function ab(b,f,d){Wa();z();return Qa(sb,Ya())}var kb=v.prototype=function(){}.prototype;kb.dl=10062778;kb.dr=14536702;kb.ml=0;kb.ul=70195;kb.ur=4544119;kb=Xa.prototype=function(){}.prototype;kb.Search_c=null;kb.Search_length1=0;kb.Search_maxlen2=0;kb.Search_sol_string=null;kb=Va.prototype=function(){}.prototype;kb.bottom=0;kb.Shape_parity=0;kb.top=0;var fb,lb,gb,bb,hb,ib;kb=Za.prototype=function(){}.prototype;kb.botEdgeFirst=!1;kb.cornperm=
0;kb.edgeperm=0;kb.ml=0;kb.topEdgeFirst=!1;var pb,ob,mb,nb,jb=[0,1,3,18,19,1004,1005,1006,1007,1008,1009,1011,1015,1016,1018,1154,1155,1156,1157,1158,1159,1161,1166,1168,424,425,426,427,428,429,431,436,95,218,341,482,528,632,1050,342,343,345,346,348,353,223,487,533,535,1055,219,225,483,489,639,1051,1057,486,1054,1062,6,21,34,46,59,71,144,157,182,305,7,22,35,47,60,72,145,158,183,306,8,23,36,48,61,73,146,159,184,307],qb=[16,16,16,10,16,24,16,24,16,24,16,16,4,24,16,48,32,48,32,48,32,32,48,16,48,32,48,
16,48,32,32,48,36,48,72,72,48,48,72,48,36,72,48,48,72,32,48,16,32,48,16,32,48,48,16,48,48,36,72,36,72,96,96,72,96,72,72,72,72,24,48,64,64,48,64,48,48,48,48,16,24,32,32,24,32,24,24,24,24,8],sb=new Xa;scrMgr.reg("sqrs",ab);scrMgr.reg("sqrcsp",function(b,f,d){Wa();z();db();b=mathlib.rndEl(jb[scrMgr.fixCase(d,qb)]);return Qa(sb,Ya(b))},["Star-x8 Star-x71 Star-x62 Star-x44 Star-x53 Square-Scallop Square-rPawn Square-Shield Square-Barrel Square-rFist Square-Mushroom Square-lPawn Square-Square Square-lFist Square-Kite Kite-Scallop Kite-rPawn Kite-Shield Kite-Barrel Kite-rFist Kite-Mushroom Kite-lPawn Kite-lFist Kite-Kite Barrel-Scallop Barrel-rPawn Barrel-Shield Barrel-Barrel Barrel-rFist Barrel-Mushroom Barrel-lPawn Barrel-lFist Scallop-Scallop Scallop-rPawn Scallop-Shield Scallop-rFist Scallop-Mushroom Scallop-lPawn Scallop-lFist Shield-rPawn Shield-Shield Shield-rFist Shield-Mushroom Shield-lPawn Shield-lFist Mushroom-rPawn Mushroom-rFist Mushroom-Mushroom Mushroom-lPawn Mushroom-lFist Pawn-rPawn-rPawn Pawn-rPawn-lPawn Pawn-rPawn-rFist Pawn-lPawn-rFist Pawn-lPawn-lPawn Pawn-rPawn-lFist Pawn-lPawn-lFist Fist-rFist-rFist Fist-lFist-rFist Fist-lFist-lFist Pair-x6 Pair-r42 Pair-x411 Pair-r51 Pair-l42 Pair-l51 Pair-x33 Pair-x312 Pair-x321 Pair-x222 L-x6 L-r42 L-x411 L-r51 L-l42 L-l51 L-x33 L-x312 L-x321 L-x222 Line-x6 Line-r42 Line-x411 Line-r51 Line-l42 Line-l51 Line-x33 Line-x312 Line-x321 Line-x222".split(" "),
qb]);return{initialize:$.noop,getRandomScramble:ab}})(mathlib.set8Perm,mathlib.get8Perm,mathlib.circle,mathlib.rn);(function(){function r(b,p){var r=h.set([],p&31),w=Ya.set([],p>>5),ua=v.set([],b),Ta=[];mathlib.fillFacelet(Sa,Ta,[0,1,2,3],w,6);mathlib.fillFacelet(d,Ta,ua,r,6);r=[4,2,3,1,5,0];for(w=0;6>w;w++)for(ua=0;2>ua;ua++){var Ra=d[w][0^ua],Va=d[w][1^ua],f=6*~~(Ra/6)+r[(r.indexOf(Ra%6)+5)%6],z=6*~~(Va/6)+r[(r.indexOf(Va%6)+1)%6];if(Ta[f]==Ta[Ra]&&Ta[z]==Ta[Va])return!1}return!0}var Sa=[[3,16,11],[4,23,15],[5,9,22],[10,17,21]],d=[[1,7],[2,14],[0,18],[6,12],[8,20],[13,19]],ua=new mathlib.Solver(4,2,[[0,[function(d,
h){mathlib.acycle(d,b[h])},"p",6,-1],360],[0,function(d,r){var w=h.set([],d&31),v=Ya.set([],d>>5);v[r]++;mathlib.acycle(w,b[r],1,p[r]);return Ya.get(v)<<5|h.get(w)},2592]]),b=[[0,1,3],[1,2,5],[0,4,2],[3,5,4]],p=[[0,1,0,2],[0,1,0,2],[0,0,1,2],[0,0,1,2]],h=new mathlib.coord("o",6,-2),v=new mathlib.coord("p",6,-1),Ya=new mathlib.coord("o",4,3);scrMgr.reg(["pyro","pyrso","pyrl4e","pyrnb","pyr4c"],function(b){var d="pyro"==b?0:8,h="pyrl4e"==b?2:7;do{if("pyro"==b||"pyrso"==b||"pyr4c"==b){var p=mathlib.rn(360);
var v=mathlib.rn(2592)}else if("pyrl4e"==b)p=mathlib.get8Perm(mathlib.set8Perm([],mathlib.rn(12),4,-1).concat([4,5]),6,-1),v=864*mathlib.rn(3)+mathlib.rn(8);else if("pyrnb"==b){do p=mathlib.rn(360),v=mathlib.rn(2592);while(!r(p,v))}var Ta=ua.search([p,v],0).length;var Ra=ua.toStr(ua.search([p,v],d).reverse(),"ULRB",["'",""])+" ";for(var Va=0;4>Va;Va++){var f=mathlib.rn("pyr4c"==b?2:3);2>f&&(Ra+="lrbu".charAt(Va)+[" ","' "][f],Ta++)}}while(Ta<h);return Ra})})();(function(){function r(d,h){var p=Ya.set([],d%12),f=v.set([],~~(d/12)),r=Ua.set([],h%81);h=w.set([],~~(h/81));for(var Qa=[],n=0;6>n;n++)Qa[5*n]=f[n];mathlib.fillFacelet(ua,Qa,[0,1,2,3],r,5);mathlib.fillFacelet(b,Qa,p,h,5);for(n=0;30>n;n+=5)for(p=1;5>p;p++)if(Qa[n]==Qa[n+p])return!1;return!0}function Sa(b,d){var r=Ya.set([],b%12),f=v.set([],~~(b/12));mathlib.acycle(f,p[d]);mathlib.acycle(r,h[d]);return 12*v.get(f)+Ya.get(r)}function d(b,d){var p=Ua.set([],b%81),f=w.set([],~~(b/81));p[d]++;mathlib.acycle(f,
h[d],1,[0,2,1,3]);return 81*w.get(f)+Ua.get(p)}var ua=[[4,16,7],[1,11,22],[26,14,8],[29,19,23]],b=[[3,6,12],[2,21,17],[27,9,18],[28,24,13]],p=[[0,3,1],[0,2,4],[1,5,2],[3,4,5]],h=[[0,1,2],[0,3,1],[0,2,3],[1,3,2]],v=new mathlib.coord("p",6,-1),Ya=new mathlib.coord("p",4,-1),Ua=new mathlib.coord("o",4,3),w=new mathlib.coord("o",4,-3),Qa=new mathlib.Solver(4,2,[[0,Sa,4320],[0,d,2187]]),Xa=new mathlib.Solver(4,2,[[0,function(b,d){return~~(Sa(12*b,d)/12)},360],[0,function(b,h){return d(b,h)%81},81]]),Wa=
[0,1,2,0,2,1,1,2,0,2,1,0];scrMgr.reg(["skbo","skbso","skbnb"],function(b){var d="skbso"==b?6:2,h="skbo"==b?0:8;do{var f=mathlib.rn(4320);var p=mathlib.rn(2187)}while(0==f&&0==p||Wa[f%12]!=(p+~~(p/3)+~~(p/9)+~~(p/27))%3||null!=Qa.search([f,p],0,d)||"skbnb"==b&&!r(f,p));b=Qa.search([f,p],h).reverse();f=[];p=["L","R","B","U"];for(d=0;d<b.length;d++){h=b[d][0];var w=1-b[d][1];2==h&&mathlib.acycle(p,[0,3,1],w+1);f.push(p[h]+(1==w?"'":""))}return f.join(" ")})(["ivyo","ivyso"],function(b){var d="ivyso"==
b?6:0;do{b=mathlib.rn(360);var h=mathlib.rn(81)}while(0==b&&0==h||null!=Xa.search([b,h],0,1));return Xa.toStr(Xa.search([b,h],d).reverse(),"RLDB","' ")})})();(function(r){function Sa(b,d){mathlib.acycle(b,p[d],1,h[d])}function d(b,d){for(var h=mathlib.set8Perm([],b,7),p=v.set([],d),f=[],r=0;24>r;r++)f[r]=r>>2;mathlib.fillFacelet(Ya,f,h,p,4);for(r=0;24>r;r+=4)if((1<<f[r]|1<<f[r+3])&(1<<f[r+1]|1<<f[r+2]))return!1;return!0}function ua(h,p,Qa){var Ra="222o"==h?0:9;do{var f=2;if("222o"==h||"222so"==h){var z=r(5040);var Za=r(729);f=3}else if("222eg"==h){Za=w[Qa&7];z=[0,2,3,4,5,1][Qa>>3];z=mathlib.set8Perm([0,0,0,0].concat(Xa[z]),r(24),4);z=mathlib.get8Perm(z,
7);var n=r(4);for(Za=v.set([],Za);0<n--;)Sa(Za,0);Za=v.get(Za)}else{if(/^222eg[012]$/.exec(h))return ua("222eg",p,[0,8,40][~~h[5]]+Qa);if("222nb"==h){do z=r(5040),Za=r(729);while(!d(z,Za))}}}while(0==z&&0==Za||null!=b.search([z,Za],0,f));return b.toStr(b.search([z,Za],Ra).reverse(),"URF","'2 ")}var b=new mathlib.Solver(3,3,[[0,[function(b,d){mathlib.acycle(b,p[d])},"p",7],5040],[0,[Sa,"o",7,-3],729]]),p=[[0,2,3,1],[0,1,5,4],[0,4,6,2]],h=[null,[0,1,0,1,3],[1,0,1,0,3]],v=new mathlib.coord("o",7,-3),
Ya=[[3,4,9],[1,20,5],[2,8,17],[0,16,21],[13,11,6],[15,7,22],[12,19,10]],Ua=[1,2,4,4,4,4,4,4,1,2,4,4,4,4,4,4,1,2,4,4,4,4,4,4,1,2,4,4,4,4,4,4,1,2,4,4,4,4,4,4,1,2,4,4,4,4,4,4],w=[0,17,5,14,8,1,2,4],Qa="EG0-O EG0-H EG0-L EG0-Pi EG0-S EG0-T EG0-U EG0-aS EG1B-O EG1B-H EG1B-L EG1B-Pi EG1B-S EG1B-T EG1B-U EG1B-aS EG1L-O EG1L-H EG1L-L EG1L-Pi EG1L-S EG1L-T EG1L-U EG1L-aS EG1F-O EG1F-H EG1F-L EG1F-Pi EG1F-S EG1F-T EG1F-U EG1F-aS EG1R-O EG1R-H EG1R-L EG1R-Pi EG1R-S EG1R-T EG1R-U EG1R-aS EG2-O EG2-H EG2-L EG2-Pi EG2-S EG2-T EG2-U EG2-aS".split(" "),
Xa=[[4,5,6],[4,6,5],[6,5,4],[5,4,6],[5,6,4],[6,4,5]];scrMgr.reg(["222o","222so","222nb"],ua)("222eg0",ua,[Qa.slice(0,8),Ua.slice(0,8)])("222eg1",ua,[Qa.slice(8,40),Ua.slice(8,40)])("222eg2",ua,[Qa.slice(40,48),Ua.slice(40,48)])("222eg",ua,[Qa,Ua])})(mathlib.rn);(function(){function r(b,d){mathlib.acycle(b,[0,d+1])}function Sa(b,d){var h=mathlib.set8Perm([],~~(b/3),4);mathlib.acycle(h,Ya[d]);return 3*mathlib.get8Perm(h,4)+(b%3+(0==d?1:0))%3}function d(b,d,r){return 72*p[r][~~(d/72)]+h[(r+b)%3][d%72]}function ua(b,d,r,Sa){if(0==d)return 0==b[0]&&0==b[1]&&0==b[2]&&0==b[3];if(Math.max(mathlib.getPruning(v[0],72*b[0]+b[1]),mathlib.getPruning(v[1],72*b[0]+b[2]),mathlib.getPruning(v[2],72*b[0]+b[3]))>d)return!1;for(var w=0;3>w;w++)if(w!=r)for(var Qa=b.slice(),
Ra=0;11>Ra;Ra++){Qa[0]=p[w][Qa[0]];for(var Va=1;4>Va;Va++)Qa[Va]=h[(w+Va-1)%3][Qa[Va]];if(ua(Qa,d-1,w,Sa))return Sa.push("URF".charAt(w)+"' 2' 3' 4' 5' 6 5 4 3 2 ".split(" ")[Ra]),!0}}function b(){b=$.noop;mathlib.createMove(h,72,Sa,3);mathlib.createMove(p,24,[r,"p",4],3);for(var ua=0;3>ua;ua++)mathlib.createPrun(v[ua],0,1728,5,d.bind(null,ua),3,12,0)}var p=[],h=[],v=[[],[],[]],Ya=[[0,3,2,1],[0,1],[0,3]];scrMgr.reg(["gearo","gearso"],function(d){b();do{var h=[mathlib.rn(24)];for(var p=0;3>p;p++){do h[p+
1]=mathlib.rn(72);while(15==mathlib.getPruning(v[p],72*h[0]+h[p+1]))}}while(0==h);d="gearso"==d?4:0;for(p=[];!ua(h,d,-1,p);)d++;return p.reverse().join(" ")})})();(function(){var r=new mathlib.Solver(4,1,[[0,function(d,r){var b=mathlib.set8Perm([],d>>4,4);mathlib.acycle(b,Sa[r]);return(mathlib.get8Perm(b,4)<<4)+(d&15^1<<r)},384]]),Sa=[[0,1],[2,3],[0,3],[1,2]];scrMgr.reg("133",function(){var d=1+mathlib.rn(191);d=2*d+((mathlib.getNParity(d>>3,4)^d>>1^d>>2^d)&1);return r.toStr(r.search([d],0),"RLFB",[""])})})();(function(r,Sa){function d(){d=$.noop;for(var h=[],v,ua=0;40320>ua;ua++)b[ua]=[];for(ua=0;40320>ua;ua++)mathlib.set8Perm(h,ua),r(h,0,1,2,3),v=b[0][ua]=Sa(h),r(h,4,5,6,7),v=b[1][v]=Sa(h),r(h,2,5)(h,3,6),v=b[2][v]=Sa(h),r(h,0,5)(h,3,4),b[3][v]=Sa(h);mathlib.createPrun(p,0,40320,12,b,4,3)}function ua(d,v,Ya,Ua,w){if(0==Ya)return 0==d+v;if(mathlib.getPruning(p,d)>Ya)return!1;var h,Xa;for(Xa=0;4>Xa;Xa++)if(Xa!=Ua){var Wa=d;var Ta=v;for(h=0;h<(2>Xa?3:1);h++){Wa=b[Xa][Wa];var Ra=Xa;2>Ra||(Ta=mathlib.set8Perm([],
Ta,3),2==Ra?r(Ta,0,1):3==Ra&&r(Ta,0,2),Ta=Sa(Ta,3));if(ua(Wa,Ta,Ya-1,Xa,w))return w.push(["U","D","R2","F2"][Xa]+(2>Xa?" 2'".charAt(h):"")),!0}}}var b=[],p=[];scrMgr.reg("223",function(){d();do{var b=mathlib.rn(40320);var p=mathlib.rn(6)}while(0==p+b);for(var r=[],Sa=0;99>Sa&&!ua(b,p,Sa,-1,r);Sa++);return r.reverse().join(" ")})})(mathlib.circle,mathlib.get8Perm);var clock=function(r,Sa){function d(b,d,h,p,r){for(var w=b[0].length;p<w;p++)b[h][p]=(b[h][p]+b[d][p]*r)%12}var ua=[[0,1,1,0,1,1,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,0,1,1,0,0,0,0,0],[0,0,0,1,1,0,1,1,0,0,0,0,0,0],[1,1,0,1,1,0,0,0,0,0,0,0,0,0],[1,1,1,1,1,1,0,0,0,0,0,0,0,0],[0,1,1,0,1,1,0,1,1,0,0,0,0,0],[0,0,0,1,1,1,1,1,1,0,0,0,0,0],[1,1,0,1,1,0,1,1,0,0,0,0,0,0],[1,1,1,1,1,1,1,1,1,0,0,0,0,0],[11,0,0,0,0,0,0,0,0,1,0,1,1,0],[0,0,0,0,0,0,11,0,0,0,0,1,1,1],[0,0,0,0,0,0,0,0,11,0,1,1,0,1],[0,0,11,0,0,0,0,0,0,1,
1,1,0,0],[11,0,11,0,0,0,0,0,0,1,1,1,1,0],[11,0,0,0,0,0,11,0,0,1,0,1,1,1],[0,0,0,0,0,0,11,0,11,0,1,1,1,1],[0,0,11,0,0,0,0,0,11,1,1,1,0,1],[11,0,11,0,0,0,11,0,11,1,1,1,1,1]],b=[-1,1,-1,-1,-1,5,-1,7,-1,-1,-1,11],p=[7695,42588,47187,85158,86697,156568,181700,209201,231778],h="UR DR DL UL U R D L ALL".split(" ");scrMgr.reg("clko",function(v){var Ya=[];for(v=0;14>v;v++)Ya[v]=r(12);v=[];v.length=18;if(14==Ya.length&&18==v.length)for(var Ua=15,w=0;w<Sa[18][14];w++){var Qa=w;var Xa=14;for(var Wa=0,Ta=17;0<=
Ta;Ta--)Qa>=Sa[Ta][Xa]&&(Qa-=Sa[Ta][Xa--],Wa|=1<<Ta);Xa=Wa;Qa=!1;for(Wa=0;Wa<p.length;Wa++)if((Xa&p[Wa])==p[Wa]){Qa=!0;break}if(!Qa){Qa=[];for(Wa=Ta=0;18>Wa;Wa++)1==(Xa>>Wa&1)&&(Qa[Ta++]=Wa);Xa=[];for(Ta=0;14>Ta;Ta++){Xa[Ta]=[];for(Wa=0;14>Wa;Wa++)Xa[Ta][Wa]=ua[Qa[Wa]][Ta];Xa[Ta][14]=Ya[Ta]}b:{Wa=Xa;Ta=Wa[0].length;for(var Ra=0;Ra<Ta-1;Ra++){if(-1==b[Wa[Ra][Ra]]){for(var Va=-1,f=Ra+1;14>f;f++)if(-1!=b[Wa[f][Ra]]){Va=f;break}if(-1==Va)c:for(f=Ra;13>f;f++)for(var z=f+1;14>z;z++)if(-1!=b[(Wa[f][Ra]+
Wa[z][Ra])%12]){d(Wa,z,f,Ra,1);Va=f;break c}if(-1==Va){for(f=Ra+1;14>f;f++)if(0!=Wa[f][Ra]){Wa=-1;break b}Wa=Ra+1;break b}f=Wa;z=f[Ra];f[Ra]=f[Va];f[Va]=z}Va=b[Wa[Ra][Ra]];for(f=Ra;f<Ta;f++)Wa[Ra][f]=Wa[Ra][f]*Va%12;for(f=Ra+1;14>f;f++)d(Wa,Ra,f,Ra,12-Wa[f][Ra])}Wa=0}if(0==Wa){Wa=!0;for(Ta=14;14>Ta;Ta++)if(0!=Xa[Ta][14]){Wa=!1;break}if(Wa){Wa=Xa;for(Ta=Wa[0].length-2;0<Ta;Ta--)for(Ra=Ta-1;0<=Ra;Ra--)0!=Wa[Ra][Ta]&&d(Wa,Ta,Ra,Ta,12-Wa[Ra][Ta]);for(Ta=Wa=0;14>Ta;Ta++)0!=Xa[Ta][14]&&Wa++;if(Wa<Ua){for(Ta=
0;18>Ta;Ta++)v[Ta]=0;for(Ta=0;14>Ta;Ta++)v[Qa[Ta]]=Xa[Ta][14];Ua=Wa}}}}}Ya="";for(Ua=0;9>Ua;Ua++)w=v[Ua],0!=w&&(Qa=6>=w,6<w&&(w=12-w),Ya+=h[Ua]+w+(Qa?"+":"-")+" ");Ya+="y2 ";for(Ua=0;9>Ua;Ua++)w=v[Ua+9],0!=w&&(Qa=6>=w,6<w&&(w=12-w),Ya+=h[Ua]+w+(Qa?"+":"-")+" ");v=!0;for(Ua=0;4>Ua;Ua++)1==r(2)&&(Ya+=(v?"":" ")+h[Ua],v=!1);return Ya});return{moveArr:ua}}(mathlib.rn,mathlib.Cnk);(function(){var r=[[0,1,2,3],[0,2,5,4]],Sa=[[0,0,0,0,2],[0,1,0,1,2]],d=new mathlib.Solver(2,3,[[0,function(d,b){var p=d>>3,h=d,v=d<<1|mathlib.getNParity(p,6)^h>>1&1;p=mathlib.set8Perm([],p,6);mathlib.acycle(p,r[b]);0==b&&(h+=2);1==b&&(v+=1);return mathlib.getNPerm(p,6)<<3|h&6|v>>1&1},5760],[0,[function(d,b){mathlib.acycle(d,r[b],1,Sa[b])},"o",6,-2],32]]);scrMgr.reg("lsemu",function(){do{var r=mathlib.rn(5760);var b=mathlib.rn(32)}while(0==b+r);return d.toStr(d.search([r,b],0),"UM"," 2'").replace(/ +/g,
" ")})})();(function(r,Sa,d){function ua(b,f,d,h){void 0==h&&(h=[""]);for(var n=0,p,z=[],w=0;w<d;w++){do p=r(b.length);while(n>>p&1);z.push(b[p]+Sa(h));n&=~f[p];n|=1<<p}return z.join(" ")}function b(b){return" "+Sa([b+"=0",b+"+1",b+"+2",b+"+3",b+"+4",b+"+5",b+"+6",b+"-5",b+"-4",b+"-3",b+"-2",b+"-1"])+" "}function p(){return Sa(["U","d"])+Sa(["U","d"])}function h(b,f,d,h){for(var n=[[0,-1],[1,0],[-1,0],[0,1]],p=0,z=3,w,v=5,ua=[],Qa=0;Qa<f;Qa++){do w=r(4);while(0>p+n[w][0]||3<p+n[w][0]||0>z+n[w][1]||3<z+n[w][1]||
3==w+v);p+=n[w][0];z+=n[w][1];0<ua.length&&ua[ua.length-1][0]==w?ua[ua.length-1][1]++:ua.push([w,1]);v=w}f="";for(Qa=0;Qa<ua.length;Qa++)if(n=b?ua[Qa][0]:3-ua[Qa][0],n=(d?"￪￩￫￬":"ULRD").charAt(n),h)f+=n+(1==ua[Qa][1]?"":ua[Qa][1])+" ";else for(p=0;p<ua[Qa][1];p++)f+=n+" ";return f}function v(b,f){var d="",h,n;for(h=0;h<f;h++){d+="  ";for(n=0;n<b;n++)d+=(0==n%2?"R":"D")+Sa(["++","--"])+" ";d+="U"+(d.endsWith("-- ")?"'\\n":"~\\n")}return d}function Ya(b,f){Ta=[];var d;Ua(1,b,f);var h="";for(d=0;d<Ta[0].length;d++){var n=
Ta[0][d];h=7==n[0]?h+"/":h+(" ("+n[0]+","+n[1]+") ")}return h}function Ua(b,f,d){for(var h=0;h<b;h++){Ra=[1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0];Ta[h]=[];for(var n=0;n<d;){var p=r(12)-5,z=2==f?0:r(12)-5,v=(0==p?0:1)+(0==z?0:1);(n+v<=d||1!=f)&&(0<v||0==n)&&w(p,z)&&(1==f&&(n+=v),0<v&&(Ta[h][Ta[h].length]=[p,z]),n<d||1!=f)&&(n++,Ta[h][Ta[h].length]=[7,0],w(7,0))}}}function w(b,f){var d;if(7==b){for(d=0;6>d;d++)mathlib.circle(Ra,d+6,d+12);return!0}if(Ra[(17-b)%12]||Ra[(11-b)%12]||Ra[12+(17-
f)%12]||Ra[12+(11-f)%12])return!1;var h=Ra.slice(0,12);var n=Ra.slice(12,24);for(d=0;12>d;d++)Ra[d]=h[(12+d-b)%12],Ra[d+12]=n[(12+d-f)%12];return!0}function Qa(b,f){for(var d=0,h=[],n=0;4>n;n++)h[n]=r(3),0<h[n]?(h[n]="ulrb".charAt(n)+["! ","' "][h[n]-1],d++):h[n]="";return b.substr(0,b.length-f*d)+" "+h.join("")}var Xa=["","2","'"],Wa=["","2","'","2'"],Ta=[],Ra=[];scrMgr.reg("444yj",function(b,f){var d=[["U","D"],["R","L","r"],["F","B","f"]],h=[],n=0,p,w="";var v=-1;for(p=0;p<f;p++){var ua=0;do{var Qa=
r(d.length),Ra=r(d[Qa].length);if(Qa!=v||0==h[Ra]){if(Qa==v)h[Ra]=1,ua=r(Xa.length);else{for(v=0;v<d[Qa].length;v++)h[v]=0;v=Qa;h[Ra]=1;ua=r(Xa.length)}0==Qa&&0==Ra&&(n=(n+4+ua)%4);w=1==Qa&&2==Ra?0==n||3==n?w+("l"+Xa[ua]+" "):w+("r"+Xa[ua]+" "):2==Qa&&2==Ra?0==n||1==n?w+("b"+Xa[ua]+" "):w+("f"+Xa[ua]+" "):w+(d[Qa][Ra]+Xa[ua]+" ");ua=1}}while(0==ua)}return w});scrMgr.reg("bic",function(b,f){function d(b){var f=[],d,h,r,z=0;for(d=0;9>d;d++){for(h=r=0;h<f.length;h++)f[h]==p[n[b][d]]&&(r=1);0==r&&(f[f.length]=
p[n[b][d]],0==p[n[b][d]]&&(z=1))}return 5==f.length&&1==z}function h(b,f){for(var d=0;d<f;d++){var h=p[n[b][0]];p[n[b][0]]=p[n[b][6]];p[n[b][6]]=p[n[b][4]];p[n[b][4]]=p[n[b][2]];p[n[b][2]]=h;h=p[n[b][7]];p[n[b][7]]=p[n[b][5]];p[n[b][5]]=p[n[b][3]];p[n[b][3]]=p[n[b][1]];p[n[b][1]]=h}}for(var n=[[0,1,2,5,8,7,6,3,4],[6,7,8,13,20,19,18,11,12],[0,3,6,11,18,17,16,9,10],[8,5,2,15,22,21,20,13,14]],p=[1,1,2,3,3,2,4,4,0,5,6,7,8,9,10,10,5,6,7,8,9,11,11],w="",v=[],ua,Qa,Ra,Ta;v.length<f;){ua=[1,1,1,1];for(Qa=
0;4>Qa;Qa++)1!=ua[Qa]||d(Qa)||(ua[Qa]=0);for(Qa=0;0==Qa;)Ra=r(4),1==ua[Ra]&&(Ta=r(3)+1,h(Ra,Ta),Qa=1);v[v.length]=[Ra,Ta];2<=v.length&&v[v.length-1][0]==v[v.length-2][0]&&(v[v.length-2][1]=(v[v.length-2][1]+v[v.length-1][1])%4,v=v.slice(0,v.length-1));1<=v.length&&0==v[v.length-1][1]&&(v=v.slice(0,v.length-1))}for(ua=0;ua<f;ua++)w+="UFLR"[v[ua][0]]+Xa[v[ua][1]-1]+" ";return w});scrMgr.reg("15p 15pm 15pat clkwca clk clkc clke giga mgmo mgmp mgmc heli redi redim pyrm prcp mpyr r3 r3ni sq1h sq1t sq2 ssq1t bsq -1 333noob lol".split(" "),
function(w,f){var z="";switch(w){case "15p":return h(!1,f);case "15pm":return h(!0,f);case "15pat":return h(!1,f,!0,!0);case "clkwca":var Ra="0+ 1+ 2+ 3+ 4+ 5+ 6+ 1- 2- 3- 4- 5-".split(" ");z="UR? DR? DL? UL? U? R? D? L? ALL? y2 U? R? D? L? ALL?????";for(var n=0;14>n;n++)z=z.replace("?",Sa(Ra));return z.replace("?",Sa([""," UR"])).replace("?",Sa([""," DR"])).replace("?",Sa([""," DL"])).replace("?",Sa([""," UL"]));case "clk":return"UU"+b("u")+"dU"+b("u")+"dd"+b("u")+"Ud"+b("u")+"dU"+b("u")+"Ud"+b("u")+
"UU"+b("u")+"UU"+b("u")+"UU"+b("u")+"dd     "+p()+"\\ndd"+b("d")+"dU"+b("d")+"UU"+b("d")+"Ud"+b("d")+"UU     UU     Ud     dU     UU     dd"+b("d")+p();case "clkc":z="";for(n=0;4>n;n++)z+="("+(r(12)-5)+", "+(r(12)-5)+") / ";for(n=0;6>n;n++)z+="("+(r(12)-5)+") / ";for(n=0;4>n;n++)z+=Sa(["d","U"]);return z;case "clke":return"UU"+b("u")+"dU"+b("u")+"dU"+b("u")+"UU"+b("u")+"UU"+b("u")+"UU"+b("u")+"Ud"+b("u")+"Ud"+b("u")+"dd"+b("u")+"dd     "+p()+"\\nUU     UU     dU"+b("d")+"dU     dd"+b("d")+"Ud     Ud"+
b("d")+"UU     UU"+b("d")+"dd"+b("d")+p();case "giga":z="";for(n=0;n<Math.ceil(f/10);n++){z+="  ";for(Ra=0;10>Ra;Ra++)z+=(0==Ra%2?"Rr".charAt(r(2)):"Dd".charAt(r(2)))+Sa(["+ ","++","- ","--"])+" ";z+="y"+Sa(Wa)+"\\n"}return z;case "mgmo":return ua("F B U D L DBR DL BR DR BL R DBL".split(" "),[1364,2728,1681,2402,2629,1418,2329,1574,1129,2198,421,602],f);case "mgmp":return v(10,Math.ceil(f/10));case "mgmc":z=Math.ceil(f/10);n="";var Va;for(Ra=0;Ra<z;Ra++){n+=" ";for(Va=0;5>Va;Va++)n+=Sa(["+","-"])+
Sa(["+","-"])+" ";n+="U"+Sa(["'\\n","~\\n"])}return n;case "heli":return ua("UF UR UB UL FR BR BL FL DF DR DB DL".split(" "),[154,53,106,197,771,1542,3084,2313,2704,1328,2656,1472],f);case "redi":return ua("LRFBlrfb".split(""),[28,44,67,131,193,194,52,56],f,["","'"]);case "redim":z=[];for(n=0;n<f;n++)z.push(d([["R"],["L"]],["","'"],3+r(3)));return z.join(" x ");case "pyrm":return z=d([["U"],["L"],["R"],["B"]],["!","'"],f),Qa(z,3).replace(/!/g,"");case "prcp":return v(10,Math.ceil(f/10));case "mpyr":return z=
ua("U! L! R! B! Uw Lw Rw Bw".split(" "),[224,208,176,112,238,221,187,119],f,["!","'"]),Qa(z,4).replace(/!/g,"");case "r3":for(n=0;n<f;n++)z+=(0==n?"":"\\n")+(n+1)+") ${333}";return scrMgr.formatScramble(z);case "r3ni":for(n=0;n<f;n++)z+=(0==n?"":"\\n")+(n+1)+") ${333ni}";return scrMgr.formatScramble(z);case "sq1h":return Ya(1,f);case "sq1t":return Ya(0,f);case "sq2":for(n=0;n<f;)if(Ra=r(12)-5,Va=r(12)-5,0!=Ra||0!=Va)n++,z+="("+Ra+","+Va+") / ";return z;case "ssq1t":Ta=[];Ua(2,0,f);n=Ta[0];Ra=Ta[1];
Va="";7==n[0][0]&&(n=[[0,0]].concat(n));7==Ra[0][0]&&(Ra=[[0,0]].concat(Ra));for(z=0;z<f;z++)Va+="("+n[2*z][0]+","+Ra[2*z][0]+","+Ra[2*z][1]+","+n[2*z][1]+") / ";return Va;case "bsq":return Ya(2,f);case "-1":for(n=0;n<f;n++)z+=String.fromCharCode(32+r(224));return z+"Error: subscript out of range";case "333noob":return z=d(SCRAMBLE_NOOBST,SCRAMBLE_NOOBSS.split("|"),f).replace(/t/,"T"),z.substr(0,z.length-2)+".";case "lol":return z=d([["L"],["O"]],0,f),z.replace(/ /g,"")}console.log("Error")})})(mathlib.rn,
mathlib.rndEl,scrMgr.mega);var storage=execMain(function(){function r(b){b=""+b;return String.fromCharCode(47+b.length)+b}function Sa(b,d){return"session_"+r(b)+(void 0==d?"":"_"+r(d))}function d(b){console.log("IndexedDB Error",b||"undefined")}function ua(b,p,r,v){(v=v||h)?(v=v.transaction(["sessions"],b),v.oncomplete=r||$.noop,v.onerror=d,v=v.objectStore("sessions"),p(v)):requestAnimFrame(function(){ua(b,p,r)})}function b(b,d){return new Promise(function(h,r){if(p)ua("readwrite",function(d){d.clear();for(var h=1;h<=~~kernel.getProp("sessionN");h++)for(var p=
mathlib.str2obj(b["session"+h]||[]),r=0;r<(Math.ceil(p.length/100)||1);r++)d.put(p.slice(100*r,100*(r+1)),Sa(h,r))},h,d);else{for(var w=1;w<=~~kernel.getProp("sessionN");w++)localStorage["session"+w]=obj2str(b["session"+w]);h()}})}var p=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB,h,v=/^session_\d(\d+)_\d(\d+)$/;p&&$(function(){var r=p.open("cstimer",1);r.onerror=d;r.onupgradeneeded=function(d){console.log("Update Data From LocalStorage");var h=
d.target.result;h.createObjectStore("sessions").transaction.oncomplete=function(d){b(localStorage,function(){},h)}};r.onsuccess=function(b){h=b.target.result}});return{set:function(b,d,h){return new Promise(function(r,w){p?ua("readwrite",function(p){var r=~~(h/100),w=IDBKeyRange.bound(Sa(b,r),Sa(b+1),!1,!0);for(p["delete"](w);r<(Math.ceil(d.length/100)||1);r++)p.put(d.slice(100*r,100*(r+1)),Sa(b,r))},function(){r(d)}):(localStorage["session"+b]=JSON.stringify(d),r(d))})},get:function(b,d,h){return new Promise(function(r,
w){var v=[];if(p)ua("readonly",function(d){var h=IDBKeyRange.bound(Sa(b),Sa(b+1),!1,!0);d.openCursor(h).onsuccess=function(b){if(b=b.target.result)Array.prototype.push.apply(v,b.value),b["continue"]()}},function(){d=d||0;h=h||v.length;if(0!=d||h!=v.length)v=v.slice(d,h);r(v)});else{var Qa=localStorage["session"+b];void 0!=Qa&&""!=Qa&&(v=JSON.parse(Qa));if(0!=d||h!=v.length)v=v.slice(d,h);r(v)}})},del:function(b,d,h){p?ua("readwrite",function(h){h["delete"](IDBKeyRange.bound(Sa(b),Sa(b+1),!1,!0));
var p=IDBKeyRange.bound(Sa(d),Sa(d+1),!1,!0);h.openCursor(p).onsuccess=function(d){if(d=d.target.result){var p=v.exec(d.key);h.put(d.value,Sa(b,~~p[2]));h["delete"](d.key);d["continue"]()}}},h):(localStorage["session"+b]=localStorage["session"+d],delete localStorage["session"+d],h&&requestAnimFrame(h))},importAll:b,exportAll:function(){return new Promise(function(b,d){var h={};if(p)ua("readonly",function(b){b.openCursor().onsuccess=function(b){if(b=b.target.result){var d=~~v.exec(b.key)[1];h["session"+
d]=h["session"+d]||[];Array.prototype.push.apply(h["session"+d],b.value);b["continue"]()}}},function(){b(h)});else{for(var r=1;r<=~~kernel.getProp("sessionN");r++)void 0!=localStorage["session"+r]&&(h["session"+r]=mathlib.str2obj(localStorage["session"+r]));b(h)}})}}});var TimeStat=execMain(function(){function r(d,ua,b,p){this.avgSizes=d.slice();this.timeAt=b;this.timeSort=p||r.dnfsort;this.reset(ua)}function Sa(d){var r=kernel.getProp("trim","p5");return"p"==r[0]?Math.ceil(d/100*r.slice(1)):"m"==r?Math.max(0,d-1>>1):~~r}r.dnfsort=function(d,r){return d==r?0:0>d?1:0>r?-1:d-r};r.prototype.reset=function(d){this.timesLen=d;this.shouldRecalc=!0};r.prototype.getAllStats=function(){this.genStats();var d=this.timesLen-this.tree.rankOf(-1);return[d,d==this.timesLen?-1:
kernel.round(this.tree.cumSum(this.timesLen-d)/(this.timesLen-d))]};r.prototype.genStats=function(){if(this.shouldRecalc){this.bestAvg=[];this.lastAvg=[];this.bestAvgIndex=[];this.treesAvg=[];this.tree=sbtree.tree(this.timeSort);this.bestTime=this.worstTime=-1;this.bestTimeIndex=this.worstTimeIndex=0;var d=this.timesLen;for(this.timesLen=0;this.timesLen<d;)this.doPushed(!0,this.timesLen!=d-1);this.shouldRecalc=!1}};r.prototype.pushed=function(d){this.genStats();this.doPushed(d)};r.prototype.doPushed=
function(d,r){var b=[];this.timesLen++;var p=this.timesLen-1,h=this.timeAt(p);this.tree.insert(h,p);if(!r){var v=this.bestTime;this.bestTime=0==this.timesLen?-1:this.tree.rank(0);this.bestTimeIndex=this.tree.find(this.bestTime);this.worstTime=0==this.timesLen?-1:this.tree.rank(Math.max(0,this.tree.rankOf(-1)-1));this.worstTimeIndex=this.tree.find(this.worstTime);0>this.timeSort(h,v)&&-1!=v&&b.push("single")}for(v=0;v<this.avgSizes.length;v++){var ua=Math.abs(this.avgSizes[v]);if(this.timesLen<ua)break;
var Ua=0>this.avgSizes[v]?0:Sa(ua),w=ua-2*Ua,Qa=this.treesAvg[v]||sbtree.tree(this.timeSort);if(this.timesLen==ua){for(var Xa=0;Xa<ua;Xa++)Qa.insert(this.timeAt(Xa),Xa);this.bestAvg[v]=[-1,0,-1,-1];this.bestAvgIndex[v]=0;this.lastAvg[v]=[-1,0,-1,-1]}else Qa.remove(this.timeAt(p-ua)).insert(h,p);Xa=Qa.cumSum(ua-Ua)-Qa.cumSum(Ua);var Wa=Math.sqrt((Qa.cumSk2(ua-Ua)-Qa.cumSk2(Ua)-Xa*Xa/w)/(w-1))/1E3;Ua=[Qa.rankOf(-1)<ua-Ua?-1:Xa/w,Wa,Qa.rank(Ua-1),Qa.rank(ua-Ua)];0>this.timeSort(Ua[0],this.bestAvg[v][0])&&
(0<=this.bestAvg[v][0]&&!r&&b.push((0<this.avgSizes[v]?"ao":"mo")+ua),this.bestAvg[v]=Ua,this.bestAvgIndex[v]=p-ua+1);this.lastAvg[v]=Ua;this.treesAvg[v]=Qa}0==b.length||d||logohint.push("Session best "+b.join(" ")+"!")};r.prototype.getMinMaxInt=function(){if(this.getAllStats()[0]==this.timesLen)return null;var d=[100,200,500,1E3,2E3,5E3,1E4,2E4,5E4,1E5];if("a"==kernel.getProp("disPrec")){var r=(this.worstTime-this.bestTime)/10;for(var b=0;b<d.length;b++)if(r<d[b]){r=d[b];break}}else r=d[kernel.getProp("disPrec")];
return[this.worstTime,this.bestTime,r]};r.prototype.runAvgMean=function(d,r,b,p){b=b||r;void 0===p&&(p=Sa(b));if(!(0>d||d+r>this.timesLen)){if(0>=b-p)return[-1,0,-1,-1];for(var h=sbtree.tree(this.timeSort),v=0;v<b;v++)h.insert(this.timeAt(d+v),v);for(var ua=b-2*p,Ua=h.cumSum(b-p)-h.cumSum(p),w=Math.sqrt((h.cumSk2(b-p)-h.cumSk2(p)-Ua*Ua/ua)/(ua-1))/1E3,Qa=[[h.rankOf(-1)<b-p?-1:Ua/ua,w,h.rank(p-1),h.rank(b-p)]],Xa=d-b,Wa=b;Wa<r;Wa++)h.remove(this.timeAt(Xa+Wa)).insert(this.timeAt(d+Wa),v),Ua=h.cumSum(b-
p)-h.cumSum(p),w=Math.sqrt((h.cumSk2(b-p)-h.cumSk2(p)-Ua*Ua/ua)/(ua-1))/1E3,Qa.push([h.rankOf(-1)<b-p?-1:Ua/ua,w,h.rank(p-1),h.rank(b-p)]);return Qa}};r.prototype.getTrimList=function(d,r,b,p){for(var h=[],v=[],ua=Sa(r),Ua=0;Ua<r;Ua++){var w=this.timeAt(d+Ua),Qa=this.timeSort(w,b);w=this.timeSort(p,w);0>Qa?h.push(Ua):0>w?v.push(Ua):0==Qa&&h.length<ua?h.unshift(Ua):0==w&&v.length<ua&&v.unshift(Ua)}return h.slice(-ua).concat(v.slice(-ua))};return r});var stats=execMain(function(r,Sa,d){function ua(b){if(kernel.getProp("delmul")){var d=prompt(STATS_CFM_DELMUL,1);if(null==d||!/^\d+$/.exec(d)||0==~~d)return}else{if(!confirm(STATS_CFM_DELETE))return;d=1}bb.splice(b,~~d);rb.reset(bb.length);wb.reset(bb.length);Db.save(b);zb.updateTable(!1);return!0}function b(b){for(var d=0,f=0,h=0;h<bb.length;h++){var n=bb[h][0];-1==n[0]||n.length<=b?f+=1:d+=z(b,h)}return f==bb.length?-1:d/(bb.length-f)}function p(b,d){switch(b[0]){case 0:return r(b[1]);case -1:return"DNF"+
(d?"("+r(b[1])+")":"");default:return r(b[0]+b[1])+"+"}}function h(b){if(2==b.length)return"";var d=[];d.push(r(b[b.length-1]));for(var f=b.length-2;1<=f;f--)d.push(r(b[f]-b[f+1]));return"="+d.join("+")}function v(b){return"https://alg.cubing.net/?alg="+encodeURIComponent((b[4][0]||"").replace(/@(\d+)/g,"/*$1*/").replace(/-/g,"&#45;"))+"&setup="+encodeURIComponent(b[1]||"")}function Ya(b){b=~~$(b.target).attr("data");var d=rb;0!=b&&(d=new TimeStat(ub,bb.length,z.bind(void 0,b)));db(d,Za,0==b?0:STATS_CURSPLIT.replace("%d",
b))}function Ua(b,f,h){var n=bb[b],z=n[0],v=[];v.push('<td class="times">'+(n[2]&&"*")+(b+1)+'</td><td class="times">'+p(z,!1)+"</td>");n=wb.runAvgMean(b-Eb+1,Eb,0,0<Fb?void 0:0);var w=wb.runAvgMean(b-vb+1,vb,0,0<Kb?void 0:0);v.push("<td"+(n?' class="times"':"")+">"+(n?d(n[0][0]):"-")+"</td><td"+(w?' class="times"':"")+">"+(w?d(w[0][0]):"-")+"</td>");if(1<f){v.push("<td>"+r(z[z.length-1])+"</td>");for(n=z.length-2;1<=n;n--)v.push("<td>"+r(z[n]-z[n+1])+"</td>");for(n=z.length-1;n<f;n++)v.push("<td>-</td>")}v=
v.join("");h&&h.html(v);return'<tr data="'+b+'">'+v+"</tr>"}function w(f){jb.empty().unbind("click").click(Ya);var h=bb.length,n=wb.getAllStats();jb.append('<th colspan="4" data="0" class="times">'+STATS_SOLVE+": "+(h-n[0])+"/"+h+"<br>"+STATS_AVG+": "+d(n[1])+"</th>").css("font-size","1.2em");if(1<f)for(h=1;h<=f;h++)jb.append('<th data="'+h+'" class="times">'+d(b(h))+"</th>").css("font-size","")}function Qa(){if(!Ab){if(kernel.getProp("statsum")){$a.css("display","inline-block");rb.getAllStats();
var b=$("<select>").change(function(b){kernel.setProp("statsrc",$(b.target).val())});b.append($("<option>").val("t").html("time"));var f=["t"];if(1!=xb)for(var h=0;h<xb;h++)b.append($("<option>").val("p"+(h+1)).html("P."+(h+1))),f.push("p"+(h+1));h=kernel.getProp("statsrc","t");-1==f.indexOf(h)?(b.append($("<option>").val("n").html("select")),b.val("n"),f.push("n")):b.val(h);h=[];0<bb.length?(h.push('<td class="times click" data="cs">'+r(rb.timeAt(bb.length-1))+"</td>"),h.push('<td class="times click" data="bs">'+
r(rb.bestTime)+"</td>")):(h.push("<td><span>-</span></td>"),h.push("<td><span>-</span></td>"));for(var n=[],p=0;p<ub.length;p++){var z=Math.abs(ub[p]);bb.length>=z&&(n.push("<tr><th>"+"am"[ub[p]>>>31]+"o"+z+"</th>"),n.push('<td class="times click" data="c'+"am"[ub[p]>>>31]+p+'">'+d(rb.lastAvg[p][0])+"</td>"),n.push('<td class="times click" data="b'+"am"[ub[p]>>>31]+p+'">'+d(rb.bestAvg[p][0])+"</td>"))}sb.empty().append($("<tr>").append("<th></th><th>"+tb[1]+"</th><th>"+tb[0]+"</th>"),$("<tr>").append(1==
f.length?"<th>time</th>":$("<th>").append(b),h.join("")),n.join(""))}else sb.empty(),$a.hide();gb()}}function Xa(){if(!Ab){Qa();Ib.update();Gb.update();Qb.update();Pb.update();var b=bb.length-1,f=wb.runAvgMean(b-Eb+1,Eb,0,0<Fb?void 0:0),h=wb.runAvgMean(b-vb+1,vb,0,0<Kb?void 0:0);kernel.pushSignal("avg",[(0<Fb?"ao":"mo")+Eb+": "+(f?d(f[0][0]):"-"),(0<Kb?"ao":"mo")+vb+": "+(h?d(h[0][0]):"-"),f?[b-Eb+1,Eb,10*Eb,0>Fb]:void 0,h?[b-vb+1,vb,10*vb,0>Kb]:void 0,Ra.bind(void 0,wb,Za)])}}function Wa(){var b=
kernel.getProp("statsrc","t");return"t"==b?Cb:"p"==b[0]?z.bind(void 0,~~b.slice(1)):Cb}function Ta(b,d,f){var n=p(d[0],!0)+h(d[0])+(d[2]?"["+d[2]+"]":"");-1!=$.inArray(b,f)&&(n="("+n+")");kernel.getProp("printScr")&&(n+="   "+d[1]);kernel.getProp("printDate")&&(n+="   @"+mathlib.time2str(d[3]));return kernel.getProp("printScr")||kernel.getProp("printDate")?b+1+". "+n+" \n":n+", "}function Ra(b,f,h,n,p,r){if(0!=b.timesLen){var z=[0,[null],[null]],v=[];0!=h+n&&(r?z=b.runAvgMean(h,n,0,0)[0]:(z=b.runAvgMean(h,
n)[0],v=b.getTrimList(h,n,z[2],z[3])));var w="";if(kernel.getProp("printDate")&&2<n){w=f(h);var ua=f(h+n-1);w=tb[11].replace("%s",mathlib.time2str(w&&w[3])).replace("%e",mathlib.time2str(ua&&ua[3]));w=" ("+w+")"}w=[mathlib.time2str(+new Date/1E3,tb[3])+w+"\n"];1<p&&(2==p?w.push(tb[8]):10==p?w.push(tb[5]):r?w.push(tb[6].replace("%mk",~~(p/10))):w.push(tb[7].replace("%mk",~~(p/10))),w.push(": "+d(z[0])));w.push("\n\n"+tb[10]+"\n");for(p=0;p<n;p++)w.push(Ta(kernel.getProp("absidx")?h+p:p,f(h+p),v));
w=w.join("").slice(0,-2);ib.val(w);kernel.showDialog([ib,cb,void 0,cb,[STATS_EXPORTCSV,function(){Va(b,f,h,n);return!1}]],"stats",STATS_CURROUND);ib[0].select()}}function Va(b,d,f,h){if(0!=b.timesLen){window.Blob||alert("Do not support your browser!");b=["No.;Time;Comment;Scramble;Date"];for(var n=0;n<xb;n++)b[0]+=";P."+(n+1);for(n=0;n<h;n++){var z=d(f+n),w=[];w.push(n+1);w.push(p(z[0],!0));w.push(z[2]?z[2]:"");w.push(z[1]);w.push(mathlib.time2str(z[3]));w.push(r(z[0][z[0].length-1]));for(var v=z[0].length-
2;1<=v;v--)w.push(r(z[0][v]-z[0][v+1]));for(v=z[0].length-1;v<xb;v++)w.push("");for(v=0;v<w.length;v++){z=w;var ua=v,Qa=w[v];Qa=Qa.toString();if(-1!=Qa.indexOf(";")||-1!=Qa.indexOf("\n"))Qa='"'+Qa.replace(/"/g,'""')+'"';z[ua]=Qa}b.push(w.join(";"))}b=b.join("\r\n");d=new Blob([b],{type:"text/csv"});f=$('<a class="click"/>').appendTo("body");f.attr("href",URL.createObjectURL(d));f.attr("download","csTimerExport_"+mathlib.time2str(new Date/1E3,"%Y%M%D_%h%m%s")+".csv");f[0].click();f.remove()}}function f(b,
d,f){f=$(f.target).attr("data");if(void 0!=f){var h=~~f.substr(2);switch(f.substr(0,2)){case "bs":Ra(b,d,b.bestTimeIndex,1,10,!0);break;case "cs":Ra(b,d,b.timesLen-1,1,10,!0);break;case "ws":Ra(b,d,b.worstTimeIndex,1,10,!0);break;case "bm":Ra(b,d,b.bestAvgIndex[h],-ub[h],10*-ub[h],!0);break;case "cm":Ra(b,d,b.timesLen+ub[h],-ub[h],10*-ub[h],!0);break;case "ba":Ra(b,d,b.bestAvgIndex[h],ub[h],10*ub[h],!1);break;case "ca":Ra(b,d,b.timesLen-ub[h],ub[h],10*ub[h],!1);break;case "tt":db(b,d)}}}function z(b,
d){var f=bb[d][0];return-1==f[0]||f.length<=b?-1:Hb*~~((0==b?f[0]+f[1]:f[f.length-b]-(f[f.length-b+1]||0))/Hb)}function Za(b){return bb[b]}function n(b){for(var d=[],f=0;f<b.length;f++)d.push(f);d.sort(function(d,f){var h=b[d][3]||0,n=b[f][3]||0;return h==n?d-f:h-n});for(f=0;f<b.length;f++)d[f]=b[d[f]];return d}function cb(){ib.val("")}function db(b,f,h){var n=b.getAllStats(),p=n[0],z=b.runAvgMean(0,bb.length)[0];n=n[1];var w=b.timesLen,v="";if(kernel.getProp("printDate")&&2<w){v=f(0);var ua=f(w-
1);v=tb[11].replace("%s",mathlib.time2str(v&&v[3])).replace("%e",mathlib.time2str(ua&&ua[3]));v=" ("+v+")"}v=[mathlib.time2str(+new Date/1E3,tb[3])+v];v.push(tb[4].replace("%d",w-p+"/"+w)+"\n");v.push(tb[5]);v.push("    "+tb[0]+": "+r(b.bestTime));v.push("    "+tb[2]+": "+r(b.worstTime)+"\n");for(p=0;p<ub.length;p++)ua=Math.abs(ub[p]),w>=ua&&(v.push(tb[7-(ub[p]>>>31)].replace("%mk",ua)),v.push("    "+tb[1]+": "+d(b.lastAvg[p][0])+" (σ = "+ab(b.lastAvg[p][1],2)+")"),v.push("    "+tb[0]+": "+d(b.bestAvg[p][0])+
" (σ = "+ab(b.bestAvg[p][1],2)+")\n"));v.push(tb[8].replace("%v",d(z[0])).replace("%sgm",ab(z[1],2)).replace(/[{}]/g,""));v.push(tb[9].replace("%v",d(n)+"\n"));if(0!=w){v.push(tb[10]);z=[];for(n=0;n<w;n++)z.push(Ta(n,f(n),[]));z=z.join("").slice(0,-2);v.push(z)}v=v.join("\n");ib.val(v);kernel.showDialog([ib,cb,void 0,cb,[STATS_EXPORTCSV,function(){Va(b,f,0,w);return!1}]],"stats",h||STATS_CURSESSION);ib[0].select()}function ab(b,d){b&&b!=Number.POSITIVE_INFINITY&&b!=Number.NEGATIVE_INFINITY||(b=0);
for(var f=""+Math.round(b*Math.pow(10,d));f.length<d+1;)f="0"+f;var h=f.length;return f.substr(0,h-d)+"."+f.substr(h-d,d)}function kb(b){b=b.split(/[\s,;]+/);for(var d=/([am])o(\d+)/,f=[],h=0;h<b.length;h++){var n=d.exec(b[h]);if(!n)return!1;f.push(("a"==n[1]?1:-1)*~~n[2])}f.sort(function(b,d){return Math.abs(b)-Math.abs(d)});return f}function fb(b){(b=kb(b))?(ub=b,rb=new TimeStat(ub,bb.length,Wa()),wb=new TimeStat([],bb.length,Cb),Lb.updateStatal(ub),Xa()):(kernel.setProp("statal","mo3 ao5 ao12 ao100"),
kernel.reprop())}function lb(b,d){if("time"==b){var f=d;if("string"==typeof f[0]){var h=[f[2],f[1]||Nb,f[0],f[3]||Math.round(((new Date).getTime()-f[2][1])/1E3)];f[4]&&h.push(f[4]);bb.push(h);f=f[2]}else bb.push([f,Nb,"",Math.round(((new Date).getTime()-f[1])/1E3)]);rb.pushed();wb.pushed();Db.save(bb.length-1);f.length-1>xb?zb.updateTable(!0):zb.appendRow(bb.length-1);Xa();kernel.pushSignal("timestd",bb[bb.length-1])}else"scramble"==b||"scrambleX"==b?Nb=d[1]:"property"==b?/^(:?useMilli|timeFormat|stat[12][tl]|statinv)$/.exec(d[0])?
(Hb=kernel.getProp("useMilli")?1:10,Fb=[1,-1][~~kernel.getProp("stat1t")]*kernel.getProp("stat1l"),Kb=[1,-1][~~kernel.getProp("stat2t")]*kernel.getProp("stat2l"),Eb=Math.abs(Fb),vb=Math.abs(Kb),zb.updateTable(!1)):"statsum"==d[0]?Qa():"statal"==d[0]?(f=d[1],"u"==f&&(f="modify"==d[2],h=kernel.getProp("statalu"),f||!/^\s*([am]o\d+[\s,;]*)+\s*$/.exec(h))&&(f=prompt("Statistics Details",h||"mo3 ao5 ao12 ao100"),/^\s*([am]o\d+[\s,;]*)+\s*$/.exec(f)&&kb(f)?kernel.setProp("statalu",f):(null!=f&&alert("INVALID VALUES!"),
kernel.setProp("statal","mo3 ao5 ao12 ao100"),kernel.reprop())),f=kernel.getProp("statal"),fb("u"==f?kernel.getProp("statalu"):f)):"statalu"==d[0]?fb(d[1]):"trim"==d[0]?(rb.reset(bb.length),wb.reset(bb.length),Lb.updateStatal(ub),Xa()):"view"==d[0]?gb():"statHide"==d[0]?d[1]?ob.hide():ob.show():"statsrc"==d[0]?(rb=new TimeStat(ub,bb.length,Wa()),Xa()):"wndStat"==d[0]?gb():"sr_statal"==d[0]&&kernel.setProp("sr_statalu",d[1]):"ctrl"==b&&"stats"==d[0]?"clr"==d[1]?Db.getButton().click():"undo"==d[1]?
Bb.delLast():"OK"==d[1]?Bb.setCfm(0):"+2"==d[1]?Bb.setCfm(2E3):"DNF"==d[1]&&Bb.setCfm(-1):"ashow"!=b||d?"button"==b&&"stats"==d[0]&&d[1]&&setTimeout(gb,50):zb.hideAll()}function gb(){$("html").hasClass("m")?pb.height(Math.max($a.height(),jb.height()+2*nb.height())):null!=pb[0].offsetParent&&pb.outerHeight(~~(hb.height()-(ob.is(":hidden")?0:ob.outerHeight())-$a.outerHeight()-5))}var bb=[],hb=$('<div id="stats" />'),ib=$('<textarea rows="10" readonly />'),pb=$('<div class="myscroll" />'),ob=$("<div>"),
mb=$("<table />").click(function(b){b=$(b.target);if(b.is("td")&&"-"!=b.html()){var d=b.prevAll(),f=d.length;d=~~(0==f?b:d.eq(-1)).html().replace("*","")-1;if(!(4<f||0>f))switch(f){case 0:if(kernel.getProp("rsfor1s")){Ra(rb,Za,d,1,10,!0);break}case 1:Bb.proc(d,b);break;case 2:Ra(rb,Za,d-Eb+1,Eb,10*Eb,0>Fb);break;case 3:Ra(rb,Za,d-vb+1,vb,10*vb,0>Kb)}}}).addClass("table"),nb=$("<tr />"),jb=$("<tr />"),qb=$('<tr class="click" ><th class="click" colspan="15">...</th></tr>'),sb=$('<table class="sumtable" />').click(function(b){f(rb,
Za,b)}).addClass("table"),$a=$('<div class="statc" />'),Ab=!0,zb=function(){function b(b){xb=1;for(b=0;b<bb.length;b++)xb=Math.max(xb,bb[b][0].length-1);nb.empty().append(v,"<th>"+STATS_TIME+"</th><th>"+(0<Fb?"ao":"mo")+Eb+"</th><th>"+(0<Kb?"ao":"mo")+vb+"</th>");if(1<xb)for(b=0;b<xb;b++)nb.append("<th>P."+(b+1)+"</th>");ua=[];Qa=bb.length-1;kernel.getProp("statinv")?mb.empty().append(nb,qb,jb):mb.empty().append(jb,nb,qb);f();0>Qa?qb.unbind("click").hide():qb.unbind("click").click(zb.showAll).show();
v.unbind("click").click(d);w(xb);Xa();pb.scrollTop(kernel.getProp("statinv")?mb[0].scrollHeight:0)}function d(){var d=prompt("Filter Pattern: (23*, 15.1*, comments, scrambles, date)");null!=d&&d!=z&&(z=d?(d+"").replace(/[.\\+*?\[\^\]$(){}=!<>|:\-]/g,"\\$&").replace(/\\\*/g,".*").replace(/\\\?/g,"."):".*",r=new RegExp(z,"g"),b(!0))}function f(){for(var b=ua.length+50,d=[];0<=Qa&&ua.length<b;){var f=bb[Qa];if(r.exec(p(f[0],!0)+h(f[0]))||r.exec(f[1])||r.exec(f[2])||r.exec(mathlib.time2str(f[3])))d.push(Ua(Qa,
xb)),ua.push(Qa);Qa--}kernel.getProp("statinv")?qb.after(d.reverse().join("")):qb.before(d.join(""))}function n(b){f();0>Qa&&qb.unbind("click").hide()}var r=/.*/,z=".*",v=$('<th class="click">').html("&#8981;"),ua=[],Qa=0;return{appendRow:function(d){var f=Ua(d,xb);kernel.getProp("statinv")?(jb.before(f),pb.scrollTop(mb[0].scrollHeight)):(nb.after(f),pb.scrollTop(0));ua.unshift(d);w(xb);50<ua.length&&zb.hideAll();".*"!=z&&(z=".*",r=/.*/,b(!0))},showAll:n,hideAll:function(){for(;50<ua.length;)(kernel.getProp("statinv")?
qb.next():qb.prev()).remove(),Qa=ua.pop();0<Qa&&qb.unbind("click").click(n).show()},updateTable:b,updateFrom:function(b){for(var d=b.attr("data"),f=Math.min(d+Math.max(Eb,vb),bb.length);void 0!==d&&d<f&&0<=d;)Ua(~~d,xb,b),b=kernel.getProp("statinv")?b.next():b.prev(),d=b.attr("data");w(xb)}}}(),Bb=function(){function b(){bb[$a][2]=Sa.val();Db.save($a);Ua($a,xb,cb)}function d(b){b=$(b.target);var d=b.attr("data");d&&("p"==d?(b={" OK ":0," +2 ":2E3," DNF ":-1}[b.html()],r(b,$a,cb)):"d"==d?ua($a)&&($a=
void 0,f()):"s"==d?(b=bb[$a],$.clipboardCopy(b[1])&&logohint.push("scramble copied")):"c"==d&&(b=bb[$a],$.clipboardCopy(p(b[0],!0)+h(b[0])+(b[2]?"["+b[2]+"]":"")+"   "+b[1]+"   @"+mathlib.time2str(b[3]))&&logohint.push("solve copied")))}function f(){kernel.isDialogShown("cfm")&&kernel.hideDialog();mb&&(w.css("font-size","0.8em"),mb.empty().append(w),$a=bb.length-1,cb=kernel.getProp("statinv")?jb.prev():nb.next(),n())}function n(){if(bb[$a]){var f=bb[$a],n="";f[4]&&(n=$('<a target="_blank">'+STATS_REVIEW+
"</a>").addClass("click"),n.attr("href",v(f)),n=$("<tr>").append($("<td>").append(n),$("<td>").append(ab)));w.empty().append(Qa,"<br>",h(f[0]),"<br>").append('<span class="click" data="c"> &#128203; </span>|<span class="click" data="p"> OK </span>|<span class="click" data="p"> +2 </span>|<span class="click" data="p"> DNF </span>| ',Ta).append("<br>",$('<table style="display:inline-block;">').append($("<tr>").append("<td>"+STATS_COMMENT+"</td>",$("<td>").append(Sa)),$("<tr>").append('<td><span class="click" data="s">'+
SCRAMBLE_SCRAMBLE+"</span></td>",$("<td>").append(Wa)),$("<tr>").append("<td>"+STATS_DATE+"</td>",$("<td>").append(Va)),n)).unbind("click").click(d);Qa.html(p(f[0],!0));Wa.val(f[1]);Va.val(mathlib.time2str(f[3]));Sa.val(f[2]).unbind("change").change(b);ab.val(f[4]?JSON.stringify(f[4]):"")}else w.empty()}function r(b,d,f){bb[d][0][0]!=b&&(bb[d][0][0]=b,rb.reset(bb.length),wb.reset(bb.length),Db.save(d),zb.updateFrom(f),Xa(),d==$a&&n(),kernel.pushSignal("timepnt",bb[d]))}function z(b,d){mb=b;void 0!=
b&&f()}var w=$('<div style="text-align:center; font-family: initial;">'),Qa=$('<span style="font-size:2.5em;"/>'),Sa=$('<input type="text">').css("width","8em"),Ta=$('<input type="button" data="d">').val("X"),Wa=$('<input type="text" readonly>').css("width","8em"),Va=$('<input type="text" readonly>').css("width","8em"),ab=$('<input type="text" readonly>').css("width","8em"),$a=0,cb,mb;$(function(){tools.regTool("cfm",TOOLS_CFMTIME,z);kernel.regListener("cfm","session",f)});return{proc:function(b,
d){$a=b;cb=d.parent();n();w.css("font-size","1.2em");kernel.showDialog([w,f,void 0,f,[STATS_SSSTAT,function(){f();Ra(rb,Za,b,1,10,!0)}]],"cfm","Solves No."+(b+1))},delLast:function(){0!=bb.length&&ua(bb.length-1)&&($a=void 0,f())},setCfm:function(b){0!=bb.length&&r(b,bb.length-1,kernel.getProp("statinv")?jb.prev():nb.next())}}}(),xb=0,ub=[-3,5,12,50,100,1E3],rb=new TimeStat(ub,0,Cb),wb=new TimeStat([],0,Cb),tb=STATS_STRING.split("|");for(Sa=0;13>Sa;Sa++)tb[Sa]=tb[Sa]||"";var Lb=function(){function b(b){return-1==
$a[b][0][0]?-1:~~(($a[b][0][0]+$a[b][0][1])/Hb)*Hb}function h(b){return $a[b]}function p(){$a=[];for(var b=Promise.resolve(),f=~~kernel.getProp("sessionN"),h=JSON.parse(kernel.getProp("sessionData")),p=Za.val(),z=Ta.val(),v=-1==Sa.val()?-1:~~(+new Date/1E3)-86400*Sa.val(),w=0;w<f;w++){var ua=Db.rank2idx(w+1);if("*"==p||h[ua].name==p)if("*"==z||(h[ua].opt.scrType||"333")==z)b=b.then(function(b){return new Promise(function(d){storage.get(b).then(function(b){for(var f=0;f<b.length;f++)(b[f][3]||0)<v||
$a.push(b[f]);d()})})}.bind(void 0,ua))}b.then(function(){$a=n($a);Va.reset($a.length);var b=Va.getAllStats(),f=b[0],h=b[1],p=0;for(b=0;b<$a.length;b++)p+=$a[b][0][1];b=[];b.push('<span class="click" data="tt">'+tb[4].replace("%d",Va.timesLen-f+"/"+Va.timesLen)+", "+tb[9].replace("%v",d(h))+"</span>\n");b.push("<span>"+tb[12].replace("%d",r(p))+"</span>\n");b.push(tb[0]+': <span class="click" data="bs">'+r(Va.bestTime)+"</span>");b.push(" | "+tb[2]+': <span class="click" data="ws">'+r(Va.worstTime)+
"</span>\n");f=!1;h='<table class="table"><tr><td></td><td>'+tb[1]+"</td><td>"+tb[0]+"</td></tr>";for(p=0;p<ub.length;p++){var z=Math.abs(ub[p]);Va.timesLen>=z&&(f||(f=!0,b.push(h)),b.push("<tr><td>"+tb[7-(ub[p]>>>31)].replace("%mk",z)),b.push('<td><span class="click" data="c'+"am"[ub[p]>>>31]+p+'">'+d(Va.lastAvg[p][0])+" (σ="+ab(Va.lastAvg[p][1],2)+")</span></td>"),b.push('<td><span class="click" data="b'+"am"[ub[p]>>>31]+p+'">'+d(Va.bestAvg[p][0])+" (σ="+ab(Va.bestAvg[p][1],2)+")</span></td></tr>"))}f&&
b.push("</table>");b=b.join("");Ra.html(b.replace(/\n/g,"<br>"))})}function z(){var b=!1,d=JSON.parse(kernel.getProp("sessionData"));$.each(d,function(d,f){bb[d]&&f.name==bb[d].name&&(f.opt||{}).scrType==(bb[d].opt||{}).scrType||(b=!0)});bb=d;if(b){var f=[],h=[];Za.empty().append($("<option />").val("*").html(STATS_XSESSION_NAME));Ta.empty().append($("<option />").val("*").html(STATS_XSESSION_SCR));$.each(d,function(b,d){var n=d.name;-1==$.inArray(n,f)&&(f.push(n),Za.append($("<option />").val(n).html(n)));
n=(d.opt||{}).scrType||"333";-1==$.inArray(n,h)&&(h.push(n),Ta.append($("<option />").val(n).html(scramble.getTypeName(n))))})}}function v(b,d){(Ua=b)&&!/^scr/.exec(d)&&(z(),b.empty().append(Qa),Wa.unbind("click").click(p),Ra.unbind("click").click(function(b){f(Va,h,b)}))}function w(b,d){"sessionData"==d[0]&&Ua&&z()}var ua=STATS_XSESSION_DATE.split("|"),Qa=$("<div />").css("text-align","center").css("font-size","0.7em"),Ra=$("<div />"),Za=$("<select>"),Sa=$("<select>").append($("<option>").val(-1).html(ua[0]),
$("<option>").val(1).html(ua[1]),$("<option>").val(7).html(ua[2]),$("<option>").val(30).html(ua[3]),$("<option>").val(365).html(ua[4])).val(-1),Ta=$("<select>"),Wa=$('<span class="click">'+STATS_XSESSION_CALC+"</span>"),Va=new TimeStat([],0,b),$a=[],Ua=null,bb={};$(function(){Qa.append(Za,Sa,Ta," ",Wa,"<br>",Ra);"undefined"!=typeof tools&&tools.regTool("hugestats",TOOLS_HUGESTATS,v);kernel.regListener("labelstat","property",w,/^sessionData$/)});return{update:$.noop,updateStatal:function(d){Va=new TimeStat(d,
0,b)}}}(),Ib=function(){function b(){if(p){var b=rb.getAllStats(),f=b[0],h=b[1],z=0;for(b=0;b<bb.length;b++)z+=bb[b][0][1];b=[];b.push('<span class="click" data="tt">'+tb[4].replace("%d",rb.timesLen-f+"/"+rb.timesLen)+", "+tb[9].replace("%v",d(h))+"</span>\n");b.push("<span>"+tb[12].replace("%d",r(z))+"</span>\n");b.push(tb[0]+': <span class="click" data="bs">'+r(rb.bestTime)+"</span>");b.push(" | "+tb[2]+': <span class="click" data="ws">'+r(rb.worstTime)+"</span>\n");f=!1;h='<table class="table"><tr><td></td><td>'+
tb[1]+"</td><td>"+tb[0]+"</td></tr>";for(z=0;z<ub.length;z++){var v=Math.abs(ub[z]);rb.timesLen>=v&&(f||(f=!0,b.push(h)),b.push("<tr><td>"+tb[7-(ub[z]>>>31)].replace("%mk",v)),b.push('<td><span class="click" data="c'+"am"[ub[z]>>>31]+z+'">'+d(rb.lastAvg[z][0])+" (σ="+ab(rb.lastAvg[z][1],2)+")</span></td>"),b.push('<td><span class="click" data="b'+"am"[ub[z]>>>31]+z+'">'+d(rb.bestAvg[z][0])+" (σ="+ab(rb.bestAvg[z][1],2)+")</span></td></tr>"))}f&&b.push("</table>");b=b.join("");n.html(b.replace(/\n/g,
"<br>"))}}function h(d,h){(p=void 0!=d)&&!/^scr/.exec(h)&&(d.empty().append(n.unbind("click").click(function(b){f(rb,Za,b)})),b())}var n=$("<div />").css("text-align","center").css("font-size","0.7em"),p=!1;$(function(){"undefined"!=typeof tools&&tools.regTool("stats",TOOLS_STATS,h)});return{update:b}}(),Cb=z.bind(void 0,0),Gb=function(){function b(){if(h){f.empty();var b=wb.getMinMaxInt();if(b){var d=b[0],n=b[1];b=b[2];d=~~(d/b);n=~~(n/b);for(var p={},z={},v=0,w=z[d+1]=0;w<bb.length;w++){var ua=
Cb(w);-1!=ua?(ua=~~(ua/b),p[ua]=(p[ua]||0)+1,v=Math.max(p[ua],v),z[ua]=w+1):z[d+1]=w+1}for(w=d;w>n;w--)z[w]=Math.max(z[w+1],z[w]||0);ua=[];var Qa=0,Ra=1E3<=b?/[^\.]+(?=\.)/:/[^\.]+\.[\d]/,Za=r(d*b).match(Ra)[0].length;for(w=n;w<=d;w++){n=r(w*b).match(Ra)[0];var Sa=r((w+1)*b).match(Ra)[0];p[w]=p[w]||0;Qa+=p[w];n=mathlib.valuedArray(Za-n.length,"&nbsp;").join("")+n;Sa=mathlib.valuedArray(Za-Sa.length,"&nbsp;").join("")+Sa;ua.push("<tr><td>"+n+'+</td><td><span class="cntbar" style="width: '+p[w]/v*5+
'em;">'+p[w]+"</span></td><td>&nbsp;&lt;"+Sa+'</td><td><span class="cntbar" style="width: '+Qa/bb.length*5+'em; white-space: nowrap;">'+(bb.length-z[w+1])+"/"+Qa+"</span></td></tr>")}f.html('<table style="border:none;">'+ua.join("")+"</table>")}}}function d(d,n){(h=void 0!=d)&&!/^scr/.exec(n)&&(d.empty().append(f),b())}var f=$("<div />"),h=!1;$(function(){"undefined"!=typeof tools&&(kernel.regListener("distribution","property",function(d,f){"disPrec"==f[0]&&b()},/^disPrec$/),kernel.regProp("tools",
"disPrec",1,STATS_PREC,["a",["a",0,1,2,3,4,5,6,7,8,9],STATS_PREC_STR.split("|")],1),tools.regTool("distribution",TOOLS_DISTRIBUTION,d))});return{update:b}}(),Qb=function(){function b(){if(p&&h[0].getContext){n=h[0].getContext("2d");var b=kernel.getProp("imgSize")/10;z=50;h.width(12*b+"em");h.height(6*b+"em");h.attr("width",10*z+1);h.attr("height",5*z+5);w=5*z;z*=10;n.lineWidth=2;n.font="12pt Arial";n.fillStyle=kernel.getProp("col-font");n.fillText("time",50,13);n.strokeStyle="#888";n.beginPath();
n.moveTo(90,7);n.lineTo(150,7);n.stroke();n.fillText((0<Fb?"ao":"mo")+Eb,200,13);n.strokeStyle="#f00";n.beginPath();n.moveTo(240,7);n.lineTo(300,7);n.stroke();n.fillText((0<Kb?"ao":"mo")+vb,350,13);n.strokeStyle="#00f";n.beginPath();n.moveTo(390,7);n.lineTo(450,7);n.stroke();if(b=wb.getMinMaxInt()){var f=b[2],v=Math.ceil(b[0]/f)*f;b=~~(b[1]/f)*f;var ua=v-b,Qa=1E3<=f?/[^\.]+(?=\.)/:/[^\.]+\.[\d]/,Ra=[0,1,1,0,0],Za=[0,0,1,1,0];n.fillStyle="#fff";n.beginPath();n.moveTo(Ra[0]*(z-35)+35,(1-Za[0])*(w-25)+
25);for(var Sa=1;Sa<Ra.length;Sa++)n.lineTo(Ra[Sa]*(z-35)+35,(1-Za[Sa])*(w-25)+25);n.fill();n.closePath();n.fillStyle=kernel.getProp("col-font");n.strokeStyle="#ccc";n.lineWidth=1;n.textAlign="right";for(Ra=b;Ra<=v;Ra+=f)d([0,1],[(Ra-b)/ua,(Ra-b)/ua],"#ccc"),Za=r(Ra).match(Qa)[0],n.fillText(Za,30,(v-Ra)/ua*(w-25)+30);n.lineWidth=2;if(1<bb.length){f=[];v=[];for(Ra=0;Ra<bb.length;Ra++)Qa=Cb(Ra),-1!=Qa&&(f.push(Ra/(bb.length-1)),v.push(Math.max(0,Math.min(1,(Qa-b)/ua))));d(f,v,"#888")}if(bb.length>Eb){f=
[];v=[];Qa=wb.runAvgMean(0,bb.length,Eb,0<Fb?void 0:0);for(Ra=0;Ra<Qa.length;Ra++)-1!=Qa[Ra][0]&&(f.push((Ra+Eb-1)/(bb.length-1)),v.push(Math.max(0,Math.min(1,(Qa[Ra][0]-b)/ua))));d(f,v,"#f00")}if(bb.length>vb){f=[];v=[];Qa=wb.runAvgMean(0,bb.length,vb,0<Kb?void 0:0);for(Ra=0;Ra<Qa.length;Ra++)-1!=Qa[Ra][0]&&(f.push((Ra+vb-1)/(bb.length-1)),v.push(Math.max(0,Math.min(1,(Qa[Ra][0]-b)/ua))));d(f,v,"#00f")}d([0,1,1,0,0],[0,0,1,1,0],"#000")}}}function d(b,d,f){n.strokeStyle=f;n.beginPath();n.moveTo(b[0]*
(z-35)+35,(1-d[0])*(w-25)+25);for(f=1;f<b.length;f++)n.lineTo(b[f]*(z-35)+35,(1-d[f])*(w-25)+25);n.stroke();n.closePath()}function f(d,f){(p=void 0!=d)&&!/^scr/.exec(f)&&(d.empty().append(h),b())}var h=$("<canvas />"),n,p=!1,z,w;$(function(){"undefined"!=typeof tools&&(kernel.regListener("trend","property",function(d,f){"disPrec"==f[0]&&b()},/^disPrec|col-font$/),h[0].getContext&&tools.regTool("trend",TOOLS_TREND,f))});return{update:b}}(),Db=function(){function b(b){ib=b;kernel.setProp("session",
ib);db[ib]=db[ib]||{name:ib,opt:{}};kernel.setSProps(db[ib].opt||{});f();return Za()}function f(){for(var b=1;b<=jb;b++){"object"!=typeof db[b]&&(db[b]={});var d={name:b,opt:{}},f;for(f in d)void 0===db[b][f]&&(db[b][f]=d[f]);db[b].scr&&(db[b].opt.scrType=db[b].scr,delete db[b].scr);db[b].phases&&(db[b].opt.phases=db[b].phases,delete db[b].phases);db[b].rank=db[b].rank||b}h();pb.empty();for(b=0;b<fb.length;b++)pb.append($("<option />").val(fb[b]).html(db[fb[b]].name));pb.append(lb,qb);pb.val(ib)}
function h(){fb=[];for(var b=1;b<=jb;b++)fb.push(b);fb.sort(function(b,d){return db[b].rank-db[d].rank});for(b=0;b<fb.length;b++)db[fb[b]].rank=b+1;kernel.setProp("sessionData",JSON.stringify(db))}function p(b){return db[b].rank+"-"+db[b].name}function r(b,d){$.isNumeric(b)||(b=(db[ib]||{}).rank||jb);ib=++jb;var h=new Date;h=h.getMonth()+1+"."+h.getDate()+" "+Jb;kernel.setProp("sessionN",jb);var n=db[fb[b-1]]||{};db[ib]=void 0===d||d?{name:n.name||h,opt:JSON.parse(JSON.stringify(n.opt||{})),rank:b+
.5}:{name:h,opt:kernel.getSProps(),rank:b+.5};f()}function z(d,f){r(d,f);bb=[];wb.reset(bb.length);rb.reset(bb.length);Sa();b(ib);kernel.blur();kernel.getProp("imrename")&&Qa(ib,!0)}function w(d){d!=jb&&(db[d]=db[jb]);delete db[jb];storage.del(d,jb);jb--;kernel.setProp("sessionN",jb);kernel.setProp("sessionData",JSON.stringify(db));0==jb?z():ib==d?kernel.setProp("session",1):ib==jb+1&&b(d)}function v(b){if(0!=("stat"in db[b]?db[b].stat[0]:1)&&!confirm(STATS_CFM_DELSS.replace("%s",p(b))))return!1;
w(b);return!0}function ua(){confirm(STATS_CFM_RESET)&&(bb=[],rb.reset(),wb.reset(),Sa(),zb.updateTable(!1),kernel.blur())}function Qa(b,d){void 0===b&&(b=ib);var f=prompt(d?STATS_SESSION_NAMEC:STATS_SESSION_NAME,db[b].name);null!=f&&(f=$("<div/>").text(f).html(),db[b].name=f,kernel.setProp("sessionData",JSON.stringify(db)))}function Ra(b,d){Ab=!1;bb=d;rb.reset(bb.length);wb.reset(bb.length);zb.updateTable(!1);db[b]=db[b]||{name:b,opt:{}};db[b].stat=[bb.length].concat(wb.getAllStats());db[b].date=
[(bb[0]||[])[3],(bb[bb.length-1]||[])[3]];kernel.setProp("sessionData",JSON.stringify(db));kernel.isDialogShown("ssmgr")&&cb();kernel.pushSignal("session","load")}function Za(){return storage.get(ib).then(Ra.bind(void 0,ib))}function Sa(b){db[ib].stat=[bb.length].concat(wb.getAllStats());db[ib].date=[(bb[0]||[])[3],(bb[bb.length-1]||[])[3]];kernel.setProp("sessionData",JSON.stringify(db));return storage.set(ib,bb,b)}function Ta(d){d=$(d.target);if(d.is("td, th, select")&&(d.hasClass("click")||d.is("select"))){for(var h=
d.parent();!h.is("tr");)h=h.parent();var n=h.children();5>n.length&&(n=h.prev().children());h=~~n.first().html().replace(/-.*$/,"");n=fb[h-1];switch(d.attr("data")||d.val()){case "r":Qa(n);break;case "u":1!=h&&(db[n].rank--,db[fb[h-2]].rank++,kernel.setProp("sessionData",JSON.stringify(db)));break;case "d":h!=fb.length&&(db[n].rank++,db[fb[h]].rank--,kernel.setProp("sessionData",JSON.stringify(db)));break;case "s":b(n);break;case "+":z(h);break;case "x":v(n);break;case "m":ab(n);break;case "o":$a();
break;case "p":Wa();break;case "e":nb(d.parent());return;case "g":sb=!1;break;case "gn":sb="name";break;case "gs":sb="scr";break;case "v":storage.get(n).then(function(b){Va(new TimeStat([],b.length,function(b,d){return-1==b[d][0][0]?-1:~~((b[d][0][0]+b[d][0][1])/Hb)*Hb}.bind(void 0,b)),function(b,d){return b[d]}.bind(void 0,b),0,b.length)});break;default:return}kernel.blur();f();cb()}}function Wa(){var b=prompt(STATS_PROMPTSPL.replace("%s",p(ib)),~~(bb.length/2));if(null!=b)if(b=~~b,1>b||b>bb.length-
1)alert(STATS_ALERTSPL);else{var d=ib,f=bb.slice(-b);r();storage.set(ib,f).then(function(){ib=d;bb=bb.slice(0,-b);rb.reset();wb.reset();Sa();Ra(ib,bb)})}}function ab(d){if(ib!=d&&confirm(STATS_ALERTMG.replace("%f",p(ib)).replace("%t",p(d)))){var f=ib;storage.get(d).then(function(b){Array.prototype.push.apply(b,bb);return storage.set(d,b)}).then(function(h){delete db[d].stat;db[ib].date=[(h[0]||[])[3],(h[h.length-1]||[])[3]];kernel.setProp("sessionData",JSON.stringify(db));b(d);w(f)})}}function $a(){for(var b=
n(bb),d=0,f=0;f<bb.length;f++)b[f]!=bb[f]&&d++;0==d?logohint.push("Already sorted"):confirm(STATS_SSMGR_SORTCFM.replace("%d",d))&&(bb=b,rb.reset(),wb.reset(),Sa(),Ra(ib,bb))}function Ua(b){var f=fb[b-1],h=db[f],n=["?/?","?"];if("stat"in h){var p=h.stat;n[0]=p[0]-p[1]+"/"+p[0];n[1]=d(p[2])}p=STATS_SSMGR_OPS.split("|");p='<select><option value="">...</option><option value="r">'+p[0]+'</option><option value="+">'+p[1]+'</option><option value="'+(f==ib?'p">'+p[2]:'m">'+p[3])+'</option><option value="x">'+
p[4]+"</option>"+(f==ib?'<option value="o">'+p[5]+"</option>":"")+'<option value="v">'+STATS_EXPORTCSV+"</option></select>";var r=1==b?"<td></td>":'<td class="click" data="u">&#8593;</td>',z=b==fb.length?"<td></td>":'<td class="click" data="d">&#8595;</td>',w="<td>"+scramble.getTypeName(h.opt.scrType||"333")+"</td>",v="<td>"+n[0]+"</td>";n="<td>"+n[1]+"</td>";var ua=mathlib.time2str((db[f].date||[])[1],"%Y-%M-%D");return'<tr class="'+(f==ib?"selected mhide":"mhide")+'"><td class="click" data="s">'+
b+"-"+h.name+(f==ib?"*":"")+"</td>"+v+n+"<td>"+ua+"</td>"+w+"<td>"+(h.opt.phases||1)+"</td>"+r+z+'<td class="seltd">'+p+'</td></tr><tr class="'+(f==ib?"selected ":"")+'mshow t"><td class="click" data="s" rowspan=2>'+b+"-"+h.name+(f==ib?"*":"")+"</td>"+v+w+r+z+'</tr><tr class="'+(f==ib?"selected ":"")+'mshow b">'+n+"<td>"+ua+"&nbsp;"+(h.opt.phases||1)+'P.</td><td class="seltd" colspan=2>'+p+"</td></tr>"}function Xa(b){for(var d=!1,f=[],h=0;h<b.length;h++){var n=fb[b[h]];d=d||ib==n;f.push(db[n].name+
"("+scramble.getTypeName(db[n].opt.scrType||"333")+")")}f=f.join(", ");45<f.length&&(f=f.slice(0,42)+"...");return"<tr"+(d?' class="selected"':"")+'><td class="click" data="e" colspan=9 style="text-align:left;">'+(d?"*":"")+"[+] "+b.length+" session(s): "+f+"</td></tr>"}function nb(b){for(var d=b.next();d.is(":hidden");d=d.next())d.css("display","");b.remove()}function cb(){h();hb.empty().append('<tr class="mhide"><th class="click" data='+("name"==sb?'"g">[+]':'"gn">[-]')+" "+STATS_SSMGR_NAME+"</th><th>"+
STATS_SOLVE+"</th><th>"+STATS_AVG+"</th><th>"+STATS_DATE+'</th><th class="click" data='+("scr"==sb?'"g">[+]':'"gs">[-]')+" "+SCRAMBLE_SCRAMBLE+'</th><th>P.</th><th colspan=3>OP</th></tr><tr class="mshow t"><th rowspan=2 class="click" data='+("name"==sb?'"g">[+]':'"gn">[-]')+" "+STATS_SSMGR_NAME+"</th><th>"+STATS_SOLVE+'</th><th class="click" data='+("scr"==sb?'"g">[+]':'"gs">[-]')+" "+SCRAMBLE_SCRAMBLE+'</th><th colspan=2 rowspan=2>OP</th></tr><tr class="mshow b"><th>'+STATS_AVG+"</th><th>"+STATS_DATE+
" & P.</th></tr>");for(var b=[],d=NaN,f=0;f<fb.length;f++){var n=db[fb[f]];sb&&n[sb]==d?b[b.length-1].push(f):(b.push([f]),d=n[sb])}for(f=0;f<b.length;f++)if(1==b[f].length)hb.append(Ua(b[f][0]+1));else for(hb.append(Xa(b[f])),d=0;d<b[f].length;d++)hb.append($(Ua(b[f][d]+1)).hide());hb.unbind("click").click(Ta).unbind("change").change(Ta)}function mb(){cb();kernel.showDialog([kb,0,void 0,0,[STATS_SSMGR_ORDER,function(){if(!confirm(STATS_SSMGR_ODCFM))return!1;for(var b=[],d=1;d<=jb;d++)b.push(d);b.sort(function(b,
d){var f=scramble.getTypeIdx(db[b].opt.scrType||"333"),h=scramble.getTypeIdx(db[d].opt.scrType||"333");return f==h?db[b].rank-db[d].rank:f-h});for(d=0;d<b.length;d++)db[b[d]].rank=d+1;h();f();cb();return!1}]],"ssmgr",STATS_SSMGR_TITLE)}function Ya(d,h){if("property"==d)"set"==h[2]||"session"==h[2]||h[0].startsWith("session")||(db[ib].opt=kernel.getSProps(),kernel.setProp("sessionData",JSON.stringify(db))),"session"==h[0]&&~~h[1]!=ib?b(h[1]):"sessionData"==h[0]?(db=JSON.parse(h[1]),"set"!=h[2]&&f()):
"sessionN"==h[0]?jb=h[1]:"scrType"==h[0]?(Jb=h[1],"modify"==h[2]&&kernel.getProp("scr2ss")&&z(void 0,!1)):"statclr"==h[0]&&(h[1]?ob.val("X").unbind("click").click(ua):ob.val("+").unbind("click").click(z));else if("ctrl"==d&&"stats"==h[0]){var n=db[ib].rank;"+"==h[1]&&n<jb?kernel.setProp("session",fb[n]):"-"==h[1]&&1<n&&kernel.setProp("session",fb[n-2])}}var jb=15,ib=-1,kb=$("<div />"),hb=$("<table />").appendTo(kb).addClass("table ssmgr"),ob=$('<input type="button">').val("+"),db,fb,lb=$("<option />").val("new").html("New.."),
qb=$("<option />").val("del").html("Delete.."),pb=$("<select />").change(function(){kernel.blur();"new"==pb.val()?z(jb,!1):"del"==pb.val()?v(ib)||pb.val(ib):b(~~pb.val())}),sb=!1;$(function(){kernel.regListener("ssmgr","property",Ya);kernel.regListener("ssmgr","ctrl",Ya,/^stats$/);kernel.regProp("stats","sessionN",-6,"Number of Sessions",[15]);kernel.regProp("stats","sessionData",-6,"Session Data",["{}"]);jb=kernel.getProp("sessionN");db=JSON.parse(kernel.getProp("sessionData"));f();kernel.setProp("sessionData",
JSON.stringify(db));kernel.regProp("stats","session",-6,"Current Session Index",[1])});return{getSelect:function(){return pb},showMgrTable:mb,importSessions:function(d){if(d&&0!=d.length){for(var h=ib,n=0;n<d.length;n++){var p=d[n],r=kernel.getSProps(),z;for(z in p.opt)r[z]=p.opt[z];ib=++jb;db[ib]={name:p.name||ib,opt:r,rank:jb};kernel.setProp("sessionN",jb);bb=p.times;rb.reset(bb.length);wb.reset(bb.length);Sa()}f();b(h);mb();logohint.push("Import %d session(s)".replace("%d",d.length));return d.length}},
getButton:function(){return ob},rank2idx:function(b){return fb[b-1]},load:Za,save:Sa}}(),Pb=function(){function b(b){b-=Za;var d=new Date(1E3*b);switch(Sa){case "d":return~~(b/86400);case "w":return~~((b/86400-Qa.val())/7);case "m":return 12*d.getFullYear()+d.getMonth();case "y":return d.getFullYear()}}function d(b){switch(Sa){case "d":return mathlib.time2str(86400*b+Za,"%Y-%M-%D");case "w":return mathlib.time2str(86400*(7*b+~~Qa.val())+Za,"Start@ %Y-%M-%D");case "m":return~~(b/12)+"-"+("0"+(b%12+
1)).slice(-2);case "y":return""+b}}function f(){for(var d=Promise.resolve(),f=[],h=~~kernel.getProp("sessionN"),n=0;n<h;n++){var p=Db.rank2idx(n+1);d=d.then(function(d){return new Promise(function(h){storage.get(d).then(function(n){f[d]={};for(var p=0;p<n.length;p++)if(n[p][3]){var r=b(n[p][3]);f[d][r]=f[d][r]||[0,0];f[d][r][0]+=1;f[d][r][1]+=-1!=n[p][0][0]}h()})})}.bind(void 0,p))}return d.then(function(){Ra=f})}function h(b){b=$(b.target).html();"&gt;"==b?Va--:"&lt;"==b?Va=Math.min(Va+1,0):"+"==
b?Wa++:"-"==b&&(Wa=Math.max(1,Wa-1));n()}function n(){if(Xa){var b=$('<table class="table">');nb.empty().append("Period",z.unbind("change").change(r)," Start of day",w.unbind("change").change(r)," week",Qa.unbind("change").change(r),"<br>",b);for(var f=JSON.parse(kernel.getProp("sessionData")),n=~~kernel.getProp("sessionN"),p=$("<tr>").append($a.unbind("click").click(h),ab.unbind("click").click(h)),v=$("<tr>").append(Ua.unbind("click").click(h),bb.unbind("click").click(h)),ua=0;ua<Wa;ua++)p.append($("<td rowspan=2>").html(d(Ta-
ua+Va).replace(" ","<br>")));b.append(p,v);for(ua=0;ua<n;ua++)if(p=Db.rank2idx(ua+1),0!=Object.keys(Ra[p]||{}).length){v=$("<tr>").append($("<td colspan=2>").html(f[p].name));for(var Za=0;Za<Wa;Za++){var Sa=Ra[p][Ta-Za+Va];v.append($("<td>").html(Sa?Sa[1]+"/"+Sa[0]:"-"))}b.append(v)}}}function p(b,d){Xa=!!b;b&&!/^scr/.exec(d)&&(b.empty().append(nb),r())}function r(){Xa&&(Sa=z.val(),Za=3600*w.val()+60*(new Date).getTimezoneOffset(),Ta=b(+new Date/1E3),f().then(n))}for(var z=$("<select>").append($("<option>").val("d").html("day"),
$("<option>").val("w").html("week"),$("<option>").val("m").html("month"),$("<option>").val("y").html("year")).val("d"),w=$("<select>"),v=0;24>v;v++){var ua=("0"+v).slice(-2)+":00";w.append($("<option>").val(v).html(ua))}var Qa=$("<select>").append($("<option>").val(3).html("Sun"),$("<option>").val(4).html("Mon"),$("<option>").val(5).html("Tue"),$("<option>").val(6).html("Wed"),$("<option>").val(0).html("Thu"),$("<option>").val(1).html("Fri"),$("<option>").val(2).html("Sat")).val(3),Ra=[],Za,Sa,Ta,
Va=0,Wa=3,ab=$('<td class="click">').html("&gt;"),$a=$('<td class="click">').html("&lt;"),Ua=$('<td class="click">').html("+"),bb=$('<td class="click">').html("-");$("<td colspan=1>");var Xa=!1,nb=$("<div />").css("text-align","center").css({"font-size":"0.7em","max-height":"20em","overflow-y":"auto"});$(function(){"undefined"!=typeof tools&&tools.regTool("dlystat","Daily Statistics",p);kernel.regListener("dlystat","property",n,/^sessionData$/)});return{update:r}}(),Nb="",Fb,Kb,Eb,vb,Jb="333",Hb=
1;$(function(){kernel.regListener("stats","time",lb);kernel.regListener("stats","scramble",lb);kernel.regListener("stats","scrambleX",lb);kernel.regListener("stats","property",lb,/^(:?useMilli|timeFormat|stat(:?sum|[12][tl]|alu?|inv|Hide|src)|session(:?Data)?|scrType|phases|trim|view|wndStat|sr_.*)$/);kernel.regListener("stats","ctrl",lb,/^stats$/);kernel.regListener("stats","ashow",lb);kernel.regListener("stats","button",lb);kernel.regProp("stats","trim",1,PROPERTY_TRIM,["p5","1 p1 p5 p10 p20 m".split(" "),
["1","1%","5%","10%","20%",PROPERTY_TRIM_MED]],1);kernel.regProp("stats","statsum",0,PROPERTY_SUMMARY,[!0],1);kernel.regProp("stats","printScr",0,PROPERTY_PRINTSCR,[!0],1);kernel.regProp("stats","printDate",0,PROPERTY_PRINTDATE,[!1],1);kernel.regProp("stats","imrename",0,PROPERTY_IMRENAME,[!1],1);kernel.regProp("stats","scr2ss",0,PROPERTY_SCR2SS,[!1]);kernel.regProp("stats","statinv",0,PROPERTY_STATINV,[!1],1);kernel.regProp("stats","statclr",0,STATS_STATCLR,[!0],1);kernel.regProp("stats","absidx",
0,STATS_ABSIDX,[!1],1);hb.append(ob.append($('<span class="click" />').html(STATS_SESSION).click(Db.showMgrTable),Db.getSelect(),Db.getButton()),$a.append(sb),$('<div class="stattl">').append(pb.append(mb)));$(window).bind("resize",gb);mb.append(nb,jb);kernel.addWindow("stats",BUTTON_TIME_LIST,hb,!0,!0,4);pb.bind("scroll",function(){var b=pb[0];b.scrollHeight-b.scrollTop<b.clientHeight+5&&!kernel.getProp("statinv")&&qb.click()});var b=STATS_TYPELEN.split("|");kernel.regProp("stats","stat1t",1,b[0].replace("%d",
1),[0,[0,1],b.slice(2)],1);kernel.regProp("stats","stat1l",2,b[1].replace("%d",1),[5,3,1E3],1);kernel.regProp("stats","stat2t",1,b[0].replace("%d",2),[0,[0,1],b.slice(2)],1);kernel.regProp("stats","stat2l",2,b[1].replace("%d",2),[12,3,1E3],1);kernel.regProp("stats","rsfor1s",0,STATS_RSFORSS,[!1]);kernel.regProp("stats","statalu",5,PROPERTY_STATALU,["mo3 ao5 ao12 ao100"],1);kernel.regProp("stats","statal",1,PROPERTY_STATAL,["mo3 ao5 ao12 ao100",["mo3 ao5 ao12 ao100","mo3 ao5 ao12 ao25 ao50 ao100",
"mo3 ao5 ao12 ao25 ao50 ao100 ao200 ao500 ao1000 ao2000 ao5000 ao10000","u"],["mo3 ao5 ao12 ao100","mo3 ao5 ao12 ao25 ao50 ao100","mo3 ao5 ao12 ao25 ao50 ao100 ao200 ao500 ao1000 ao2000 ao5000 ao10000","Custom"]],1);kernel.regProp("stats","delmul",0,PROPERTY_DELMUL,[!0]);kernel.regProp("ui","statHide",-1,"Hide Session Title",[!1]);kernel.setProp("sr_statalu",kernel.getProp("sr_statal"))});return{importSessions:Db.importSessions,getReviewUrl:v,pretty:p}},[kernel.pretty,kernel.round,kernel.pround]);var tools=execMain(function(){function r(b,d){if(-1==b)for(var f=0;f<kernel.getProp("NTools");f++)r(f,d);else if(!Ya){for(f in Va)Va[f]();w[b].empty()}else for(f in Va)if(f==Qa[b])Va[f](w[b],d)}function Sa(b,d){for(var f in Va)if(f==Qa[b])Va[f](void 0,d)}function d(b){if(/^222(so|[236o]|eg[012]?|nb)$/.exec(b))return"222";if(/^(333(oh?|ni|f[mt])?|(z[zb]|[coep]|cm|2g|ls)?ll|lse(mu)?|2genl?|3gen_[LF]|edges|corners|f2l|lsll2|zbls|roux|RrU|half|easyc|eoline)$/.exec(b))return"333";if(/^(444([mo]|wca|yj|bld)?|4edge|RrUu)$/.exec(b))return"444";
if(/^(555(wca|bld)?|5edge)$/.exec(b))return"555";if(/^(666(si|[sp]|wca)?|6edge)$/.exec(b))return"666";if(/^(777(si|[sp]|wca)?|7edge)$/.exec(b))return"777";if(/^888$/.exec(b))return"888";if(/^999$/.exec(b))return"999";if(/^101010$/.exec(b))return"101010";if(/^111111$/.exec(b))return"111111";if(/^cubennn$/.exec(b))return"cubennn";if(/^pyr(s?[om]|l4e|nb|4c)$/.exec(b))return"pyr";if(/^skb(s?o|nb)?$/.exec(b))return"skb";if(/^sq(rs|1[ht]|rcsp)$/.exec(b))return"sq1";if(/^clk(wca|o)$/.exec(b))return"clk";
if(/^mgmp$/.exec(b))return"mgm";if(/^15p(at|ra?p?)?$/.exec(b))return"15p";if(/^15p(rmp|m)$/.exec(b))return"15b";if(/^8p(at|ra?p?)?$/.exec(b))return"8p";if(/^8p(rmp|m)$/.exec(b))return"8b"}function ua(b,d){DEBUG&&console.log("[func select]",b,d);kernel.blur();for(var f=void 0===b?4:b+1,h=void 0===b?0:b;h<f;h++){var p=Wa[h].getSelected();Qa[h]!=p&&(Sa(h,"property"),Qa[h]=p,kernel.setProp("toolsfunc",JSON.stringify(Qa)),r(h,"property"))}}function b(b,d){if("property"==b)if("imgSize"==d[0]||/^col/.exec(d[0]))for(var f=
0;f<kernel.getProp("NTools");f++)"image"==Qa[f]&&r(f,b);else if("NTools"==d[0])for(f=0;4>f;f++)f<d[1]?(Ua[f].show(),""==w[f].html()&&r(f,b)):(Ua[f].hide(),Sa(f,b));else if("toolHide"==d[0]){f=!d[1];for(var h=0;4>h;h++)f?Xa[h].show():Xa[h].hide()}else{if("toolsfunc"==d[0]&&"session"==d[2]){h=JSON.parse(d[1]);for(f=0;4>f;f++)Wa[f].loadVal(h[f]);ua()}}else if("scramble"==b||"scrambleX"==b)v=d,r(-1,b);else if("button"==b&&"tools"==d[0])if(Ya=d[1])for(f=0;f<kernel.getProp("NTools");f++)Ya&&""==w[f].html()&&
r(f,b);else r(-1,b)}function p(b){$(b.target).hasClass("click")||$(b.target).is("input, textarea, select")||kernel.setProp("toolHide",!1)}function h(b){b=$(this);if("a"==b.attr("data"))b.prevAll().show(),b.prev().hide(),b.hide();else if("n"==b.attr("data")){var d=b.prevAll(":hidden");d.last().show();1==d.length&&(b.next().hide(),b.hide())}}for(var v=["-","",0],Ya=!1,Ua=[],w=[],Qa=["image","stats","cross"],Xa=[],Wa=[],Ta=[],Ra=0;4>Ra;Ra++)w[Ra]=$("<div />"),Xa[Ra]=$("<span />"),Wa[Ra]=new kernel.TwoLvMenu(Ta,
ua.bind(null,Ra),$("<select />"),$("<select />")),Ua[Ra]=$("<div />").css("display","inline-block");$(function(){kernel.regListener("tools","property",b,/^(?:imgSize|image|toolsfunc|NTools|col(?:cube|pyr|skb|sq1|mgm)|toolHide)$/);kernel.regListener("tools","scramble",b);kernel.regListener("tools","scrambleX",b);kernel.regListener("tools","button",b,/^tools$/);for(var d=$('<div id="toolsDiv"/>'),h=0;4>h;h++)w[h].click(p),Xa[h].append("<br>",TOOLS_SELECTFUNC,Wa[h].select1,Wa[h].select2),Ua[h].append(w[h],
Xa[h]).appendTo(d),1==h&&d.append("<br>");kernel.regProp("tools","solSpl",0,PROPERTY_HIDEFULLSOL,[!1]);kernel.regProp("tools","imgSize",2,PROPERTY_IMGSIZE,[15,5,50]);kernel.regProp("tools","NTools",2,PROPERTY_NTOOLS,[1,1,4]);h=JSON.stringify(["image","stats","cross","distribution"]);kernel.regProp("tools","toolsfunc",5,PROPERTY_TOOLSFUNC,[h],1);var r=kernel.getProp("toolsfunc",h);-1==r.indexOf("[")&&(r=h.replace("image",r),kernel.setProp("toolsfunc",r));Qa=JSON.parse(r);kernel.addWindow("tools",BUTTON_TOOLS,
d,!1,!0,6);kernel.regProp("ui","toolHide",-1,"Hide Tools Selector",[!1])});var Va={};return{regTool:function(b,d,h){DEBUG&&console.log("[regtool]",b,d);Va[b]=h;d=d.split(">");if(2==d.length){h=-1;for(var f=0;f<Ta.length;f++)if(Ta[f][0]==d[0]&&$.isArray(Ta[f][1])){h=f;break}-1!=h?Ta[h][1].push([d[1],b]):Ta.push([d[0],[[d[1],b]]])}else Ta.push([d[0],b]);for(f=0;4>f;f++)Wa[f].reset(Qa[f])},getCurScramble:function(){return v},getSolutionSpan:function(b){for(var d=$("<span />"),f=0;f<b.length;f++)d.append('<span style="display:none;">&nbsp;'+
b[f]+"</span>");kernel.getProp("solSpl")?(d.append($('<span class="click" data="n">[+1]</span>').click(h)),d.append($('<span class="click" data="a">['+b.length+"f]</span>").click(h))):d.children().show();return d},scrambleType:function(b){return null==b.match(/^([\d]?[xyzFRUBLDfrubldSME]([w]|&sup[\d];)?[2']?\s*)+$/)?"-":b.match(/^([xyzFRU][2']?\s*)+$/)?"222o":b.match(/^([xyzFRUBLDSME][2']?\s*)+$/)?"333":b.match(/^(([xyzFRUBLDfru]|[FRU]w)[2']?\s*)+$/)?"444":b.match(/^(([xyzFRUBLDfrubld])[w]?[2']?\s*)+$/)?
"555":"-"},puzzleType:d,isPuzzle:function(b,h){h=h||v;var f=d(h[0]);h=h[1];return f?f==b:"222"==b?h.match(/^([xyzFRU][2']?\s*)+$/):"333"==b?h.match(/^([xyzFRUBLDSME][2']?\s*)+$/):"444"==b?h.match(/^(([xyzFRUBLDfru]|[FRU]w)[2']?\s*)+$/):"555"==b?h.match(/^(([xyzFRUBLDfrubld])[w]?[2']?\s*)+$/):"skb"==b?h.match(/^([RLUB]'?\s*)+$/):"pyr"==b?h.match(/^([RLUBrlub]'?\s*)+$/):"sq1"==b?h.match(/^$/):!1}}});var image=execMain(function(){function r(b){var d=b[0];"input"==d&&(d=tools.scrambleType(b[1]));d=tools.puzzleType(d);var f;for(f=0;12>f;f++)if(d==Va[f])return Ta(f,b[1]),!0;return"cubennn"==d?(Ta(b[2],b[1]),!0):"pyr"==d?(Wa(b[1]),!0):"skb"==d?(Xa(b[1]),!0):"sq1"==d?(Qa(b[1]),!0):"clk"==d?(w(b[1]),!0):"mgm"==d?(Ua(b[1]),!0):"15b"==d||"15p"==d?(Ra(d[2],4,b[1]),!0):"8b"==d||"8p"==d?(Ra(d[1],3,b[1]),!0):!1}function Sa(b){b&&(d=$("<canvas>"),ua=d[0].getContext("2d"),b.empty().append(d),r(tools.getCurScramble())||
b.html(IMAGE_UNAVAILABLE))}var d,ua,b=Math.sqrt(3)/2,p=Math.PI,h=$.ctxRotate,v=$.ctxTransform,Ya=$.ctxDrawPolygon,Ua=function(){function b(b,d,f,n){for(var r=0;5>r;r++)Ya(ua,Xa[b[d+r]],h([Ra,Sa],2*p/5*r+n),f),Ya(ua,Xa[b[d+r+5]],h([Ta,Va],2*p/5*r+n),f);Ya(ua,Xa[b[d+10]],h([Wa,Ua],n),f)}var r=[[4,0,1,2,3,9,5,6,7,8,10,11,12,13,58,59,16,17,18,63,20,21,22,23,24,14,15,27,28,29,19,31,32,33,34,35,25,26,38,39,40,30,42,43,44,45,46,36,37,49,50,51,41,53,54,55,56,57,47,48,60,61,62,52,64,65,66,67,68,69,70,71,72,
73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131],[81,77,78,3,4,86,82,83,8,85,87,122,123,124,125,121,127,128,129,130,126,131,89,90,24,25,88,94,95,29,97,93,98,33,34,35,36,37,38,39,40,41,42,43,44,26,22,23,48,30,31,27,28,53,32,69,70,66,67,68,74,75,71,72,73,76,101,102,103,99,100,106,107,108,104,105,109,46,47,79,80,45,51,52,84,49,50,54,0,1,2,91,
92,5,6,7,96,9,10,15,11,12,13,14,20,16,17,18,19,21,113,114,110,111,112,118,119,115,116,117,120,55,56,57,58,59,60,61,62,63,64,65],[0,1,2,3,4,5,6,7,8,9,10,33,34,35,14,15,38,39,40,19,42,43,44,45,46,25,26,49,50,51,30,53,54,55,56,57,36,37,60,61,62,41,64,65,11,12,13,47,48,16,17,18,52,20,21,22,23,24,58,59,27,28,29,63,31,32,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,
124,125,121,122,123,129,130,126,127,128,131]],n=(Math.sqrt(5)+1)/2,v=.25/Math.tan(p/5),w=2.6+3*Math.cos(.1*p)*n,Qa=2.2+1*Math.sin(.1*p)*n,Ra=[0,v,0,-v],Sa=[-1,-.75,-.5,-.75],Ta=[Math.cos(.1*p)-v,v,0,.5*Math.sin(.4*p)],Va=[-Math.sin(.1*p)+-.25,-.75,-.5,.5*-Math.cos(.4*p)],Wa=[.5*Math.sin(0*p),.5*Math.sin(.4*p),.5*Math.sin(.8*p),.5*Math.sin(1.2*p),.5*Math.sin(1.6*p)],Ua=[.5*-Math.cos(0*p),.5*-Math.cos(.4*p),.5*-Math.cos(.8*p),.5*-Math.cos(1.2*p),.5*-Math.cos(1.6*p)],Xa="#fff #d00 #060 #81f #fc0 #00b #ffb #8df #f83 #7e0 #f9f #999".split(" "),
pb=/[RD][+-]{2}|U'?/;return function(h){Xa=kernel.getProp("colmgm").match(f);for(var v=[],z=0;12>z;z++)for(var Ra=0;11>Ra;Ra++)v[11*z+Ra]=z;h=h.split(/\s+/);for(z=0;z<h.length;z++)if(Ra=pb.exec(h[z])){var Sa="URD".indexOf(Ra[0][0]),Ta=/[-']/.exec(Ra[0][1]);Ra=v;Sa=r[Sa];var Va=Ra.slice();if(Ta)for(Ta=0;132>Ta;Ta++)Ra[Sa[Ta]]=Va[Ta];else for(Ta=0;132>Ta;Ta++)Ra[Ta]=Va[Sa[Ta]]}z=kernel.getProp("imgSize")/7.5;d.width(7*z+"em");d.height(3.5*z+"em");d.attr("width",392);d.attr("height",196);b(v,0,[40,2.6+
0*n,2.2+0*n],0*p);b(v,11,[40,2.6+Math.cos(.1*p)*n,2.2+Math.sin(.1*p)*n],.2*p);b(v,22,[40,2.6+Math.cos(.5*p)*n,2.2+Math.sin(.5*p)*n],.6*p);b(v,33,[40,2.6+Math.cos(.9*p)*n,2.2+Math.sin(.9*p)*n],1*p);b(v,44,[40,2.6+Math.cos(1.3*p)*n,2.2+Math.sin(1.3*p)*n],1.4*p);b(v,55,[40,2.6+Math.cos(1.7*p)*n,2.2+Math.sin(1.7*p)*n],1.8*p);b(v,66,[40,w+Math.cos(.7*p)*n,Qa+Math.sin(.7*p)*n],0*p);b(v,77,[40,w+Math.cos(.3*p)*n,Qa+Math.sin(.3*p)*n],1.6*p);b(v,88,[40,w+Math.cos(1.9*p)*n,Qa+Math.sin(1.9*p)*n],1.2*p);b(v,
99,[40,w+Math.cos(1.5*p)*n,Qa+Math.sin(1.5*p)*n],.8*p);b(v,110,[40,w+Math.cos(1.1*p)*n,Qa+Math.sin(1.1*p)*n],.4*p);b(v,121,[40,w+0*n,Qa+0*n],1*p);ua&&(ua.fillStyle="#000",ua.font="20px serif",ua.textAlign="center",ua.textBaseline="middle",ua.fillText("U",104,88),ua.fillText("F",104,40*(2.2+Math.sin(.5*p)*n)))}}(),w=function(){var b=/([UD][RL]|ALL|[UDRLy])(\d[+-]?)?/,f="UR DR DL UL U R D L ALL".split(" ");return function(n){var r=n.split(/\s+/),z=clock.moveArr,w=9;n=[0,0,0,0];for(var Qa=[0,0,0,0,0,
0,0,0,0,0,0,0,0,0],Ra=0;Ra<r.length;Ra++){var Sa=b.exec(r[Ra]);if(Sa)if("y2"==Sa[0])w=0;else{var Ta=f.indexOf(Sa[1])+w;if(void 0==Sa[2])n[Ta%9]=1;else{var Va=~~Sa[2][0];Va="+"==Sa[2][1]?Va:12-Va;for(Sa=0;14>Sa;Sa++)Qa[Sa]=(Qa[Sa]+z[Ta][Sa]*Va)%12}}}Qa=[Qa[0],Qa[3],Qa[6],Qa[1],Qa[4],Qa[7],Qa[2],Qa[5],Qa[8],12-Qa[2],Qa[10],12-Qa[8],Qa[9],Qa[11],Qa[13],12-Qa[0],Qa[12],12-Qa[6]];n=[n[3],n[2],n[0],n[1],1-n[0],1-n[1],1-n[3],1-n[2]];Ra=kernel.getProp("imgSize")/7.5;d.width(6.25*Ra+"em");d.height(3*Ra+"em");
d.attr("width",375);d.attr("height",180);r=[10,30,50];z=[10,30,50,75,95,115];for(Ra=0;18>Ra;Ra++)w=["#37b","#5cf"][~~(Ra/9)],Ta=[3,z[~~(Ra/3)],r[Ra%3]],ua&&(Sa=v(h([[1,1,0,-1,-1,-1,1,0],[0,-1,-8,-1,0,1,1,0]],Qa[Ra]/6*p),Ta),Va=Sa[0],Sa=Sa[1],ua.beginPath(),ua.fillStyle=w,ua.arc(Va[7],Sa[7],9*Ta[0],0,2*p),ua.fill(),ua.beginPath(),ua.fillStyle="#ff0",ua.strokeStyle="#f00",ua.moveTo(Va[0],Sa[0]),ua.bezierCurveTo(Va[1],Sa[1],Va[1],Sa[1],Va[2],Sa[2]),ua.bezierCurveTo(Va[3],Sa[3],Va[3],Sa[3],Va[4],Sa[4]),
ua.bezierCurveTo(Va[5],Sa[5],Va[6],Sa[6],Va[0],Sa[0]),ua.closePath(),ua.fill(),ua.stroke());r=[20,40];z=[20,40,85,105];for(Ra=0;8>Ra;Ra++)Qa=["#850","#ff0"][n[Ra]],w=[3,z[~~(Ra/2)],r[Ra%2]],ua&&(Ta=v([[0],[0]],w),ua.beginPath(),ua.fillStyle=Qa,ua.strokeStyle="#000",ua.arc(Ta[0][0],Ta[1][0],3*w[0],0,2*p),ua.fill(),ua.stroke())}}(),Qa=function(){function r(b){for(var d=[],f=0;12>f;f++)d[(f+b[0])%12]=w[f];for(f=0;12>f;f++)d[f+12]=w[(f+b[1])%12+12];if(b[2])for(n=1-n,f=0;6>f;f++)mathlib.circle(d,f+6,23-
f);w=d}var w=[],n=0,Qa=[[0,-.5,.5],[0,-b-1,-b-1]],Ra=[[0,-.5,-b-1,-b-1],[0,-b-1,-b-1,-.5]],Sa=[[0,-.5,-b-1],[0,-b-1,-b-1]],Ta=[[0,-b-1,-b-1],[0,-b-1,-.5]],Va=v(Qa,[.66,0,0]),Wa=v(Ra,[.66,0,0]),Ua={U:"#ff0",R:"#f80",F:"#0f0",D:"#fff",L:"#f00",B:"#00f"},Xa=/^\s*\(\s*(-?\d+),\s*(-?\d+)\s*\)\s*$/;return function(v){var z=kernel.getProp("colsq1").match(f);Ua={U:z[0],R:z[1],F:z[2],D:z[3],L:z[4],B:z[5]};w=[0,0,1,2,2,3,4,4,5,6,6,7,8,8,9,10,10,11,12,12,13,14,14,15];n=0;z=v.split("/");for(v=0;v<z.length;v++)if(/^\s*$/.exec(z[v]))r([0,
0,1]);else{var Ra=Xa.exec(z[v]);r([~~Ra[1]+12,~~Ra[2]+12,1])}r([0,0,1]);v=kernel.getProp("imgSize")/10;d.width(11*v/1.3+"em");d.height(6.3*v/1.3+"em");d.attr("width",495);d.attr("height",283.5);z=[45,2.7,2.7];for(v=0;12>v;v++)0==w[v]%2?w[v]==w[(v+1)%12]&&(Ya(ua,Ua["LBBRRFFLBLRBFRLF"[w[v]]],h(Ta,(v-3)*p/6),z),Ya(ua,Ua["LBBRRFFLBLRBFRLF"[w[v]+1]],h(Sa,(v-3)*p/6),z),Ya(ua,Ua["UD"[8<=w[v]?1:0]],h(Wa,(v-3)*p/6),z)):(Ya(ua,Ua["-B-R-F-L-B-R-F-L"[w[v]]],h(Qa,(v-5)*p/6),z),Ya(ua,Ua["UD"[8<=w[v]?1:0]],h(Va,
(v-5)*p/6),z));z=[45,2.7+5.4,2.7];for(v=12;24>v;v++)0==w[v]%2?w[v]==w[(v+1)%12+12]&&(Ya(ua,Ua["LBBRRFFLBLRBFRLF"[w[v]]],h(Ta,-v*p/6),z),Ya(ua,Ua["LBBRRFFLBLRBFRLF"[w[v]+1]],h(Sa,-v*p/6),z),Ya(ua,Ua["UD"[8<=w[v]?1:0]],h(Wa,-v*p/6),z)):(Ya(ua,Ua["-B-R-F-L-B-R-F-L"[w[v]]],h(Qa,(-1-v)*p/6),z),Ya(ua,Ua["UD"[8<=w[v]?1:0]],h(Va,(-1-v)*p/6),z));z=[45,5.4,5.7];Ya(ua,Ua.L,[[-b-1,-b-1,-.5,-.5],[.5,-.5,-.5,.5]],z);0==n?Ya(ua,Ua.L,[[b+1,b+1,-.5,-.5],[.5,-.5,-.5,.5]],z):Ya(ua,Ua.R,[[b,b,-.5,-.5],[.5,-.5,-.5,.5]],
z)}}(),Xa=function(){var h=[],p="#fff #00f #f00 #ff0 #0f0 #f80".split(" "),n=[[45*b,45*b,186.75*b,-22.5,22.5,45],[45*b,0,328.5*b,-22.5,45,67.5],[45*b,0,234*b,-22.5,45,114.75],[0,-45*b,139.5*b,45,-22.5,209.25],[45*b,0,139.5*b,22.5,45,114.75],[45*b,0,45*b,22.5,45,67.5]];return function(r){p=kernel.getProp("colskb").match(f);for(var v=0,w=0;6>w;w++)for(var z=0;5>z;z++)h[v++]=w;r=kernel.parseScramble(r,"RULB");for(w=0;w<r.length;w++){v=r[w][0];z=1==r[w][2]?1:2;for(var Qa=0;Qa<z;Qa++)switch(v){case 0:mathlib.circle(h,
10,5,15);mathlib.circle(h,14,8,17);mathlib.circle(h,12,9,16);mathlib.circle(h,13,6,19);mathlib.circle(h,24,4,28);break;case 1:mathlib.circle(h,0,25,5);mathlib.circle(h,2,26,7);mathlib.circle(h,4,27,9);mathlib.circle(h,1,28,6);mathlib.circle(h,21,19,12);break;case 2:mathlib.circle(h,20,15,25);mathlib.circle(h,23,18,29);mathlib.circle(h,21,16,28);mathlib.circle(h,24,19,27);mathlib.circle(h,13,9,1);break;case 3:mathlib.circle(h,5,25,15),mathlib.circle(h,9,28,19),mathlib.circle(h,8,26,18),mathlib.circle(h,
7,29,17),mathlib.circle(h,2,23,14)}}w=kernel.getProp("imgSize")/10;d.width((8*b+.3)*w+"em");d.height(6.2*w+"em");d.attr("width",45*(8*b+.3)+1);d.attr("height",280);for(w=0;6>w;w++)r=w,v=n[r],Ya(ua,p[h[5*r]],[[-1,0,1,0],[0,1,0,-1]],v),Ya(ua,p[h[5*r+1]],[[-1,-1,0],[0,-1,-1]],v),Ya(ua,p[h[5*r+2]],[[0,1,1],[-1,-1,0]],v),Ya(ua,p[h[5*r+3]],[[-1,-1,0],[0,1,1]],v),Ya(ua,p[h[5*r+4]],[[0,1,1],[1,1,0]],v)}}(),Wa=function(){var h=[],p=["#0f0","#f00","#00f","#ff0"],n=[3.5,1.5,5.5,3.5],r=[0,3*b,3*b,6.5*b],v=[0,
6,5,4],w=[1,7,3,5],Qa=[2,8,4,3],Ra=[[0,1,2],[2,3,0],[1,0,3],[3,2,1]],Sa=[-.5,.5,0],Ta=[b,b,0],Va=[-b,-b,0];return function(z){p=kernel.getProp("colpyr").match(f);for(var Wa=0,Ua=0;4>Ua;Ua++)for(var ab=0;9>ab;ab++)h[Wa++]=Ua;z=kernel.parseScramble(z,"URLB");for(Ua=0;Ua<z.length;Ua++){var Za=z[Ua][0]+(2==z[Ua][1]?4:0);Wa=1==z[Ua][2]?1:2;ab=4<=Za?1:4;Za=Ra[Za%4];for(var Xa=0;Xa<ab;Xa++)for(var bb=0;bb<Wa;bb++)mathlib.circle(h,9*Za[0]+v[Xa],9*Za[1]+w[Xa],9*Za[2]+Qa[Xa])}Ua=kernel.getProp("imgSize")/10;
d.width(7*Ua+"em");d.height(6.5*b*Ua+"em");d.attr("width",315);d.attr("height",292.5*b);for(Ua=0;4>Ua;Ua++){z=Ua;Wa=0!=z;ab=[0,-1,1,0,.5,-.5,0,-.5,.5];Za=[0,2,2,2,1,1,2,3,3];for(Xa=0;Xa<Za.length;Xa++)Za[Xa]*=Wa?-b:b,ab[Xa]*=Wa?-1:1;for(Xa=0;9>Xa;Xa++)Ya(ua,p[h[9*z+Xa]],[Sa,6<=Xa!=Wa?Va:Ta],[45,n[z]+ab[Xa],r[z]+Za[Xa]])}}}(),Ta=function(){function b(b,d,f,n){var p=n*n,r,v,w;5<b&&(b-=6);for(w=0;w<f;w++){for(r=0;r<n;r++){if(0==b){var z=6*p-n*d-n+r;var ua=2*p-n*d-1-r;var Qa=3*p-n*d-1-r;var Ra=5*p-n*
d-n+r}else 1==b?(z=3*p+d+n*r,ua=3*p+d-n*(r+1),Qa=p+d-n*(r+1),Ra=5*p+d+n*r):2==b?(z=3*p+d*n+r,ua=4*p+n-1-d+n*r,Qa=d*n+n-1-r,Ra=2*p-1-d-n*r):3==b?(z=4*p+d*n+n-1-r,ua=2*p+d*n+r,Qa=p+d*n+r,Ra=5*p+d*n+n-1-r):4==b?(z=6*p-1-d-n*r,ua=n-1-d+n*r,Qa=2*p+n-1-d+n*r,Ra=4*p-1-d-n*r):5==b&&(z=4*p-n-d*n+r,ua=2*p-n+d-n*r,Qa=p-1-d*n-r,Ra=4*p+d+n*r);var Sa=h[z];h[z]=h[ua];h[ua]=h[Qa];h[Qa]=h[Ra];h[Ra]=Sa}if(0==d)for(r=0;r+r<n;r++)for(v=0;v+v<n-1;v++)z=b*p+r+v*n,Qa=b*p+(n-1-r)+(n-1-v)*n,3>b?(ua=b*p+(n-1-v)+r*n,Ra=b*p+
v+(n-1-r)*n):(Ra=b*p+(n-1-v)+r*n,ua=b*p+v+(n-1-r)*n),Sa=h[z],h[z]=h[ua],h[ua]=h[Qa],h[Qa]=h[Ra],h[Ra]=Sa}}var h=[],n="#ff0 #fa0 #00f #fff #f00 #0d0".split(" ");return function(p,r){n=kernel.getProp("colcube").match(f);for(var v=0,w=0;6>w;w++)for(var z=0;z<p*p;z++)h[v++]=w;w=kernel.parseScramble(r,"DLBURF");for(v=0;v<w.length;v++){for(z=0;z<w[v][1];z++)b(w[v][0],z,w[v][2],p);if(-1==w[v][1]){for(z=0;z<p-1;z++)b(w[v][0],z,-w[v][2],p);b((w[v][0]+3)%6,0,w[v][2]+4,p)}}w=kernel.getProp("imgSize")/50;d.width(39*
w+"em");d.height(29*w+"em");d.attr("width",39*p/9*30+1);d.attr("height",29*p/9*30+1);for(w=0;6>w;w++){v=w;z=p;var Qa=10/9,Ra=10/9;0==v?(Qa*=z,Ra*=2*z):1==v?(Qa*=0,Ra*=z):2==v?(Qa*=3*z,Ra*=z):3==v?(Qa*=z,Ra*=0):4==v?(Qa*=2*z,Ra*=z):5==v&&(Qa*=z,Ra*=z);for(var Sa=0;Sa<z;Sa++)for(var Ta=1==v||2==v?z-1-Sa:Sa,Va=0;Va<z;Va++)Ya(ua,n[h[(v*z+(0==v?z-1-Va:Va))*z+Ta]],[[Sa,Sa,Sa+1,Sa+1],[Va,Va+1,Va+1,Va]],[30,Qa,Ra])}}}(),Ra=function(){return function(b,h,n){for(var p=[],r=[[1,0],[0,1],[0,-1],[-1,0]],v=0;v<
h*h;v++)p[v]=v;v=h-1;var w=h-1,z=/([ULRD\uFFEA\uFFE9\uFFEB\uFFEC])([\d]?)/;n=n.split(" ");for(var Qa=0;Qa<n.length;Qa++){var Ra=z.exec(n[Qa]);if(Ra){var Sa="ULRD￪￩￫￬".indexOf(Ra[1])%4;Ra=~~Ra[2]||1;Sa=r["b"==b?3-Sa:Sa];for(var Ta=0;Ta<Ra;Ta++)mathlib.circle(p,v*h+w,(v+Sa[0])*h+w+Sa[1]),v+=Sa[0],w+=Sa[1]}}b=kernel.getProp("imgSize")/50;d.width(30*b+"em");d.height(30*b+"em");d.attr("width",50*(h+.2));d.attr("height",50*(h+.2));b=kernel.getProp("col15p").match(f);b[h-1]=b[b.length-1];for(v=0;v<h;v++)for(n=
0;n<h;n++)r=p[n*h+v],w=Math.min(~~(r/h),r%h),r++,Ya(ua,b[w],[[v+.05,v+.05,v+1-.05,v+1-.05],[n+.05,n+1-.05,n+1-.05,n+.05]],[50,.1,.1]),r!=h*h&&(ua.fillStyle="#000",ua.font="30px monospace",ua.textAlign="center",ua.textBaseline="middle",ua.fillText(r,50*(v+.5+.1),50*(n+.5+.1)))}}(),Va="  222 333 444 555 666 777 888 999 101010 111111".split(" "),f=/#[0-9a-fA-F]{3}/g;$(function(){d=$("<canvas>");d[0].getContext&&tools.regTool("image",TOOLS_IMAGE,Sa)});return{draw:r}});var cross=function(r,Sa,d,ua,b,p,h){function v(b,d){var f=ab[d][~~(b/24)];return 24*~~(f/384)+kb[b%24][(f>>4)%24]}function Ya(b,d){var f=ab[d][b>>4];return~~(f/384)<<4|fb[b&15][(f>>4)%24]^f&15}function Ua(b,d){for(var f=3;0<=f;f--)d[f]=b&1,b>>=1}function w(b){for(var d=0,f=0;4>f;f++)d<<=1,d|=b[f];return d}function Qa(b,d){var f=ab[d][~~(b/384)];return 384*~~(f/384)+16*kb[(b>>4)%24][(f>>4)%24]+(fb[b&15][(f>>4)%24]^f&15)}function Xa(){Xa=$.noop;for(var f=0;24>f;f++)kb[f]=[];for(f=0;16>f;f++)fb[f]=[];
var h=[],z=[],Qa=[];for(f=0;24>f;f++)for(var Ra=0;24>Ra;Ra++){ua(h,f,4);ua(z,Ra,4);for(var Ta=0;4>Ta;Ta++)Qa[Ta]=h[z[Ta]];kb[f][Ra]=b(Qa,4);if(16>f){Ua(f,h);for(Ta=0;4>Ta;Ta++)Qa[Ta]=h[z[Ta]];fb[f][Ra]=w(Qa)}}r(ab,495,function(d,f){for(var h=[0,0,0,0,0,0,0,0,0,0,0,0],n=4,r=0;12>r;r++)d>=p[11-r][n]?(d-=p[11-r][n--],h[r]=n<<1):h[r]=-1;Sa(h,f);d=0;n=4;var v=0,w=[];for(r=0;12>r;r++)0<=h[r]&&(d+=p[11-r][n--],w[n]=h[r]>>1,v|=(h[r]&1)<<3-n);return 24*d+b(w,4)<<4|v});Za=[];n=[];d(Za,0,11880,5,v);d(n,0,7920,
6,Ya)}function Wa(){function b(b,d){var f=~~(b/3);return 3*[[3,1,2,7,0,5,6,4],[0,1,6,2,4,5,7,3],[1,2,3,0,4,5,6,7],[0,5,1,3,4,6,2,7],[4,0,2,3,5,1,6,7],[0,1,2,3,7,4,5,6]][d][f]+(b%3+[[2,0,0,1,1,0,0,2],[0,0,1,2,0,0,2,1],[0,0,0,0,0,0,0,0],[0,1,2,0,0,2,1,0],[1,2,0,0,2,1,0,0],[0,0,0,0,0,0,0,0]][d][f])%3}Wa=$.noop;Xa();for(var f=0;24>f;f++){gb[f]=[];lb[f]=[];for(var h=0;6>h;h++){gb[f][h]=b(f,h);var n=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];n[f>>1]=f&1;Sa(n,h);for(var p=0;12>p;p++)if(0<=n[p]){lb[f][h]=p<<1|
n[p];break}}}cb=[];for(f=0;4>f;f++)h=[],d(h,72*(f+4)+2*(f+4),576,5,function(b,d){return 24*gb[~~(b/24)][d]+lb[b%24][d]}),cb[f]=h}function Ta(b,d,f,p,r,w,z,ua){if(0==w)return 0==b&&0==d&&f==2*(r+4)&&p==3*(r+4);if(h(Za,b)>w||h(n,d)>w||h(cb[r],24*p+f)>w)return!1;var Qa,Ra;for(Ra=0;6>Ra;Ra++)if(Ra!=z&&Ra!=z-3){var Sa=b;var Va=d;var Wa=f;var Ua=p;for(Qa=0;3>Qa;Qa++)if(Sa=v(Sa,Ra),Va=Ya(Va,Ra),Wa=lb[Wa][Ra],Ua=gb[Ua][Ra],Ta(Sa,Va,Wa,Ua,r,w-1,Ra,ua))return ua.push("FRUBLD".charAt(Ra)+" 2'".charAt(Qa)),!0}return!1}
function Ra(b,d,f,p,r){if(0==f)return 0==b&&0==d;if(h(Za,b)>f||h(n,d)>f)return!1;var w,z;for(z=0;6>z;z++)if(z!=p&&z!=p-3){var ua=b;var Qa=d;for(w=0;3>w;w++)if(ua=v(ua,z),Qa=Ya(Qa,z),Ra(ua,Qa,f-1,z,r))return r.push("FRUBLD".charAt(z)+" 2'".charAt(w)),!0}return!1}function Va(b){Xa();for(var d=[],f=0;6>f;f++){for(var h=0,n=0,p=0;p<b.length;p++)for(var r=hb[f].indexOf("FRUBLD".charAt(b[p][0])),w=b[p][2],z=0;z<w;z++)h=Ya(h,r),n=v(n,r);p=[];for(r=0;100>r&&!Ra(n,h,r,-1,p);r++);p.reverse();d.push(p)}return d}
function f(b,d){Wa();for(var f=0,h=0,n=[8,10,12,14],p=[12,15,18,21],r=0;r<b.length;r++)for(var w=hb[d].indexOf("FRUBLD".charAt(b[r][0])),z=b[r][2],ua=0;ua<z;ua++){f=Ya(f,w);h=v(h,w);for(var Qa=0;4>Qa;Qa++)n[Qa]=lb[n[Qa]][w],p[Qa]=gb[p[Qa]][w]}r=[];w=!1;for(z=0;!w;){for(Qa=0;4>Qa;Qa++)if(Ta(h,f,n[Qa],p[Qa],Qa,z,-1,r)){w=!0;break}z++}r.reverse();return r}function z(){z=$.noop;Xa();db=[];d(db,0,190080,7,Qa,6,3,6)}var Za,n,cb,db,ab=[],kb=[],fb=[],lb=[],gb=[],bb="DULRFB".split(""),hb="FRUBLD FLDBRU FDRBUL FULBDR URBDLF DRFULB".split(" "),
ib="&nbsp;&nbsp; z2 z' z&nbsp; x' x&nbsp;".split(" "),pb;execMain(function(){function b(){var d=$(this).parent(),h="DULRFB".indexOf(d.html()[0]);f(pb,h);var n=$(this).html();if("ec"==n){var p=f(pb,h);n="<<"}else p=Va(pb)[h],n="ec";n=$("<span />").html(n).addClass("click").click(b);d.empty().append(bb[h]+"(",n,"): "+ib[h],tools.getSolutionSpan(p),"<br>")}function d(d){if(d)if(tools.isPuzzle("333")){var f=tools.getCurScramble()[1];d.empty();pb=kernel.parseScramble(f,"FRUBLD");f=Va(pb);for(var h=0;6>
h;h++){var n=$('<span class="sol"/>'),p=$("<span />").html("ec").addClass("click").click(b);n.append(bb[h]+"(",p,"): "+ib[h],tools.getSolutionSpan(f[h]),"<br>");d.append(n)}}else d.html(IMAGE_UNAVAILABLE)}$(function(){tools.regTool("cross",TOOLS_SOLVERS+">"+TOOLS_CROSS,d)})});return{solve:Va,getEasyCross:function(b){z();8<b&&(b=8);var d=mathlib.rn([1,16,174,1568,11377,57758,155012,189978,190080][b])+1,f;for(f=0;190080>f&&!(h(db,f)<=b&&0==--d);f++);b=~~(f/384);var n=(f>>4)%24;d=[];var r=[],v=[],w=
[];Ua(f&15,w);ua(v,n,4);n=4;var Qa=[7,6,5,4,10,9,8,11,3,2,1,0];for(f=0;12>f;f++)b>=p[11-f][n]?(b-=p[11-f][n--],d[Qa[f]]=v[n],r[Qa[f]]=w[n]):d[Qa[f]]=r[Qa[f]]=-1;return[d,r]}}}(mathlib.createMove,mathlib.edgeMove,mathlib.createPrun,mathlib.setNPerm,mathlib.getNPerm,mathlib.Cnk,mathlib.getPruning);execMain(function(r,Sa,d,ua){function b(b,d){var h=[0,0,0,0,0,0,0,0,0,0,0,0],f=b%12,p=~~(b/12);p>=f&&p++;h[f]=2;h[p]=4;Sa(h,d);for(var r=0;12>r;r++)1==h[r]>>1?f=r:2==h[r]>>1&&(p=r);p>f&&p--;return 12*p+f}function p(){p=$.noop;r(Ya,2048,[Sa,"o",12,-2]);r(Ua,132,b)}function h(b,d){p();var h=kernel.parseScramble(b,"FRUBLD");d.empty();for(var f=0;12>f;f++){for(var r=0,v=116,n=0;n<h.length;n++)for(var ua=Xa[f].indexOf("FRUBLD".charAt(h[n][0])),Ra=h[n][2],Sa=0;Sa<Ra;Sa++)r=Ya[ua][r],v=Ua[ua][v];r=w.search([r,
v],0);for(n=0;n<r.length;n++)r[n]="FRUBLD".charAt(r[n][0])+" 2'".charAt(r[n][1]);d.append($('<span class="sol">').append(Qa[f]+": "+Wa[f],tools.getSolutionSpan(r)),"<br>")}}function v(b){if(b)if(tools.isPuzzle("333")){var d=tools.getCurScramble();h(d[1],b)}else b.html(IMAGE_UNAVAILABLE)}var Ya=[],Ua=[],w=new mathlib.Solver(6,3,[[0,[Sa,"o",12,-2],2048],[116,b,132]]),Qa="D(LR) D(FB) U(LR) U(FB) L(UD) L(FB) R(UD) R(FB) F(LR) F(UD) B(LR) B(UD)".split(" "),Xa="FRUBLD RBULFD FLDBRU LBDRFU FDRBUL DBRUFL FULBDR UBLDFR URBDLF RDBLUF DRFULB RUFLDB".split(" "),
Wa="&nbsp;&nbsp;&nbsp; &nbsp;y&nbsp; z2&nbsp; z2y z'&nbsp; z'y &nbsp;z&nbsp; z&nbsp;y x'&nbsp; x'y &nbsp;x&nbsp; x&nbsp;y".split(" ");$(function(){tools.regTool("eoline",TOOLS_SOLVERS+">"+TOOLS_EOLINE,v)});return{solve:h}},[mathlib.createMove,mathlib.edgeMove,mathlib.createPrun,mathlib.getPruning]);execMain(function(r){function Sa(b,d){p.ca=[0,0,0,0,0,0,0,0];for(var v=1;3>v;v++){var w=b%24;b=~~(b/24);p.ca[w&7]=v|w&24}r.CornMult(p,r.moveCube[3*d],h);w=[];for(v=0;8>v;v++)w[h.ca[v]&7]=v|h.ca[v]&24;b=0;for(v=2;0<v;v--)b=24*b+w[v];return b}function d(b,d){p.ea=[0,0,0,0,0,0,0,0,0,0,0,0];for(var v=1;4>v;v++){var w=b%24;b=~~(b/24);p.ea[w>>1]=v<<1|w&1}r.EdgeMult(p,r.moveCube[3*d],h);w=[];for(v=0;12>v;v++)w[h.ea[v]>>1]=v<<1|h.ea[v]&1;b=0;for(v=3;0<v;v--)b=24*b+w[v];return b}function ua(b,h){h.empty();
for(var p=0;4>p;p++){a:{var r=b,ua=Ua[p];var Qa=[126];for(var f=[11964],z=1;4>z;z++)Qa[z]=Sa(Qa[z-1],4),f[z]=d(f[z-1],4);var Xa=[];ua=ua.split("");for(var n=0;4>n;n++){Xa[n]=ua.join("");var cb=kernel.parseScramble(r,Xa[n]);for(z=0;z<cb.length;z++)for(var db=cb[z][0],ab=0;ab<cb[z][2];ab++)Qa[n]=Sa(Qa[n],db),f[n]=d(f[n],db);mathlib.circle(ua,0,2,3,5)}for(ua=1;12>ua;ua++)for(n=0;4>n;n++)if(r=v.search([Qa[n],f[n]],1==ua?0:ua,ua)){r.push(n);Qa=r;break a}Qa=void 0}f=Qa.pop();0==p%2&&(f=(f+2)%4);for(n=0;n<
Qa.length;n++)Qa[n]="URFDLB".charAt(Qa[n][0])+" 2'".charAt(Qa[n][1]);h.append($('<span class="sol">').append(Ya[p]+": "+w[p]+["&nbsp;&nbsp;&nbsp;","x'&nbsp;","x2&nbsp;","x&nbsp;&nbsp;"][f],tools.getSolutionSpan(Qa)),"<br>")}}function b(b){if(b)if(tools.isPuzzle("333")){var d=tools.getCurScramble();ua(d[1],b)}else b.html(IMAGE_UNAVAILABLE)}var p=new r,h=new r,v=new mathlib.Solver(6,3,[[126,Sa,576],[11964,d,13824]]),Ya=["LU","LD","FU","FD"],Ua=["DRBULF","URFDLB","DBLUFR","UBRDFL"],w=["&nbsp;&nbsp;",
"&nbsp;&nbsp;","y&nbsp;","y&nbsp;"];$(function(){tools.regTool("roux1",TOOLS_SOLVERS+">"+TOOLS_ROUX1,b)});return{solve:ua}},[mathlib.CubieCube]);var gsolver=function(){function r(h,p){for(var r=0;r<d.length;r++)p=h(p,d[r]);for(r=0;r<b.length;r++)p=h(p,b[r]);return p}function Sa(b,d){var h={};d=d||" 2'";for(var p in b)for(var r=0;r<d.length;r++)h[p+d[r]]=b[p];return h}var d,ua,b,p=function(){function b(b,d){for(var f=b.split(""),h=p["URF".indexOf(d[0])],r="? 2'".indexOf(d[1]),n=0;n<h.length;n++)mathlib.acycle(f,h[n],r);return f.join("")}var h="URFDLB".split(""),p=[[[0,1,3,2],[4,8,16,20],[5,9,17,21]],[[4,5,7,6],[1,22,13,9],[3,20,15,11]],[[8,
9,11,10],[2,4,13,19],[3,6,12,17]]],r=new mathlib.gSolver("XXXX???????????????????? ????XXXX???????????????? ????????XXXX???????????? ????????????XXXX???????? ????????????????XXXX???? ????????????????????XXXX".split(" "),b,Sa({U:1,R:2,F:3}));return function(p,v){d=kernel.parseScramble(p,"URF");for(var f="UUUURRRRFFFFDDDDLLLLBBBB",w=0;w<d.length;w++){var ua=d[w];f=b(f,"URF".charAt(ua[0])+" 2'".charAt(ua[2]-1))}for(ua=0;6>ua;ua++){var n=[];for(w=0;24>w;w++)n.push(f[w]=="URFDLB".charAt(ua)?"X":"?");w=
r.search(n.join(""),0);v.append(h[ua]+": ",tools.getSolutionSpan(w),"<br>")}}}(),h=function(){function p(b,d){for(var f=b.split(""),h=Ra["URFDLBurfdlbMESxyz".indexOf(d[0])],n="? 2'".indexOf(d[1]),p=0;p<h.length;p++)mathlib.acycle(f,h[p],n);return f.join("")}function v(b,d,f){f+=" // orientation \n";for(var h=0;h<d.length&&void 0!=d[h];h++)f+=d[h].join(" ").replace(/\s+/g," ")+" // "+b[h].head+(0==d[h].length?" skip":"")+"\n";return"https://alg.cubing.net/?alg="+encodeURIComponent(f)}function w(d,
f){var h=+new Date,n=[null,0],w=[];b=[];for(var z=0;z<d.length;z++){if(!d[z].solv){d[z].solv={};for(var Qa in d[z].step)d[z].solv[Qa]=new mathlib.gSolver([Qa],p,d[z].move)}var Ra=void 0,Sa=p,Ta=d[z].solv,Va=d[z].step,Ua=d[z].fmov||[];n=n[1];var Wa=d[z].maxl||10,Xa=0;a:for(;Xa<Wa+1;Xa++)for(var ab in Ta)if((Va[ab]|n)==Va[ab]){var bb=r(Sa,ab);Ra=Ta[ab].search(bb,0,Xa);if(void 0!=Ra){n|=Va[ab];break a}for(var Za=0;Za<Ua.length;Za++)if(Ra=Sa(bb,Ua[Za]),Ra=Ta[ab].search(Ra,0,Xa),void 0!=Ra){Ra.unshift(Ua[Za]);
n|=Va[ab];break a}}n=[Ra,n];w[z]=n[0];if(void 0==n[0]){f.append(d[z].head+": &nbsp;(no solution found in %d moves)".replace("%d",d[z].maxl||10),"<br>");break}f.append(d[z].head+": ",0==w[z].length?"&nbsp;(skip)":tools.getSolutionSpan(w[z]),"<br>");b=b.concat(w[z]);DEBUG&&console.log("[step solver]",d[z].head+": ",w[z],"->",n[1],r(p,mathlib.SOLVED_FACELET),+new Date-h)}f.append($('<a class="click" target="_blank">alg.cubing.net</a>').attr("href",v(d,w,hb)+"&setup="+encodeURIComponent(ua)))}function Ta(){hb=
lb.val();h.exec(gb,ua,bb.empty())}var Ra=[[[0,2,8,6],[1,5,7,3],[18,36,45,9],[19,37,46,10],[20,38,47,11]],[[9,11,17,15],[10,14,16,12],[2,51,29,20],[5,48,32,23],[8,45,35,26]],[[18,20,26,24],[19,23,25,21],[6,9,29,44],[7,12,28,41],[8,15,27,38]],[[27,29,35,33],[28,32,34,30],[24,15,51,42],[25,16,52,43],[26,17,53,44]],[[36,38,44,42],[37,41,43,39],[0,18,27,53],[3,21,30,50],[6,24,33,47]],[[45,47,53,51],[46,50,52,48],[2,36,33,17],[1,39,34,14],[0,42,35,11]],[[0,2,8,6],[1,5,7,3],[18,36,45,9],[19,37,46,10],[20,
38,47,11],[21,39,48,12],[22,40,49,13],[23,41,50,14]],[[9,11,17,15],[10,14,16,12],[2,51,29,20],[5,48,32,23],[8,45,35,26],[1,52,28,19],[4,49,31,22],[7,46,34,25]],[[18,20,26,24],[19,23,25,21],[6,9,29,44],[7,12,28,41],[8,15,27,38],[3,10,32,43],[4,13,31,40],[5,16,30,37]],[[27,29,35,33],[28,32,34,30],[24,15,51,42],[25,16,52,43],[26,17,53,44],[21,12,48,39],[22,13,49,40],[23,14,50,41]],[[36,38,44,42],[37,41,43,39],[0,18,27,53],[3,21,30,50],[6,24,33,47],[1,19,28,52],[4,22,31,49],[7,25,34,46]],[[45,47,53,51],
[46,50,52,48],[2,36,33,17],[1,39,34,14],[0,42,35,11],[5,37,30,16],[4,40,31,13],[3,43,32,10]],[[1,19,28,52],[4,22,31,49],[7,25,34,46]],[[21,12,48,39],[22,13,49,40],[23,14,50,41]],[[3,10,32,43],[4,13,31,40],[5,16,30,37]],[[9,11,17,15],[10,14,16,12],[2,51,29,20],[5,48,32,23],[8,45,35,26],[36,42,44,38],[37,39,43,41],[0,53,27,18],[3,50,30,21],[6,47,33,24],[1,52,28,19],[4,49,31,22],[7,46,34,25]],[[0,2,8,6],[1,5,7,3],[18,36,45,9],[19,37,46,10],[20,38,47,11],[27,33,35,29],[28,30,34,32],[24,42,51,15],[25,
43,52,16],[26,44,53,17],[21,39,48,12],[22,40,49,13],[23,41,50,14]],[[18,20,26,24],[19,23,25,21],[6,9,29,44],[7,12,28,41],[8,15,27,38],[45,51,53,47],[46,48,52,50],[2,17,33,36],[1,14,34,39],[0,11,35,42],[3,10,32,43],[4,13,31,40],[5,16,30,37]]],Va=Sa({U:0,R:17,F:34,D:48,L:65,B:82}),f=Sa({U:0,R:17,F:34,L:65,B:82}),z=Sa({U:0,R:17,M:97,r:113}),Ua=Sa({U:0,R:17,L:65}),n=[{move:Va,maxl:8,head:"Cross",step:{"----U--------R--R-----F--F--D-DDD-D-----L--L-----B--B-":0}},{move:f,head:"F2L-1",step:{"----U-------RR-RR-----FF-FF-DDDDD-D-----L--L-----B--B-":1,
"----U--------R--R----FF-FF-DD-DDD-D-----LL-LL----B--B-":2,"----U--------RR-RR----F--F--D-DDD-DD----L--L----BB-BB-":4,"----U--------R--R-----F--F--D-DDDDD----LL-LL-----BB-BB":8}},{move:f,head:"F2L-2",step:{"----U-------RR-RR----FFFFFFDDDDDD-D-----LL-LL----B--B-":3,"----U-------RRRRRR----FF-FF-DDDDD-DD----L--L----BB-BB-":5,"----U--------RR-RR---FF-FF-DD-DDD-DD----LL-LL---BB-BB-":6,"----U-------RR-RR-----FF-FF-DDDDDDD----LL-LL-----BB-BB":9,"----U--------R--R----FF-FF-DD-DDDDD----LLLLLL----BB-BB":10,
"----U--------RR-RR----F--F--D-DDDDDD---LL-LL----BBBBBB":12}},{move:f,head:"F2L-3",step:{"----U-------RRRRRR---FFFFFFDDDDDD-DD----LL-LL---BB-BB-":7,"----U-------RR-RR----FFFFFFDDDDDDDD----LLLLLL----BB-BB":11,"----U-------RRRRRR----FF-FF-DDDDDDDD---LL-LL----BBBBBB":13,"----U--------RR-RR---FF-FF-DD-DDDDDD---LLLLLL---BBBBBB":14}},{move:f,head:"F2L-4",step:{"----U-------RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB":15}}],Ya=[{move:Va,maxl:10,fmov:["x ","x2","x'"],head:"Step 1",step:{"---------------------F--F--D--D--D-----LLLLLL-----B--B":0}},
{move:z,maxl:16,head:"Step 2",step:{"------------RRRRRR---F-FF-FD-DD-DD-D---LLLLLL---B-BB-B":1}}],db=[{move:Va,maxl:8,head:"2x2x2",step:{"---------------------FF-FF-DD-DD--------LL-LL---------":1,"------------------------------DD-DD----LL-LL-----BB-BB":2}},{move:Va,maxl:10,head:"2x2x3",step:{"---------------------FF-FF-DD-DD-DD----LLLLLL----BB-BB":3}}],ab=[{move:Va,maxl:10,head:"EOLine",step:{"-H-HUH-H-----R-------HFH-F--D-HDH-D-----L-------HBH-B-":0}},{move:Ua,maxl:16,head:"ZZF2L1",step:{"-H-HUH-H----RRRRRR---HFF-FF-DDHDD-DD----L-------BBHBB-":1,
"-H-HUH-H-----R-------FFHFF-DD-DDHDD----LLLLLL---HBB-BB":2}},{move:Ua,maxl:16,head:"ZZF2L2",step:{"-H-HUH-H----RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB":3}}],kb=[{move:Va,maxl:7,head:"EO",step:{"-H-HUH-H-----R-------HFH----H-HDH-H-----L-------HBH---":0}},{move:Va,maxl:10,head:"DR",step:{"UUUUUUUUU---RRR------FFF---UUUUUUUUU---RRR------FFF---":1}}],fb,lb,gb,bb,hb="z2";execMain(function(){for(var b="z2;;z ;z';x ;x'".split(";"),d=0;6>d;d++)for(var f=0;3>f;f++)b.push(b[d]+" y"+" 2'".charAt(f));lb=$("<select>");
for(d=0;d<b.length;d++)lb.append($("<option>").val(b[d]).html(b[d]))});return{exec:function(f,h,v){if("222"==f){d=kernel.parseScramble(h,"URFDLB");for(f=0;f<d.length;f++)d[f]="URFDLB".charAt(d[f][0])+" 2'".charAt(d[f][2]-1);h="URF UFL ULB UBR DFR DLF DBL DRB".split(" ");var z="----UU-UURR-RR-----FF-FF------------------------------ ---UU-UU----------FF-FF--------------LL-LL------------ UU-UU-------------------------------LL-LL-----BB-BB--- -UU-UU----RR-RR------------------------------BB-BB---- ------------RR-RR-----FF-FF-DD-DD--------------------- ---------------------FF-FF-DD-DD--------LL-LL--------- ------------------------------DD-DD----LL-LL-----BB-BB -------------RR-RR-------------DD-DD------------BB-BB-".split(" ");
fb=fb||new mathlib.gSolver(z,p,Va);for(f=0;8>f;f++){v.append(h[f]+": ");b=[];var ua=fb.search(r(p,z[f]),0);ua?v.append(tools.getSolutionSpan(ua),"<br>"):v.append("no solution found<br>")}}else{bb=v;gb=f;z=hb.split(" ");ua=[0,1,2,3,4,5];for(var Qa=[[5,1,0,2,4,3],[0,2,4,3,5,1],[1,3,2,4,0,5]],Ra=0;Ra<z.length;Ra++)if(z[Ra][0])for(var Sa="xyz".indexOf(z[Ra][0]),Ua="? 2'".indexOf(z[Ra][1]||" "),Wa=0;Wa<Ua;Wa++)for(var Xa=0;6>Xa;Xa++)ua[Xa]=Qa[Sa][ua[Xa]];for(Xa=0;6>Xa;Xa++)ua[Xa]="URFDLB".charAt(ua[Xa]);
z=ua.join("");d=kernel.parseScramble(h,"URFDLB");for(h=0;h<d.length;h++)d[h]=z.charAt(d[h][0])+" 2'".charAt(d[h][2]-1);v.append("Orientation:",lb.unbind("change").change(Ta),"<br>");"cf"==f&&w(n,v);"roux"==f&&w(Ya,v);"petrus"==f&&w(db,v);"zz"==f&&w(ab,v);"eodr"==f&&w(kb,v)}},move:p}}(),v=function(){function h(b,d){if(!b)return null;d=~~d;b=b.split("|");if(0==d){var f=b[0].slice(6);b[0]=b[0].slice(0,6)+b[1].slice(6);b[1]=b[1].slice(0,6)+f}else if(f=0<d?0:1,d=Math.abs(d),b[f]=b[f].slice(d)+b[f].slice(0,
d),/[a-h]/.exec(b[f][0]+b[f][6]))return null;return b.join("|")}function p(b){for(var d=0,f=0,h=[],p=0;p<b.length;p++)0==b[p]?(0==d&&0==f?h.push("/"):h.push((d+5)%12-5+","+((f+5)%12-5)+"/"),d=f=0):0<b[p]?d+=~~b[p]:f-=~~b[p];return h}for(var v={0:33},w=1;12>w;w++)v[""+w]=0,v[""+-w]=16;var ua,Sa;return function(f,w){ua=ua||new mathlib.gSolver(["0Aa0Aa0Aa0Aa|Aa0Aa0Aa0Aa0","0Aa0Aa0Aa0Aa|0Aa0Aa0Aa0Aa","Aa0Aa0Aa0Aa0|Aa0Aa0Aa0Aa0","Aa0Aa0Aa0Aa0|0Aa0Aa0Aa0Aa"],h,v);Sa=Sa||new mathlib.gSolver(["0Aa0Aa0Aa0Aa|Bb1Bb1Bb1Bb1",
"0Aa0Aa0Aa0Aa|1Bb1Bb1Bb1Bb","Aa0Aa0Aa0Aa0|Bb1Bb1Bb1Bb1","Aa0Aa0Aa0Aa0|1Bb1Bb1Bb1Bb"],h,v);d=[];for(var z=/^\s*\(\s*(-?\d+),\s*(-?\d+)\s*\)\s*$/,n=f.split("/"),Qa=0;Qa<n.length;Qa++){if(!/^\s*$/.exec(n[Qa])){var Ra=z.exec(n[Qa]);~~Ra[1]&&d.push((~~Ra[1]+12)%12);~~Ra[2]&&d.push(-(~~Ra[2]+12)%12)}d.push(0)}0<d.length&&d.pop();b=[];z=ua.search(r(h,"0Aa0Aa0Aa0Aa|Aa0Aa0Aa0Aa0"),0);w.append("Shape: ",tools.getSolutionSpan(p(z)),"<br>");b=b.concat(z);z=Sa.search(r(h,"0Aa0Aa0Aa0Aa|Bb1Bb1Bb1Bb1"),0);w.append("Color: ",
tools.getSolutionSpan(p(z)),"<br>")}}(),Ya=function(){function h(b,d){for(var h=b.split(""),f=p["RULBrbxy".indexOf(d[0])],r="? '*".indexOf(d[1]),v=0;v<f.length;v++)mathlib.acycle(h,f[v],r);return h.join("")}var p=[[[5,25,15],[9,28,17],[7,29,16],[8,26,19],[23,14,4]],[[0,20,25],[2,21,27],[4,22,29],[1,23,26],[19,7,11]],[[10,15,20],[13,18,24],[11,16,23],[14,19,22],[29,1,8]],[[25,20,15],[29,23,19],[28,21,18],[27,24,17],[13,9,2]],[[0,25,5],[4,26,7],[3,27,9],[2,28,6],[17,12,21]],[[0,20,25],[2,21,27],[4,
22,29],[1,23,26],[19,7,11]],[[0,25,15,10],[1,27,19,13],[2,29,18,11],[3,26,17,14],[4,28,16,12],[6,7,9,8],[21,23,24,22]],[[5,10,20,25],[6,11,21,26],[7,12,22,27],[8,13,23,28],[9,14,24,29],[1,2,4,3],[16,18,19,17]],[]],v;return function(p,w){v=v||new mathlib.gSolver(["?L?L??B?B?UUUUU?R?R???F?F?????","?F?F??L?L?UUUUU?B?B???R?R?????","?R?R??F?F?UUUUU?L?L???B?B?????","?B?B??R?R?UUUUU?F?F???L?L?????"],h,Sa({R:0,r:1,B:2,b:3}," '"));d=kernel.parseScramble(p,"RULB");for(var ua=0;ua<d.length;ua++)d[ua]="RULB".charAt(d[ua][0])+
" 2'".charAt(d[ua][2]-1);var f="URFDLB".split(""),z="UUUUU?RR???FF????????LL???BB?? ???BBUUUUU??L?L?FF????????R?R? ?B?B??R?R?UUUUU?F?F???L?L????? ????????RR???BBUUUUU???LL???FF ?BB????????R?R????FFUUUUU??L?L ??F?F??R?R???????B?B?L?L?UUUUU".split(" ");for(ua=0;6>ua;ua++){b=[];var Qa=["x*","y ",null,"x ","y*","y'"],n=~~(r(h,"U????R????F????D????L????B????").indexOf(f[ua])/5);Qa[n]&&b.push(Qa[n]);(Qa=v.search(r(h,z[ua]),0))?(w.append(f[ua]+": "),b[0]&&w.append("&nbsp;"+b[0].replace("'","2").replace("*",
"'")),w.append(tools.getSolutionSpan(Qa),"<br>")):w.append(f[ua]+": no solution found<br>")}}}(),Ua=function(){function h(b,d){for(var h=b.split(""),f=p["RULB".indexOf(d[0])],r="? '".indexOf(d[1]),v=0;v<f.length;v++)mathlib.acycle(h,f[v],r);return h.join("")}var p=[[[5,9,22],[0,7,20],[1,8,18]],[[3,16,11],[1,14,6],[2,12,7]],[[4,23,15],[2,18,13],[0,19,14]],[[10,17,21],[8,12,19],[6,13,20]]],v;return function(p,w){v=v||new mathlib.gSolver(["????FF??RRR??L?L?L?DDDDD"],h,Sa({R:0,U:1,L:2,B:3}," '"));d=kernel.parseScramble(p,
"RULBrulb");p=[];for(var ua=0;ua<d.length;ua++)1==d[ua][1]&&p.push("RULB".charAt(d[ua][0])+" 2'".charAt(d[ua][2]-1));var f=["D","L","R","F"],z=[["RULB","LUBR","BURL"],["URBL","LRUB","BRLU"],["RLBU","ULRB","BLUR"],["RBUL","UBLR","LBRU"]];for(ua=0;4>ua;ua++){b=[];var Qa,n=0;a:for(;99>n;n++)for(var Ra=0;3>Ra;Ra++){var Ta=z[ua][Ra];d=[];for(var Ua=0;Ua<p.length;Ua++)d.push("RULB"[Ta.indexOf(p[Ua][0])]+p[Ua][1]);if(Qa=v.search(r(h,"????FF??RRR??L?L?L?DDDDD"),n,n)){for(Ua=0;Ua<Qa.length;Ua++)Qa[Ua]=Ta["RULB".indexOf(Qa[Ua][0])]+
Qa[Ua][1];break a}}Qa?w.append(f[ua]+": ",tools.getSolutionSpan(Qa),"<br>"):w.append(f[ua]+": no solution found<br>")}}}();(function(){function d(b,d){var f=b.indexOf("-"),h=f>>2;f&=3;var n=b.split(""),p=~~d[1],r=[h<<2|f];if("V"==d[0]){if("$"==n[h<<2|p])return null;for(var v=f>p?-1:1;f!=p;)f+=v,r.push(h<<2|f)}else{if("$"==n[p<<2|f])return null;for(v=h>p?-1:1;h!=p;)h+=v,r.push(h<<2|f)}r.reverse();mathlib.acycle(n,r);return n.join("")}function h(b){var d=[];b=b.split("");for(var f=0;f<b.length;f++)"?"==
b[f]&&(b[f]="-",d.push(b.join("")),b[f]="?");return d}function p(f,h){for(var n=[],p=0;p<h.length;p++)n[p]=f[h[p]];f=n.join("");for(p=0;p<b.length;p++)f=d(f,b[p]);return f}function r(b){do{var d=mathlib.rndPerm(b*b);var f=(b-1-~~(d.indexOf(d.length-1)/b))*(b-1);for(var h=0;h<d.length;h++)for(var n=h+1;n<d.length;n++)d[h]>d[n]&&d[h]!=d.length-1&&f++}while(0!=f%2);return d}function v(d,h){var n=+new Date,v=[],w=0;if(4==d){v[0]=r(4);for(var Qa=v[0],Ra=[],Sa=[0,4,8,12,1,5,9,13,2,6,10,14,3,7,11,15],Ta=
0;16>Ta;Ta++)Ra[Ta]=Sa[Qa[Sa[Ta]]];v[1]=Ra;Qa=0;a:for(;99>Qa;Qa++)for(w=0;2>w;w++)if(Ra=v[w].indexOf(v.length-1),b=["V"+(Ra&3),"H"+(Ra>>2)],Ra=f.search(p("0123???????????-",v[w]),Qa,Qa)){b=b.concat(Ra);break a}Qa=z.search(p("01234???8???c??-",v[w]).replace(/[0123]/g,"$"),0);b=b.concat(Qa)}else if(3==d){Qa=r(3);Ra=[5,6,7,9,10,11,13,14,15];for(Sa=0;16>Sa;Sa++)v[Sa]=Ra[Qa[Ra.indexOf(Sa)]]||Sa;Ra=v.indexOf(v.length-1);b=["V"+(Ra&3),"H"+(Ra>>2)];v=[v]}Qa=ua.search(p("0123456789abcde-",v[w]).replace(/[012348c]/g,
"$"),0);b=b.concat(Qa);DEBUG&&console.log("[15p solver]",w,p("0123456789abcde-",v[w]),b.join(""),b.length,+new Date-n);b.reverse();Ra=h.slice(3==d?3:4);n=[];w=0==w?"VH":"HV";v=-1==Ra.indexOf("a")?["DR","UL"]:["￬￫","￪￩"];Qa=-1!=Ra.indexOf("m");Ra=-1!=Ra.indexOf("p");Sa=[3,3];for(Ta=0;Ta<b.length;Ta++)if(Ta<b.length-1&&b[Ta][0]==b[Ta+1][0]||2<=Ta&&b[Ta-2]==b[Ta])b.splice(Ta,1),Ta=-1;for(Ta=0;Ta<b.length;Ta++){var Ua=~~b[Ta][1],Va=w.indexOf(b[Ta][0]);if(Sa[Va]!=Ua){var Wa=v[Qa!=Sa[Va]>Ua?0:1][Va],Xa=
Math.abs(Sa[Va]-Ua);if(Ra)n.push(Wa+Xa);else for(;0<Xa--;)n.push(Wa);Sa[Va]=Ua}}return n.join(" ").replace(/1/g,"")}var w=Sa({V:0,H:1},"0123"),f=new mathlib.gSolver(h("0123????????????"),d,w),z=new mathlib.gSolver(h("$$$$4???8???c???"),d,w),ua=new mathlib.gSolver(["$$$$$567$9ab$de-"],d,w);scrMgr.reg(["15prp","15prap","15prmp"],v.bind(null,4))(["8prp","8prap","8prmp"],v.bind(null,3))})();var w=execMain(function(){function p(b){var d=ab[0].getBoundingClientRect(),f=b.offsetX/30*ab[0].width/d.width;
b=b.offsetY/30*ab[0].height/d.height;for(d=0;6>d;d++)if(f>=3.3*bb[d]&&f<=3.3*bb[d]+3&&b>=3.3*hb[d]&&b<=3.3*hb[d]+3){var h=~~(f-3.3*bb[d]),n=~~(b-3.3*hb[d]);fb=fb.split("");fb[9*d+3*n+h]=gb;fb=fb.join("");v(kb,d,h,n,fb)}f>=bb[6]&&f<=bb[6]+5&&b>=hb[6]&&b<=hb[6]+2&&(h=~~(f-bb[6]),n=~~(b-hb[6]),gb="URFDLB-XYZ".charAt(2*h+n),$.ctxDrawPolygon(kb,lb[gb],ib,[30,1.5,1.5]))}function v(b,d,f,h,n){$.ctxDrawPolygon(b,lb[n[9*d+3*h+f]],[[f,f,f+1,f+1],[h,h+1,h+1,h]],[30,3.3*bb[d],3.3*hb[d]])}function w(b,d){var f=
kernel.getProp("imgSize")/48;ab.width(39*f+"em");ab.height(29*f+"em");ab.attr("width",391);ab.attr("height",87/9*30+1);for(f=0;6>f;f++)for(var h=0;3>h;h++)for(var n=0;3>n;n++)v(b,f,h,n,d);for(h=0;5>h;h++)for(n=0;2>n;n++)$.ctxDrawPolygon(b,lb["URFDLB-XYZ".charAt(2*h+n)],[[h,h,h+1,h+1],[n,n+1,n+1,n]],[30,7.25,.5]);$.ctxDrawPolygon(b,lb[gb],ib,[30,1.5,1.5])}function ua(b){b=z.val();z.val("");kernel.blur();"input"==b?(b=prompt("U1U2...U9R1..R9F1..D1..L1..B1..B9",fb),null!=b&&(pb.exec(b)?(fb=b,w(kb,fb)):
logohint.push("Invalid Input"))):""!=b&&(fb=b,w(kb,fb))}function Ra(){if(f){var b=ob[1].searchNext(1E3,1E3);var d=cb.length+" sol(s), @"+~~((+new Date-mb)/1E3)+"s|"+ob[1].maxl+"f";b&&cb.push(b.join(" ")+" ("+b.length+"f)");n.html(cb.join("\n")+"\n"+d);n[0].scrollTop=n[0].scrollHeight;setTimeout(Ra,16)}}function Ua(){(f=!f)?Ya.val("Stop Solve!"):Ya.val("Start Solve!");kernel.blur();if(f){ob[0]!=fb&&(ob[0]=fb,ob[1]=new mathlib.gSolver([fb],h.move,Sa({U:0,R:17,F:34,D:48,L:65,B:82})));var b=r(h.move,
fb);ob[1].search(b,0,0);mb=+new Date;cb=[];Ra()}}var f=!1,z=$('<select style="font-size:0.75em;">'),Ya=$('<input type="button" value="Start Solve!" style="font-size:0.75em;">'),n=$('<textarea wrap=off rows="2" cols="30" style="font-size:0.75em;">'),cb=[],db={"3x3x3":mathlib.SOLVED_FACELET,Empty:"----U--------R--------F--------D--------L--------B----","2x2x2":"----UU-UURR-RR-----FF-FF------------------------------","2x2x3":"---UUUUUURR-RR----FFFFFF-------------LL-LL------------",Cross:"----U--------R--R-----F--F--D-DDD-D-----L--L-----B--B-",
XCross:"----U-------RR-RR-----FF-FF-DDDDD-D-----L--L-----B--B-",EOLine:"-X-XUX-X-----R-------XFX-F--D-XDX-D-----L-------XBX-B-",Roux1:"---------------------F--F--D--D--D-----LLLLLL-----B--B",Domino:"UUUUUUUUU---RRR------FFF---UUUUUUUUU---RRR------FFF---","EO&CO":"XYXYUYXYX----R-------YFY---XYXYDYXYX----L-------YBY---",Corner:"U-U---U-UR-R---R-RF-F---F-FD-D---D-DL-L---L-LB-B---B-B"},ab,kb,fb=mathlib.SOLVED_FACELET,lb={U:"#fff",R:"#f00",F:"#0d0",D:"#ff0",L:"#fa0",B:"#00f","-":"#777",X:"#0ff",Y:"#f0f",
Z:"#000"},gb="-",bb=[1,2,1,1,0,3,7.25],hb=[0,1,1,2,1,1,.5],ib=[[-.7,-.7,.7,.7],[-.7,.7,.7,-.7]],pb=/^[URFDLBXYZ-]{54}$/,ob=["",null],mb=0;$(function(){ab=$("<canvas>");if(ab[0].getContext){kb=ab[0].getContext("2d");z.append($("<option>").val("").html("Edit subset"));for(var b in db)z.append($("<option>").val(db[b]).html(b));z.append($("<option>").val("input").html("..."));fb=db.Cross;w(kb,fb)}});return function(h,r){d=kernel.parseScramble(h,"URFDLB");for(var v=0;v<d.length;v++)d[v]="URFDLB".charAt(d[v][0])+
" 2'".charAt(d[v][2]-1);b=[];r.empty().append(z.unbind("change").change(ua)," ").append(Ya.unbind("click").click(Ua),"<br>").append(n.empty(),"<br>").append(ab.unbind("mousedown").bind("mousedown",p));f&&Ua()}});execMain(function(){function b(b,d){if(d){d.empty();var r=$('<span class="sol"/>'),Qa=tools.getCurScramble();ua=Qa[1];if("222face"==b&&tools.isPuzzle("222"))p(Qa[1],r);else if("333udf"==b&&tools.isPuzzle("333")&&/^[URFDLB 2']+$/.exec(Qa[1]))w(Qa[1],r);else if(b.startsWith("333")&&tools.isPuzzle("333")&&
/^[URFDLB 2']+$/.exec(Qa[1]))h.exec(b.slice(3),Qa[1],r);else if("sq1cs"==b&&tools.isPuzzle("sq1"))v(Qa[1],r);else if("skbl1"==b&&tools.isPuzzle("skb"))Ya(Qa[1],r);else if("pyrv"==b&&tools.isPuzzle("pyr"))Ua(Qa[1],r);else{d.html(IMAGE_UNAVAILABLE);return}d.append(r)}}$(function(){tools.regTool("222face",TOOLS_SOLVERS+">"+TOOLS_222FACE,b.bind(null,"222face"));tools.regTool("333cf",TOOLS_SOLVERS+">Cross + F2L",b.bind(null,"333cf"));tools.regTool("333roux",TOOLS_SOLVERS+">Roux S1 + S2",b.bind(null,"333roux"));
tools.regTool("333petrus",TOOLS_SOLVERS+">2x2x2 + 2x2x3",b.bind(null,"333petrus"));tools.regTool("333zz",TOOLS_SOLVERS+">EOLine + ZZF2L",b.bind(null,"333zz"));tools.regTool("333222",TOOLS_SOLVERS+">2x2x2",b.bind(null,"333222"));tools.regTool("333eodr",TOOLS_SOLVERS+">EO + DR",b.bind(null,"333eodr"));tools.regTool("sq1cs",TOOLS_SOLVERS+">SQ1 S1 + S2",b.bind(null,"sq1cs"));tools.regTool("pyrv",TOOLS_SOLVERS+">Pyraminx V",b.bind(null,"pyrv"));tools.regTool("skbl1",TOOLS_SOLVERS+">Skewb Face",b.bind(null,
"skbl1"));tools.regTool("333udf",TOOLS_SOLVERS+">3x3x3 General",b.bind(null,"333udf"))})});return{rubiksCube:h}}();var giikerutil=execMain(function(r){function Sa(b){b&&(w.html(Ra).removeClass("click").unbind("click"),GiikerCube.isConnected()||w.html("Bluetooth: Connect").addClass("click").click(Ya),b.empty().append(w,"<br>").append(Qa.unbind("click").click(p),"<br>").append("Raw Data: ",Xa,"<br>").append("Last Solve: ",Wa,"<br>").append(Ta),Va())}function d(){GiikerCube.isConnected()?(GiikerCube.getCube().getBatteryLevel().then(function(b){z=b[0];Ra=b[1]+": Connected | "+(z||"??")+"%";w.html(Ra)}),f=setTimeout(d,
6E4)):f=0}function ua(){gb&&(clearTimeout(gb),gb=0);kernel.getProp("giiAED")&&(gb=setTimeout(function(){a:{var d=hb;if(1!=d.length%2){var f=[];f[d.length]=new r;for(var h=d.length-1;0<=h;h--)f[h]=new r,r.CubeMult(r.moveCube[d[h]],f[h+1],f[h]);for(h=1;3>h;h++){bb=0;if(b(d,0,h,new r,f)){d=h;break a}if(9999<bb)break}}d=99}99!=d&&(d=db.toFaceCube(),2>=cubeutil.getProgress(d,"cfop")||(d=scramble_333.genFacelet(db.toFaceCube()),10>d.length/3?DEBUG&&console.log("[giiker]","Possible error, gen="+d.replace(/ /g,
"")+", ignore"):(DEBUG&&console.log("[giiker]","Almost error, gen="+d.replace(/ /g,"")+", mark solved"),p())))},1E3))}function b(d,f,h,n,p){if(0==h)return n.isEqual((new r).invFrom(p[f]));for(var v=new r;f<d.length-1;f++){if(~~(d[f]/3)%3!=~~(d[f+1]/3)%3){var w=(new r).init(n.ca,n.ea);r.CubeMult(w,r.moveCube[d[f+1]],v);r.CubeMult(v,r.moveCube[d[f]],w);r.CubeMult(w,p[f+2],v);if(9999<++bb)break;if(v.edgeCycles()<h)var z=b(d,f+2,h-1,w,p);if(z)return!0}r.CubeMult(n,r.moveCube[d[f]],v);n.init(v.ca,v.ea)}return!1}
function p(){kb.invFrom(cb);ab=mathlib.SOLVED_FACELET;kernel.setProp("giiSolved",n);hb=[];ib=[];ob=0;Va();Za(ab,["U "],lb)}function h(b,h,p,Qa){p=p||$.now();Ra=Qa+": Connected | "+(z||"??")+"%";w.html(Ra).removeClass("click").unbind("click");n=b;cb.fromFacelet(n);r.EdgeMult(kb,cb,db);r.CornMult(kb,cb,db);ab=db.toFaceCube();hb.push(3*"URFDLB".indexOf(h[0][0])+" 2'".indexOf(h[0][1]));ib.push(timer.getCurTime(p));b=hb.length;if(20<b){Qa="";for(var Sa=0;Sa<ob;Sa++){var Ta=hb[Sa];Qa+="URFDLB".charAt(~~(Ta/
3))+" 2'".charAt(Ta%3)}var Ua="";for(Sa=ob;Sa<hb.length;Sa++)Ta=hb[Sa],Ua+="URFDLB".charAt(~~(Ta/3))+" 2'".charAt(Ta%3)+"/*"+ib[Sa]+"*/";v(Xa,b+" move(s)",Qa,Ua)}ab==mathlib.SOLVED_FACELET&&(hb=[],ib=[],ob=0);Va();0==f&&d();ua();Za(ab,h,p)}function v(b,d,f,h){b.attr("href","https://alg.cubing.net/?alg="+h+"&setup="+f);b.html(d)}function Ya(){n=kernel.getProp("giiSolved",mathlib.SOLVED_FACELET);cb.fromFacelet(n);kb.invFrom(cb);GiikerCube.setCallBack(h);return GiikerCube.isConnected()?Promise.resolve():
GiikerCube.init()}function Ua(b,d){var f=d[0];pb=d[1];if("333"!=tools.puzzleType(f))pb="";else{f=kernel.parseScramble(pb,"URFDLB");var h=new r;fb.init(h.ca,h.ea);for(var n=0;n<f.length;n++){var p=3*f[n][0]+f[n][2]-1;0>p||18<=p||(r.EdgeMult(fb,r.moveCube[p],h),r.CornMult(fb,r.moveCube[p],h),p=fb,fb=h,h=p)}}}var w=$("<span></span>"),Qa=$("<span>Reset (Mark Solved)</span>").addClass("click"),Xa=$('<a target="_blank">0 move(s)</a>').addClass("click"),Wa=$('<a target="_blank"></a>').addClass("click"),
Ta=$("<canvas>"),Ra="Connected | ??%",Va=function(){var b=[1,2,1,1,0,3],d=[0,1,1,2,1,1],f="#ff0 #fa0 #00f #fff #f00 #0d0".split(" "),h;return function(){if(Ta)if(kernel.getProp("giiVRC"))Ta.hide();else{f=kernel.getProp("colcube").match(/#[0-9a-fA-F]{3}/g);Ta.show();h=Ta[0].getContext("2d");var n=kernel.getProp("imgSize")/50;Ta.width(39*n+"em");Ta.height(29*n+"em");Ta.attr("width",391);Ta.attr("height",87/9*30+1);for(n=0;6>n;n++)for(var p=n,r=ab,v=10/3*b[p],w=10/3*d[p],z=0;3>z;z++)for(var ua=0;3>ua;ua++)$.ctxDrawPolygon(h,
f["DLBURF".indexOf(r[3*(3*p+ua)+z])],[[z,z,z+1,z+1],[ua,ua+1,ua+1,ua]],[30,v,w])}}}(),f=0,z=0,Za=$.noop,n=mathlib.SOLVED_FACELET,cb=new r,db=new r,ab=n,kb=new r,fb=new r,lb=$.now(),gb=0,bb=0,hb=[],ib=[],pb,ob=0;$(function(){kernel.regListener("giiker","scramble",Ua);kernel.regListener("tool","property",Va,/^(?:giiVRC)$/);tools.regTool("giikerutil",TOOLS_GIIKER,Sa)});return{setCallBack:function(b){Za=b},markSolved:p,checkScramble:function(){return""==pb?!1:fb.isEqual(db)},markScrambled:function(){ob=
hb.length},init:Ya,setLastSolve:function(b){v(Wa,"Ready",pb,b)}}},[mathlib.CubieCube]);var metronome=execMain(function(){function r(b){return 99<b?b:" "+b}function Sa(b){b?(b.empty().append("BPM: ",w,Xa,"<br />").append("Vol: ",Qa,Wa,"<br />",Ua,"<br />").append("<br />",$("<label>").append(Va,'<span class="click"> Beep at</span>'),"<br />",Ra),w.unbind().on("input",function(){Xa.html(r(w.val()));ua()}),Qa.unbind().on("input",function(){Wa.html(r(Qa.val()));Ta.gain.value=Qa.val()/100}),Ua.html(f?"Stop!":"Start!"),Ua.unbind().click(function(){f=!f;Ua.html(f?"Stop!":"Start!");ua()}),
d()):(null!=z&&(clearInterval(z),z=null),f=!1)}function d(){Va.unbind("change").change(p).prop("checked",kernel.getProp("beepEn"));Ra.unbind("change").change(p).val(kernel.getProp("beepAt"));p()}function ua(){null!=z&&(clearInterval(z),z=null);if(f){var d=6E4/~~w.val();z=setInterval(b,d)}}function b(b){var d=Ya.createOscillator();d.type="sine";d.frequency.value=b||440;d.connect(Ta);d.start(Ya.currentTime);d.stop(Ya.currentTime+.1)}function p(){Va.prop("checked")?h(Ra.val()):null!=Za&&(clearInterval(Za),
Za=null);kernel.setProp("beepEn",Va.prop("checked"));kernel.blur()}function h(b){null!=Za&&(clearInterval(Za),Za=null);b=b.split(",");for(var d=0;d<b.length;d++)b[d]=~~(1E3*b[d].trim())/1E3;b=b.filter(Number);b.sort(function(b,d){return b-d});n=b;Ra.val(b.join(","));kernel.setProp("beepAt",b.join(","));Za=setInterval(v,100)}function v(){var d=~~timer.getCurTime()/1E3;if(0==d)cb=0;else{for(var f=!1;cb<n.length&&d>n[cb]-.05;)++cb,f=!0;f&&b(550)}}var Ya,Ua=$('<span style="display:inline-block; text-align:center; width:100%;"/>').addClass("click"),
w=$('<input type="range" value="60" min="10" max="360" style="width:7em;" />'),Qa=$('<input type="range" value="30" min="0" max="100" style="width:7em;" />'),Xa=$("<span />").html(" 60"),Wa=$("<span />").html(" 30"),Ta,Ra=$('<input type="text" style="width:7em;" />'),Va=$('<input type="checkbox" />'),f=!1,z=null,Za=null,n=[],cb=0;$(function(){kernel.regProp("tools","beepEn",-6,"Beep Enable",[!1]);kernel.regProp("tools","beepAt",-6,"Beep At",["5,10,15,20"]);var b=window.AudioContext||window.webkitAudioContext;
void 0!==b&&(Ya=new b,Ta=Ya.createGain(),Ta.gain.value=.3,Ta.connect(Ya.destination),tools.regTool("mtrnm",TOOLS_METRONOME,Sa));d()});return{playTick:b}});execMain(function(){function r(){var b=prompt(TOOLS_SYNCSEED_INPUTA);kernel.blur();null!=b&&(/^[a-zA-Z0-9]+$/.exec(b)?Sa(b):logohint.push("Invalid Value"))}function Sa(b){w=!0;Qa=Qa||mathlib.getSeed();mathlib.setSeed(0,"syncseed"+b);scramble.setCacheEnable(!1);h.html(b).addClass("click");kernel.pushSignal("ctrl",["scramble","next"])}function d(){w&&confirm(TOOLS_SYNCSEED_DISABLE)&&(w&&(w=!1,mathlib.setSeed(0,Qa[1]+""+Qa[0]),Qa=void 0,scramble.setCacheEnable(!0),kernel.pushSignal("ctrl",["scramble",
"next"])),h.html("N/A").unbind("click").removeClass("click"))}function ua(){Sa(""+~~((new Date).getTime()/1E3/30));kernel.blur()}function b(){alert(TOOLS_SYNCSEED_HELP)}function p(p){p&&p.empty().append(TOOLS_SYNCSEED_SEED,v.unbind("click").click(b),": ",h.unbind("click").click(d)).append("<br><br>",Ya.unbind("click").click(r)).append("<br>",Ua.unbind("click").click(ua))}var h=$("<span>").html("N/A"),v=$('<span class="click">').html("[?]"),Ya=$('<input type="button">').val(TOOLS_SYNCSEED_INPUT),Ua=
$('<input type="button">').val(TOOLS_SYNCSEED_30S),w=!1,Qa;$(function(){tools.regTool("syncseed",TOOLS_SYNCSEED,p)})});var shortcuts=execMain(function(){function r(b,p){if(kernel.getProp("useKSC")){var h;p.altKey&&p.ctrlKey?h=ua[p.which]:p.altKey?h=Sa[p.which]:p.ctrlKey&&(h=d[p.which]);void 0!=h&&(void 0==h[1]?kernel.setProp(h[0][0],h[0][1]):kernel.pushSignal(h[1],h[0]),kernel.clrKey(),kernel.blur())}}var Sa={49:[["scrType","sqrs"]],50:[["scrType","222so"]],51:[["scrType","333"]],52:[["scrType","444wca"]],53:[["scrType","555wca"]],54:[["scrType","666wca"]],55:[["scrType","777wca"]],67:[["scrType","clkwca"]],77:[["scrType",
"mgmp"]],80:[["scrType","pyrso"]],83:[["scrType","skbso"]],73:[["scrType","input"]],37:[["scramble","last"],"ctrl"],39:[["scramble","next"],"ctrl"],38:[["stats","-"],"ctrl"],40:[["stats","+"],"ctrl"],68:[["stats","clr"],"ctrl"],90:[["stats","undo"],"ctrl"]},d={49:[["stats","OK"],"ctrl"],50:[["stats","+2"],"ctrl"],51:[["stats","DNF"],"ctrl"]},ua={84:[["input","t"]],73:[["input","i"]],83:[["input","s"]],77:[["input","m"]],86:[["input","v"]],71:[["input","g"]]};$(function(){kernel.regListener("shortcut",
"keydown",r);kernel.regProp("tools","useKSC",0,PROPERTY_USEKSC,[!0])})});var help=execMain(function(){function r(){$(this).hasClass("enable")||Sa($(this).html())}function Sa(b){if(void 0===b)for(b in p)break;ua(b)&&d(b)}function d(b,d){v.children().appendTo(kernel.temp);for(var h in p)$("<div />").html(h).addClass(h==b?"tab enable":"tab disable").click(r).appendTo(v)}function ua(b,d){setTimeout(function(){Ua.scrollTop(Ua.scrollTop()+p[b].position().top-3)},0);return!0}function b(){var b=ABOUT_LANG,h;for(h in p)50<p[h].position().top||(b=p[h].is("h1, h2, h3")?p[h].html():
ABOUT_LANG);d(b)}var p={},h=$('<table class="options" />'),v=$("<td />"),Ya=$("<td />").addClass("tabValue"),Ua=$('<div class="noScrollBar helptable">');h.append($("<tr />").append(v,Ya.append(Ua)));$(function(){for(var d=$("#about").children(),r=0;r<d.length;r++){var v=d.eq(r),ua=v.appendTo(Ua).html();v.is("h1, h2, h3")&&!d.eq(r+1).is("h1, h2, h3")?p[ua]=v:p[ABOUT_LANG]=p[ABOUT_LANG]||v}Sa();$("#about").html(h);Ua.scrollTop();Ua.unbind("scroll").scroll(b)})});var stackmat=execMain(function(){function r(d){p=d;h=b.createMediaStreamSource(d);v=b.createScriptProcessor(1024,1,1);v.onaudioprocess=function(b){b=b.inputBuffer.getChannelData(0);for(var d=0;d<b.length;d++){Qa=Math.max(1E-4,Qa+(b[d]*b[d]-Qa)*Xa);var h=1/Math.sqrt(Qa)*b[d];Wa.unshift(h);if((Wa.pop()-h)*(Ta?1:-1)>Va&&Math.abs(h-(Ta?1:-1))-1>Ra&&f>.6*Ya){for(var n=0;n<Math.round(f/Ya);n++)Ua(Ta);Ta^=1;f=0}else f>2*Ya&&(Ua(Ta),f-=Ya);f++;10>ab?z=Math.max(1E-4,z+(Math.pow(h-(Ta?1:-1),2)-z)*Xa):100<ab&&
(z=1)}};h.connect(v);v.connect(b.destination)}function Sa(b){Za.push(b);b!=db?(db=b,ab=1):ab++;kb++;if(10<ab)cb=b,Za=[],0!=n.length&&(n=[]),100<ab&&lb.on?(lb.on=!1,lb.noise=Math.min(1,z)||0,lb.power=Qa,gb(lb)):700<kb&&(kb=100,lb.noise=Math.min(1,z)||0,lb.power=Qa,gb(lb));else if(10==Za.length)if(Za[0]==cb||Za[9]!=cb)Za=Za.slice(1);else{b=0;for(var f=8;0<f;f--)b=b<<1|(Za[f]==cb?1:0);n.push(String.fromCharCode(b));a:if(b=n,9==b.length||10==b.length){DEBUG&&console.log("[stackmat]",b);f=/[0-9]/;var h=
b[0];if(/[ SILRCA]/.exec(h)){for(var p=64,r=1;r<b.length-3;r++){if(!f.exec(b[r]))break a;p+=~~b[r]}p==b[b.length-3].charCodeAt(0)&&d(h,6E4*~~b[1]+1E3*~~(b[2]+b[3])+~~(b[4]+b[5]+(10==b.length?b[6]:"0")),9==b.length?10:1)}}Za=[]}}function d(b,d,f){var h=$.now();200<h-fb&&DEBUG&&console.log("[stackmat] signal miss ",h-fb);fb=h;h={};h.time_milli=d;h.unit=f;h.on=!0;kernel.getProp("stkHead")||(b="S");d=f==lb.unit?h.time_milli>lb.time_milli:Math.floor(h.time_milli/10)>Math.floor(lb.time_milli/10);h.greenLight=
"A"==b;h.leftHand="L"==b||"A"==b||"C"==b;h.rightHand="R"==b||"A"==b||"C"==b;h.running=("S"!=b||"S"==lb.signalHeader)&&(" "==b||d);h.signalHeader=b;h.unknownRunning=!lb.on;h.noise=Math.min(1,z)||0;h.power=Qa;lb=h;kb=0;gb(lb)}function ua(b){if(db!=cb&&1==ab&&(Za.push(b),24==Za.length)){for(var f=0,h=5;0<=h;h--){f*=10;for(var p=0;4>p;p++)f+=Za[4*h+p]<<p}Za=[];d("S",f,1)}b!=db?(db=b,ab=1):ab++;10<ab&&(cb=b,Za=[],n=[],1E3<ab&&lb.on?(lb.on=!1,lb.noise=Math.min(1,z)||0,lb.power=Qa,gb(lb)):4E3<ab&&(ab=1E3,
lb.noise=Math.min(1,z)||0,lb.power=Qa,gb(lb)))}var b,p,h,v,Ya,Ua,w,Qa=1,Xa=1E-4,Wa=[],Ta=0,Ra=.2,Va=.7,f=0,z=0,Za=[],n=[],cb=0,db=0,ab=0,kb=0,fb=0,lb={time_milli:0,unit:10,on:!1,greenLight:!1,leftHand:!1,rightHand:!1,running:!1,unknownRunning:!0,signalHeader:"I",noise:1,power:1},gb=$.noop;return{init:function(d,f,h){w=d;void 0===navigator.mediaDevices&&(navigator.mediaDevices={});void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(b){var d=navigator.webkitGetUserMedia||
navigator.mozGetUserMedia||navigator.msGetUserMedia;return d?new Promise(function(f,h){d.call(navigator,b,f,h)}):Promise.reject(Error("getUserMedia is not implemented in this browser"))});b=new (window.AudioContext||window.webkitAudioContext);"m"==w?(Ya=b.sampleRate/8E3,Ua=ua):(Ya=b.sampleRate/1200,Ua=Sa);Xa=.001/Ya;Wa.length=Math.ceil(Ya/6);Za=[];n=[];d={echoCancellation:!1,noiseSuppression:!1};f&&(d.deviceId={exact:f});return void 0==p?navigator.mediaDevices.getUserMedia({audio:d}).then(function(d){if("suspended"==
b.state&&!h)return Promise.reject();r(d)},console.log):Promise.resolve()},stop:function(){void 0!=p&&(h.disconnect(v),v.disconnect(b.destination),p.stop&&p.stop(),p=void 0)},updateInputDevices:function(){var b=[],d=new Promise(function(d,f){d(b)});return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(function(f){for(var h=0;h<f.length;h++){var n=f[h];"audioinput"===n.kind&&b.push([n.deviceId,n.label||"microphone "+(b.length+1)])}return d}):
d},setCallBack:function(b){gb=b}}});
execMain(function(){window.nativeStackmat&&(stackmat=function(){DEBUG&&console.log("Use Native Stackmat");var r="stackmat_callback_"+~~(1E7*Math.random()),Sa;nativeStackmat.setCallback(r);window[r]=function(d){DEBUG&&console.log(JSON.stringify(d));Sa&&Sa(d)};return{init:function(){nativeStackmat.init();return Promise.resolve()},stop:function(){nativeStackmat.stop();return Promise.resolve()},updateInputDevices:function(){return new Promise(function(d,r){d([[void 0,"native"]])})},setCallBack:function(d){Sa=
d}}}())});var stackmatutil=execMain(function(r){function Sa(d){d?(p=!0,d.empty().append(ua,"<br>","Device:&nbsp;&nbsp;",b)):p=!1}function d(){stackmat.updateInputDevices().then(function(d){b.empty();for(var h=0;h<d.length;h++)b.append($("<option>").val(d[h][0]).text(d[h][1]));b.unbind("change").change(function(){stackmat.stop();console.log("select device ",b.val());stackmat.init(void 0,b.val(),!0);kernel.blur()})})}var ua=$("<span>").html("status:  unknown"),b=$('<select style="font-size: 1rem;">'),p=!1;$(function(){tools.regTool("stackmatutil",
"stackmat",Sa);kernel.regProp("timer","stkHead",0,PROPERTY_STKHEAD,[!0]);d()});return{init:function(b,p){return stackmat.init(b,void 0,p).then(d)},stop:stackmat.stop,setCallBack:function(b){stackmat.setCallBack(function(d){if(p){var h="status:  "+(d.on?"on":"off")+"<br>";h+="noise:   "+~~(100*d.noise)+"%<br>";h+="power:   "+~~(100*Math.log10(d.power))/10+"dB<br>";h+="header:  "+d.signalHeader+"<br>";h+="pad:     "+(d.leftHand?"L":" ")+(d.rightHand?"R":" ")+"<br>";h+="running: "+(d.running?"yes":"no");
ua.html(h.replace(/ /g,"&nbsp;"))}b&&b(d)})}}});var GiikerCube=execMain(function(){var r=void 0,Sa=null,d=function(){function b(b){d(b.target.value)}function d(b){for(var d=$.now(),h=[],r=0;20>r;r++)h.push(b.getUint8(r));if(167==h[18]){b=[176,81,104,224,86,137,237,119,38,26,193,161,210,126,150,81,93,13,236,249,89,235,88,24,113,81,214,131,130,199,2,169,39,165,171,41];var f=h[19]>>4&15,v=h[19]&15;for(r=0;18>r;r++)h[r]+=b[r+f]+b[r+v];h=h.slice(0,18)}b=[];for(r=0;r<h.length;r++)b.push(h[r]>>4&15),b.push(h[r]&15);r=[];for(h=0;3>h;h++)for(f=8;0!=f;f>>=
1)r.push(b[h+28]&f?1:0);f=new mathlib.CubieCube;v=[-1,1,-1,1,1,-1,1,-1];for(h=0;8>h;h++)f.ca[h]=b[h]-1|(3+b[h+8]*v[h])%3<<3;for(h=0;12>h;h++)f.ea[h]=b[h+16]-1<<1|r[h];r=f.toFaceCube(Qa,Sa);v=b.slice(32,40);f=[];for(h=0;h<v.length;h+=2)f.push("BDLURF".charAt(v[h]-1)+" 2'".charAt((v[h+1]-1)%7));if(DEBUG){v=[];for(h=0;40>h;h++)v.push("0123456789abcdef".charAt(b[h]));console.log("[giiker]","Raw Data: ",b.join(""));console.log("[giiker]","Current State: ",r);console.log("[giiker]","A Valid Generator: ",
scramble_333.genFacelet(r));console.log("[giiker]","Previous Moves: ",f.reverse().join(" "));f.reverse()}p(r,f,d,w);return[r,f]}var r=null,ua=null,w,Qa=[[26,15,29],[20,8,9],[18,38,6],[24,27,44],[51,35,17],[45,11,2],[47,0,36],[53,42,33]],Sa=[[25,28],[23,12],[19,7],[21,41],[32,16],[5,10],[3,37],[30,43],[52,34],[48,14],[46,1],[50,39]];return{init:function(h){w=h.name.startsWith("Gi")?"Giiker":"Mi Smart";return h.gatt.connect().then(function(b){r=b;return b.getPrimaryService("0000aadb-0000-1000-8000-00805f9b34fb")}).then(function(b){return b.getCharacteristic("0000aadc-0000-1000-8000-00805f9b34fb")}).then(function(b){ua=
b;return ua.startNotifications()}).then(function(){return ua.readValue()}).then(function(h){d(h)[0]!=kernel.getProp("giiSolved",mathlib.SOLVED_FACELET)&&(h=kernel.getProp("giiRST"),("a"==h||"p"==h&&confirm(CONFIRM_GIIRST))&&giikerutil.markSolved());return ua.addEventListener("characteristicvaluechanged",b)})},opservs:["0000aadb-0000-1000-8000-00805f9b34fb","0000aaaa-0000-1000-8000-00805f9b34fb"],getBatteryLevel:function(){var b,d,h,p=function(b){h([b.target.value.getUint8(1),w]);d.removeEventListener("characteristicvaluechanged",
p);d.stopNotifications()};return r.getPrimaryService("0000aaaa-0000-1000-8000-00805f9b34fb").then(function(d){b=d;return d.getCharacteristic("0000aaab-0000-1000-8000-00805f9b34fb")}).then(function(b){d=b;return d.startNotifications()}).then(function(){return d.addEventListener("characteristicvaluechanged",p)}).then(function(){return b.getCharacteristic("0000aaac-0000-1000-8000-00805f9b34fb")}).then(function(b){b.writeValue((new Uint8Array([181])).buffer);return new Promise(function(b){h=b})})}}}(),
ua=function(){function b(b){for(var d=[],h=0;h<b.byteLength;h++)d[h]=b.getUint8(h);if(null==f)return d;16<d.length&&(d=d.slice(0,d.length-16).concat(f.decrypt(d.slice(d.length-16))));f.decrypt(d);return d}function d(b){return b.getPrimaryService("0000180a-0000-1000-8000-00805f9b34fb").then(function(b){Xa=b;return b.getCharacteristic("00002a28-0000-1000-8000-00805f9b34fb")}).then(function(b){return b.readValue()}).then(function(b){var d=b.getUint8(0)<<16|b.getUint8(1)<<8|b.getUint8(2);DEBUG&&console.log("[gancube] version",
JSON.stringify(d));f=null;if(65543<d&&65536==(d&16776704))return Xa.getCharacteristic("00002a23-0000-1000-8000-00805f9b34fb").then(function(b){return b.readValue()}).then(function(b){var h=z[d>>8&255];if(h){h=JSON.parse(LZString.decompressFromEncodedURIComponent(h));for(var n=0;6>n;n++)h[n]=h[n]+b.getUint8(5-n)&255;b=h}else b=void 0;b?(DEBUG&&console.log("[gancube] key",JSON.stringify(b)),f=new bb(b)):logohint.push("Not support your Gan cube")});logohint.push("Not support your Gan cube")})}function r(){return 50>
gb?new Promise(function(b){b(!1)}):Wa.readValue().then(function(d){d=b(d);for(var f=[],h=0;h<d.length-2;h+=3)for(var n=d[h^1]<<16|d[h+1^1]<<8|d[h+2^1],p=21;0<=p;p-=3)f.push("URFDLB".charAt(n>>p&7)),12==p&&f.push("URFDLB".charAt(h/3));db=f.join("");gb=0;return new Promise(function(b){b(!0)})})}function ua(){if(Sa)return Ta.readValue().then(function(d){d=b(d);ab=$.now();fb=d[12];if(fb!=lb){Za=[];for(var f=0;6>f;f++){var h=d[13+f];Za.unshift("URFDLB".charAt(~~(h/3))+" 2'".charAt(h%3))}var v;return Ra.readValue().then(function(d){v=
d=b(d);return r()}).then(function(b){if(b&&-1==lb)p(db,Za,ab,"Gan 356i"),n.fromFacelet(db),lb=fb,db!=kernel.getProp("giiSolved",mathlib.SOLVED_FACELET)&&(b=kernel.getProp("giiRST"),("a"==b||"p"==b&&confirm(CONFIRM_GIIRST))&&giikerutil.markSolved());else{for(var d=[],f=0;9>f;f++)d.unshift(~~((v[2*f+1]|v[2*f+2]<<8)/.95));var h=fb-lb&255;lb=fb;gb+=h;6<h&&(gb=50,h=6);var r=kb;for(f=h-1;0<=f;f--)r+=d[f];2E3<Math.abs(r-ab)&&(console.log("[gancube]","time adjust",ab-r,"@",ab),kb+=ab-r);for(f=h-1;0<=f;f--)h=
3*"URFDLB".indexOf(Za[f][0])+" 2'".indexOf(Za[f][1]),mathlib.CubieCube.EdgeMult(n,mathlib.CubieCube.moveCube[h],cb),mathlib.CubieCube.CornMult(n,mathlib.CubieCube.moveCube[h],cb),kb+=d[f],p(cb.toFaceCube(),Za.slice(f),kb,"Gan 356i"),h=cb,cb=n,n=h;b&&n.toFaceCube()!=db&&(console.log("[gancube]","Cube state check error"),console.log("[gancube]","calc",n.toFaceCube()),console.log("[gancube]","read",db),n.fromFacelet(db))}})}}).then(ua)}var w,Qa,Xa,Wa,Ta,Ra,Va,f=null,z=["NoRgnAHANATADDWJYwMxQOxiiEcfYgSK6Hpr4TYCs0IG1OEAbDszALpA",
"NoNg7ANATFIQnARmogLBRUCs0oAYN8U5J45EQBmFADg0oJAOSlUQF0g"],Za,n=new mathlib.CubieCube,cb=new mathlib.CubieCube,db,ab,kb=0,fb=-1,lb=-1,gb=1E3,bb=function(){function b(b,d){for(var f=b.slice(),p=0;16>p;p++)b[p]=h[f[n[p]]]^d[p]}function d(b){if(0==p.length){for(var d=0;256>d;d++)h[f[d]]=d;for(d=0;128>d;d++)p[d]=d<<1,p[128+d]=d<<1^27}b=b.slice();d=1;for(var n=16;176>n;n+=4){var r=b.slice(n-4,n);0==n%16&&(r=[f[r[1]]^d,f[r[2]],f[r[3]],f[r[0]]],d=p[d]);for(var v=0;4>v;v++)b[n+v]=b[n+v-16]^r[v]}this.key=
b}var f=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,
126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],h=[],n=[0,13,10,7,4,1,14,11,8,5,2,15,12,9,6,3],p=[];d.prototype.decrypt=function(d){for(var f=
this.key.slice(160,176),h=0;16>h;h++)d[h]^=f[h];for(f=144;16<=f;f-=16){b(d,this.key.slice(f,f+16));h=d;for(var n=0;16>n;n+=4){var r=h[n+0],v=h[n+1],w=h[n+2],z=h[n+3],ua=r^v^w^z,Qa=p[ua],Ra=p[p[Qa^r^w]]^ua;ua^=p[p[Qa^v^z]];h[n+0]=h[n+0]^Ra^p[r^v];h[n+1]=h[n+1]^ua^p[v^w];h[n+2]=h[n+2]^Ra^p[w^z];h[n+3]=h[n+3]^ua^p[z^r]}}b(d,this.key.slice(0,16));return d};return d}();return{init:function(b){return b.gatt.connect().then(function(b){w=b;return d(b)}).then(function(){return w.getPrimaryService("0000fff0-0000-1000-8000-00805f9b34fb")}).then(function(b){Qa=
b;return Qa.getCharacteristic("0000fff2-0000-1000-8000-00805f9b34fb")}).then(function(b){Wa=b;return Qa.getCharacteristic("0000fff5-0000-1000-8000-00805f9b34fb")}).then(function(b){Ta=b;return Qa.getCharacteristic("0000fff6-0000-1000-8000-00805f9b34fb")}).then(function(b){Ra=b;return Qa.getCharacteristic("0000fff7-0000-1000-8000-00805f9b34fb")}).then(function(b){Va=b}).then(ua)},opservs:["0000fff0-0000-1000-8000-00805f9b34fb","0000180a-0000-1000-8000-00805f9b34fb"],getBatteryLevel:function(){return Va.readValue().then(function(d){d=
b(d);return new Promise(function(b){b([d[7],"Gan 356i"])})})}}}(),b=function(){function b(b){b=b.target.value;var h=$.now();if(!(4>b.byteLength)&&42==b.getUint8(0)&&13==b.getUint8(b.byteLength-2)&&10==b.getUint8(b.byteLength-1)){var n=b.getUint8(2),r=b.byteLength-6;if(1==n)for(n=0;n<r;n+=2){var v=Qa[b.getUint8(3+n)>>1],ua=[0,2][b.getUint8(3+n)&1],Ua=3*v+ua;console.log("move","URFDLB".charAt(v)+" 2'".charAt(ua));mathlib.CubieCube.EdgeMult(Za,mathlib.CubieCube.moveCube[Ua],z);mathlib.CubieCube.CornMult(Za,
mathlib.CubieCube.moveCube[Ua],z);f=z.toFaceCube();p(f,["URFDLB".charAt(v)+" 2'".charAt(ua)],h,"GoCube");v=z;z=Za;Za=v;20<++Va&&(Va=0,w.writeValue((new Uint8Array([51])).buffer))}else if(2==n){h=[];for(r=0;6>r;r++)for(v=9*Qa[r],ua=Wa[r],h[v+4]="BFUDRL".charAt(b.getUint8(3+9*r)),n=0;8>n;n++)h[v+Sa[(n+ua)%8]]="BFUDRL".charAt(b.getUint8(3+9*r+n+1));b=h.join("");b!=f&&(console.log("facelet",b),z.fromFacelet(b))}else if(3!=n)if(5==n)for(console.log("battery level",d(b)),Ta=b.getUint8(3);0!=Ra.length;)Ra.shift()(Ta);
else 7==n?console.log("offline stats",d(b)):8==n&&console.log("cube type",d(b))}}function d(b){for(var d=[],f=0;f<b.byteLength;f++)d.push(b.getUint8(f)>>4&15),d.push(b.getUint8(f)&15);return d}var r,ua,w,Qa=[5,2,0,3,1,4],Sa=[0,1,2,5,8,7,6,3],Wa=[0,0,6,2,0,0],Ta=-1,Ra=[],Va=100,f=mathlib.SOLVED_FACELET,z=new mathlib.CubieCube,Za=new mathlib.CubieCube;return{init:function(d){return d.gatt.connect().then(function(b){return b.getPrimaryService("6e400001-b5a3-f393-e0a9-e50e24dcca9e")}).then(function(b){r=
b;return r.getCharacteristic("6e400002-b5a3-f393-e0a9-e50e24dcca9e")}).then(function(b){w=b;return r.getCharacteristic("6e400003-b5a3-f393-e0a9-e50e24dcca9e")}).then(function(b){ua=b;return ua.startNotifications()}).then(function(){return ua.addEventListener("characteristicvaluechanged",b)}).then(function(){return w.writeValue((new Uint8Array([51])).buffer)})},opservs:["6e400001-b5a3-f393-e0a9-e50e24dcca9e"],getBatteryLevel:function(){w.writeValue((new Uint8Array([50])).buffer);return new Promise(function(b){Ra.push(b)})}}}(),
p=$.noop;return{init:function(h){return window.navigator&&window.navigator.bluetooth?window.navigator.bluetooth.requestDevice({filters:[{namePrefix:"Gi"},{namePrefix:"Mi Smart Magic Cube"},{namePrefix:"GAN"},{namePrefix:"GoCube"},{services:["0000fe95-0000-1000-8000-00805f9b34fb"]},{services:[d.opservs[0]]}],optionalServices:[].concat(d.opservs,ua.opservs,b.opservs)}).then(function(h){console.log(h);Sa=h;return h.name.startsWith("Gi")||h.name.startsWith("Mi Smart Magic Cube")?(r=d,d.init(h)):h.name.startsWith("GAN")?
(r=ua,ua.init(h)):h.name.startsWith("GoCube")?(r=b,b.init(h)):Promise.resolve()}):(alert("Bluetooth API is not available. Ensure https access, and try chrome with chrome://flags/#enable-experimental-web-platform-features enabled"),Promise.resolve())},stop:function(){Sa&&(Sa.gatt.disconnect(),Sa=null)},isConnected:function(){return null!=Sa},setCallBack:function(b){p=b},getCube:function(){return r}}});var GanTimerState={};GanTimerState[GanTimerState.DISCONNECT=0]="DISCONNECT";GanTimerState[GanTimerState.GET_SET=1]="GET_SET";GanTimerState[GanTimerState.HANDS_OFF=2]="HANDS_OFF";GanTimerState[GanTimerState.RUNNING=3]="RUNNING";GanTimerState[GanTimerState.STOPPED=4]="STOPPED";GanTimerState[GanTimerState.IDLE=5]="IDLE";GanTimerState[GanTimerState.HANDS_ON=6]="HANDS_ON";GanTimerState[GanTimerState.FINISHED=7]="FINISHED";
var GanTimerDriver=execMain(function(){function r(b){var d=[];if(b)for(var p=0;p<b.byteLength;p++)d.push(b.getUint8(p).toString(16).padStart(2,"0"));return d.join(" ")}function Sa(b){b=b.target.value;try{if(b&&0!=b.byteLength&&254==b.getUint8(0)){var d=b.getUint16(b.byteLength-2,!0),p=b.buffer.slice(2,b.byteLength-2),Sa=new DataView(p);p=65535;for(var Ua=0;Ua<Sa.byteLength;++Ua){p^=Sa.getUint8(Ua)<<8;for(var w=0;8>w;++w)p=0<(p&32768)?p<<1^4129:p<<1}var Qa=d==(p&65535)}else Qa=!1}catch(Xa){Qa=!1}Qa?
"function"==typeof ua&&(Qa=ua,d={state:b.getUint8(3)},d.state==GanTimerState.STOPPED&&(Sa=b.getUint8(4),p=b.getUint8(5),b=b.getUint16(6,!0),d.recordedTime={minutes:Sa,seconds:p,milliseconds:b,asTimestamp:6E4*Sa+1E3*p+b}),Qa(d)):console.log("GanTimerDriver: Invalid event data received from Timer: "+r(b))}function d(){b&&(b.removeEventListener("characteristicvaluechanged",Sa),b=void 0);"function"==typeof ua&&ua({state:GanTimerState.DISCONNECT})}var ua,b;return{connect:function(){return navigator.bluetooth?
navigator.bluetooth.getAvailability().then(function(b){if(!b)return Promise.reject("Bluetooth is not available. Ensure HTTPS access, and check bluetooth is enabled on your device")}).then(function(){return navigator.bluetooth.requestDevice({filters:[{namePrefix:"GAN"}],optionalServices:["0000fff0-0000-1000-8000-00805f9b34fb"]})}).then(function(b){b.addEventListener("gattserverdisconnected",d);return b.gatt.connect()}).then(function(b){return b.getPrimaryService("0000fff0-0000-1000-8000-00805f9b34fb")}).then(function(b){return b.getCharacteristic("0000fff5-0000-1000-8000-00805f9b34fb")}).then(function(d){b=
d;b.addEventListener("characteristicvaluechanged",Sa);b.startNotifications()}):Promise.reject("Bluetooth API is not supported by this browser. Try fresh Chrome version!")},disconnect:function(){return b?(b.service.device.removeEventListener("gattserverdisconnected",d),b.removeEventListener("characteristicvaluechanged",Sa),b.stopNotifications().then(function(){b.service.device.gatt.disconnect();b=void 0})):Promise.resolve()},setStateUpdateCallback:function(b){ua=b}}});var csTimerWorker=execBoth(function(){if(!window.Worker)return{};var r=new Worker("js/cstimer.js"),Sa={},d=0;r.onmessage=function(d){d=d.data;var b=Sa[d[0]];delete Sa[d[0]];b&&b(d[2])};r.postMessage([0,"set",["SCRAMBLE_NOOBST",SCRAMBLE_NOOBST]]);r.postMessage([0,"set",["SCRAMBLE_NOOBSS",SCRAMBLE_NOOBSS]]);return{getScramble:function(ua,b){++d;Sa[d]=b;r.postMessage([d,"scramble",ua]);return d}}},function(){self.onmessage=function(r){var Sa=r.data;r=Sa[0];var d=Sa[1];Sa=Sa[2];var ua=void 0;switch(d){case "scramble":ua=
scrMgr.scramblers[Sa[0]];ua=ua.apply(ua,Sa);break;case "set":self[Sa[0]]=Sa[1]}postMessage([r,d,ua])}});
