var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(r,Sa,d){r!=Array.prototype&&r!=Object.prototype&&(r[Sa]=d.value)};$jscomp.getGlobal=function(r){return"undefined"!=typeof window&&window===r?r:"undefined"!=typeof global&&null!=global?global:r};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(r,Sa,d,w){if(Sa){d=$jscomp.global;r=r.split(".");for(w=0;w<r.length-1;w++){var b=r[w];b in d||(d[b]={});d=d[b]}r=r[r.length-1];w=d[r];Sa=Sa(w);Sa!=w&&null!=Sa&&$jscomp.defineProperty(d,r,{configurable:!0,writable:!0,value:Sa})}};$jscomp.polyfill("Array.prototype.fill",function(r){return r?r:function(r,d,w){var b=this.length||0;0>d&&(d=Math.max(0,b+d));if(null==w||w>b)w=b;w=Number(w);0>w&&(w=Math.max(0,b+w));for(d=Number(d||0);d<w;d++)this[d]=r;return this}},"es6","es3");
$jscomp.checkStringArgs=function(r,Sa,d){if(null==r)throw new TypeError("The 'this' value for String.prototype."+d+" must not be null or undefined");if(Sa instanceof RegExp)throw new TypeError("First argument to String.prototype."+d+" must not be a regular expression");return r+""};
$jscomp.polyfill("String.prototype.startsWith",function(r){return r?r:function(r,d){var w=$jscomp.checkStringArgs(this,r,"startsWith");r+="";for(var b=w.length,n=r.length,h=Math.max(0,Math.min(d|0,w.length)),ua=0;ua<n&&h<b;)if(w[h++]!=r[ua++])return!1;return ua>=n}},"es6","es3");$jscomp.findInternal=function(r,Sa,d){r instanceof String&&(r=String(r));for(var w=r.length,b=0;b<w;b++){var n=r[b];if(Sa.call(d,n,b,r))return{i:b,v:n}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(r){return r?r:function(r,d){return $jscomp.findInternal(this,r,d).v}},"es6","es3");$jscomp.arrayIteratorImpl=function(r){var Sa=0;return function(){return Sa<r.length?{done:!1,value:r[Sa++]}:{done:!0}}};$jscomp.arrayIterator=function(r){return{next:$jscomp.arrayIteratorImpl(r)}};$jscomp.makeIterator=function(r){var Sa="undefined"!=typeof Symbol&&Symbol.iterator&&r[Symbol.iterator];return Sa?Sa.call(r):$jscomp.arrayIterator(r)};
$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(r){function Sa(){this.batch_=null}function d(h){return h instanceof b?h:new b(function(b,d){b(h)})}if(r&&!$jscomp.FORCE_POLYFILL_PROMISE)return r;Sa.prototype.asyncExecute=function(h){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(h);return this};Sa.prototype.asyncExecuteBatch_=function(){var h=this;this.asyncExecuteFunction(function(){h.executeBatch_()})};var w=$jscomp.global.setTimeout;Sa.prototype.asyncExecuteFunction=function(h){w(h,
0)};Sa.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var h=this.batch_;this.batch_=[];for(var b=0;b<h.length;++b){var d=h[b];h[b]=null;try{d()}catch(Qa){this.asyncThrow_(Qa)}}}this.batch_=null};Sa.prototype.asyncThrow_=function(b){this.asyncExecuteFunction(function(){throw b;})};var b=function(b){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var h=this.createResolveAndReject_();try{b(h.resolve,h.reject)}catch(Xa){h.reject(Xa)}};b.prototype.createResolveAndReject_=
function(){function b(b){return function(h){n||(n=!0,b.call(d,h))}}var d=this,n=!1;return{resolve:b(this.resolveTo_),reject:b(this.reject_)}};b.prototype.resolveTo_=function(h){if(h===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(h instanceof b)this.settleSameAsPromise_(h);else{a:switch(typeof h){case "object":var d=null!=h;break a;case "function":d=!0;break a;default:d=!1}d?this.resolveToNonPromiseObj_(h):this.fulfill_(h)}};b.prototype.resolveToNonPromiseObj_=function(b){var h=
void 0;try{h=b.then}catch(Xa){this.reject_(Xa);return}"function"==typeof h?this.settleSameAsThenable_(h,b):this.fulfill_(b)};b.prototype.reject_=function(b){this.settle_(2,b)};b.prototype.fulfill_=function(b){this.settle_(1,b)};b.prototype.settle_=function(b,d){if(0!=this.state_)throw Error("Cannot settle("+b+", "+d+"): Promise already settled in state"+this.state_);this.state_=b;this.result_=d;this.executeOnSettledCallbacks_()};b.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var b=
0;b<this.onSettledCallbacks_.length;++b)n.asyncExecute(this.onSettledCallbacks_[b]);this.onSettledCallbacks_=null}};var n=new Sa;b.prototype.settleSameAsPromise_=function(b){var h=this.createResolveAndReject_();b.callWhenSettled_(h.resolve,h.reject)};b.prototype.settleSameAsThenable_=function(b,d){var h=this.createResolveAndReject_();try{b.call(d,h.resolve,h.reject)}catch(Qa){h.reject(Qa)}};b.prototype.then=function(h,d){function ua(b,h){return"function"==typeof b?function(h){try{Qa(b(h))}catch(Ra){v(Ra)}}:
h}var Qa,v,n=new b(function(b,h){Qa=b;v=h});this.callWhenSettled_(ua(h,Qa),ua(d,v));return n};b.prototype["catch"]=function(b){return this.then(void 0,b)};b.prototype.callWhenSettled_=function(b,d){function h(){switch(ua.state_){case 1:b(ua.result_);break;case 2:d(ua.result_);break;default:throw Error("Unexpected state: "+ua.state_);}}var ua=this;null==this.onSettledCallbacks_?n.asyncExecute(h):this.onSettledCallbacks_.push(h)};b.resolve=d;b.reject=function(h){return new b(function(b,d){d(h)})};b.race=
function(h){return new b(function(b,n){for(var ua=$jscomp.makeIterator(h),v=ua.next();!v.done;v=ua.next())d(v.value).callWhenSettled_(b,n)})};b.all=function(h){var ua=$jscomp.makeIterator(h),n=ua.next();return n.done?d([]):new b(function(b,h){function v(h){return function(d){Qa[h]=d;Ta--;0==Ta&&b(Qa)}}var Qa=[],Ta=0;do Qa.push(void 0),Ta++,d(n.value).callWhenSettled_(v(Qa.length-1),h),n=ua.next();while(!n.done)})};return b},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(r){return r?r:function(r,d){var w=$jscomp.checkStringArgs(this,r,"endsWith");r+="";void 0===d&&(d=w.length);for(var b=Math.max(0,Math.min(d|0,w.length)),n=r.length;0<n&&0<b;)if(w[--b]!=r[--n])return!1;return 0>=n}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var r=0;return function(Sa){return $jscomp.SYMBOL_PREFIX+(Sa||"")+r++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var r=$jscomp.global.Symbol.iterator;r||(r=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[r]&&$jscomp.defineProperty(Array.prototype,r,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var r=$jscomp.global.Symbol.asyncIterator;r||(r=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(r){$jscomp.initSymbolIterator();r={next:r};r[$jscomp.global.Symbol.iterator]=function(){return this};return r};
$jscomp.iteratorFromArray=function(r,Sa){$jscomp.initSymbolIterator();r instanceof String&&(r+="");var d=0,w={next:function(){if(d<r.length){var b=d++;return{value:Sa(b,r[b]),done:!1}}w.next=function(){return{done:!0,value:void 0}};return w.next()}};w[Symbol.iterator]=function(){return w};return w};$jscomp.polyfill("Array.prototype.keys",function(r){return r?r:function(){return $jscomp.iteratorFromArray(this,function(r){return r})}},"es6","es3");
$jscomp.polyfill("Math.log10",function(r){return r?r:function(r){return Math.log(r)/Math.LN10}},"es6","es3");$jscomp.polyfill("String.prototype.repeat",function(r){return r?r:function(r){var d=$jscomp.checkStringArgs(this,null,"repeat");if(0>r||1342177279<r)throw new RangeError("Invalid count value");r|=0;for(var w="";r;)if(r&1&&(w+=d),r>>>=1)d+=d;return w}},"es6","es3");
$jscomp.stringPadding=function(r,Sa){var d=void 0!==r?String(r):" ";return 0<Sa&&d?d.repeat(Math.ceil(Sa/d.length)).substring(0,Sa):""};$jscomp.polyfill("String.prototype.padStart",function(r){return r?r:function(r,d){var w=$jscomp.checkStringArgs(this,null,"padStart");return $jscomp.stringPadding(d,r-w.length)+w}},"es8","es3");var isInWorker="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope;
function execBoth(r,Sa,d){return!isInWorker&&r?r.apply(this,d||[]):isInWorker&&Sa?Sa.apply(this,d||[]):{}}function execWorker(r,Sa){return execBoth(void 0,r,Sa)}function execMain(r,Sa){return execBoth(r,void 0,Sa)}execWorker(function(){self.$={isArray:Array.isArray||function(r){return"array"===jQuery.type(r)},noop:function(){}}});
execMain(function(){window.onerror=function(d,r,b,n,h){void 0==h&&(h={});var ua="";try{ua=$.fingerprint()}catch(Xa){}try{LZString.compressToEncodedURIComponent(localStorage.properties)}catch(Xa){}console.log(CSTIMER_VERSION,ua,d,r,b,n,h)};for(var r="CSTIMER_VERSION LANG_SET LANG_STR LANG_CUR OK_LANG CANCEL_LANG RESET_LANG ABOUT_LANG ZOOM_LANG BUTTON_TIME_LIST BUTTON_OPTIONS BUTTON_EXPORT BUTTON_DONATE PROPERTY_SR PROPERTY_USEINS PROPERTY_USEINS_STR PROPERTY_VOICEINS PROPERTY_VOICEINS_STR PROPERTY_VOICEVOL PROPERTY_PHASES PROPERTY_TIMERSIZE PROPERTY_USEMILLI PROPERTY_SMALLADP PROPERTY_SCRSIZE PROPERTY_SCRMONO PROPERTY_SCRLIM PROPERTY_SCRALIGN PROPERTY_SCRALIGN_STR PROPERTY_SCRFAST PROPERTY_SCRKEYM PROPERTY_SCRCLK PROPERTY_SCRCLK_STR PROPERTY_WNDSCR PROPERTY_WNDSTAT PROPERTY_WNDTOOL PROPERTY_WND_STR EXPORT_DATAEXPORT EXPORT_TOFILE EXPORT_FROMFILE EXPORT_TOSERV EXPORT_FROMSERV EXPORT_FROMOTHER EXPORT_USERID EXPORT_INVID EXPORT_ERROR EXPORT_NODATA EXPORT_UPLOADED EXPORT_CODEPROMPT EXPORT_ONLYOPT EXPORT_ACCOUNT EXPORT_LOGINGGL EXPORT_LOGINWCA EXPORT_LOGOUTCFM EXPORT_LOGINAUTHED IMPORT_FINAL_CONFIRM BUTTON_SCRAMBLE BUTTON_TOOLS IMAGE_UNAVAILABLE TOOLS_SELECTFUNC TOOLS_CROSS TOOLS_EOLINE TOOLS_ROUX1 TOOLS_222FACE TOOLS_GIIKER TOOLS_IMAGE TOOLS_STATS TOOLS_HUGESTATS TOOLS_DISTRIBUTION TOOLS_TREND TOOLS_METRONOME TOOLS_CFMTIME TOOLS_SOLVERS TOOLS_SYNCSEED TOOLS_SYNCSEED_SEED TOOLS_SYNCSEED_INPUT TOOLS_SYNCSEED_30S TOOLS_SYNCSEED_HELP TOOLS_SYNCSEED_DISABLE TOOLS_SYNCSEED_INPUTA OLCOMP_UPDATELIST OLCOMP_VIEWRESULT OLCOMP_VIEWMYRESULT OLCOMP_START OLCOMP_SUBMIT OLCOMP_SUBMITAS OLCOMP_WCANOTICE OLCOMP_OLCOMP OLCOMP_ANONYM OLCOMP_ME OLCOMP_WCAACCOUNT OLCOMP_ABORT OLCOMP_WITHANONYM PROPERTY_IMGSIZE TIMER_INSPECT TIMER_SOLVE PROPERTY_USEMOUSE PROPERTY_TIMEU PROPERTY_TIMEU_STR PROPERTY_PRETIME PROPERTY_ENTERING PROPERTY_ENTERING_STR PROPERTY_INTUNIT PROPERTY_INTUNIT_STR PROPERTY_COLOR PROPERTY_COLORS PROPERTY_VIEW PROPERTY_VIEW_STR PROPERTY_UIDESIGN PROPERTY_UIDESIGN_STR COLOR_EXPORT COLOR_IMPORT COLOR_FAIL PROPERTY_FONTCOLOR_STR PROPERTY_COLOR_STR PROPERTY_FONT PROPERTY_FONT_STR PROPERTY_FORMAT PROPERTY_USEKSC PROPERTY_NTOOLS PROPERTY_AHIDE SCRAMBLE_LAST SCRAMBLE_NEXT SCRAMBLE_SCRAMBLE SCRAMBLE_LENGTH SCRAMBLE_INPUT PROPERTY_VRCSPEED PROPERTY_VRCMP PROPERTY_VRCMPS PROPERTY_GIIKERVRC PROPERTY_GIISOK_DELAY PROPERTY_GIISOK_DELAYS PROPERTY_GIISOK_KEY PROPERTY_GIISOK_MOVE PROPERTY_GIISOK_MOVES PROPERTY_GIISBEEP PROPERTY_GIIRST PROPERTY_GIIRSTS CONFIRM_GIIRST PROPERTY_GIIAED scrdata SCRAMBLE_NOOBST SCRAMBLE_NOOBSS STATS_CFM_RESET STATS_CFM_DELSS STATS_CFM_DELMUL STATS_CFM_DELETE STATS_COMMENT STATS_REVIEW STATS_DATE STATS_SSSTAT STATS_CURROUND STATS_CURSESSION STATS_CURSPLIT STATS_EXPORTCSV STATS_SSMGR_TITLE STATS_SSMGR_NAME STATS_SSMGR_DETAIL STATS_SSMGR_OPS STATS_SSMGR_ORDER STATS_SSMGR_ODCFM STATS_SSMGR_SORTCFM STATS_ALERTMG STATS_PROMPTSPL STATS_ALERTSPL STATS_AVG STATS_SOLVE STATS_TIME STATS_SESSION STATS_SESSION_NAME STATS_SESSION_NAMEC STATS_STRING STATS_PREC STATS_PREC_STR STATS_TYPELEN STATS_STATCLR STATS_ABSIDX STATS_XSESSION_DATE STATS_XSESSION_NAME STATS_XSESSION_SCR STATS_XSESSION_CALC STATS_RSFORSS PROPERTY_PRINTSCR PROPERTY_PRINTDATE PROPERTY_SUMMARY PROPERTY_IMRENAME PROPERTY_SCR2SS PROPERTY_SS2SCR PROPERTY_SS2PHASES PROPERTY_STATINV PROPERTY_STATAL PROPERTY_STATALU PROPERTY_DELMUL PROPERTY_TOOLSFUNC PROPERTY_TRIM PROPERTY_TRIM_MED PROPERTY_STKHEAD PROPERTY_HIDEFULLSOL PROPERTY_IMPPREV PROPERTY_AUTOEXP PROPERTY_AUTOEXP_OPT PROPERTY_SCRASIZE MODULE_NAMES BGIMAGE_URL BGIMAGE_INVALID BGIMAGE_OPACITY BGIMAGE_IMAGE BGIMAGE_IMAGE_STR SHOW_AVG_LABEL USE_LOGOHINT TOOLS_SCRGEN SCRGEN_NSCR SCRGEN_PRE SCRGEN_GEN".split(" "),
Sa=0;Sa<r.length;Sa++)window[r[Sa]]=window[r[Sa]]||"|||||||||||||||";window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(d,r){return window.setTimeout(d,1E3/60)}}();window.localStorage||(window.localStorage={});"properties"in localStorage||"https:"==location.protocol||"localhost"==location.hostname||(location.href="https:"+location.href.substring(location.protocol.length));
window.performance&&window.performance.now&&($.now=function(){return Math.floor(window.performance.now())});$.urlParam=function(d){d=(new RegExp("[?&]"+d+"=([^&#]*)")).exec(window.location.href);return null==d?null:d[1]||0};$.hashParam=function(d){d=(new RegExp("[#&]"+d+"=([^&#]*)")).exec(window.location.hash);return null==d?null:d[1]||0};$.clearUrl=function(d){var r=(new RegExp("[?&]("+d+"=[^&#]*&?)")).exec(window.location.href);d=d?location.href.replace(r[1],"").replace(/\?$/,""):location.pathname;
history&&history.replaceState?history.replaceState(void 0,void 0,d):location.href=d};$.clearHash=function(d){var r=(new RegExp("[#&]("+d+"=[^&#]*&?)")).exec(window.location.href);d=d?location.href.replace(r[1],"").replace(/#$/,""):location.pathname+location.search;history&&history.replaceState?history.replaceState(void 0,void 0,d):location.href=d};$.clipboardCopy=function(d,r){var b=$("<textarea>"+d+"</textarea>").appendTo(document.body);b.focus().select();var n=!1;try{n=document.execCommand("copy")}catch(h){}b.remove();
return n};$.fingerprint=function(){var d=window.screen&&[Math.max(screen.height,screen.width),Math.min(screen.height,screen.width),screen.colorDepth].join("x"),r=(new Date).getTimezoneOffset(),b=$.map(navigator.plugins,function(b){return[b.name,b.description,$.map(b,function(b){return[b.type,b.suffixes].join("~")}).sort().join(",")].join("::")}).sort().join(";");d=[navigator.userAgent,navigator.language,!!window.sessionStorage,!!window.localStorage,!!window.indexedDB,navigator.doNotTrack,d,r,b].join("###");
return $.sha256(d)};$.ctxDrawPolygon=function(d,r,b,n){if(d){n=n||[1,0,0,0,1,0];b=$.ctxTransform(b,n);d.beginPath();d.fillStyle=r;d.moveTo(b[0][0],b[1][0]);for(r=1;r<b[0].length;r++)d.lineTo(b[0][r],b[1][r]);d.closePath();d.fill();d.stroke()}};$.ctxRotate=function(d,r){return Transform(d,[Math.cos(r),-Math.sin(r),0,Math.sin(r),Math.cos(r),0])};$.ctxTransform=function(d){for(var r,b=1;b<arguments.length;b++){var n=arguments[b];3==n.length&&(n=[n[0],0,n[1]*n[0],0,n[0],n[2]*n[0]]);r=[[],[]];for(b=0;b<
d[0].length;b++)r[0][b]=d[0][b]*n[0]+d[1][b]*n[1]+n[2],r[1][b]=d[0][b]*n[3]+d[1][b]*n[4]+n[5]}return r};"serviceWorker"in navigator?$(function(){navigator.serviceWorker.register("sw.js")}):window.applicationCache&&$(function(){applicationCache.addEventListener("updateready",function(d){applicationCache.status==applicationCache.UPDATEREADY&&(applicationCache.swapCache(),location.reload())},!1)})});var DEBUGM=!1,DEBUGWK=!1,DEBUG=isInWorker?DEBUGWK:DEBUGM&&!!$.urlParam("debug");
Array.prototype.indexOf||(Array.prototype.indexOf=function(r){for(var Sa=0;Sa<this.length;Sa++)if(this[Sa]==r)return Sa;return-1});
Function.prototype.bind||(Function.prototype.bind=function(r){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var Sa=Array.prototype.slice.call(arguments,1),d=this,w=function(){},b=function(){return d.apply(this instanceof w?this:r,Sa.concat(Array.prototype.slice.call(arguments)))};this.prototype&&(w.prototype=this.prototype);b.prototype=new w;return b});execBoth(function(){var r=function(d,r){var b=(d&65535)+(r&65535);return(d>>16)+(r>>16)+(b>>16)<<16|b&65535},Sa=function(d,r){return d>>>r|d<<32-r};$.sha256=function(d){/[\x80-\xFF]/.test(d)&&(d=unescape(encodeURI(d)));for(var w=d,b=[],n=0;n<8*w.length;n+=8)b[n>>5]|=(w.charCodeAt(n/8)&255)<<24-n%32;var h=8*d.length;w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,
4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];
d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];n=[64];b[h>>5]|=128<<24-h%32;b[(h+64>>9<<4)+15]=h;for(h=0;h<b.length;h+=16){for(var ua=d[0],Xa=d[1],Qa=d[2],v=d[3],Va=d[4],$a=d[5],Ta=d[6],Ua=d[7],Ra=0;64>Ra;Ra++){var Wa=Ra;if(16>Ra)var f=b[h+Ra];else{f=n[Ra-2];f=Sa(f,17)^Sa(f,19)^f>>>10;f=r(f,n[Ra-7]);var z=n[Ra-15];z=Sa(z,7)^Sa(z,18)^z>>>3;f=r(r(f,z),n[Ra-16])}n[Wa]=f;Wa=Va;Wa=Sa(Wa,6)^Sa(Wa,11)^Sa(Wa,25);Wa=r(r(r(r(Ua,Wa),Va&$a^~Va&Ta),w[Ra]),n[Ra]);Ua=
ua;Ua=Sa(Ua,2)^Sa(Ua,13)^Sa(Ua,22);f=r(Ua,ua&Xa^ua&Qa^Xa&Qa);Ua=Ta;Ta=$a;$a=Va;Va=r(v,Wa);v=Qa;Qa=Xa;Xa=ua;ua=r(Wa,f)}d[0]=r(ua,d[0]);d[1]=r(Xa,d[1]);d[2]=r(Qa,d[2]);d[3]=r(v,d[3]);d[4]=r(Va,d[4]);d[5]=r($a,d[5]);d[6]=r(Ta,d[6]);d[7]=r(Ua,d[7])}b="";for(w=0;w<4*d.length;w++)b+="0123456789abcdef".charAt(d[w>>2]>>8*(3-w%4)+4&15)+"0123456789abcdef".charAt(d[w>>2]>>8*(3-w%4)&15);return b}});function MersenneTwisterObject(r,Sa){function d(b,h){var d=b&65535,v=h&65535;var ua=d*v;var n=ua>>>16;n=n+d*((h&4294901760)>>>16)&65535;n+=((b&4294901760)>>>16)*v;n&=65535;d=n<<16|ua&65535;return 0>d?d+4294967296:d}function w(b){var v=0<arguments.length&&isFinite(b)?b&4294967295:5489,n;h=[v];ua=624;for(n=1;624>n;h[n]=v=d(v^v>>>30,1812433253)+n++);}function b(b,v){var ua=b.length,n;w(1<arguments.length&&isFinite(v)?v:19650218);var r=h[0];var Qa=1;var Ra=0;for(n=Math.max(624,ua);n;Ra%=ua,n--)h[Qa]=
r=(h[Qa++]^d(r^r>>>30,1664525))+b[Ra]+Ra++&4294967295,623<Qa&&(h[0]=r=h[623],Qa=1);for(n=623;n;n--)h[Qa]=r=(h[Qa]^d(r^r>>>30,1566083941))-Qa++&4294967295,623<Qa&&(h[0]=r=h[623],Qa=1);h[0]=2147483648}function n(){for(var b,d;624<=ua||0>ua;){ua=Math.max(0,ua-624);for(d=0;227>d;b=h[d]&2147483648|h[d+1]&2147483647,h[d]=h[d+397]^b>>>1^Xa[b&1],d++);for(;623>d;b=h[d]&2147483648|h[d+1]&2147483647,h[d]=h[d+-227]^b>>>1^Xa[b&1],d++);b=h[623]&2147483648|h[0]&2147483647;h[623]=h[396]^b>>>1^Xa[b&1]}b=h[ua++];b^=
b>>>11;b^=b<<7&2636928640;b^=b<<15&4022730752;b^=b>>>18;return 0>b?b+4294967296:b}var h=[],ua=NaN,Xa=[0,2567483615];1<arguments.length?b(Sa,r):0<arguments.length?w(r):w();return function(){return(67108864*(n()>>>5)+(n()>>>6))/9007199254740992}}Math.random=new MersenneTwisterObject((new Date).getTime());var mathlib=function(){function r(b,f,h,d,p,z){var bb=b[f];b[f]=b[p]^z;b[p]=b[d]^z;b[d]=b[h]^z;b[h]=bb^z}function Sa(b){for(var f=arguments.length-1,h=b[arguments[f]];1<f;f--)b[arguments[f]]=b[arguments[f-1]];b[arguments[1]]=h;return Sa}function d(b,f,h,p){h=h||1;for(var bb=f.length,z=[],n=0;n<bb;n++)z[n]=b[f[n]];for(n=0;n<bb;n++){var ua=(n+h)%bb;b[f[ua]]=z[n];p&&(b[f[ua]]+=p[ua]-p[n]+p[p.length-1])}return d}function w(b,f){return b[f>>3]>>((f&7)<<2)&15}function b(b,f,h){f=f||8;for(var d=0,p=1985229328,
bb=0;bb<f-1;++bb){var z=b[bb]<<2;d=(f-bb)*d+(p>>z&7);p-=286331152<<z}return 0>h?d>>1:d}function n(b,f,h,d){h=(h||8)-1;var p=1985229328,z=0;0>d&&(f<<=1);for(var bb=0;bb<h;++bb){var n=Ra[h-bb],ua=~~(f/n);z^=ua;f%=n;ua<<=2;b[bb]=p>>ua&7;n=(1<<ua)-1;p=(p&n)+(p>>4&~n)}0>d&&0!=(z&1)?(b[h]=b[h-1],b[h-1]=p&7):b[h]=p&7;return b}function h(f,h,d){this.length=h;this.evenbase=d;this.get="p"==f?function(f){return b(f,this.length,this.evenbase)}:function(b){var f=this.evenbase,h=Math.abs(f);f=0>f?0:b[0]%h;for(var d=
this.length-1;0<d;d--)f=f*h+b[d]%h;return f};this.set="p"==f?function(b,f){return n(b,f,this.length,this.evenbase)}:function(b,f){for(var h=f,d=this.length,p=this.evenbase,z=Math.abs(p),bb=z*d,n=1;n<d;n++)b[n]=h%z,bb-=b[n],h=~~(h/z);b[0]=(0>p?bb:h)%z;return b}}function ua(b,f,d,p){p=p||6;if($.isArray(d)){var z=new h(d[1],d[2],d[3]);d=d[0];for(var bb=0;bb<p;bb++){b[bb]=[];for(var n=0;n<f;n++){var ua=z.set([],n);d(ua,bb);b[bb][n]=z.get(ua)}}}else for(bb=0;bb<p;bb++)for(b[bb]=[],n=0;n<f;n++)b[bb][n]=
d(n,bb)}function Xa(){this.ca=[0,1,2,3,4,5,6,7];this.ea=[0,2,4,6,8,10,12,14,16,18,20,22]}function Qa(b,f,h,d,p,z,n,ua){var bb=$.isArray(p);z=z||6;n=n||3;ua=ua||256;d=d||256;for(var v=0,r=h+7>>>3;v<r;v++)b[v]=-1;b[f>>3]^=15<<((f&7)<<2);for(v=f=0;v<=d;v++){r=0;var Za=v>=ua,Wa=v+1^15,Qa=Za?15:v,Ra=Za?v:15,Ya=0;a:for(;Ya<h;Ya++,f>>=4){if(0==(Ya&7)&&(f=b[Ya>>3],!Za&&-1==f)){Ya+=7;continue}if((f&15)==Qa)for(var Ta=0;Ta<z;Ta++)for(var Xa=Ya,Ua=0;Ua<n;Ua++)if(Xa=bb?p[Ta][Xa]:p(Xa,Ta),w(b,Xa)==Ra){++r;if(Za){b[Ya>>
3]^=Wa<<((Ya&7)<<2);continue a}b[Xa>>3]^=Wa<<((Xa&7)<<2)}}if(0==r)break;DEBUG&&console.log("[prun]",r)}}function v(b,f,h){this.N_STATES=h.length;this.N_MOVES=b;this.N_POWER=f;this.state_params=h;this.inited=!1}function Va(b){return b}function $a(b,f,h,d){this.solvedStates=b;this.doMove=f;this.movesList=[];for(var p in h)this.movesList.push([p,h[p]]);this.prunHash=d||Va;this.prunTable={};this.toUpdateArr=null;this.prunTableSize=0;this.prunDepth=-1;this.cost=0}function Ta(b){return~~(cb.random()*b)}
for(var Ua=[],Ra=[1],Wa=0;32>Wa;++Wa){Ua[Wa]=[];for(var f=0;32>f;++f)Ua[Wa][f]=0}for(Wa=0;32>Wa;++Wa)for(Ua[Wa][0]=Ua[Wa][Wa]=1,Ra[Wa+1]=Ra[Wa]*(Wa+1),f=1;f<Wa;++f)Ua[Wa][f]=Ua[Wa-1][f-1]+Ua[Wa-1][f];Xa.EdgeMult=function(b,f,h){for(var d=0;12>d;d++)h.ea[d]=b.ea[f.ea[d]>>1]^f.ea[d]&1};Xa.CornMult=function(b,f,h){for(var d=0;8>d;d++)h.ca[d]=b.ca[f.ca[d]&7]&7|((b.ca[f.ca[d]&7]>>3)+(f.ca[d]>>3))%3<<3};Xa.CubeMult=function(b,f,h){Xa.CornMult(b,f,h);Xa.EdgeMult(b,f,h)};Xa.prototype.init=function(b,f){this.ca=
b.slice();this.ea=f.slice();return this};Xa.prototype.isEqual=function(b){for(var f=0;8>f;f++)if(this.ca[f]!=b.ca[f])return!1;for(f=0;12>f;f++)if(this.ea[f]!=b.ea[f])return!1;return!0};var z=[[8,9,20],[6,18,38],[0,36,47],[2,45,11],[29,26,15],[27,44,24],[33,53,42],[35,17,51]],Za=[[5,10],[7,19],[3,37],[1,46],[32,16],[28,25],[30,43],[34,52],[23,12],[21,41],[50,39],[48,14]];Xa.prototype.toFaceCube=function(b,f){b=b||z;f=f||Za;for(var h=[],d=0;54>d;d++)h[d]="URFDLB"[~~(d/9)];for(var p=0;8>p;p++){d=this.ca[p]&
7;for(var n=this.ca[p]>>3,bb=0;3>bb;bb++)h[b[p][(bb+n)%3]]="URFDLB"[~~(b[d][bb]/9)]}for(p=0;12>p;p++)for(d=this.ea[p]>>1,n=this.ea[p]&1,bb=0;2>bb;bb++)h[f[p][(bb+n)%2]]="URFDLB"[~~(f[d][bb]/9)];return h.join("")};Xa.prototype.invFrom=function(b){for(var f=0;12>f;f++)this.ea[b.ea[f]>>1]=f<<1|b.ea[f]&1;for(f=0;8>f;f++)this.ca[b.ca[f]&7]=f|32>>(b.ca[f]>>3)&24;return this};Xa.prototype.fromFacelet=function(b,f,h){f=f||z;h=h||Za;for(var d=0,p=[],n=b[4]+b[13]+b[22]+b[31]+b[40]+b[49],ua=0;54>ua;++ua){p[ua]=
n.indexOf(b[ua]);if(-1==p[ua])return-1;d+=1<<(p[ua]<<2)}if(10066329!=d)return-1;var bb;for(ua=0;8>ua;++ua){for(bb=0;3>bb&&0!=p[f[ua][bb]]&&3!=p[f[ua][bb]];++bb);b=p[f[ua][(bb+1)%3]];d=p[f[ua][(bb+2)%3]];for(n=0;8>n;++n)if(b==~~(f[n][1]/9)&&d==~~(f[n][2]/9)){this.ca[ua]=n|bb%3<<3;break}}for(ua=0;12>ua;++ua)for(n=0;12>n;++n){if(p[h[ua][0]]==~~(h[n][0]/9)&&p[h[ua][1]]==~~(h[n][1]/9)){this.ea[ua]=n<<1;break}if(p[h[ua][0]]==~~(h[n][1]/9)&&p[h[ua][1]]==~~(h[n][0]/9)){this.ea[ua]=n<<1|1;break}}return this};
f=[];for(Wa=0;18>Wa;Wa++)f[Wa]=new Xa;f[0].init([3,0,1,2,4,5,6,7],[6,0,2,4,8,10,12,14,16,18,20,22]);f[3].init([20,1,2,8,15,5,6,19],[16,2,4,6,22,10,12,14,8,18,20,0]);f[6].init([9,21,2,3,16,12,6,7],[0,19,4,6,8,17,12,14,3,11,20,22]);f[9].init([0,1,2,3,5,6,7,4],[0,2,4,6,10,12,14,8,16,18,20,22]);f[12].init([0,10,22,3,4,17,13,7],[0,2,20,6,8,10,18,14,16,4,12,22]);f[15].init([0,1,11,23,4,5,18,14],[0,2,4,23,8,10,12,21,16,18,7,15]);for(Wa=0;18>Wa;Wa+=3)for(var p=0;2>p;p++)Xa.EdgeMult(f[Wa+p],f[Wa],f[Wa+p+1]),
Xa.CornMult(f[Wa+p],f[Wa],f[Wa+p+1]);Xa.moveCube=f;Xa.prototype.edgeCycles=function(){for(var b=[],f=[0,0,0],h=0,d=!1,p=0;12>p;++p)if(!b[p]){var z=-1,n=!1,ua=p;do b[ua]=!0,++z,n^=this.ea[ua]&1,ua=this.ea[ua]>>1;while(ua!=p);h+=z>>1;z&1&&(d=!d,++h);n&&(0==z?++f[0]:z&1?f[2]^=1:++f[1])}f[1]+=f[2];h=f[0]<f[1]?h+(f[0]+f[1]>>1):h+(f[1]+[0,2,3,5,6,8,9][f[0]-f[1]>>1]);return h-d};f=v.prototype;f.search=function(b,f,h){h=(h||99)+1;if(!this.inited){this.move=[];this.prun=[];for(var d=0;d<this.N_STATES;d++){var p=
this.state_params[d],z=p[0],n=p[1],bb=p[2],v=p[3];p=p[4];this.move[d]=[];this.prun[d]=[];ua(this.move[d],bb,n,this.N_MOVES);Qa(this.prun[d],z,bb,v,this.move[d],this.N_MOVES,this.N_POWER,p)}this.inited=!0}for(this.sol=[];f<h&&!this.idaSearch(b,f,-1);f++);return f==h?null:this.sol.reverse()};f.toStr=function(b,f,h){for(var d=[],p=0;p<b.length;p++)d.push(f[b[p][0]]+h[b[p][1]]);return d.join(" ").replace(/ +/g," ")};f.idaSearch=function(b,f,h){for(var d=this.N_STATES,p=0;p<d;p++)if(w(this.prun[p],b[p])>
f)return!1;if(0==f)return!0;for(var z=b[0]+f+h+1,n=0;n<this.N_MOVES;n++){var ua=(n+z)%this.N_MOVES;if(ua!=h)for(var bb=b.slice(),v=0;v<this.N_POWER;v++){for(p=0;p<d;p++)bb[p]=this.move[p][ua][bb[p]];if(this.idaSearch(bb,f-1,ua))return this.sol.push([ua,v]),!0}}return!1};f=$a.prototype;f.updatePrun=function(b){b=void 0===b?this.prunDepth+1:b;for(var f=this.prunDepth+1;f<=b;f++){var h=+new Date;if(1>f)for(var d=this.prevSize=0;d<this.solvedStates.length;d++){var p=this.prunHash(this.solvedStates[d]);
p in this.prunTable||(this.prunTable[p]=f,this.prunTableSize++)}else this.updatePrunBFS(f-1);if(0==this.cost)break;this.prunDepth=f;DEBUG&&console.log(f,this.prunTableSize-this.prevSize,+new Date-h);this.prevSize=this.prunTableSize}};f.updatePrunBFS=function(b){if(null==this.toUpdateArr){this.toUpdateArr=[];for(var f in this.prunTable)this.prunTable[f]==b&&this.toUpdateArr.push(f)}for(;0!=this.toUpdateArr.length;){f=this.toUpdateArr.pop();for(var h=0;h<this.movesList.length;h++){var d=this.doMove(f,
this.movesList[h][0]);!d||d in this.prunTable||(this.prunTable[d]=b+1,this.prunTableSize++)}if(0<=this.cost){if(0==this.cost)return;this.cost--}}this.toUpdateArr=null};f.search=function(b,f,h){this.sol=[];this.subOpt=!1;this.state=b;this.visited={};this.maxl=f||0;return this.searchNext(h)};f.searchNext=function(b,f){b=b+1||99;this.prevSolStr=this.solArr?this.solArr.join(","):null;this.solArr=null;for(this.cost=f||-1;this.maxl<b;this.maxl++){this.updatePrun(Math.ceil(this.maxl/2));if(0==this.cost)return null;
if(this.idaSearch(this.state,this.maxl,null,0))break}return this.solArr};f.getPruning=function(b){b=this.prunTable[this.prunHash(b)];return void 0===b?this.prunDepth+1:b};f.idaSearch=function(b,f,h,d){if(this.getPruning(b)>f)return!1;if(0==f){if(-1==this.solvedStates.indexOf(b))return!1;b=this.getSolArr();this.subOpt=!0;if(b.join(",")==this.prevSolStr)return!1;this.solArr=b;return!0}if(!this.subOpt){if(b in this.visited&&this.visited[b]<d)return!1;this.visited[b]=d}if(0<=this.cost){if(0==this.cost)return!0;
this.cost--}var p=null==h?"":this.movesList[h][0];h=null==h?-1:this.movesList[h][1];for(var z=this.sol[d]||0;z<this.movesList.length;z++){var n=this.movesList[z],ua=n[1]^h;n=n[0];if(!(0==ua||0==(ua&15)&&n<=p)&&(ua=this.doMove(b,n))&&ua!=b){this.sol[d]=z;if(this.idaSearch(ua,f-1,z,d+1))return!0;this.sol.pop()}}return!1};f.getSolArr=function(){for(var b=[],f=0;f<this.sol.length;f++)b.push(this.movesList[this.sol[f]][0]);return b};var cb=function(){function b(b,p){if(p&&(p!=d||h>b)){for(var z=[],n=0;n<
p.length;n++)z[n]=p.charCodeAt(n);f=new MersenneTwisterObject(z[0],z);h=0;d=p}for(;h<b;)f(),h++}var f,h,d;b(0,""+(new Date).getTime());return{random:function(){h++;return f()},getSeed:function(){return[h,d]},setSeed:b}}(),nb=/^\s*(\d+)-(\d+)-(\d+) (\d+):(\d+):(\d+)\s*$/;Math.TAU=2*Math.PI;return{Cnk:Ua,fact:Ra,getPruning:w,setNPerm:function(b,f,h){var d,p;b[h-1]=0;for(d=h-2;0<=d;--d)for(b[d]=f%(h-d),f=~~(f/(h-d)),p=d+1;p<h;++p)b[p]>=b[d]&&++b[p]},getNPerm:function(b,f){var h,d,p;for(h=d=0;h<f;++h)for(d*=
f-h,p=h+1;p<f;++p)b[p]<b[h]&&++d;return d},getNParity:function(b,f){var h;var d=0;for(h=f-2;0<=h;--h)d^=b%(f-h),b=~~(b/(f-h));return d&1},get8Perm:b,set8Perm:n,coord:h,createMove:ua,edgeMove:function(b,f){0==f?r(b,0,7,8,4,1):1==f?r(b,3,6,11,7,0):2==f?r(b,0,1,2,3,0):3==f?r(b,2,5,10,6,1):4==f?r(b,1,4,9,5,0):5==f&&r(b,11,10,9,8,0)},circle:Sa,circleOri:r,acycle:d,createPrun:Qa,CubieCube:Xa,SOLVED_FACELET:"UUUUUUUUURRRRRRRRRFFFFFFFFFDDDDDDDDDLLLLLLLLLBBBBBBBBB",fillFacelet:function(b,f,h,d,p){for(var z=
0;z<b.length;z++)for(var n=0;n<b[z].length;n++)f[b[z][(n+d[z])%b[z].length]]=~~(b[h[z]][n]/p)},rn:Ta,rndEl:function(b){return b[~~(cb.random()*b.length)]},rndProb:function(b){for(var f=0,h=0,d=0;d<b.length;d++)0!=b[d]&&(cb.random()<b[d]/(f+b[d])&&(h=d),f+=b[d]);return h},time2str:function(b,f){if(!b)return"N/A";var h=new Date(1E3*b);return(f||"%Y-%M-%D %h:%m:%s").replace("%Y",h.getFullYear()).replace("%M",("0"+(h.getMonth()+1)).slice(-2)).replace("%D",("0"+h.getDate()).slice(-2)).replace("%h",("0"+
h.getHours()).slice(-2)).replace("%m",("0"+h.getMinutes()).slice(-2)).replace("%s",("0"+h.getSeconds()).slice(-2))},str2time:function(b){b=nb.exec(b);if(!b)return null;var f=new Date(0);f.setFullYear(~~b[1]);f.setMonth(~~b[2]-1);f.setDate(~~b[3]);f.setHours(~~b[4]);f.setMinutes(~~b[5]);f.setSeconds(~~b[6]);return~~(f.getTime()/1E3)},obj2str:function(b){return"string"==typeof b?b:JSON.stringify(b)},str2obj:function(b){return"string"!=typeof b?b:JSON.parse(b)},valuedArray:function(b,f){for(var h=[],
d=0;d<b;d++)h[d]=f;return h},Solver:v,rndPerm:function(b){for(var f=[],h=0;h<b;h++)f[h]=h;for(h=0;h<b-1;h++)Sa(f,h,h+Ta(b-h));return f},gSolver:$a,getSeed:cb.getSeed,setSeed:cb.setSeed}}();var sbtree=function(){function r(b,h){this.k=b;this.v=h;this[0]=null;this[1]=null;this.cnt=1;this.sum=b;this.sk2=Math.pow(b,2)}function Sa(b){this.root=null;this.cmp=b}function d(b){return null==b?0:b.cnt}function w(b){return null==b?0:b.sum}function b(b){return null==b?0:b.sk2}function n(b,h,d){return null==b||n(b[d],h,d)&&h(b)&&n(b[d^1],h,d)}function h(h,n){var ua=h[n^1];h[n^1]=ua[n];ua[n]=h;ua.cnt=h.cnt;h.cnt=d(h[0])+d(h[1])+1;ua.sum=h.sum;h.sum=w(h[0])+w(h[1])+h.k;ua.sk2=h.sk2;h.sk2=b(h[0])+b(h[1])+
Math.pow(h.k,2);return ua}Sa.prototype.find=function(b){for(var h=this.root;null!==h;){if(b==h.k)return h.v;h=h[0>this.cmp(h.k,b)^0]}};Sa.prototype.cumSum=function(b){if(b>=d(this.root)||0==d(this.root))return w(this.root);for(var h=this.root,n=0;0<b;){var ua=d(h[0]);if(b<ua)h=h[0];else{n+=w(h[0]);if(b==ua)break;n+=h.k;b-=ua+1;h=h[1]}}return n};Sa.prototype.cumSk2=function(h){if(h>=d(this.root)||0==d(this.root))return b(this.root);for(var n=this.root,ua=0;0<h;){var v=d(n[0]);if(h<v)n=n[0];else{ua+=
b(n[0]);if(h==v)break;ua+=Math.pow(n.k,2);h-=v+1;n=n[1]}}return ua};Sa.prototype.rank=function(b){for(var h=this.root;h;){var n=d(h[0]);if(b<n)h=h[0];else{if(b==n)return h.k;b-=n+1;h=h[1]}}return 0>b?-1E300:1E300};Sa.prototype.rankOf=function(b){for(var h=this.root,n=0;h;)0>this.cmp(h.k,b)?(n+=d(h[0])+1,h=h[1]):h=h[0];return n};Sa.prototype.traverse=function(b,h){return n(this.root,b,h^0)};Sa.prototype.insertR=function(b,n,Qa){if(null===b)return new r(n,Qa);b.cnt+=1;b.sum+=n;b.sk2+=Math.pow(n,2);
var v=0>this.cmp(b.k,n)^0;b[v]=this.insertR(b[v],n,Qa);d(b[v][v])>d(b[v^1])?b=h(b,v^1):d(b[v][v^1])>d(b[v^1])&&(v^=1,b[v^1]=h(b[v^1],v^1),b=h(b,v));return b};Sa.prototype.insert=function(b,h){this.root=this.insertR(this.root,b,h);return this};Sa.prototype.remove=function(b){this.root=this.removeR(this.root,b);return this};Sa.prototype.removeR=function(b,h){if(null==b)return null;--b.cnt;b.sum-=h;b.sk2-=Math.pow(h,2);if(b.k==h){if(null==b[0]||null==b[1])return b[null==b[0]^0];for(var d=b[0];null!=
d[1];)d=d[1];b.k=d.k;b.v=d.v;h=d.k}d=0>this.cmp(b.k,h)^0;b[d]=this.removeR(b[d],h);return b};return{tree:function(b){return new Sa(b)}}}();var SQLFile=execMain(function(){function r(d,r,b){var n=0;if(b)for(var h=0;h<b;h++)n=n<<8|d[r[0]++];else{do n=n<<7|d[r[0]]&127;while(128<=d[r[0]++])}return n}function Sa(d,w,b){w=1==w?100:(w-1)*r(d,[16],2);var n=d[w],h=d[w+3]<<8|d[w+4],ua=[w+8],Xa=-1;n&8||(Xa=r(d,ua,4));for(var Qa=0;Qa<h;Qa++){var v=[(100==w?0:w)+r(d,[ua[0]+2*Qa],2)];if(2!=n&&10!=n)if(5==n)v=r(d,v,4),Sa(d,v,b);else if(13==n){var Va=r(d,v),$a=d,Ta=v[0],Ua=b,Ra=[Ta],Wa=r($a,Ra),f=Ta+Wa;Ta=Ra;Ra=[];for(Wa=[];Ta[0]<f;)Ra.push(r($a,Ta));
for(f=0;f<Ra.length;f++){var z=Ra[f];0==z?Wa[f]=null:1<=z&&4>=z?Wa[f]=r($a,Ta,z):5==z?(Wa[f]=void 0,r($a,Ta,6)):6==z?(Wa[f]=void 0,r($a,Ta,8)):7==z?(Wa[f]=void 0,r($a,Ta,8)):8==z?Wa[f]=0:9==z?Wa[f]=1:10!=z&&11!=z&&(0==Ra[f]%2?(Wa[f]=$a.slice(Ta[0],Ta[0]+(z-12)/2),Ta[0]+=(z-12)/2):(Wa[f]=String.fromCharCode.apply(null,$a.slice(Ta[0],Ta[0]+(z-13)/2)),Ta[0]+=(z-13)/2))}Ua(Wa);v[0]+=Va}}-1!=Xa&&Sa(d,Xa,b)}return{loadTableList:function(d){var r={};Sa(d,1,function(b){r[b[2]]=[b[3],b[4]]});return r},loadPage:Sa}});var TimerDataConverter=execMain(function(){function r(b){try{return decodeURIComponent(escape(b))}catch(n){}return b}function Sa(b,d){b=r(b).split(/\r?\n/g);for(var h=[],n=[],w=[],Qa=0,v=0;v<b.length;v++){for(var Va=b[v].split(d),$a=0;$a<Va.length;$a++)w.push(Va[$a]),Qa+=(Va[$a].match(/"/g)||[]).length,0==Qa%2&&(w=w.join(","),'"'==w[0]&&(w=w.replace(/""/g,'"').slice(1,-1)),n.push(w),w=[]);0==Qa%2&&(h.push(n),n=[],w=[],Qa=0)}return h}var d=/^(DNF)?\(?(\d*?):?(\d*?):?(\d*\.?\d*?)(\+)?\)?$/,w={csTimer:[/^{"session1"/i,
function(b){b=JSON.parse(r(b));var d={};try{d=mathlib.str2obj(mathlib.str2obj(b.properties).sessionData)}catch(Ua){}var h=[],ua;for(ua in b){var w=/^session(\d+)$/.exec(ua);if(w){var Qa={},v=[];try{v=mathlib.str2obj(b[ua])}catch(Ua){}if($.isArray(v)&&0!=v.length){for(var Va=[],$a=0;$a<v.length;$a++){var Ta=v[$a];$.isArray(Ta)&&$.isArray(Ta[0])&&(Ta[0]=$.map(Ta[0],Number),Va.push(Ta))}Qa.times=Va;~~w[1]in d?(v=d[~~w[1]],Qa.name=v.name||w[1],Qa.opt=v.opt||{scrType:v.scr||"333",phases:v.phases||1},Qa.rank=
v.rank):(Qa.name=w[1],Qa.opt={},Qa.rank=h.length+1);h.push(Qa)}}}h.sort(function(b,h){return b.rank-h.rank});return h}],csTimerCSV:[/^No\.;Time;Comment;Scramble;Date;P\.1/i,function(b){b=Sa(b,";");for(var n=[],h=b[0].length-5,r=1;r<b.length;r++){var w=b[r],Qa=[],v=d.exec(w[1]);if(v){for(Qa[0]=v[1]?-1:v[5]?2E3:0;""==w[w.length-1];)w.pop();for(var Va=5;Va<w.length;Va++)v=d.exec(w[Va]),v=Math.round(36E5*~~v[2]+6E4*~~v[3]+1E3*parseFloat(v[4])),Qa[w.length-Va]=(Qa[w.length-Va+1]||0)+v;Qa=[Qa,w[3],w[2],
mathlib.str2time(w[4])];n.push(Qa)}else console.log("Invalid data detected")}return[{name:"import",opt:{phases:h},times:n}]}],ZYXTimer:[/^Session: /i,function(b){}],TwistyTimer:[/^Puzzle,Category,Time\(millis\),Date\(millis\),Scramble,Penalty,Comment/i,function(b){b=Sa(b,";");for(var d={333:"333",222:"222so",444:"444wca",555:"555wca",pyra:"pyrso",skewb:"skbso",mega:"mgmp",sq1:"sqrs",clock:"clkwca",666:"666wca",777:"777wca"},h={},r=[],w=1;w<b.length;w++){var Qa=b[w];if(7==Qa.length){var v=Qa[0]+"-"+
Qa[1],Va=[{0:0,1:2E3,2:-1}[Qa[5]],Math.round(Qa[2])];v in h||(h[v]=r.length,r.push({name:v,opt:{scrType:d[Qa[0]]||"333"},times:[]}));r[h[v]].times.push([Va,Qa[4],Qa[6],Math.round(Qa[3]/1E3)])}}return r}],BlockKeeper:[/^{"puzzles":\[{"name":/i,function(b){b=JSON.parse(r(b)).puzzles;var d={"3x3x3":"333","2x2x2":"222so","4x4x4":"444wca","5x5x5":"555wca",Pyraminx:"pyrso",Skewb:"skbso",Megaminx:"mgmp","Square-1":"sqrs",Clock:"clkwca","6x6x6":"666wca","7x7x7":"777wca","3x3x3 BLD":"333ni","4x4x4 BLD":"444bld",
"5x5x5 BLD":"555bld"},h=[];$.each(b,function(b,n){var r=n.name,v=n.scrambler,ua=n.splits;$.each(n.sessions,function(b,n){var Ta=n.name,Ra=[];$.each(n.records,function(b,f){var h=[{OK:0,"+2":2E3,DNF:-1}[f.result],Math.round(1E3*f.time)];Array.prototype.push.apply(h,$.map(f.split.reverse(),function(b){return Math.round(1E3*b)}));Ra.push([h,f.scramble,f.comment||"",Math.round(f.date/1E3)])});0!=Ra.length&&h.push({name:r+"-"+Ta,opt:{phases:ua,scrType:d[v]||"333"},times:Ra})})});return h}],PrismaTimer:[/^[^\t\n]*(\t[^\t\n]*){4}\n/i,
function(b){}],"DCTimer.raw":[/^\d+[\r\n]+[^\t\n]*(\t[^\t\n]*){11}[\r\n]+/i,function(b){b=r(b).split(/[\r\n]+/);for(var d={},h=0,ua=[],w=0;w<b.length;w++)if(/^\d+$/.exec(b[w]))h=~~b[w],d[h]=ua.length,ua.push({name:h,opt:{},times:[]});else{var Qa=b[w].split("\t");6>Qa.length||ua[d[h]].times.push([["1"==Qa[2]?"1"==Qa[1]?2E3:0:-1,~~Qa[0]],Qa[3],Qa[5],mathlib.str2time(Qa[4])])}return ua}],"DCTimer.sqlite":[/^SQLite format 3\0/i,function(b){for(var d=new Uint8Array(b.length),h=0;h<b.length;h++)d[h]=b.charCodeAt(h);
b=SQLFile.loadTableList(d);var ua={},w=[],Qa=function(b,h){b in ua||(ua[b]=w.length,w.push({name:h||b+1,opt:{},times:[]}))};SQLFile.loadPage(d,b.sessiontb[0],function(b){Qa(b[0],r(b[1]))});for(var v in b)if(h=/^result(\d+|tb)$/.exec(v)){var Va=("tb"==h[1]?1:~~h[1])-1;SQLFile.loadPage(d,b[v][0],function(b){Qa(Va);w[ua[Va]].times.push([["1"==b[3]?"1"==b[2]?2E3:0:-1,~~b[1]],r(b[4]||""),r(b[6]||""),mathlib.str2time(b[5])])})}SQLFile.loadPage(d,b.resultstb[0],function(b){var h=b[1];Qa(h);w[ua[h]].times.push([["1"==
b[4]?"1"==b[3]?2E3:0:-1,~~b[2]],r(b[5]||""),r(b[7]||""),mathlib.str2time(b[6])])});return w}],"mateus.cubetimer":[/^"Category";"Time \(MM:SS\.SSS\)";"Scrambler";"Date";"Penalty \+2 \(yes or no\)";"DNF \(yes or no\)";"Section"\n/i,function(b){b=Sa(b,";");for(var n={"3x3x3":"333","2x2x2":"222so","4x4x4":"444wca","5x5x5":"555wca",Pyraminx:"pyrso",Skewb:"skbso",Megaminx:"mgmp","Square-1":"sqrs","Rubik's Clock":"clkwca","6x6x6":"666wca","7x7x7":"777wca","3x3x3 Blindfolded":"333ni","4x4x4 Blindfolded":"444bld",
"5x5x5 Blindfolded":"555bld","3x3x3 One-Handed":"333oh","3x3x3 Multi-Blindfolded":"r3ni","3x3x3 With Feet":"333ft","3x3x3 Fewest Moves":"333fm"},h={},r=[],w=1;w<b.length;w++){var Qa=b[w];if(!(7>Qa.length)){var v=Qa[0]+"-"+Qa[6],Va=d.exec(Qa[1]);if(Va){Va=Math.round(36E5*~~Va[2]+6E4*~~Va[3]+1E3*parseFloat(Va[4]));var $a=Qa[2],Ta=0;"yes"==Qa[5]?Ta=-1:"yes"==Qa[4]&&(Ta=2E3);v in h||(h[v]=r.length,r.push({name:v,opt:{scrType:n[Qa[0]]||"333"},times:[]}));r[h[v]].times.push([[Ta,Va],$a,"",mathlib.str2time(Qa[3]+
":00")])}else console.log("Invalid data detected")}}return r}]};return function(b){var d=void 0,h;for(h in w)if(w[h][0].exec(b)){console.log("try read by "+h);try{d=w[h][1](b);break}catch(ua){console.log(ua)}}return d}});var LZString=function(){function r(b,n){if(!d[b]){d[b]={};for(var h=0;h<b.length;h++)d[b][b.charAt(h)]=h}return d[b][n]}var Sa=String.fromCharCode,d={},w={compressToBase64:function(b){if(null==b)return"";b=w._compress(b,6,function(b){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)});switch(b.length%4){default:case 0:return b;case 1:return b+"===";case 2:return b+"==";case 3:return b+"="}},decompressFromBase64:function(b){return null==b?"":""==b?null:w._decompress(b.length,
32,function(d){return r("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b.charAt(d))})},compressToUTF16:function(b){return null==b?"":w._compress(b,15,function(b){return Sa(b+32)})+" "},decompressFromUTF16:function(b){return null==b?"":""==b?null:w._decompress(b.length,16384,function(d){return b.charCodeAt(d)-32})},compressToUint8Array:function(b){b=w.compress(b);for(var d=new Uint8Array(2*b.length),h=0,r=b.length;h<r;h++){var Sa=b.charCodeAt(h);d[2*h]=Sa>>>8;d[2*h+1]=Sa%256}return d},
decompressFromUint8Array:function(b){if(null===b||void 0===b)return w.decompress(b);for(var d=Array(b.length/2),h=0,r=d.length;h<r;h++)d[h]=256*b[2*h]+b[2*h+1];var Xa=[];d.forEach(function(b){Xa.push(Sa(b))});return w.decompress(Xa.join(""))},compressToEncodedURIComponent:function(b){return null==b?"":w._compress(b,6,function(b){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$".charAt(b)})},decompressFromEncodedURIComponent:function(b){if(null==b)return"";if(""==b)return null;
b=b.replace(/ /g,"+");return w._decompress(b.length,32,function(d){return r("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",b.charAt(d))})},compress:function(b){return w._compress(b,16,function(b){return Sa(b)})},_compress:function(b,d,h){if(null==b)return"";var n,r={},w={},v="",Va=2,$a=3,Ta=2,Ua=[],Ra=0,Wa=0,f;for(f=0;f<b.length;f+=1){var z=b.charAt(f);Object.prototype.hasOwnProperty.call(r,z)||(r[z]=$a++,w[z]=!0);var Za=v+z;if(Object.prototype.hasOwnProperty.call(r,Za))v=Za;
else{if(Object.prototype.hasOwnProperty.call(w,v)){if(256>v.charCodeAt(0)){for(n=0;n<Ta;n++)Ra<<=1,Wa==d-1?(Wa=0,Ua.push(h(Ra)),Ra=0):Wa++;var p=v.charCodeAt(0);for(n=0;8>n;n++)Ra=Ra<<1|p&1,Wa==d-1?(Wa=0,Ua.push(h(Ra)),Ra=0):Wa++,p>>=1}else{p=1;for(n=0;n<Ta;n++)Ra=Ra<<1|p,Wa==d-1?(Wa=0,Ua.push(h(Ra)),Ra=0):Wa++,p=0;p=v.charCodeAt(0);for(n=0;16>n;n++)Ra=Ra<<1|p&1,Wa==d-1?(Wa=0,Ua.push(h(Ra)),Ra=0):Wa++,p>>=1}Va--;0==Va&&(Va=Math.pow(2,Ta),Ta++);delete w[v]}else for(p=r[v],n=0;n<Ta;n++)Ra=Ra<<1|p&1,
Wa==d-1?(Wa=0,Ua.push(h(Ra)),Ra=0):Wa++,p>>=1;Va--;0==Va&&(Va=Math.pow(2,Ta),Ta++);r[Za]=$a++;v=String(z)}}if(""!==v){if(Object.prototype.hasOwnProperty.call(w,v)){if(256>v.charCodeAt(0)){for(n=0;n<Ta;n++)Ra<<=1,Wa==d-1?(Wa=0,Ua.push(h(Ra)),Ra=0):Wa++;p=v.charCodeAt(0);for(n=0;8>n;n++)Ra=Ra<<1|p&1,Wa==d-1?(Wa=0,Ua.push(h(Ra)),Ra=0):Wa++,p>>=1}else{p=1;for(n=0;n<Ta;n++)Ra=Ra<<1|p,Wa==d-1?(Wa=0,Ua.push(h(Ra)),Ra=0):Wa++,p=0;p=v.charCodeAt(0);for(n=0;16>n;n++)Ra=Ra<<1|p&1,Wa==d-1?(Wa=0,Ua.push(h(Ra)),
Ra=0):Wa++,p>>=1}Va--;0==Va&&(Va=Math.pow(2,Ta),Ta++);delete w[v]}else for(p=r[v],n=0;n<Ta;n++)Ra=Ra<<1|p&1,Wa==d-1?(Wa=0,Ua.push(h(Ra)),Ra=0):Wa++,p>>=1;Va--;0==Va&&Ta++}p=2;for(n=0;n<Ta;n++)Ra=Ra<<1|p&1,Wa==d-1?(Wa=0,Ua.push(h(Ra)),Ra=0):Wa++,p>>=1;for(;;)if(Ra<<=1,Wa==d-1){Ua.push(h(Ra));break}else Wa++;return Ua.join("")},decompress:function(b){return null==b?"":""==b?null:w._decompress(b.length,32768,function(d){return b.charCodeAt(d)})},_decompress:function(b,d,h){var n=[],r=4,w=4,v=3,Va=[],
$a,Ta,Ua=h(0),Ra=d,Wa=1;for($a=0;3>$a;$a+=1)n[$a]=$a;var f=0;var z=Math.pow(2,2);for(Ta=1;Ta!=z;){var Za=Ua&Ra;Ra>>=1;0==Ra&&(Ra=d,Ua=h(Wa++));f|=(0<Za?1:0)*Ta;Ta<<=1}switch(f){case 0:f=0;z=Math.pow(2,8);for(Ta=1;Ta!=z;)Za=Ua&Ra,Ra>>=1,0==Ra&&(Ra=d,Ua=h(Wa++)),f|=(0<Za?1:0)*Ta,Ta<<=1;var p=Sa(f);break;case 1:f=0;z=Math.pow(2,16);for(Ta=1;Ta!=z;)Za=Ua&Ra,Ra>>=1,0==Ra&&(Ra=d,Ua=h(Wa++)),f|=(0<Za?1:0)*Ta,Ta<<=1;p=Sa(f);break;case 2:return""}$a=n[3]=p;for(Va.push(p);;){if(Wa>b)return"";f=0;z=Math.pow(2,
v);for(Ta=1;Ta!=z;)Za=Ua&Ra,Ra>>=1,0==Ra&&(Ra=d,Ua=h(Wa++)),f|=(0<Za?1:0)*Ta,Ta<<=1;switch(p=f){case 0:f=0;z=Math.pow(2,8);for(Ta=1;Ta!=z;)Za=Ua&Ra,Ra>>=1,0==Ra&&(Ra=d,Ua=h(Wa++)),f|=(0<Za?1:0)*Ta,Ta<<=1;n[w++]=Sa(f);p=w-1;r--;break;case 1:f=0;z=Math.pow(2,16);for(Ta=1;Ta!=z;)Za=Ua&Ra,Ra>>=1,0==Ra&&(Ra=d,Ua=h(Wa++)),f|=(0<Za?1:0)*Ta,Ta<<=1;n[w++]=Sa(f);p=w-1;r--;break;case 2:return Va.join("")}0==r&&(r=Math.pow(2,v),v++);if(n[p])p=n[p];else if(p===w)p=$a+$a.charAt(0);else return null;Va.push(p);n[w++]=
$a+p.charAt(0);r--;$a=p;0==r&&(r=Math.pow(2,v),v++)}}};return w}();var min2phase=function(){function r(){this.move=[];this.moveSol=[];this.nodeUD=[];this.valid1=0;this.allowShorter=!1;this.cc=new h;this.urfCubieCube=[];this.urfCoordCube=[];this.phase1Cubie=[];this.preMoveCubes=[];this.preMoves=[];this.maxPreMoves=this.preMoveLen=0;this.isRec=!1;for(var b=0;21>b;b++)this.nodeUD[b]=new Ua,this.phase1Cubie[b]=new h;for(b=0;6>b;b++)this.urfCubieCube[b]=new h,this.urfCoordCube[b]=new Ua;for(b=0;20>b;b++)this.preMoveCubes[b+1]=new h}function Sa(b,f,h){return h?f<<1|b&
1:f|b&248}function d(b,f){return f?b>>1:b&7}function w(b,f,h){b[f>>3]^=h<<(f<<2)}function b(b,f,h){return Math.min(b,f[h>>3]>>(h<<2)&15)}function n(b,f,h){b=Qb[b];h&&(b^=14540032>>((b&15)<<1)&3);return b&65520|kb[b&15][f]}function h(){this.ca=[0,1,2,3,4,5,6,7];this.ea=[0,2,4,6,8,10,12,14,16,18,20,22]}function ua(b,f,h,d){h--;for(var p=1985229328,n=0;n<h;++n){var z=cb[h-n],r=~~(f/z);f%=z;r<<=2;b[n]=Sa(b[n],p>>r&15,d);z=(1<<r)-1;p=(p&z)+(p>>4&~z)}b[h]=Sa(b[h],p&15,d)}function Xa(b,f,h){for(var p=0,
n=1985229328,z=0;z<f-1;++z){var r=d(b[z],h)<<2;p=(f-z)*p+(n>>r&15);n-=286331152<<r}return p}function Qa(b,f,h,p){b[h-1]=Sa(b[h-1],0,p);for(var n=h-2;0<=n;--n){b[n]=Sa(b[n],f%(h-n),p);f=~~(f/(h-n));for(var z=n+1;z<h;++z)d(b[z],p)>=d(b[n],p)&&(b[z]=Sa(b[z],d(b[z],p)+1,p))}}function v(b,f,h){for(var p=0,n=0;n<f;++n){p*=f-n;for(var z=n+1;z<f;++z)d(b[z],h)<d(b[n],h)&&++p}return p}function Va(b,f,h){for(var n=0,z=4,r=b.length-1;0<=r;r--)(d(b[r],h)&12)==f&&(n+=p[r][z--]);return n}function $a(b,f,h,d){for(var n=
b.length-1,z=4,r=n;0<=n;n--)f>=p[n][z]?(f-=p[n][z--],b[n]=Sa(b[n],z|h,d)):((r&12)==h&&(r-=4),b[n]=Sa(b[n],r--,d))}function Ta(b,f){for(var h=0,d=f-2;0<=d;d--)h^=b%(f-d),b=~~(b/(f-d));return h&1}function Ua(){this.flipc=this.twistc=this.prun=this.slice=this.fsym=this.flip=this.tsym=this.twist=0}function Ra(){var b=new h,f=new h,d,p=(new h).initCoord(28783,0,259268407,0),n=(new h).initCoord(15138,0,119765538,7),z=(new h).initCoord(5167,0,83473207,0);for(d=0;8>d;d++)z.ca[d]|=24;for(d=0;16>d;d++)hb[d]=
(new h).init(b.ca,b.ea),h.CornMultFull(b,n,f),h.EdgeMult(b,n,f),b.init(f.ca,f.ea),3==d%4&&(h.CornMultFull(b,z,f),h.EdgeMult(b,z,f),b.init(f.ca,f.ea)),7==d%8&&(h.CornMultFull(b,p,f),h.EdgeMult(b,p,f),b.init(f.ca,f.ea));for(d=0;16>d;d++)kb[d]=[],pb[d]=[],qb[d]=[],Ab[d]=[],Ya[d]=[];for(d=0;16>d;d++)for(p=0;16>p;p++)kb[d][p]=d^p^84660>>p&d<<1&2,pb[kb[d][p]][p]=d;b=new h;for(n=0;16>n;n++)for(p=0;18>p;p++){h.CornConjugate(mb[p],pb[0][n],b);z=0;a:for(;18>z;z++){for(d=0;8>d;d++)if(mb[z].ca[d]!=b.ca[d])continue a;
qb[n][p]=z;Ya[n][eb[p]]=eb[z];break}0==n%2&&(Ab[p<<3|n>>1]=qb[n][p])}d=function(b,f,d,p,n,z,r){for(var v=new h,Za=new h,Wa=0,Ya=2<=n?1:2,w=1!=n?h.EdgeConjugate:h.CornConjugate,Ra=0;Ra<b;Ra++)if(void 0===d[Ra]){z.call(v,Ra);for(var Ta=0;16>Ta;Ta+=Ya){w(v,Ta,Za);var Ua=r.call(Za);0==n&&(Cb[Wa<<3|Ta>>1]=Ua);Ua==Ra&&(p[Wa]|=1<<Ta/Ya);d[Ua]=(Wa<<4|Ta)/Ya}f[Wa++]=Ra}return Wa};d(2048,zb,Bb,tb,0,h.prototype.setFlip,h.prototype.getFlip);d(2187,xb,ub,Lb,1,h.prototype.setTwist,h.prototype.getTwist);d(40320,
rb,wb,Hb,2,h.prototype.setEPerm,h.prototype.getEPerm);p=new h;for(d=0;2768>d;d++)ua(p.ea,rb[d],8,!0),Gb[d]=Va(p.ea,0,!0)+70*Ta(rb[d],8),b.invFrom(p),Qb[d]=wb[b.getEPerm()];d=function(d,h,p,n,z,r,v,Wa){for(var Za=0;Za<p;Za++){d[Za]=[];z.call(b,h[Za]);for(var Ya=0;Ya<n;Ya++)v(b,mb[Wa?Wa[Ya]:Ya],f),d[Za][Ya]=r.call(f)}};b=new h;f=new h;d(Nb,zb,336,18,h.prototype.setFlip,h.prototype.getFlipSym,h.EdgeMult);d(Pb,xb,324,18,h.prototype.setTwist,h.prototype.getTwistSym,h.CornMult);d(Ib,rb,2768,10,h.prototype.setEPerm,
h.prototype.getEPermSym,h.EdgeMult,bb);d(Jb,rb,2768,10,h.prototype.setCPerm,h.prototype.getCPermSym,h.CornMult,bb);for(d=0;495>d;d++){Db[d]=[];Fb[d]=[];b.setUDSlice(d);for(p=0;18>p;p++)h.EdgeMult(b,mb[p],f),Db[d][p]=f.getUDSlice();for(p=0;16>p;p+=2)h.EdgeConjugate(b,pb[0][p],f),Fb[d][p>>1]=f.getUDSlice()}for(d=0;24>d;d++){Yb[d]=[];Rb[d]=[];b.setMPerm(d);for(p=0;10>p;p++)h.EdgeMult(b,mb[bb[p]],f),Yb[d][p]=f.getMPerm();for(p=0;16>p;p++)h.EdgeConjugate(b,pb[0][p],f),Rb[d][p]=f.getMPerm()}for(d=0;140>
d;d++){gc[d]=[];Zb[d]=[];b.setCComb(d%70);for(p=0;10>p;p++)h.CornMult(b,mb[bb[p]],f),gc[d][p]=f.getCComb()+70*(165>>p&1^~~(d/70));for(p=0;16>p;p++)h.CornConjugate(b,pb[0][p],f),Zb[d][p]=f.getCComb()+70*~~(d/70)}}function Wa(b,f,d,h,p,n,z,r){var v=r&15,Wa=1==(r>>4&1)?14540032:0,Ya=r>>8&15,Ra=r>>12&15,Ta=r>>16&15,Ua=(1<<v)-1,bb=null==h;d*=f;r=1==(r>>5&1)?10:18;var Va=10==r?66:599186,Qa=(b[d>>3]>>(d<<2)&15)-1;if(-1==Qa){for(var ua=0;ua<(d>>3)+1;ua++)b[ua]=4294967295;w(b,0,15);Qa=0}else w(b,d,15^Qa+1);
for(Ra=0<Za?Math.min(Math.max(Qa+1,Ta),Ra):Ra;Qa<Ra;){var hb=(Ta=Qa>Ya)?15:Qa,$a=286331153*hb,cb=Ta?Qa:15;Qa++;Mb++;var zb=Qa^15,Sa=0,mb=0;for(ua=0;ua<d;ua++,mb>>=4){if(0==(ua&7)){mb=b[ua>>3];var ab=mb^$a;if(0==(ab-286331153&~ab&2290649224)){ua+=7;continue}}if((mb&15)==hb){ab=ua%f;var Xa=~~(ua/f),db=0,nb=0;bb&&(db=Bb[ab],nb=db&7,db>>=3);for(var kb=0;kb<r;kb++){var pb=n[Xa][kb];var xb=bb?Cb[Nb[db][Ab[kb<<3|nb]]^nb^pb&Ua]:p[h[ab][kb]][pb&Ua];pb>>=v;var eb=pb*f+xb,rb=b[eb>>3]>>(eb<<2)&15;if(rb!=cb)rb<
Qa-1&&(kb+=Va>>kb&3);else{Sa++;if(Ta){w(b,ua,zb);break}w(b,eb,zb);eb=1;for(rb=z[pb];0!=(rb>>=1);eb++)if(1==(rb&1)){var qb=pb*f;qb=bb?qb+Cb[Bb[xb]^eb]:qb+p[xb][eb^Wa>>(eb<<1)&3];(b[qb>>3]>>(qb<<2)&15)==cb&&(w(b,qb,zb),Sa++)}}}}}}w(b,d,Qa+1^15);return Qa+1}function f(b){$b=Wa(vb,2048,324,null,null,Pb,Lb,103939);Mb>b||(dc=Wa(Kb,495,324,Db,Fb,Pb,Lb,431619),Mb>b||(Vb=Wa(Eb,495,336,Db,Fb,Nb,tb,431619),Mb>b||(Sb=Wa(ic,24,2768,Yb,Rb,Jb,Hb,584244),Mb>b||(ec=Wa(ac,140,2768,gc,Zb,Ib,Hb,514084)))))}function z(){0>
Mb&&(Ra(),Mb=0);if(0==Mb)f(99);else if(54>Mb)f(Mb);else return!0;return!1}for(var Za=2,p=[],cb=[1],nb="U ;U2;U';R ;R2;R';F ;F2;F';D ;D2;D';L ;L2;L';B ;B2;B'".split(";"),bb=[0,1,2,4,7,9,10,11,13,16,3,5,6,8,12,14,15,17],eb=[],lb=[],gb=[[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],[6,7,8,0,1,2,3,4,5,15,16,17,9,10,11,12,13,14],[3,4,5,6,7,8,0,1,2,12,13,14,15,16,17,9,10,11],[2,1,0,5,4,3,8,7,6,11,10,9,14,13,12,17,16,15],[8,7,6,2,1,0,5,4,3,17,16,15,11,10,9,14,13,12],[5,4,3,8,7,6,2,1,0,14,13,12,17,16,15,
11,10,9]],ib=0;18>ib;ib++)eb[bb[ib]]=ib;for(ib=0;10>ib;ib++)for(var ab=~~(bb[ib]/3),jb=lb[ib]=0;10>jb;jb++){var sb=~~(bb[jb]/3);lb[ib]|=(ab==sb||ab%3==sb%3&&ab>=sb?1:0)<<jb}for(ib=lb[10]=0;13>ib;ib++)for(p[ib]=[],cb[ib+1]=cb[ib]*(ib+1),jb=p[ib][0]=p[ib][ib]=1;13>jb;jb++)p[ib][jb]=jb<=ib?p[ib-1][jb-1]+p[ib-1][jb]:0;h.EdgeMult=function(b,f,d){for(var h=0;12>h;h++)d.ea[h]=b.ea[f.ea[h]>>1]^f.ea[h]&1};h.CornMult=function(b,f,d){for(var h=0;8>h;h++)d.ca[h]=b.ca[f.ca[h]&7]&7|((b.ca[f.ca[h]&7]>>3)+(f.ca[h]>>
3))%3<<3};h.CornMultFull=function(b,f,d){for(var h=0;8>h;h++){var p=b.ca[f.ca[h]&7]>>3,n=f.ca[h]>>3,z=p+(3>p?n:6-n);z=z%3+(3>p==3>n?0:3);d.ca[h]=b.ca[f.ca[h]&7]&7|z<<3}};h.CornConjugate=function(b,f,d){var h=hb[pb[0][f]];f=hb[f];for(var p=0;8>p;p++){var n=b.ca[f.ca[p]&7]>>3;d.ca[p]=h.ca[b.ca[f.ca[p]&7]&7]&7|(3>h.ca[b.ca[f.ca[p]&7]&7]>>3?n:(3-n)%3)<<3}};h.EdgeConjugate=function(b,f,d){var h=hb[pb[0][f]];f=hb[f];for(var p=0;12>p;p++)d.ea[p]=h.ea[b.ea[f.ea[p]>>1]>>1]^b.ea[f.ea[p]>>1]&1^f.ea[p]&1};h.prototype.init=
function(b,f){this.ca=b.slice();this.ea=f.slice();return this};h.prototype.initCoord=function(b,f,d,h){ua(this.ca,b,8,!1);this.setTwist(f);Qa(this.ea,d,12,!0);this.setFlip(h);return this};h.prototype.isEqual=function(b){for(var f=0;8>f;f++)if(this.ca[f]!=b.ca[f])return!1;for(f=0;12>f;f++)if(this.ea[f]!=b.ea[f])return!1;return!0};h.prototype.setFlip=function(b){for(var f=0,d,h=10;0<=h;h--,b>>=1)f^=d=b&1,this.ea[h]=this.ea[h]&254|d;this.ea[11]=this.ea[11]&254|f};h.prototype.getFlip=function(){for(var b=
0,f=0;11>f;f++)b=b<<1|this.ea[f]&1;return b};h.prototype.getFlipSym=function(){return Bb[this.getFlip()]};h.prototype.setTwist=function(b){for(var f=15,d,h=6;0<=h;h--,b=~~(b/3))f-=d=b%3,this.ca[h]=this.ca[h]&7|d<<3;this.ca[7]=this.ca[7]&7|f%3<<3};h.prototype.getTwist=function(){for(var b=0,f=0;7>f;f++)b+=(b<<1)+(this.ca[f]>>3);return b};h.prototype.getTwistSym=function(){return ub[this.getTwist()]};h.prototype.setCPerm=function(b){ua(this.ca,b,8,!1)};h.prototype.getCPerm=function(){return Xa(this.ca,
8,!1)};h.prototype.getCPermSym=function(){var b=wb[Xa(this.ca,8,!1)];return b^14540032>>((b&15)<<1)&3};h.prototype.setEPerm=function(b){ua(this.ea,b,8,!0)};h.prototype.getEPerm=function(){return Xa(this.ea,8,!0)};h.prototype.getEPermSym=function(){return wb[Xa(this.ea,8,!0)]};h.prototype.getUDSlice=function(){return 494-Va(this.ea,8,!0)};h.prototype.setUDSlice=function(b){$a(this.ea,494-b,8,!0)};h.prototype.getMPerm=function(){return v(this.ea,12,!0)%24};h.prototype.setMPerm=function(b){Qa(this.ea,
b,12,!0)};h.prototype.getCComb=function(){return Va(this.ca,0,!1)};h.prototype.setCComb=function(b){$a(this.ca,b,0,!1)};h.prototype.URFConjugate=function(){var b=new h;h.CornMult(h.urf2,this,b);h.CornMult(b,h.urf1,this);h.EdgeMult(h.urf2,this,b);h.EdgeMult(b,h.urf1,this)};var ob=[[8,9,20],[6,18,38],[0,36,47],[2,45,11],[29,26,15],[27,44,24],[33,53,42],[35,17,51]],db=[[5,10],[7,19],[3,37],[1,46],[32,16],[28,25],[30,43],[34,52],[23,12],[21,41],[50,39],[48,14]];h.prototype.toFaceCube=function(b,f){b=
b||ob;f=f||db;for(var h=[],d=0;54>d;d++)h[d]="URFDLB"[~~(d/9)];for(var p=0;8>p;p++){d=this.ca[p]&7;for(var n=this.ca[p]>>3,z=0;3>z;z++)h[b[p][(z+n)%3]]="URFDLB"[~~(b[d][z]/9)]}for(p=0;12>p;p++)for(d=this.ea[p]>>1,n=this.ea[p]&1,z=0;2>z;z++)h[f[p][(z+n)%2]]="URFDLB"[~~(f[d][z]/9)];return h.join("")};h.prototype.invFrom=function(b){for(var f=0;12>f;f++)this.ea[b.ea[f]>>1]=f<<1|b.ea[f]&1;for(f=0;8>f;f++)this.ca[b.ca[f]&7]=f|32>>(b.ca[f]>>3)&24;return this};h.prototype.fromFacelet=function(b,f,d){f=f||
ob;d=d||db;for(var h=0,p=[],n=b[4]+b[13]+b[22]+b[31]+b[40]+b[49],z=0;54>z;++z){p[z]=n.indexOf(b[z]);if(-1==p[z])return-1;h+=1<<(p[z]<<2)}if(10066329!=h)return-1;var r;for(z=0;8>z;++z){for(r=0;3>r&&0!=p[f[z][r]]&&3!=p[f[z][r]];++r);b=p[f[z][(r+1)%3]];h=p[f[z][(r+2)%3]];for(n=0;8>n;++n)if(b==~~(f[n][1]/9)&&h==~~(f[n][2]/9)){this.ca[z]=n|r%3<<3;break}}for(z=0;12>z;++z)for(n=0;12>n;++n){if(p[d[z][0]]==~~(d[n][0]/9)&&p[d[z][1]]==~~(d[n][1]/9)){this.ea[z]=n<<1;break}if(p[d[z][0]]==~~(d[n][1]/9)&&p[d[z][1]]==
~~(d[n][0]/9)){this.ea[z]=n<<1|1;break}}};Ua.prototype.set=function(b){this.twist=b.twist;this.tsym=b.tsym;this.flip=b.flip;this.fsym=b.fsym;this.slice=b.slice;this.prun=b.prun;this.twistc=b.twistc;this.flipc=b.flipc};Ua.prototype.calcPruning=function(f){this.prun=Math.max(Math.max(b(dc,Kb,495*this.twist+Fb[this.slice][this.tsym]),b(Vb,Eb,495*this.flip+Fb[this.slice][this.fsym])),Math.max(b($b,vb,this.twistc>>3<<11|Cb[this.flipc^this.twistc&7]),b($b,vb,this.twist<<11|Cb[this.flip<<3|this.fsym^this.tsym])))};
Ua.prototype.setWithPrun=function(f,d){this.twist=f.getTwistSym();this.flip=f.getFlipSym();this.tsym=this.twist&7;this.twist>>=3;this.prun=b($b,vb,this.twist<<11|Cb[this.flip^this.tsym]);if(this.prun>d)return!1;this.fsym=this.flip&7;this.flip>>=3;this.slice=f.getUDSlice();this.prun=Math.max(this.prun,Math.max(b(dc,Kb,495*this.twist+Fb[this.slice][this.tsym]),b(Vb,Eb,495*this.flip+Fb[this.slice][this.fsym])));if(this.prun>d)return!1;var p=new h;h.CornConjugate(f,1,p);h.EdgeConjugate(f,1,p);this.twistc=
p.getTwistSym();this.flipc=p.getFlipSym();this.prun=Math.max(this.prun,b($b,vb,this.twistc>>3<<11|Cb[this.flipc^this.twistc&7]));return this.prun<=d};Ua.prototype.doMovePrun=function(f,d,h){this.slice=Db[f.slice][d];this.flip=Nb[f.flip][Ab[d<<3|f.fsym]];this.fsym=this.flip&7^f.fsym;this.flip>>=3;this.twist=Pb[f.twist][Ab[d<<3|f.tsym]];this.tsym=this.twist&7^f.tsym;this.twist>>=3;return this.prun=Math.max(Math.max(b(dc,Kb,495*this.twist+Fb[this.slice][this.tsym]),b(Vb,Eb,495*this.flip+Fb[this.slice][this.fsym])),
b($b,vb,this.twist<<11|Cb[this.flip<<3|this.fsym^this.tsym]))};Ua.prototype.doMovePrunConj=function(f,d){d=qb[3][d];this.flipc=Nb[f.flipc>>3][Ab[d<<3|f.flipc&7]]^f.flipc&7;this.twistc=Pb[f.twistc>>3][Ab[d<<3|f.twistc&7]]^f.twistc&7;return b($b,vb,this.twistc>>3<<11|Cb[this.flipc^this.twistc&7])};r.prototype.solution=function(b,f,d,h,p){z();b=this.verify(b);if(0!=b)return"Error "+Math.abs(b);void 0===f&&(f=21);void 0===d&&(d=1E9);void 0===h&&(h=0);void 0===p&&(p=0);this.sol=f+1;this.probe=0;this.probeMax=
d;this.probeMin=Math.min(h,d);this.verbose=p;this.moveSol=null;this.isRec=!1;this.initSearch();return this.search()};r.prototype.initSearch=function(){this.conjMask=0;this.maxPreMoves=7<this.conjMask?0:20;for(var b=0;6>b;b++)if(this.urfCubieCube[b].init(this.cc.ca,this.cc.ea),this.urfCoordCube[b].setWithPrun(this.urfCubieCube[b],20),this.cc.URFConjugate(),2==b%3){var f=(new h).invFrom(this.cc);this.cc.init(f.ca,f.ea)}};r.prototype.next=function(b,f,d){this.probe=0;this.probeMax=b;this.probeMin=Math.min(f,
b);this.moveSol=null;this.isRec=!0;this.verbose=d;return search()};r.prototype.verify=function(b){if(-1==this.cc.fromFacelet(b))return-1;for(var f=b=0,d=0;12>d;d++)f|=1<<(this.cc.ea[d]>>1),b^=this.cc.ea[d]&1;if(4095!=f)return-2;if(0!=b)return-3;for(d=b=f=0;8>d;d++)f|=1<<(this.cc.ca[d]&7),b+=this.cc.ca[d]>>3;return 255!=f?-4:0!=b%3?-5:0!=(Ta(v(this.cc.ea,12,!0),12)^Ta(this.cc.getCPerm(),8))?-6:0};r.prototype.phase1PreMoves=function(b,f,d){this.preMoveLen=this.maxPreMoves-b;if(this.isRec?this.depth1==
this.length1-this.preMoveLen:0==this.preMoveLen||0==(225207>>f&1))if(this.depth1=this.length1-this.preMoveLen,this.phase1Cubie[0].init(d.ca,d.ea),this.allowShorter=7==this.depth1&&0!=this.preMoveLen,this.nodeUD[this.depth1+1].setWithPrun(d,this.depth1)&&0==this.phase1(this.nodeUD[this.depth1+1],this.depth1,-1))return 0;if(0==b||this.preMoveLen+7>=this.length1)return 1;var p=0;if(1==b||this.preMoveLen+1+7>=this.length1)p|=225207;f=3*~~(f/3);for(var n=0;18>n;n++)if(n==f||n==f-9||n==f+9)n+=2;else if(!(this.isRec&&
n!=this.preMoves[this.maxPreMoves-b]||0!=(p&1<<n))&&(h.CornMult(mb[n],d,this.preMoveCubes[b]),h.EdgeMult(mb[n],d,this.preMoveCubes[b]),this.preMoves[this.maxPreMoves-b]=n,0==this.phase1PreMoves(b-1,n,this.preMoveCubes[b])))return 0;return 1};r.prototype.search=function(){for(this.length1=this.isRec?this.length1:0;this.length1<this.sol;this.length1++)for(this.urfIdx=this.isRec?this.urfIdx:0;6>this.urfIdx;this.urfIdx++)if(0==(this.conjMask&1<<this.urfIdx)&&0==this.phase1PreMoves(this.maxPreMoves,-30,
this.urfCubieCube[this.urfIdx],0))return null==this.moveSol?"Error 8":this.moveSol;return null==this.moveSol?"Error 7":this.moveSol};r.prototype.initPhase2Pre=function(){this.isRec=!1;if(this.probe>=(null==this.moveSol?this.probeMax:this.probeMin))return 0;++this.probe;for(var b=this.valid1;b<this.depth1;b++)h.CornMult(this.phase1Cubie[b],mb[this.move[b]],this.phase1Cubie[b+1]),h.EdgeMult(this.phase1Cubie[b],mb[this.move[b]],this.phase1Cubie[b+1]);this.valid1=this.depth1;b=this.initPhase2(this.phase1Cubie[this.depth1]);
if(0==b||0==this.preMoveLen||2==b)return b;b=3*~~(this.preMoves[this.preMoveLen-1]/3)+1;h.CornMult(mb[b],this.phase1Cubie[this.depth1],this.phase1Cubie[this.depth1+1]);h.EdgeMult(mb[b],this.phase1Cubie[this.depth1],this.phase1Cubie[this.depth1+1]);this.preMoves[this.preMoveLen-1]+=2-this.preMoves[this.preMoveLen-1]%3*2;b=this.initPhase2(this.phase1Cubie[this.depth1+1]);this.preMoves[this.preMoveLen-1]+=2-this.preMoves[this.preMoveLen-1]%3*2;return b};r.prototype.initPhase2=function(f){var d=f.getCPermSym(),
h=d&15;d>>=4;var p=f.getEPermSym(),n=p&15;p>>=4;f=f.getMPerm();var z=Math.max(b(ec,ac,140*p+Zb[Gb[d]&255][pb[n][h]]),b(Sb,ic,24*d+Rb[f][h])),r=Math.min(13,this.sol-this.length1);if(z>=r)return z>r?2:1;var v;for(v=r-1;v>=z;v--){var Wa=this.phase2(p,n,d,h,f,v,this.depth1,10);if(0>Wa)break;v-=Wa;this.moveSol=[];for(Wa=0;Wa<this.depth1+v;Wa++)this.appendSolMove(this.move[Wa]);for(Wa=this.preMoveLen-1;0<=Wa;Wa--)this.appendSolMove(this.preMoves[Wa]);this.sol=this.moveSol.length;this.moveSol=this.solutionToString()}return v!=
r-1?this.probe>=this.probeMin?0:1:1};r.prototype.phase1=function(b,f,d){if(0==b.prun&&5>f){if(this.allowShorter||0==f){this.depth1-=f;var h=this.initPhase2Pre();this.depth1+=f;return h}return 1}for(var p=0;18>p;p+=3)if(p!=d&&p!=d-9)for(var n=0;3>n;n++)if(h=p+n,!this.isRec||h==this.move[this.depth1-f]){var z=this.nodeUD[f].doMovePrun(b,h,!0);if(z>f)break;else if(z==f)continue;z=this.nodeUD[f].doMovePrunConj(b,h);if(z>f)break;else if(z==f)continue;this.move[this.depth1-f]=h;this.valid1=Math.min(this.valid1,
this.depth1-f);h=this.phase1(this.nodeUD[f],f-1,p);if(0==h)return 0;if(2==h)break}return 1};r.prototype.appendSolMove=function(b){if(0==this.moveSol.length)this.moveSol.push(b);else{var f=~~(b/3),d=~~(this.moveSol[this.moveSol.length-1]/3);f==d?(b=(b%3+this.moveSol[this.moveSol.length-1]%3+1)%4,3==b?this.moveSol.pop():this.moveSol[this.moveSol.length-1]=3*f+b):1<this.moveSol.length&&f%3==d%3&&f==~~(this.moveSol[this.moveSol.length-2]/3)?(b=(b%3+this.moveSol[this.moveSol.length-2]%3+1)%4,3==b?(this.moveSol[this.moveSol.length-
2]=this.moveSol[this.moveSol.length-1],this.moveSol.pop()):this.moveSol[this.moveSol.length-2]=3*f+b):this.moveSol.push(b)}};r.prototype.phase2=function(f,d,h,p,z,r,v,Wa){if(0==f&&0==h&&0==z)return r;Wa=lb[Wa];for(var Za=0;10>Za;Za++)if(0!=(Wa>>Za&1))Za+=66>>Za&3;else{var Ra=Yb[z][Za],Ta=Jb[h][Ya[p][Za]],w=kb[Ta&15][p];Ta>>=4;if(!(b(Sb,ic,24*Ta+Rb[Ra][w])>=r)){var Ua=Ib[f][Ya[d][Za]],Qa=kb[Ua&15][d];Ua>>=4;if(!(b(ec,ac,140*Ua+Zb[Gb[Ta]&255][pb[Qa][w]])>=r)){var ua=n(Ua,Qa,!1),Va=n(Ta,w,!0);if(!(b(ec,
ac,140*(ua>>4)+Zb[Gb[Va>>4]&255][pb[ua&15][Va&15]])>=r)&&(Ra=this.phase2(Ua,Qa,Ta,w,Ra,r-1,v+1,Za),0<=Ra))return this.move[v]=bb[Za],Ra}}}return-1};r.prototype.solutionToString=function(){var b="",f=0!=(this.verbose&2)?(this.urfIdx+3)%6:this.urfIdx;if(3>f)for(var d=0;d<this.moveSol.length;++d)b+=nb[gb[f][this.moveSol[d]]]+" ";else for(d=this.moveSol.length-1;0<=d;--d)b+=nb[gb[f][this.moveSol[d]]]+" ";return b};var mb=[],hb=[],kb=[],pb=[],qb=[],Ya=[],Ab=[],zb=[],Bb=[],xb=[],ub=[],rb=[],wb=[],tb=[],
Lb=[],Hb=[],Cb=[],Gb=[],Qb=[],Db=[],Pb=[],Nb=[],Fb=[],Kb=[],Eb=[],vb=[],Jb=[],Ib=[],Yb=[],Rb=[],gc=[],Zb=[],ic=[],ac=[],$b=15,dc=15,Vb=15,Sb=15,ec=15;for(ib=0;18>ib;ib++)mb[ib]=new h;mb[0].initCoord(15120,0,119750400,0);mb[3].initCoord(21021,1494,323403417,0);mb[6].initCoord(8064,1236,29441808,550);mb[9].initCoord(9,0,5880,0);mb[12].initCoord(1230,412,2949660,0);mb[15].initCoord(224,137,328552,137);for(ib=0;18>ib;ib+=3)for(ab=0;2>ab;ab++)h.EdgeMult(mb[ib+ab],mb[ib],mb[ib+ab+1]),h.CornMult(mb[ib+ab],
mb[ib],mb[ib+ab+1]);h.urf1=(new h).initCoord(2531,1373,67026819,1367);h.urf2=(new h).initCoord(2089,1906,322752913,2040);var Mb=-1;return{Search:r,solve:function(b){return(new r).solution(b)},randomCube:function(){var b=~~(2048*Math.random()),f=~~(2187*Math.random());do{var d=~~(Math.random()*cb[12]);var p=~~(Math.random()*cb[8])}while(Ta(p,8)!=Ta(d,12));return(new h).initCoord(p,f,d,b).toFaceCube()},initFull:function(){Za=0;z()}}}();
"undefined"!==typeof module&&"undefined"!==typeof module.exports&&(module.exports=min2phase);var cubeutil=function(){function r(b,d){for(var h=[],n=0;54>n;n++)h[d[n]]=b[n];return h.join("")}function Sa(b,d){d=d||mathlib.SOLVED_FACELET;for(var h={},n=0;54>n;n++)if("-"!=d[n]){if(d[n]in h&&h[d[n]]!=b[n])return 1;h[d[n]]=b[n]}return 0}function d(b){return Sa(b,"----U--------R--R-----F--F--D-DDD-D-----L--L-----B--B-")?9:Sa(b,"----U-------RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?4+Sa(b,"----U-------RR-RR-----FF-FF-DDDDD-D-----L--L-----B--B-")+Sa(b,"----U--------R--R----FF-FF-DD-DDD-D-----LL-LL----B--B-")+
Sa(b,"----U--------RR-RR----F--F--D-DDD-DD----L--L----BB-BB-")+Sa(b,"----U--------R--R-----F--F--D-DDDDD----LL-LL-----BB-BB"):Sa(b,"-U-UUU-U----RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?4:Sa(b,"UUUUUUUUU---RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?3:Sa(b,"UUUUUUUUUr-rRRRRRRf-fFFFFFFDDDDDDDDDl-lLLLLLLb-bBBBBBB")?2:Sa(b)?1:0}function w(b){return Sa(b,"----U--------R--R-----F--F--D-DDD-D-----L--L-----B--B-")?7:Sa(b,"----U-------RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?2+Sa(b,"----U-------RR-RR-----FF-FF-DDDDD-D-----L--L-----B--B-")+
Sa(b,"----U--------R--R----FF-FF-DD-DDD-D-----LL-LL----B--B-")+Sa(b,"----U--------RR-RR----F--F--D-DDD-DD----L--L----BB-BB-")+Sa(b,"----U--------R--R-----F--F--D-DDDDD----LL-LL-----BB-BB"):Sa(b,"UUUUUUUUU---RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?2:Sa(b)?1:0}function b(b){return Sa(b,"----U--------R--R-----F--F--D-DDD-D-----L--L-----B--B-")?4:Sa(b,"----U-------RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?3:Sa(b,"UUUUUUUUU---RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?2:Sa(b)?1:0}function n(b){return Sa(b,
"----U-------RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?2:Sa(b)?1:0}function h(b){return Sa(b,"---------------------F--F--D--D--D-----LLLLLL-----B--B")?4:Sa(b,"------------RRRRRR---F-FF-FD-DD-DD-D---LLLLLL---B-BB-B")?3:Sa(b,"U-U---U-Ur-rRRRRRRf-fF-FF-FD-DD-DD-Dl-lLLLLLLb-bB-BB-B")?2:Sa(b)?1:0}function ua(b,d,h){for(var n=99,Wa=0;Wa<h;Wa++)n=Math.min(n,d(b)),b=r(b,Wa&1?Qa:v),5==Wa%6&&(b=r(b,v),b=r(b,v)),11==Wa%12&&(b=r(b,Xa),b=r(b,Xa));return n}var Xa=[2,5,8,1,4,7,0,3,6,18,19,20,21,22,23,24,25,26,
36,37,38,39,40,41,42,43,44,33,30,27,34,31,28,35,32,29,45,46,47,48,49,50,51,52,53,9,10,11,12,13,14,15,16,17],Qa=[53,52,51,50,49,48,47,46,45,11,14,17,10,13,16,9,12,15,0,1,2,3,4,5,6,7,8,18,19,20,21,22,23,24,25,26,42,39,36,43,40,37,44,41,38,35,34,33,32,31,30,29,28,27],v=[11,14,17,10,13,16,9,12,15,29,32,35,28,31,34,27,30,33,20,23,26,19,22,25,18,21,24,38,41,44,37,40,43,36,39,42,2,5,8,1,4,7,0,3,6,51,48,45,52,49,46,53,50,47],Va=[[0,2,4,3,5,1],[5,1,0,2,4,3],[4,0,2,1,3,5]];return{getProgress:function(r,v){switch(v){case "cfop":return ua(r,
b,6);case "fp":return ua(r,n,6);case "cf4op":return ua(r,w,6);case "roux":return ua(r,h,24);case "cf4o2p2":return ua(r,d,6);case "n":return ua(r,Sa,1)}},getPrettyMoves:function(b){var d=[0,1,2,3,4,5];return $.map(b,function(b,h){function n(b,d){0==f.length||~~(f[f.length-1]/3)!=b?f.push(3*b+d):(d=(d+f[f.length-1]%3+1)%4,3==d?f.pop():f[f.length-1]=3*b+d)}for(var f=[],z=0;z<b.length;z++){var r=d.indexOf("URFDLB".indexOf(b[z][0][0])),p=" 2'".indexOf(b[z][0][1])%3;if(z==b.length-1||100<b[z+1][1]-b[z][1])n(r,
p);else{var v=d.indexOf("URFDLB".indexOf(b[z+1][0][0])),w=" 2'".indexOf(b[z+1][0][1])%3;if(r!=v&&r%3==v%3&&2==p+w){v=r%3;r=(p-1)*[1,1,-1,-1,-1,1][r]+1;n(v+6,r);for(p=0;p<r+1;p++){w=[];for(var Ta=0;6>Ta;Ta++)w[Ta]=d[Va[v][Ta]];d=w}z++}else n(r,p)}}return[[$.map(f,function(b){return"URFDLBEMS".charAt(~~(b/3))+" 2'".charAt(b%3)}).join(""),f.length]]})},moveSeq2str:function(b){return $.map(b,function(b){return b[0].trim()+"@"+b[1]}).join(" ")}}}();var JSON;JSON||(JSON={});
(function(){function r(b){return 10>b?"0"+b:b}function Sa(d){b.lastIndex=0;return b.test(d)?'"'+d.replace(b,function(b){var d=ua[b];return"string"===typeof d?d:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+d+'"'}function d(b,r){var v,w,Ta=n,Ua=r[b];Ua&&"object"===typeof Ua&&"function"===typeof Ua.toJSON&&(Ua=Ua.toJSON(b));"function"===typeof Xa&&(Ua=Xa.call(r,b,Ua));switch(typeof Ua){case "string":return Sa(Ua);case "number":return isFinite(Ua)?""+Ua:"null";case "boolean":case "null":return""+
Ua;case "object":if(!Ua)return"null";n+=h;var Ra=[];if("[object Array]"===Object.prototype.toString.apply(Ua)){var Wa=Ua.length;for(v=0;v<Wa;v+=1)Ra[v]=d(v,Ua)||"null";var f=0===Ra.length?"[]":n?"[\n"+n+Ra.join(",\n"+n)+"\n"+Ta+"]":"["+Ra.join(",")+"]";n=Ta;return f}if(Xa&&"object"===typeof Xa)for(Wa=Xa.length,v=0;v<Wa;v+=1)"string"===typeof Xa[v]&&(w=Xa[v],(f=d(w,Ua))&&Ra.push(Sa(w)+(n?": ":":")+f));else for(w in Ua)Object.prototype.hasOwnProperty.call(Ua,w)&&(f=d(w,Ua))&&Ra.push(Sa(w)+(n?": ":":")+
f);f=0===Ra.length?"{}":n?"{\n"+n+Ra.join(",\n"+n)+"\n"+Ta+"}":"{"+Ra.join(",")+"}";n=Ta;return f}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+r(this.getUTCMonth()+1)+"-"+r(this.getUTCDate())+"T"+r(this.getUTCHours())+":"+r(this.getUTCMinutes())+":"+r(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var w=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
b=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,h,ua={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},Xa;"function"!==typeof JSON.stringify&&(JSON.stringify=function(b,r,w){var v;h=n="";if("number"===typeof w)for(v=0;v<w;v+=1)h+=" ";else"string"===typeof w&&(h=w);if((Xa=r)&&"function"!==typeof r&&("object"!==typeof r||"number"!==typeof r.length))throw Error("JSON.stringify");return d("",{"":b})});
"function"!==typeof JSON.parse&&(JSON.parse=function(b,d){function h(b,n){var r,v,f=b[n];if(f&&"object"===typeof f)for(r in f)Object.prototype.hasOwnProperty.call(f,r)&&(v=h(f,r),void 0!==v?f[r]=v:delete f[r]);return d.call(b,n,f)}var n;b=""+b;w.lastIndex=0;w.test(b)&&(b=b.replace(w,function(b){return"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return n=eval("("+b+")"),"function"===typeof d?h({"":n},""):n;throw new SyntaxError("JSON.parse");})})();var kernel=execMain(function(){function r(b,f){DEBUG&&console.log("[signal]",b,f);if(void 0!=ua[b])for(var d in ua[b])if(void 0===ua[b][d][1]||ua[b][d][1].exec(f[0]))ua[b][d][0](b,f)}function Sa(b,f,d,h){void 0==ua[f]&&(ua[f]={});ua[f][b]=[d,h]}function d(b,f){if(0>b)return"DNF";var d=Qa("useMilli");b=Math.floor(b/(d?1:10));var h=b%(d?1E3:100);b=Math.floor(b/(d?1E3:100));var p=Qa("timeFormat"),n=0,r=0;"h"==p?(p=b%60,n=Math.floor(b/60)%60,r=Math.floor(b/3600)):"m"==p?(p=b%60,n=Math.floor(b/60)):p=
b;var v=(f=f&&Qa("smallADP"))?["</span>"]:[];v.push(h);10>h&&v.push("0");100>h&&d&&v.push("0");v.push(p+"."+(f?'<span style="font-size:0.75em;">':""));10>p&&0<n+r&&v.push("0");0<n+r&&v.push(n+":");10>n&&0<r&&v.push("0");0<r&&v.push(r+":");return v.reverse().join("")}function w(b){if(0>=b)return b;var f=Qa("useMilli")?1:10;return Math.round(b/f)*f}function b(){timer.refocus()}$.ajaxSetup({cache:!0});var n=$("<div />").css("visibility","hidden"),h=$('<div id="wndctn" />'),ua={},Xa=function(){function b(){var b=
$(this).data("module");f(b);d(b)}function f(b){if(!Xa[b][0].hasClass("enable")){for(var f in Xa)Xa[f][0].removeClass("enable");Xa[b][0].addClass("enable");qb=b}}function d(b){setTimeout(function(){db.scrollTop(b?db.scrollTop()+Xa[b][1].position().top-3:Ya)},0)}function h(){Ya=db.scrollTop();var b="kernel",d;for(d in Xa)50<Xa[d][1].position().top||(b=d);f(b)}function p(b){b=$(this);var f=b.prop("name");if(b.is(".opthelp"))" [?] "==b.html()?b.html("<br> [?] "+$('strong[data="opt_'+b.attr("data")+'"]').parent().html().split("</strong>. ")[1]):
b.html(" [?] ");else if(b.is("select"))Ta(f,b.val());else switch(b.prop("type")){case "checkbox":Ta(f,b.prop("checked"));break;case "color":if(b.attr("data")){var d=4*~~b.attr("data")-4,h=w(f);Ta(f,[h.slice(0,d),$a.nearColor(b.val()),h.slice(d+4)].join(""))}else Ta(f,b.val());break;case "text":case "button":for(d in Va)if(f in Va[d]){d=Va[d][f];h=w(f);switch(b.val()){case "+":h=Math.min(h+1,d[3][2]);break;case "-":h=Math.max(h-1,d[3][1]);break;default:b.val().match(/^\d+$/)&&(h=+b.val().match(/^0*(.+)$/)[1],
h=Math.max(Math.min(h,d[3][2]),d[3][1]))}d[0].val(h);Ta(f,h);break}}}function n(){Xa={};kb.empty();mb.empty();db.unbind("scroll").scroll(h);for(var f in MODULE_NAMES){0===qb&&(qb=f);var d=Xa[f]=[$("<div>"),$("<tr>")];d[0].html('<span class="icon" style="font-size:1em;">'+Ab[f]+"</span><span>"+MODULE_NAMES[f]+"</span>").addClass("tab").data("module",f).click(b).appendTo(kb);d[1].append($("<th>").html('<span class="icon">'+Ab[f]+"</span> "+MODULE_NAMES[f].replace(/<br>-?/g,"")),$('<th class="sr">').html(PROPERTY_SR),
$('<th class="sr">').html('<span class="icon"></span>'));mb.append(d[1]);for(var n in Va[f]){d=Va[f][n];var z=w(n),r=d[1],v=w("sr_"+n),Za=$('<td class="sr">');d[4]&1&&Za.append($('<input type="checkbox" name="sr_'+n+'"'+(v?" checked":"")+">").click(p));v=$("<td colspan=2>");if(0>r)if($.urlParam("debug"))r=~r;else continue;if(0==r)d[0]=$('<input type="checkbox" name="'+n+'">').prop("checked",z).click(p),v.append($("<label>").append(d[0],d[2]));else if(1==r){d[0]=$('<select name="'+n+'">');var Wa=
d[3][1],Ya=d[3][2];for(r=0;r<Wa.length;r++)d[0].append($("<option />").val(Wa[r]).html(Ya[r]));d[0].val(z);d[0].change(p);v.append(d[2],": ",d[0])}else if(2==r)d[0]=$('<input type="text" maxlength="4" name="'+n+'">').val(z).change(p),z=$('<input type="button" style="width: 1.5em;" value="+" name="'+n+'">').click(p),r=$('<input type="button" style="width: 1.5em;" value="-" name="'+n+'">').click(p),v.append(d[2]+"("+d[3][1]+"~"+d[3][2]+")",$("<span>").css("white-space","nowrap").append(r,d[0],z));else if(3==
r)d[0]=$('<input type="color" name="'+n+'">').val(z).change(p),v.append(d[2],": ",d[0]);else if(4==r){Wa=z.match(/#[0-9a-fA-F]{3}/g);d[0]=$('<input type="text" name="'+n+'" style="display:none">').val(z);z=[];for(r=0;r<Wa.length;r++)z.push($('<input type="color" name="'+n+'" data="'+(r+1)+'" class="mulcolor">').val($a.nearColor(Wa[r],0,!0)).change(p));v.append(d[2],": ",d[0],z)}else 5==r&&($.urlParam("debug")?(d[0]=$('<input type="text" name="'+n+'" readonly>').val(z),v.append(d[2]+" ("+n+"): ",d[0])):
(d[0]=$('<input type="text" name="'+n+'" style="display:none">').val(z),v.append(d[2],d[0])));0<$('strong[data="opt_'+n+'"]').length&&v.append($('<span class="click opthelp" data="'+n+'"/>').html(" [?] ").click(p));mb.append($("<tr>").append(v,Za))}}mb.append($('<tr style="height: 10em;">'));Xa[qb][0].click()}function v(){ob&&(n(),ob=!1);$(".opthelp").html(" [?] ");d();$a.showDialog([hb,$.noop,void 0,$.noop,[RESET_LANG,function(){for(var b in Qa){var f=Qa[b];b.startsWith("col-")||void 0===f||w(b)===
f||b.startsWith("session")||(delete ua[b],r("property",[b,f,"reset"]))}n();return!1}],[BUTTON_EXPORT.replace("-<br>",""),exportFunc.exportProperties]],"option",BUTTON_OPTIONS.replace("-<br>",""),function(){pb.find('select[name="lang"]').focus().blur();d()})}function w(b,f){void 0!=f&&void 0==Qa[b]&&(Qa[b]=f,r("property",[b,w(b),"set"]));ua[b]===Qa[b]&&delete ua[b];return b in ua?ua[b]:Qa[b]}function Ta(b,f,d){for(var h in Va)if(b in Va[h]&&void 0!==Va[h][b][0]&&Va[h][b][0].val()!=f){Va[h][b][0].val(f);
break}w(b)!==f&&(ua[b]=f,r("property",[b,w(b),d||"modify"]))}function Ra(){localStorage.properties=JSON.stringify(ua)}function Ua(){var b=localStorage.properties;void 0!=b&&""!=b&&(ua=JSON.parse(b))}var ua={},Qa={},Va={},Xa={},ob=!0,db=$('<div class="noScrollBar">'),mb=$('<table class="opttable">'),hb=$('<table class="options" />'),kb=$("<td />"),pb=$("<td />").addClass("tabValue");hb.append($("<tr />").append(kb,pb.append(db.append(mb))));var qb=0,Ya=0,Ab={kernel:"",ui:"",color:"",timer:"",scramble:"",
stats:"",tools:"",vrc:""};$(function(){Ua();$a.addButton("property",BUTTON_OPTIONS,v,1);Sa("property","property",Ra)});return{get:w,set:Ta,reg:function(b,f,d,h,p,n){ob=!0;void 0==Va[b]&&(Va[b]={});Va[b][f]=[void 0,d,h,p,n];Qa[f]=p[0];Qa["sr_"+f]=2==(n&2);r("property",[f,w(f),"set"])},getSProps:function(){var b={},f;for(f in ua)0!=f.indexOf("sr_")&&w("sr_"+f,!1)&&(b[f]=w(f));return b},setSProps:function(b){for(var f in Qa)0!=f.indexOf("sr_")&&w("sr_"+f,!1)&&(f in b?Ta(f,b[f],"session"):Ta(f,Qa[f],
"session"))},load:Ua,reload:n}}(),Qa=Xa.get,v=Xa.set,Va=Xa.reg;$(function(){var b=LANG_CUR||"en-us";Va("kernel","lang",1,"Language",[b,(LANG_SET+"|h").split("|").slice(1),(LANG_STR+"|help translation").split("|")]);v("lang",b);Sa("kernel","property",function(f,d){d[1]!=b&&"modify"==d[2]&&("h"==d[1]?confirm("Press OK to redirect to crowdin for translating cstimer")&&(window.location.href="https://crowdin.com/project/cstimer"):window.location.href="?lang="+d[1],v("lang",b))},/^lang$/);if($.urlParam("lang")){var f=
"lang="+$.urlParam("lang");document.cookie=f+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/";$.clearUrl("lang")}});var $a=function(){function d(b,f,d,h){Ya=Ya||$("#leftbar");Ya.children(".c"+h).click(d).find("span:first").html(f)}function f(){var b=$(this),f=b.data("module");hb[f].button?(b.removeClass("enable"),kb&&hb[f].auto||hb[f].div.stop(!0,!0).fadeOut(200,function(b){return function(){r("button",[b,!1])}}(f))):(b.addClass("enable"),r("button",[f,!0]),hb[f].div.stop(!0,!0).fadeIn(200),kb&&
hb[f].auto&&hb[f].div.hide());hb[f].button=!hb[f].button;v(f,hb[f].button)}function z(){var b=$(this).attr("data");v(b,!Qa(b,!1))}function w(b,f,d,h){pb=!0;Bb.removeClass().addClass("dialog").addClass("dialog"+f);xb.html(d);ub.children().appendTo(n);b[0].appendTo(ub.empty());rb.empty();2>b.length?ub.css("bottom","0"):ub.css("bottom","2.5em");void 0!=b[1]&&rb.append(wb.unbind("click").click(function(){b[1]&&b[1]();p()}));void 0!=b[2]&&rb.append(tb.unbind("click").click(function(){b[2]&&b[2]();p()}));
qb.unbind("click");void 0!=b[3]&&qb.click(function(){b[3]&&b[3]();p()});for(f=4;f<b.length;f++)rb.append($('<input type="button" class="buttonOK">').val(b[f][0]).unbind("click").click(function(b){return function(){b()&&p()}}(b[f][1])));Bb.stop(!0,!0).fadeTo(100,.98,function(){b[0].focus();h&&h()});qb.stop(!0,!0).fadeTo(100,.25)}function p(){Bb.stop(!0,!0).fadeOut(100,function(){pb||(ub.children().appendTo(n),Bb.removeClass(),b())});qb.hide();pb=!1}function Ta(){if(!kb){kb=!0;Ua();for(var b in hb)hb[b].auto&&
hb[b].button&&hb[b].div.stop(!0,!0).fadeOut(100);r("ashow",!1)}}function Ra(){if(kb){kb=!1;Ua();for(var b in hb)hb[b].auto&&hb[b].button&&hb[b].div.stop(!0,!0).fadeIn(100);r("ashow",!0)}}function Ua(b){var f=!1,d;for(d in hb)if(hb[d].button){f=!0;break}f&&!kb||b||jQuery.fx.off?Ya.stop(!0,!0).fadeTo(200,1):Ya.stop(!0,!0).fadeTo(200,.01)}function ua(b){for(var f=0;7>f;f++)Gb[f]=gb(b.substr(4*f,4));v("col-font",gb(Gb[0],0,!0));v("col-back",gb(Gb[1],0,!0));v("col-board",gb(Gb[2],0,!0));v("col-button",
gb(Gb[3],0,!0));v("col-link",gb(Gb[4],0,!0));v("col-logo",gb(Gb[5],0,!0));v("col-logoback",gb(Gb[6],0,!0));$a()}function $a(){for(var b="ns"==Qa("uidesign")||"mtns"==Qa("uidesign")?Hb[1]:Hb[0],f="#000"==gb(Gb[0])?-1:1,d=0;d<Qb.length;d++)b=b.replace("?",gb(Gb[Qb[d]&15],(Qb[d]<<20>>24)*f));Lb[0].styleSheet?Lb[0].styleSheet.cssText=b:Lb[0].innerHTML=b}function gb(b,f,d){var h,p;f=f||0;(p=/^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/.exec(b))&&(h=[p[1]+p[1],p[2]+p[2],p[3]+p[3]]);(p=/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/.exec(b))&&
(h=[p[1],p[2],p[3]]);for(b=0;3>b;b++)h[b]=parseInt(h[b],16),h[b]+=f,h[b]=Math.min(Math.max(h[b],0),255),h[b]=Math.round(h[b]/17).toString(16);return"#"+(d?h[0]+h[0]+h[1]+h[1]+h[2]+h[2]:h[0]+h[1]+h[2])}function ib(b){return(b=/^\s*((#[0-9a-fA-F]{3}){7})\s*$/.exec(b))?(ua(b[1]),!0):!1}function ab(){return Gb.join("")}function jb(){"mt"==Qa("uidesign")||"mtns"==Qa("uidesign")?$("html").addClass("mtds"):$("html").removeClass("mtds")}function sb(){var b=$(window).width(),f=$(window).height(),d=Qa("view");
(Pb="m"==d?!0:"d"==d?!1:1.2>b/f)?$("html").addClass("m"):$("html").removeClass("m")}function ob(b,f){if("property"==b)switch(f[0]){case "color":if("u"!=f[1])if("i"==f[1]||"e"==f[1]){var d=ab(),h=prompt(EXPORT_CODEPROMPT,d);h&&h!=d&&!ib(h)&&alert(COLOR_FAIL);Xa.set("color","u")}else ua(Cb["r"==f[1]?~~(Math.random()*Cb.length):f[1]-1]);break;case "font":"r"==f[1]?$("#container, #multiphase").css("font-family",["lcd","lcd2","lcd3","lcd4","lcd5"][~~(5*Math.random())]):$("#container, #multiphase").css("font-family",
f[1]);break;case "col-font":case "col-back":case "col-board":case "col-button":case "col-link":case "col-logo":case "col-logoback":d=Db.indexOf(f[0].substring(4,f[0].length));h=f[1];h=gb(h);Gb[d]!=h&&(Gb[d]=h,v("color","u"),$a());break;case "zoom":$("html").attr("class","p"+~~(100*f[1])),$(window).trigger("resize"),jb();case "view":sb();break;case "uidesign":jb();$a();break;case "wndScr":db("scramble","f"==f[1]);break;case "wndStat":db("stats","f"==f[1]);break;case "wndTool":db("tools","f"==f[1])}}
function db(b,f){hb[b]?f?hb[b].div.addClass("fixed"):hb[b].div.removeClass("fixed"):$(db.bind(void 0,b,f))}function mb(){ib(window.location.hash)&&(Xa.set("color","u"),$.clearHash())}var hb={},kb=!1,pb=!1,qb,Ya,Ab=$("<div />"),zb={scramble:"scrHide",tools:"toolHide",stats:"statHide"},Bb=$("<div />").addClass("dialog"),xb=$("<div />").addClass("title"),ub=$("<div />").addClass("value"),rb=$("<div />").addClass("button"),wb=$('<input type="button" class="buttonOK">').val(OK_LANG),tb=$('<input type="button" class="buttonOK">').val(CANCEL_LANG);
Bb.append(xb,ub,rb);var Lb=$("<style>").appendTo("head"),Hb="html,body,textarea,#leftbar{color:?;background-color:?}#leftbar{border-color:?}#logo{color:?;border-color:?;background-color:?}.mybutton,.tab,.cntbar{border-color:?}html:not(.m) .mybutton:hover,.mybutton:active,.tab:active,.mywindow,.popup,.dialog{background-color:?}.mybutton.enable,.tab.enable,.cntbar,.selected,table.opttable tr th:first-child,div.helptable h2,div.helptable h3{background-color:?}#gray{background-color:?}html:not(.m) .times:hover,html:not(.m) .click:hover,.times:active,.click:active,textarea{background-color:?}.click{color:?}.mywindow,.popup,.dialog,.table,.table td,.table th,textarea,.tabValue,.opttable td.sr{border-color:?}html:not(.m) #avgstr .click:hover,#avgstr .click:active{background-color:?}select,input[type='button'],input[type='text']{color:?;background:?;border-color:?}input:disabled,table.opttable tr:nth-child(odd) td:first-child,div.helptable li:nth-child(odd){background:?}.mywindow::before,.popup,.dialog,#leftbar::before";
Hb=[Hb+"{box-shadow:0 0 .6em ?}",Hb+"{box-shadow:none}"];var Cb="#000#efc#fdd#fbb#00f#ff0#000 #000#ffe#ff9#ff0#00f#fa0#000 #fff#600#668#408#ccf#0ff#000 #fff#000#555#888#aaa#000#aaa #000#fff#ccc#ddd#555#fff#888 #fff#227#9c3#563#580#dad#000 #9aa#023#034#b80#28d#678#034 #678#ffe#eed#ffe#28d#678#eed".split(" "),Gb="#000 #efc #fdd #fbb #dbb #ff0 #000".split(" "),Qb=[0,1,545,5,549,6,546,2,3,0,546,4,546,545,0,3826,546,274,0],Db="font back board button link logo logoback".split(" "),Pb=!1;$(function(){Sa("ui",
"property",ob,/^(?:color|font|col-.+|zoom|view|uidesign|wnd(?:Scr|Stat|Tool))/);Va("ui","zoom",1,ZOOM_LANG,["1","0.7 0.8 0.9 1 1.1 1.25 1.5".split(" "),"70% 80% 90% 100% 110% 125% 150%".split(" ")]);Va("ui","font",1,PROPERTY_FONT,["lcd","r Arial lcd lcd2 lcd3 lcd4 lcd5 Roboto".split(" "),PROPERTY_FONT_STR.split("|").concat("Roboto")]);Va("kernel","ahide",0,PROPERTY_AHIDE,[!0]);Va("ui","uidesign",1,PROPERTY_UIDESIGN,["mtns",["n","mt","ns","mtns"],PROPERTY_UIDESIGN_STR.split("|")]);Va("ui","view",1,
PROPERTY_VIEW,["a",["a","m","d"],PROPERTY_VIEW_STR.split("|")]);Va("color","color",1,PROPERTY_COLOR,["4","uer12345678".split(""),PROPERTY_COLOR_STR.split("|")]);var b=PROPERTY_COLORS.split("|");Va("color","col-font",3,b[0],["#000000"]);Va("color","col-back",3,b[1],["#eeffcc"]);Va("color","col-board",3,b[2],["#ffdddd"]);Va("color","col-button",3,b[3],["#ffbbbb"]);Va("color","col-link",3,b[4],["#0000ff"]);Va("color","col-logo",3,b[5],["#ffff00"]);Va("color","col-logoback",3,b[6],["#000000"]);Va("color",
"colcube",4,"Cube",["#ff0#fa0#00f#fff#f00#0d0"]);Va("color","colpyr",4,"Pyraminx",["#0f0#f00#00f#ff0"]);Va("color","colskb",4,"Skewb",["#fff#00f#f00#ff0#0f0#f80"]);Va("color","colmgm",4,"Megaminx",["#fff#d00#060#81f#fc0#00b#ffb#8df#f83#7e0#f9f#999"]);Va("color","colsq1",4,"SQ1",["#ff0#f80#0f0#fff#f00#00f"]);Va("color","col15p",4,"15 Puzzle",["#f99#9f9#99f#fff"]);Va("ui","wndScr",1,PROPERTY_WNDSCR,["n",["n","f"],PROPERTY_WND_STR.split("|")]);Va("ui","wndStat",1,PROPERTY_WNDSTAT,["n",["n","f"],PROPERTY_WND_STR.split("|")]);
Va("ui","wndTool",1,PROPERTY_WNDTOOL,["n",["n","f"],PROPERTY_WND_STR.split("|")]);qb=$("#gray");$(".donate").appendTo(Ab);d("donate",BUTTON_DONATE,function(){w([Ab,0,void 0,0],"stats",BUTTON_DONATE.replace("<br>",""))},5);Ya.appendTo(h).mouseenter(function(){Ua(!0)}).mouseleave(function(){Ua()});setTimeout(Ua,3E3);Bb.appendTo("body");$(window).resize(sb);$(window).bind("hashchange",mb);mb();"https:"!=location.protocol&&(document.title="[UNSAFE] "+document.title)});return{addWindow:function(b,d,p,
n,v,w){p.appendTo(h);p.addClass("mywindow");p.append($('<span class="chide" data="'+zb[b]+'"></span>').click(z));n=Qa(b,n);Ya=Ya||$("#leftbar");Ya.children(".c"+w).addClass(n?"enable":"").data("module",b).click(f).find("span:first").html(d);hb[b]={button:n,div:p,auto:v};n?p.show():p.hide();r("button",[b,n])},addButton:d,showDialog:w,hideDialog:p,isDialogShown:function(b){return Bb.hasClass("dialog"+b)},exportColor:ab,nearColor:gb,setAutoShow:function(b){(b=b||!Qa("ahide"))?Ra():Ta();timer.showAvgDiv(b)},
hide:Ta,show:Ra,isPop:function(){return pb},toggleLeftBar:Ua}}(),Ta=function(){function d(b,f,d,h,n){this.data=b;this.callback=f;this.select1=d;this.select2=h;this.reset(n)}function f(b,f,d){for(var h=0;h<b.length;h++)if($.isArray(b[h][1]))for(var p=0;p<b[h][1].length;p++){if(b[h][1][p][1]==f){d(h,p);return}}else if(b[h][1]==f){d(h,null);break}}var h=d.prototype;h.loadSelect2=function(f){b();f=f||0;var d=~~this.select1.prop("selectedIndex");d=(this.data[d]||[])[1];this.select2.empty();if($.isArray(d)){this.select2.show();
for(var h=0;h<d.length;h++)this.select2.append($("<option>").html(d[h][0]).val(d[h][1]));this.select2.prop("selectedIndex",f)}else this.select2.hide();this.onSelect2Change()};h.onSelect1Change=function(){this.loadSelect2()};h.onSelect2Change=function(){this.callback&&this.callback(this.getSelected())};h.getSelIdx=function(){var b=~~this.select1.prop("selectedIndex");if(!$.isArray((this.data[b]||[])[1]))return[b];var f=~~this.select2.prop("selectedIndex");return[b,f]};h.getSelected=function(){var b=
this.getSelIdx();return 1==b.length?(this.data[b[0]]||[])[1]:this.data[b[0]][1][b[1]][1]};h.reset=function(b){b=b||this.getSelected();this.select1.empty();for(var f=0;f<this.data.length;f++)this.select1.append($("<option>").html(this.data[f][0]).val($.isArray(this.data[f][1])?f:this.data[f][1]));this.select1.unbind("change").change(this.onSelect1Change.bind(this));this.select2.unbind("change").change(this.onSelect2Change.bind(this));b&&this.loadVal(b)};h.loadVal=function(b){var d=this.callback;this.callback=
null;f(this.data,b,function(b,f){this.select1.prop("selectedIndex",b);this.loadSelect2(f)}.bind(this));this.callback=d};h.getValName=function(b){var d=null;f(this.data,b,function(b,f){d=this.data[b][0];null!=f&&(d+=">"+this.data[b][1][f][0])}.bind(this));return d};h.getValIdx=function(b){var d=null;f(this.data,b,function(b,f){d=100*b+(null==f?f:99)});return d};return d}();(function(){function b(b,z){if("bgImgO"==z[0])h.stop(!0,!0).fadeTo(0,z[1]/100);else if("bgImgS"==z[0])if("n"==z[1])h.hide(),p=
"n";else if(h.show(),"u"==z[1])if("modify"==z[2]){var r=prompt(BGIMAGE_URL,f);n.exec(r)?(f=r,h.attr("src",f),v("bgImgSrc",f)):(alert(BGIMAGE_INVALID),v("bgImgS",p),Xa.reload())}else f=Qa("bgImgSrc",f),h.attr("src",f);else p=z[1],h.attr("src",d[z[1]])}var f="",d=["https://i.imgur.com/X7Xi7D1.png","https://i.imgur.com/K4zbMsu.png","https://i.imgur.com/Fsh6MaM.png"],h,p=0,n=/^((http|https|ftp):\/\/)?(\w(:\w)?@)?([0-9a-z_-]+\.)*?([a-z0-9-]+\.[a-z]{2,6}(\.[a-z]{2})?(:[0-9]{2,6})?)((\/[^?#<>\/\\*":]*)+(\?[^#]*)?(#.*)?)?$/i;
$(function(){h=$("#bgImage");Sa("bgImage","property",b,/^bgImg[OS]$/);Va("ui","bgImgO",2,BGIMAGE_OPACITY,[25,0,100]);Va("ui","bgImgS",1,BGIMAGE_IMAGE,["n",["n","u",0,1,2],BGIMAGE_IMAGE_STR.split("|").slice(0,-1).concat(1,2,3)])})})();var Ua=/^([\d]+)?([FRUBLDfrubldzxySME])(?:([w])|&sup([\d]);)?([2'])?$/,Ra=!0;$(function(){Va("kernel","useMilli",0,PROPERTY_USEMILLI,[!1],1);Va("kernel","timeFormat",1,PROPERTY_FORMAT,["h",["h","m","s"],["hh:mm:ss.XX(X)","mm:ss.XX(X)","ss.XX(X)"]],1);n.appendTo("body");
h.appendTo("body");$(document).keydown(function(b){Ra=!0;r("keydown",b);timer.onkeydown(b);return Ra});$(document).keyup(function(b){Ra=!0;r("keyup",b);timer.onkeyup(b);return Ra});$("#container").bind("touchstart",function(d){$(d.target).is(".click")||(b(),timer.onkeydown({which:32}),d.preventDefault&&d.preventDefault())});$("#container").bind("touchend",function(d){$(d.target).is(".click")||(b(),timer.onkeyup({which:32}),d.preventDefault&&d.preventDefault())});$("#container").bind("touch",function(b){$(b.target).is(".click")||
b.preventDefault&&b.preventDefault()});$("#touch").remove();$("#container").mousedown(function(b){!$(b.target).is(".click")&&1==b.which&&Qa("useMouse")&&(timer.onkeydown({which:32}),b.preventDefault&&b.preventDefault())});$("#container").mouseup(function(b){!$(b.target).is(".click")&&1==b.which&&Qa("useMouse")&&(timer.onkeyup({which:32}),b.preventDefault&&b.preventDefault())});try{document.cookie="fp="+$.fingerprint()+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/"}catch(Wa){}});$(function(){for(var b=
"properties cachedScr devData wcaData gglData locData".split(" "),f=0;f<b.length;f++)try{JSON.parse(localStorage[b[f]]||"{}")}catch(p){delete localStorage[b[f]]}var d=[];for(f=1;f<=~~Qa("sessionN",15);f++)b.push("session"+f);for(f=0;f<localStorage.length;f++){var h=localStorage.key(f);-1==b.indexOf(h)&&d.push(h)}for(f=0;f<d.length;f++)delete localStorage[d[f]]});return{pretty:d,getProp:Qa,setProp:v,regProp:Va,getSProps:Xa.getSProps,setSProps:Xa.setSProps,regListener:Sa,addWindow:$a.addWindow,addButton:$a.addButton,
pushSignal:r,showDialog:$a.showDialog,hideDialog:$a.hideDialog,isDialogShown:$a.isDialogShown,exportColor:$a.exportColor,clrKey:function(){Ra=!1},temp:n,reprop:Xa.reload,loadProp:Xa.load,parseScramble:function(b,f){for(var d=[],h=(Qa("preScr")+" "+b).split(" "),p,n,r,v=0;v<h.length;v++)p=Ua.exec(h[v]),null!=p&&(r="FRUBLDfrubldzxySME".indexOf(p[2]),14<r?(p="2'".indexOf(p[5]||"X")+2,r=[0,4,5][r%3],d.push([f.indexOf("FRUBLD".charAt(r)),2,p]),d.push([f.indexOf("FRUBLD".charAt(r)),1,4-p])):(n=12>r?~~p[1]||
~~p[4]||("w"==p[3]||5<r)&&2||1:-1,p=(12>r?1:-1)*("2'".indexOf(p[5]||"X")+2),d.push([f.indexOf("FRUBLD".charAt(r%6)),n,p])));return d},blur:b,ui:$a,TwoLvMenu:Ta,pround:function(b,f){return d(w(b),f)},round:w}});var exportFunc=execMain(function(){function r(){return storage.exportAll().then(function(b){b.properties=mathlib.str2obj(localStorage.properties);pb=JSON.stringify(b)})}function Sa(){var b=null;try{b=JSON.parse(this.result)}catch(zb){logohint.push("Invalid Data");return}d(b)}function d(b){var f=0,d=0,h=0;storage.exportAll().then(function(p){for(var n=1;n<=~~kernel.getProp("sessionN");n++){var z=mathlib.str2obj(p["session"+n]||[]),r=mathlib.str2obj(b["session"+n]||[]);z.length!=r.length&&(f++,d+=Math.max(r.length-
z.length,0),h+=Math.max(z.length-r.length,0))}return confirm(IMPORT_FINAL_CONFIRM.replace("%d",f).replace("%a",d).replace("%r",h))?Promise.resolve():Promise.reject()}).then(function(){if("properties"in b){var f=localStorage.devData||"{}",d=localStorage.wcaData||"{}",h=localStorage.gglData||"{}",p=localStorage.locData||"{}";localStorage.clear();localStorage.devData=f;localStorage.wcaData=d;localStorage.gglData=h;localStorage.locData=p;localStorage.properties=mathlib.obj2str(b.properties);kernel.loadProp()}storage.importAll(b).then(function(){location.reload()})},
$.noop)}function w(b){this.files.length&&b.readAsText(this.files[0],"UTF-8")}function b(b){return b&&/^[A-Za-z0-9]+$/.exec(b)}function n(b,f){try{return JSON.parse(localStorage[b])[f]||""}catch(Bb){return""}}function h(f){if(f.target===ab[0]||f.target===ib[0])f=n("wcaData","cstimer_token");else{f=prompt(EXPORT_USERID,n("locData","id"));if(null==f)return;localStorage.locData=JSON.stringify({id:f,compid:n("locData","compid")});kernel.pushSignal("export",["account","locData"])}if(b(f))return f;alert(EXPORT_INVID)}
function ua(b){return new Promise(function(f,d){var h=LZString.compressToEncodedURIComponent(pb);$.post("https://cstimer.net/userdata.php",{id:b,data:h},function(b){0==b.retcode?f(b):d(b)},"json").error(d)})}function Xa(b){var f=h(b);if(f){var d=$(b.target),p=d.html();d.html("...");ua(f).then(function(){alert(EXPORT_UPLOADED)},function(){alert(EXPORT_ERROR)}).then(function(){d.html(p)})}}function Qa(b){var f=h(b);if(f){var p=$(b.target),n=p.html();p.html("Check File List...");var z=function(){alert(EXPORT_ERROR)},
r=function(){p.html(n)};b=function(b){b=~~b.data;if(0==b)return alert("No Data Found"),r();var d=1;if(kernel.getProp("expp")&&(d=~~prompt("You have %d file(s), load (1 - lastest one, 2 - lastest but one, etc) ?".replace("%d",b),"1"),0>=d||d>b))return r();p.html("Import Data...");$.post("https://cstimer.net/userdata.php",{id:f,offset:d-1},v,"json").error(z).always(r)};var v=function(b){var f=b.retcode;if(0==f)try{d(JSON.parse(LZString.decompressFromEncodedURIComponent(b.data)))}catch(Hb){alert(EXPORT_ERROR)}else 404==
f?alert(EXPORT_NODATA):alert(EXPORT_ERROR);r()};kernel.getProp("expp")?$.post("https://cstimer.net/userdata.php",{id:f,cnt:1},b,"json").error(z).always(r):b({data:1})}}function v(){var b=n("gglData","access_token");b&&(ob.html("Check File List..."),$.ajax("https://www.googleapis.com/drive/v3/files?spaces=appDataFolder&orderBy=modifiedTime desc&q=name%3D%27cstimer.txt%27",{type:"GET",beforeSend:function(f){f.setRequestHeader("Authorization","Bearer "+b)}}).success(function(h,p,n){h=h.files;if(0==h.length)return alert("No Data Found"),
Ra();p=1;if(kernel.getProp("expp")&&(p=~~prompt("You have %d file(s), load (1 - lastest one, 2 - lastest but one, etc) ?".replace("%d",h.length),"1"),0>=p||p>h.length))return Ra();ob.html("Import Data...");$.ajax("https://www.googleapis.com/drive/v3/files/"+h[p-1].id+"?alt=media",{type:"GET",beforeSend:function(f){f.setRequestHeader("Authorization","Bearer "+b)}}).success(function(b){try{b=JSON.parse(LZString.decompressFromEncodedURIComponent(b))}catch(rb){return alert("No Valid Data Found"),Ra()}Ra();
d(b)}).error(function(){alert(EXPORT_ERROR+"\nPlease Re-login");f()});for(p=10;p<h.length;p++)$.ajax("https://www.googleapis.com/drive/v3/files/"+h[p].id,{type:"DELETE",beforeSend:function(f){f.setRequestHeader("Authorization","Bearer "+b)}})}).error(function(){alert(EXPORT_ERROR+"\nPlease Re-login");f()}))}function Va(){var b=n("gglData","access_token");b&&(db.html("Create File..."),$.ajax("https://www.googleapis.com/upload/drive/v3/files?uploadType=resumable",{type:"POST",contentType:"application/json",
data:JSON.stringify({parents:["appDataFolder"],name:"cstimer.txt"}),beforeSend:function(f){f.setRequestHeader("Authorization","Bearer "+b)}}).success(function(b,d,h){b=h.getResponseHeader("location");db.html("Uploading Data...");$.ajax(b,{type:"PUT",contentType:"text/plain",data:LZString.compressToEncodedURIComponent(pb)}).success(function(b,f,d){alert("Export Success");Ra()}).error(function(b,d,h){alert(EXPORT_ERROR);f()})}).error(function(b,d,h){401==b.status?alert("Timeout, Please Re-login"):alert(EXPORT_ERROR);
f()}))}function $a(){r().then(function(){if(window.Blob){var b=new Blob([pb],{type:"text/plain"});kb.attr("href",URL.createObjectURL(b));kb.attr("download","cstimer_"+mathlib.time2str(new Date/1E3,"%Y%M%D_%h%m%s")+".txt")}kernel.showDialog([bb,0,void 0,0,[EXPORT_ONLYOPT,Ta]],"export",EXPORT_DATAEXPORT)})}function Ta(){var b=JSON.parse(localStorage.properties),f={},d;for(d in b)d.startsWith("session")||(f[d]=b[d]);b=LZString.compressToEncodedURIComponent(JSON.stringify(f));if((f=prompt(EXPORT_CODEPROMPT,
b))&&f!=b)try{f=JSON.parse(LZString.decompressFromEncodedURIComponent(f))}catch(xb){f=void 0}else f=void 0;if(!f)return!1;b=JSON.parse(localStorage.properties);for(d in b)d.startsWith("session")&&(f[d]=b[d]);localStorage.properties=mathlib.obj2str(f);location.reload();return!1}function Ua(){var b=JSON.parse(localStorage.wcaData||"{}");gb.unbind("click");ib.unbind("click").removeClass("click");ab.unbind("click").removeClass("click");b.access_token?(b=b.wca_me,lb.html("WCAID: "+b.wca_id+"<br>Name: "+
b.name),gb.click(Wa.bind(void 0,!0)).addClass("click"),ib.addClass("click").click(Qa),ab.addClass("click").click(Xa)):(lb.html(EXPORT_LOGINWCA),gb.click(function(){location.href=cb}).addClass("click"))}function Ra(){var b=JSON.parse(localStorage.gglData||"{}");sb.unbind("click");ob.unbind("click").removeClass("click").html(EXPORT_FROMSERV+" (Google)");db.unbind("click").removeClass("click").html(EXPORT_TOSERV+" (Google)");b.access_token?(b=b.ggl_me,jb.html("Name: "+b.displayName+"<br>Email: "+b.emailAddress),
sb.click(f.bind(void 0,!0)).addClass("click"),ob.addClass("click").click(v),db.addClass("click").click(Va)):(jb.html(EXPORT_LOGINGGL),sb.click(function(){location.href=nb}).addClass("click"))}function Wa(b){if(!b||confirm(EXPORT_LOGOUTCFM))delete localStorage.wcaData,kernel.pushSignal("export",["account","wcaData"])}function f(b){if(!b||confirm(EXPORT_LOGOUTCFM))delete localStorage.gglData,kernel.pushSignal("export",["account","gglData"])}function z(f,d){if("atexpa"==f)if("id"==d[1]){var h=n("locData",
"id");b(h)&&"modify"!=d[2]||(h=prompt(EXPORT_USERID,h),b(h)?(localStorage.locData=JSON.stringify({id:h,compid:n("locData","compid")}),kernel.pushSignal("export",["account","locData"])):(null!=h&&alert(EXPORT_INVID),kernel.setProp("atexpa","n")))}else"wca"!=d[1]||b(n("wcaData","cstimer_token"))||(alert("Please Login with WCA Account in Export Panel First"),kernel.setProp("atexpa","n"));else"export"==f&&("wcaData"==d[1]?Ua():"gglData"==d[1]&&Ra())}function Za(){var f=kernel.getProp("atexpa","n");"n"!=
f&&(r().then(function(){if("id"==f||"wca"==f){var d="id"==f?n("locData","id"):n("wcaData","cstimer_token");b(d)?ua(d).then(function(){logohint.push("Auto Export Success")},function(){logohint.push("Auto Export Failed")}):(logohint.push("Auto Export Abort"),kernel.setProp("atexpa","n"))}else if("f"==f&&window.Blob){d=new Blob([pb],{type:"text/plain"});var h=$('<a class="click"/>');h.attr("href",URL.createObjectURL(d));h.attr("download","cstimer_"+mathlib.time2str(new Date/1E3,"%Y%M%D_%h%m%s")+".txt");
h.appendTo("body");h[0].click();h.remove()}}),Ya=qb=0)}function p(){"n"!=kernel.getProp("atexpa","n")&&(Ya+=1,Ya>=kernel.getProp("atexpi",100)&&(qb&&clearTimeout(qb),qb=setTimeout(Za,1E3)))}var cb="https://www.worldcubeassociation.org/oauth/authorize?client_id=63a89d6694b1ea2d7b7cbbe174939a4d2adf8dd26e69acacd1280af7e7727554&response_type=code&scope=public&redirect_uri="+encodeURI(location.href.split("?")[0]),nb="https://accounts.google.com/o/oauth2/v2/auth?client_id=738060786798-octf9tngnn8ibd6kau587k34au263485.apps.googleusercontent.com&response_type=token&scope=https://www.googleapis.com/auth/drive.appdata&redirect_uri="+
encodeURI(location.href.split("?")[0]),bb=$("<div />"),eb=$('<table class="expOauth expUpDown">'),lb=$("<td></td>"),gb=$("<tr>").append('<td class="img"/>',lb),ib=$('<a class="click"/>').html(EXPORT_FROMSERV+" (csTimer)").click(Qa),ab=$('<a class="click"/>').html(EXPORT_TOSERV+" (csTimer)").click(Xa),jb=$("<td></td>"),sb=$("<tr>").append('<td class="img"/>',jb),ob=$('<a class="click"/>'),db=$('<a class="click"/>'),mb=$('<input type="file" id="file" accept="text/*"/>'),hb=$('<input type="file" id="file" accept="text/*"/>'),
kb=$('<a class="click"/>').html(EXPORT_TOFILE);$('<a class="click"/>').html(EXPORT_FROMSERV+" (csTimer)").click(Qa);$('<a class="click"/>').html(EXPORT_TOSERV+" (csTimer)").click(Xa);var pb;eb.append($("<tr>").append($("<td>").append($('<a class="click"/>').html(EXPORT_FROMFILE).click(function(){mb.click()})),$("<td>").append(kb)),$("<tr>").append($("<td colspan=2>").append($('<a class="click"/>').html(EXPORT_FROMOTHER).click(function(){hb.click()}))));var qb,Ya=0;$(function(){kernel.regListener("export",
"time",p);kernel.regListener("export","property",z,/^atexpa$/);kernel.regListener("export","export",z,/^account$/);kernel.regProp("kernel","atexpa",1,PROPERTY_AUTOEXP,["n",["n","f","id","wca"],PROPERTY_AUTOEXP_OPT.split("|")]);kernel.regProp("kernel","atexpi",-2,"Auto Export Interval (Solves)",[100,[50,100,200,500],["50","100","200","500"]]);kernel.regProp("kernel","expp",0,PROPERTY_IMPPREV,[!1]);kernel.addButton("export",BUTTON_EXPORT,$a,2);bb.append("<br>",eb);if(window.FileReader&&window.Blob){var b=
new FileReader;b.onload=Sa;var f=new FileReader;f.onload=function(){0==stats.importSessions(TimerDataConverter(this.result))&&logohint.push("No session imported")};mb.change(w.bind(mb[0],b));hb.change(w.bind(hb[0],f))}});return{exportProperties:Ta,isValidId:b,getDataId:n,logoutFromWCA:Wa,wcaLoginUrl:cb}});var logohint=execMain(function(){function r(){b=void 0;Sa()}function Sa(){if(ua)h.removeClass("hint"),h.html("ABOUT"),b=void 0;else if(void 0==b)if(b=w.shift(),void 0==b)h.removeClass("hint"),h.html("csTimer");else{h.html('<div class="pad" style="width: '+n.width()+'px; ">csTimer</div><span style="font-family: sans-serif; margin: 0 1em 0 1em;">'+b+'</span><div class="pad" style="width: '+n.width()+'px; position: absolute;">csTimer</div>');h.removeClass("hint");var d=.1*(b.length+15)+"s";h.css({"-webkit-animation-duration":d,
"-moz-animation-duration":d,"animation-duration":d});setTimeout(function(){h.addClass("hint")})}}function d(){var b=["Webkit","Moz","O","ms","Khtml"],d=document.createElement("div");if(void 0!==d.style.animationName)return!0;for(var h=0;h<b.length;h++)if(void 0!==d.style[b[h]+"AnimationName"])return!0;return!1}var w=[],b,n,h,ua=!1,Xa=!1;$(function(){n=$("#logo");h=n.children().children();h.bind("oanimationend animationend webkitAnimationEnd",r);var b=$("#about"),v=b.children("h1").appendTo(kernel.temp).html();
n.mouseenter(function(){ua=!0;Sa()});n.mouseleave(function(){ua=!1;Sa()});n.click(function(){"https:"!=location.protocol&&confirm("Your access to csTimer is unsafe. Press OK for safe access.")&&(location.protocol="https:");b.show();kernel.showDialog([b,0,void 0,0],"logo",v)});b.hide();kernel.regProp("kernel","useLogo",0,USE_LOGOHINT,[!0],1);Xa=d()});return{push:function(b){Xa&&kernel.getProp("useLogo",!0)&&(w.push(b),Sa())}}});var timer=execMain(function(r,Sa,d,w,b,n){function h(){var b=d("useIns");if(!0===b||"a"==b)return!0;if(!1===b||"n"==b)return!1;if("b"==b)return null==/^(333ni|444bld|555bld|r3ni)$/.exec(d("scrType"))}function ua(b,f){var d=[];b=(b||"").match(/#[0-9a-fA-F]{3}/g)||[];for(var h=0;h<b.length;h++)d.push(~~kernel.ui.nearColor(b[f[h]],0,!0).replace("#","0x"));return d}function Xa(b){var f=b.which;if(17==f)if(b=b.originalEvent,1==b.location||1==b.keyLocation)f=256;else if(2==b.location||2==b.keyLocation)f=
257;return f}var Qa,v=-1,Va=[],$a,Ta=[],Ua={play:$.noop},Ra=Ua,Wa=Ua,f=Ua,z=Ua;void 0!==window.Audio&&(Ra=new Audio("data:audio/mp3;base64,//M4xAATSYYMAUxAAFnLyWJYln7RIAmBMD5PP7MLFh+v9gwMDBZyIn6JW5Ydg3AXBeH59S7vomiV+iILi7veiV///6In/wgoKGI7/+CbwQDH/gg7/5QEP5QMKs/q0cGlVL/ljQ06DnN/5yXn//M4xBEYsl6gAZmQASxhYji4zI0B9iVDm+gt1kQHSPZI/sgyZbMyXMRcn6bsgzk2M2J3LBLCgP5fSQQW7ikxUiqM2RpJiFP/f+Sw5hE80QQb//qbbzpPigBWhVKI71IfgLsD/GxF3etnsPVA//M4xA0YQhbUVc9IAYJsgBw94rEX5Zn32GB9ZJjM7WRsZByUJeG5tRzP///Pf5e/fnvj/6fnaROkqmWIVzyANulyUmy0y1+SM9qVIYeNThdSTt+Mr1dybYemoxoARO2BkwVpYBgP+hht2G3h//M4xAsXug7E9VgwA7hYwgWS6ksd1YZlz3SGJu9Tf9Nnh/QES1GjUas4DDPRsz6mUfOZ3RfFmnfdROWbCX//9enmoPCRJo0UuSOVVU+V6fM7/5rt///nr+Ei8PQumSH7twFhltkx/BAAAFsm//M4xAsYCnKY95k4ABXvCvTG+ZhpjLmGBPUOxY3uVbnhYC4i/qKgAl+s8ajiCcam+fG70NEYoMjT/vwWlhsMgsAjmx1l/gwsIok2JGjyp+n9yZUajYIgaaj///UfPJqlScmqAFAtFAtFottF//M4xAkXS38GX4EoArXUKwIPwD8ku8n7kImb5JCZqG+RnJ9PnezvO6//xA8+8g+tVcRFjauathAUMIAg8OCgodAezJxwoKOn/djpbbVGFFOQUZkIuqDVK7HdP6bt///jx1VoiZeQAK3+k2aJ//M4xAoX40MLHcg4AlCJVEGgLifPIFMGlO////2X6/6SbmA9JMKweDx2qhCSf/1Pfi1TVnqpD/55tUNLr/1qk5p6O2utkSc8w0003od7sk9roq6oceebQ46drqNR5yw+xpV1WIZlWJqoxBjD//M4xAkXIOsTGs4GXjzGCDgkBTJvzm+iZZL5OW2BQRQBdEfi9JG599JMa2qxISC8DMToZwZIgjTOMAiYj/MZDgIJ2fNmfZFBebWkAANCaSsG/c0cwBRxz//sPu///i3+hZvpd//JGObwoVXH//M4xAsXCPseWMMRI8KLBT5VTQZUaR+psYbbV0pcQAUJGtAxqeZjEEUMqUIQMQiIkmrChKdhgrzxluLhsqa6EwWtCAvBcUQPulnoHANyQxiijuwFEl1g/ilr/3+2/SqCVmRApRzgVEsmKcqa//M4xA0S+KLxv0lIAhehSRNXiyJCQgBBEhJYImmHiEERSGUIpCoBh7FgaUDLuoeCsFgayolLVHg0VO6w1LAXLfrLD8l9n2Tv//iIO5R88yRoxfLP60GESF0/nDMiacux54YAujYBIUHPuRFR//M4xCAcMsawAZhQAODgtEJMKyu88L8FgVhXC4IU1e74kCDGBMhIcWIyMSDf3GotCEFUPwGBgxceEQvKHf88kHCckfod///7Hj8w8uSD99yMyQyY3+Z/2c40nLu+VQKFvTbkoA8CijpNUkRQ//M4xA4UohrVn8YoAhQVpc+iJgUeAYryHnlIYPHDplFSoYxSxEVp6loHgsMDxxIWyzGo6lMY0vyiI4xUMpfvZ9v+WVkMpBIPIZyoJCTyKYKh1QEk3DdbkAgLmdaIAcZrvsZeRo1qN88WJe2b//M4xBoU0nq1t08oAkWHSapRERYpS1ZNEOpyCp0Z++Uhjcm/mvnRL9Dv6nRT3br/9a/daqivOpyT8pTzgdIm56oH3p//+tVpyS2yWSSWyWi261igBtlcTNuVMBDryxNmQvt1gMnh+q60Ycbs//M4xCUeAybGX5g4AkzzRWNhIP6tk+xpFjEOmsZHS80mXQ8xH5r/NJFqHl6Hdf4nJElTqabU3/uYY4PRuJghEUkNweCKPgJKVRTen+aNyZDdP////zFJsJA0nEDxuhAcDEgkEYjEkkgkjUJZ//M4xAwXgx7yX4IoAgCeXYgZ9oovHihUXv7Ob1OeQaRxi+hFflYXMXqt/92vlci/8+rttZXrai+ScQFMgn+Zv+1DvnPJDjTnnTd2UUIKCjyD55GfPCQixBcxX/z//BO33bDbW2PRBjsKUcCg//M4xA0UGqL2W8gQAtSYFFPQa5Z7v//KBhBHkIrkVz/oxFc4s7//5SlKvXuV35So77I900dv1///09f/SoslqKxA4cB8FoiEsBLGq7ksGoGKm+utulrklKqGKg0DDy3oNQvNH1uL2O9JZx/n//M4xBsUYQLiWsCMqo2CtyElAU930DGtGeUSEkYJXP///9Mk4BAkwIKORLN/LB2eh3K2nip0RZW3/DX/+HSxP/+s7spJrvAhfRAKXHSVTp/qR1yZwT//SsEOql7ChW9Q/OMbWcqTwk5mHqx3//M4xCgVUiJ0VEjKfJvMY0oqpWoY8RDupfzZhIqlN///0EmUDU9LHg0HOCodwVU8AnQaBUFfrKkt5CppLbfCQZI1EFRdF8qqmnnCQw/NfiYYhS57l/GgCLKyId/5H+VALvUe/75r5Xyx5n8e//M4xDENOQJoHjBKtLM67iEbxmn4ZnCdCLoqFQ9kxWiedXM7lVzLTKYul04P0UbpIFFAR5lxub6eFzRpwGWZebNGnFXF5s0//7s7O+bm5RpxRYJhmKEv//5UKiwtrUxBTUUzLjk5LjVVVVVV//M4xFsTMXHgAHsMHFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV"),
Wa=new Audio("data:audio/mp3;base64,//M4xAASgV4kFUwQACCAxs7JZPjOBIJicEBEdOxLJ6/6P3mlKTvt5zn5CBCEbI2c7oc57qf/XyEZTnQOBgYGLP/5c/1ygICQEP//EYPh+XBAMQ+Xf/wfbFqFNoEQoEFQEAoFAB+AVB4IMjon//M4xBUaKkrKX48oAFfHUmf89zpuUPoIoH/EBQgAD2Doh8EcCEYrHQOfg5IqAYuEADFAFIHufiYfOwfFyFFBYcHRAO/9XIRpJyy1dxT/+MFHac/xYuZar/fl+6pO7///UgWBacsstohOUoCw//M4xAsYGUbNn8wwAAMnmZ+cDu8djuSCYwYOmCwwdXtktWsTP35ZVoIgRJ5bXk6qf1VUR/f45seXnP2/2UZaUqN4JCMUOZ/QXBZBJxhp0akGam/eSOtFNysFTrfvaRb86SJV/8UPUrp+zSj1//M4xAkWefLEAMMG6O9KX1ERIatSpfyIuESQIBoKtVAipJxzbQQL48CaGZwhwiYAxOflcSz+973gNziP9c/v5/0/PsIzp/FcDcOP1BFm4cWZOejhzT30AwOIEAKnIInmpCW45KAB9YbUZ/KO//M4xA4XWgcGXnnS9wSLgdo+4uIZd65P8BmAVW7Y7RdHPK0MI1NPaSAaisaW6PReado2a3tr53Z8shskyFmpyIk2z3asoILchTb6As0mgosPDodNkqQyWtyzkN9VAOkEPxM62BmWyoOLzh2U//M4xA8Wo0bYVmBTPhU4VyIfetOVNubJtJwyjshE7b2ZpJtlITxc1n/J8XP///PMvDxcXPIwoA2s1hyf////4epZ4XqCenBIuF2M//9QvWE0dqBj/xLGEsUPE0jEFdMCsIqJSpRLJos62sp0//M4xBMZMz68BGoN5Wl11LRQpL29v/6e3///639n///10zdl8ltVyki9kGU76S73MSKDiwVgLnoYqS8dkGQxmRWYCIdkDyemBEJt8sECJ2ygAEKBwu6AY8ogACBZO52rx//7v/////6///////M4xA0WszrIAAhS/P6/8eVUMxJ6xGbUUV4y5GK2pLIUAIUTHlEKNVUUhYRFAMCkbC4YGRWQHAYoRJsg2ygsiFIlCSHN7VkjS8W1rJ2LYOTYG2bOm0LajK9swZdtrdttoNb7LQuMMOlQ3VRo//M4xBEZGU8SWMPS0tIV9Mkfd/1pqxzFRKswhSTgwWwQgQwhCwHACoEwdQyVi3qp5kt5l4gufzHb1ftPqNOHREJQLGOQMB6sJEcosEZvF0clGJo0hQoSQm2gQNrHxOBCKpL/dt/t4P83PyNq//M4xAsWcU8uWU9gA8fiEqmxOxkCxR4akYDKVhCQ5ihISWhdx7Aacl4qxKysejiaMq0RKVKjw1EIlXx7kNyh+YhTYQTIuJ6qH1XMejdTtLLsn1CrEeL7987UtHZP8DNiNI+8XNT2ZP9/uW15//M4xBAYwl6sAZhQAFu1p+7QEoFEBV6g1nEhETM/vMKP1RNwuAaAayAeGj0oc6q/i2hhO+PSRjjjX/FwXAsFAWAaAQzeahzov+TmOYx/5pqev7f9jx4WAgbOC3//B9weLoMQSAOtHnOtlwEc//M4xAwYUX64AY94ADqMNCC4LhWjHbCcscWKI+gkIRT5wve2X0GfevrOLVi2pfW/m3v4L2Die0CG/rPiJDe/fhRLzvp9YpesOBPrWKfGcRgVO0IKLecj34HDowGogX0kfwaqGKkalAB07DTR//M4xAkVUXa4988oA96hJKmadYbXjLDpmV8xPo1k6wuL0PCxnMJGMhSyrzFKVW7Sh0OgUtEsVmKxerFKpf0Q4iHg87wUFGhQV/pgoKCjcgoKahBS/0L/v/XqRrkvl1uuAHPRw8YD6obbAZWC//M4xBIUulrVv0YYAsy5WpzC/FjkoESgR4UTt+wwhRQCEFLAKVdjpuarL+uveMFSGZM6nmZMaEOIWDlW/5/+0r5//SO+5f3a+jXFKZxDY3GQ/s1JvAR00Bwm8O7JGQqoMUFo+y7mpgYG2r2Z//M4xB4bcyaYAY+AANJE6Zpfv7lAmES+t//rfSMzhikn//v2djA6YGqX//rdb6ponW8jSfJ8ibkXHX//3y4gabqQ8Zw1DEgm8QXFPFzCAAEwcY4A9QdIpc9///iBPL////////3//6M9cxlS//M4xA8XA0bMC8A4AsjHnuerv7VVCh9rmHodKIIiiUY7mD6VLmXU0bsJZcfcyYaPisRxwBgOwHnjQeMG4TgVGQhDhUTEwinA9B6g6NmFprmIhYajYcHygjk2V4VncGh/pRDV74GwDcP0CGGr//M4xBITSQr3GHgSwgw5n97yKxUMaHpRn1/7kgiEwoT78OtpAEDCCkDp+fpVl4UQo5o98MXf/aeWXBfInf////X4SBp//7b0qgCIGi9cuqFSVYVE2qotihQ5KWrE2fOIiAMVuhpaCTI7/0Dw//M4xCMUaO6dskgKwLA0WAQe/sCeCz8RJOxE10qrOhphGAQkGn1nexseGgoPBWMWAhKWWRDTIK5UA5ZtAroFgVAmNWRLlixNLy/xbJKikZ29gwqyerczBhX/o6Kibf/0+/1bYxSlaitzCKf3//M4xDAVGx5cFEiKzEdAiCD1rIHqlm6GpKZeWj6Gh46mGkVqGKVhIPHby1Zy8pfCQqpAWOqAYgcSGJhoGRGZHsMxdJkWFmegGRWgKiMBC6xUMgJn8e2aBkUDxrjxVMCirFixoKioo3FW/4sS//M4xDoR2CIEAkiEADQVFG4q38BBIRhkyEm1TEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV"),
f=new Audio("data:audio/mp3;base64,//M4xAATEZoICUEQACAAAAAAVjGPIABjGMYxjGQhG/qc7znAAAQQhCEIBgZzn//nfIT///OACCAgCAIA+D4f1AgCDu/4Pg//BAEAQBD+D4Pg4CDogB8PlAQV/lyZtCAp/v2yc4zIHc/+UWAK//M4xBIZMvKIAZqQAQy6fRSNAxgABQc3y4i7ilB2l4t/20mIGbn//xmCKEgXDEr/+2w43WSBgVCJ/+mtTILdRIHCXMRzx3kQZD/9uympqz5UM0lui5eOEQNP/+r//N5Z/e8LkFm0AKioK/UN//M4xAwX0eawAdhAAUrHCF0Xyt8mH+FmJNO7GaWW0L6MPJXkR+2bc26/iL/uuZmIOmYGTZtbRo0aTfrOMMts4YKnqUUfYjnHGhktCIExYjMNlU6UuxpZy0mb/nM+giFCFaQQgI7LAFMBlv/y//M4xAsX4mbGXsIKnHpCwXElk/qwtoiMigBBRYYAMG6v9geFWqiha0rlTWVobWLi5m11Vmyl9ZVVaWYqKvf+yGsipuxhoULRZkKJGs9SX4wt/f67oUPCYo0ih1Et/Of4NOUpySxlRsf7ZHkf//M4xAoXSl68flmEulpKJzj4HRAjce2at13fUYlVa81Ao7xm5DvuRGYrbf1B1ZtrXZqLSczrZVqtDG85ZwpvKJarJLMnQxnUvK2//CiRQaXEHfWHyDUPGvKdAnuygnfJqiqqAaP/y5zeISIf//M4xAsWMzKwVBhTraE4JQMQ82CUXHSsAKLmIWCKLSuDZK6KLh/93cGBwg5oV5fy3/////5f/cqr14yU5IbSzejWjcl3qChaEaQIIGKuYrKMJvAILCg9DdUmbiO/5EAFgTgHV3kXGB5LzZhY//M4xBEXU0K8CkCTPLCnbWj/8LVfenb+v/9lMdhLkuZ////+h1e0////ZWuiu25JXU4gIdVOhgZI5auESAnYXYPtGLUVNkw7AZqT2UR1DRMOtEiMdJ1sojbqlksl0lij/vaaaWCAoUoOsOYj//M4xBIZWW7yWNMHKgmVLqEkBMvdl3bkthguWpAMJL5dmCBEMMvMFyiijcL0EPwsO/78WKl4Qx4ODxz9SJW37VEMH3l3Vxg5RrFjA8GI/soju6ZTz88GLg1nCLfLsQODdZMRym1ANb0zCehG//M4xAsU4SrBjgvMHF48ZpdH8XJp18bP0yXW60P4TU4WFxtISSN2WosJZ57tW1Wz5kjP9f1uU8oycSAssqs7rDT4iJCUaBn01bMlSOf1AZ5D3f4l4hWAC+VSUH1YSABA8DgzLD94INFxHhUG//M4xBYUgzq09kBFXhnywvc/I/749Tqi5YJPyMGAtWO9FRGXONgyKILofPtDMho9WsaEq/9P/9eZGWRgyPkdzI/V9NCXBB+oZTwx/5ZkohiZfFYWGUnhLK43nk8bR3byGp2OQCms4M5k3dYz//M4xCMUYUqgKsFNDAaLS6pDeQeM4oGqVgmMfV/0df0+e75mZaYIerAmcBUFUJFXNty0TEQM06bMf/jVoBMla1FwGt16zGA8NQefkpVAN0tnbzz1C06KzuUensbO9SV2RyYMOpFsarqJI2lK//M4xDAVQXalH1kYAK/2GsnDmUuZ6l+FJuXQlnlBR08KxEVjwEKmGf/rKgLDpVyG/5QgguSRiMOCQQOSyqMhGmSI0qtdpYGVsYNfgCHScsHWrAQqDrQckoEi/yCXUjSk/79aKf+tajBVaCz7//M4xDojc86+X5loAn+t02X//f7r9bplxtM2HeRmHqp0/93U2b3TlQ8xzl8e6kEFIG6mMEDI31/TTdvYvpM7oJjHGDJURsphZqqLhgSBcUZnkhwkoPw/f//5IHv//x5CJQBtaN/99owR/who//M4xAsVOd7mX8FAAsYFIH97r8ivyxIagvaf/+l6J/+44QAExgoMmpeCDHv///WmHpMo1Q7I9pQ4RgqFjCyGND0Wg0tx4RPLWFfkXvhVMOs//yhIeIwEkmhE332M1sAGU0ua+qxgESxhRLOA//M4xBUTyKKa/ghGBJqX1Y3AokRAV3UCp3w6dBqJRj/wKWbIhICjGB0iGjxLKlfqCvJMO5ICkg6GvhUSkQkBSAFIgsEgyk7VBP1OmAhQMBDCArw0eOsDoSPFSowOkiEYBe0CkAqAkUCIkggI//M4xCQSKB4U0hiCALz3UDICqAtg0sVLFSXCj0ZEJAXrLLHu3niRH8e4iSlS06dh0NJMQU1FMy45OS41qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"),
z=new Audio("data:audio/mp3;base64,//M4xAASgSo1hUMQAIAgkWD33c9AN9ELeOf9d85/5CanO6HOhCNO//+hGUIQ5lw/EDogh8uH9YYLg+/UCEoCCwfLh/5Q4JDgPwQD6gQcDhwT/WDjidYYH41Hok//1+vs9vT8Aq1dS2NBQo9g//M4xBUaQmL2X4dAALQ2Nv44Xi2W/qxHUQblV/6FjBgoCtYppT/xUXgeJR7XVZl//o6MtmtX//9V+PR4UurefhUiY9P/v+HYURyEZPn2FUyg0IfGvlAQE4nuPo+d//Of6skEArDfvp+iADgm//M4xAsWqQbBZ88wAI8Z4TAwlzUxOFRqMwLkt7PBjyPCAzN57EJBCEQ7AhBUQ9J+MoqjYeqLUyR06dGBVigkZSuiSkjqVA08t/50tzOeqOg0HZglErtv+wsDIx9qsCCVRS8ugA0eMpdgLnQG//M4xA8Y+N7OVg4eHLkxaawiYEAmMzp+pVi0QgyWuSbfaLu2JCPMS48djN2OjQPo8Gm+1MTkQMvbWocLgBnJur3ebwmcLuKCc5bAgWU5jkzRmh7dVJw5hgQGKdTD4rLwfD/TApD6T3GsZ+jo//M4xAoVsMbllgvSOoaajtekUtnRNv4yigtZDycK1KCSjIEDHoXy5yCw8KkJoEIdZuEOmhM5IuAjwKlxUSmGXpCh5P7V0accB0u6n2KTHs/+J5P4YiA5EjpdEQKAAbh9B4FwOix3NYbHKio4//M4xBIWU0bg9jgfcoo1b0Gx3zTUfScea3RH////////j/////6huEM0ydj1nWzrgtgR8MM7g1AmhYF2q9N5b1G5qxk0wODIi0UWAfZJ4g3yTn+q1Q5KzlECQfkaxWsgj0I/RRb/2/v//9Vn//M4xBcaw0rBl0FoAHpf////sy1rrb///X//9kzydJBKkiipmY6O8Yom4cw0Lw+HguQW4KkIodoUAHsGwDYC1iJEUSQl5CFMcBNJIqCiC8hVRGw6AP4LeBlCxD0BcBVDFxaPvr/f9//9/t/L//M4xAsX2j8eX404AtuxjqjEzRIDwC51mFMl6MqmiWPEEbHnxoe62msPLMPPJsxnnBRvKtc+e6/LDrecjN+Y6DpnoPkzmXvmkjvb8z+hpR/FQ0fVKkELosVELRvtIqHf8qqbyaTMDIgnGhw1//M4xAoXiV7Yy494AId4yhnCcPiNF1KghyHyKgIIj2VKqcJqpPDrepyth2GrAcR63Fmhap8aeZtrEPE1J7TUjYiapaTTJjUCZuxLP8534sKLvX6+C4hRnyd0DLYhIa//DdW4SwYlwqtK1Zk1//M4xAoWEa64AZloABtJuengjtCaHvhxARYZEw5I8VtBIRvIKJJF4vLXxLjIzQLyKNFvpHx3Eqo7UmkZGX47RhB7ukbKMdnZt/cwmKNFmSQRnale8WIoQL1XARX18OEI5r/AaBcP1ehjqz4B//M4xBAXUuasAY84AAD8RB4wufax6mmJf3WY046i/zjS3OU//PQ0uPKg3dB48anHo0z5NmGhojnMTOHWGhxU1f/5U51m2tOpr+v//PtY2etxwtYLAVa3Fv/kFQpAY3wDgA//5BYdMtqpa7qi//M4xBEVET7Bt9iAAKTOTxnaPGEt9Kbeq7T3to8ZWvAPiGSMzEig4TiSjIqpKYpmyNlq9dSq+kg99n99MvhEXLFp27/U0OmrQK7fT6LGtJPVSABDsRjmAGH14mKnQlMUeVmib52Ev1vKSCGb//M4xBsU6MK5v1gYAMWnvrRa/zK6+rut4USRcWHkoCREFWw8SVVdAQdBo8HRLeCsc4JPLfaeI5aSK/4dEqVAwHyIVGvtUgAIKPKv/z/gAHxAkOJGEARIEghZOYmCTCxgEhs/SVqNzJ2S2uDz//M4xCYei86plZpoAGGcep4x54vonz6NvVVur6+YKXNqmQSPaS0UEqnQ7amo+j//Q01ejW3/6v+7et+gTDpTX//9PU03WmbvtQLhoMASZsSR0iCmE8GACQf//7f//xwgr9UCSgS2iC2oEfkI//M4xAoUC0LuX8EoAkdUf8b5/89Cd0///qqi5G///yodv50YXKLlExcABN0KYgoJoVxgmKkDpSOAwmKCwFDrGPRuzt6/00Zyr///1+jWOR0U0WKqEAls1wn0iBHCH/MIKAQktE4BU5EiRASW//M4xBgTIbrOXgmKlv/7y8scFEknl8///NZQ6KwiKiQecrf//5qVYxpQ64iCRKFDQVT88VBU7/1Q7/9raCJGRCTaAkYG01QNZFtww1LYo1EwKhNwSArlhI8Ej0OiURAIed1FQEPksJu8qIiS//M4xCoSsGIcFDBGQIqWW7wCAvkbSQiKjDp5YSDgdyxYe4986HQ0HdodEpUiSkxBTUUzLjk5LjWqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"));
var Za={n:1,cfop:4,fp:2,roux:4,cf4op:7,cf4o2p2:9},p={n:[],cfop:["cross","F2L","OLL","PLL"],fp:["F2L","LL"],roux:["1st block","2nd block","CMLL","L6E"],cf4op:"cross;1st F2L;2nd F2L;3rd F2L;4th F2L;OLL;PLL".split(";"),cf4o2p2:"cross;1st F2L;2nd F2L;3rd F2L;4th F2L;EOLL;COLL;CPLL;EPLL".split(";")},cb=function(){function p(b,f){b&&void 0==bb?(requestAnimFrame(n),bb=1,ab=0):b||void 0==bb||(bb=void 0);Qa=f?Ya:ua}function n(b){if(0!=v&&-1!=v&&-4!=v&&void 0!=bb){b=$.now()-$a;var p=Qa===Ya?Sa:"";if(-3==v||
-2==v&&h())Za(Qa,("n"!=d("timeU")?17E3<b?"DNF":15E3<b?"+2":15-~~(b/1E3):TIMER_INSPECT)+p);else{var r=w(b,!0);Za(Qa,{u:r,c:r.replace(/([.>])(\d)\d+(<|$)/,"$1$2$3"),s:r.split(".")[0],n:TIMER_SOLVE,i:TIMER_SOLVE}[d("timeU")]+p)}if(-3==v||-2==v)Qa!==Ya&&(12E3<=b?Za(Ya,'<div style="font-family: Arial;">Go!!!&nbsp;&nbsp;</div>'):8E3<=b&&Za(Ya,'<div style="font-family: Arial;">8s!&nbsp;&nbsp;</div>')),"n"!=d("voiceIns")&&(p=Ua,7900<=b&&7900>ab&&(p="1"==d("voiceIns")?Ra:f),11900<=b&&11900>ab&&(p="1"==d("voiceIns")?
Wa:z),p.volume=~~d("voiceVol")/100,p.play());ab=b;requestAnimFrame(n)}}function r(b){ua.css("color",b);Ya.css("color",b)}function Ta(b,f){Za(f?Ya:ua,void 0!=b?w(b,!0):"--:--")}function Za(b,f){var d=b===Ya?1:0;Xa[d]!==f&&(Xa[d]=f,b.html(f))}var ua,Ya=$("<div />"),Qa,bb,Sa="",Xa=["",""],ab=0;$(function(){ua=$("#lcd");$("#multiphase").append(Ya)});return{setRunning:p,color:r,val:Ta,setEnable:function(b){b?ua.show():ua.hide()},append:function(b){Za(Ya,Ya.html()+b)},setStaticAppend:function(b,f){Sa=f?
Sa+b:b},fixDisplay:function(f,d){var n=!1;0==v?cb.color("red"):-1==v||-4==v?r(f&&d?h()?"#0d0":"#f00":""):-2==v?(r(f&&d?"#0d0":""),n=h()):(-3==v?r(f&&d?"#dd0":"#f00"):r(f?"#0d0":""),n=!0);b.setAutoShow(0==v||-1==v);p(n)},getMulPhaseAppend:function(b,f){for(var d=[],h=f;h>b;h--)d.push(w(Va[h]-~~Va[h+1],!0));return b==f||1==f?"":'<div style="font-size: 0.65em">='+d.join("<br>+")+"</div>"},reset:function(b){ua.empty();Ya.empty();Xa[0]="";Xa[1]="";Ta(0,b);p(!1);Sa=""}}}(),nb=function(){function b(b,f){h.html(f[0]).unbind("click");
void 0!=f[2]?h.addClass("click").click(function(){f[4](f[2][0],f[2][1],f[2][2],f[2][3])}):h.removeClass("click");p.html(f[1]).unbind("click");void 0!=f[3]?p.addClass("click").click(function(){f[4](f[3][0],f[3][1],f[3][2],f[3][3])}):p.removeClass("click")}var f,h=$('<span class="click">'),p=$('<span class="click">'),n=!0;$(function(){f=$("#avgstr").append(h,"<br>",p);r("timer","avg",b)});return{showAvgDiv:function(b){b&&d("showAvg")&&-1!=$.inArray(d("input"),["s","m","t","i","b"])?n||(f.show(),n=!0):
n&&(f.hide(),n=!1)}}}(),bb=function(){function f(){void 0!=Ra&&(clearTimeout(Ra),Ra=void 0)}function p(){if(-1==v||-3==v)-1==v&&cb.reset(),v=-2,Ra=void 0,cb.fixDisplay(!0,!0)}function r(b,f,d){var h=Ya;255<b?Ya=f?Ya&~(1<<b):Ya|1<<b:d.ctrlKey||(Ya=0);return 32==b||3==h&&255<b||3==Ya}var z=0,Ta=0,Ra=void 0,Ya=0;return{onkeydown:function(Ya,ua){var Za=r(Ya,0,ua),Ua=$.now();if(!(200>Ua-z)){if(0<v){z=Ua;Va[v]=z-$a;d("phases")!=v&&cb.append("+");1!=d("phases")&&cb.append(w(Va[v]-~~Va[v+1],!0)+"&nbsp;<br>");
if(27==Ya){Ua=[-1];for(var Wa=1;v<Va.length;)Ua[Wa++]=Va[v++];v=1;Va=Ua}0==--v&&(Ta=z,cb.val(Va[1]),b.setAutoShow(!0),n("time",Va),32!=Ya&&(v=-1))}else Za?v==(h()?-3:-1)&&void 0==Ra?Ra=setTimeout(p,d("preTime")):-1==v&&h()&&(v=-4):27==Ya&&-1>=v&&(f(),v=-1,cb.val(0),b.setAutoShow(!0));cb.fixDisplay(!0,Za);Za&&kernel.clrKey()}},onkeyup:function(b,p){a:{var n=r(b,1,p);var z=$.now();if(n)if(0==v)v=-1;else if(-1==v||-3==v){if(f(),500>z-Ta){cb.fixDisplay(!1,n);n=void 0;break a}}else if(-2==v){v=d("phases");
var w=h()?z-$a:0;Va=[17E3<w?-1:15E3<w?2E3:0];$a=z;cb.reset()}else-4==v&&(v=-3,cb.reset(),$a=z);cb.fixDisplay(!1,n);n&&kernel.clrKey();n=void 0}return n},reset:function(){void 0!=Ra&&(clearTimeout(Ra),Ra=void 0);z=Ta=0}}}(),eb=function(){var b=$('<textarea id="inputTimer" rows="1" />'),f=0;$(function(){$("#lcd").after(b)});return{setEnable:function(f){f?b.show():b.hide();f?(ob=b,b[0].select(),b.unbind("click").click(function(){b[0].select()})):ob=void 0},parseInput:function(){var d=/^(?:[\d]+\. )?\(?(DNF)?\(?(\d*?):?(\d*?):?(\d*\.?\d*?)(\+)?\)?(?:=([\d:.+]+?))?(?:\[([^\]]+)\])?\)?\s*(?:   ([^@].*?))?(?:   @(.*?))?$/,
h=/^(\d*?):?(\d*?):?(\d*\.?\d*?)$/,p=b.val(),z=$.now();if(/^[\s\n]*$/.exec(p)&&z>f+500)kernel.pushSignal("ctrl",["scramble","next"]),f=z;else for(p=p.split(/\s*[,\n]\s*/),z=0;z<p.length;z++){var r=d.exec(p[z]);if(null!=r&&""!=r[4]){var v=Math.round(36E5*Math.floor(r[2])+6E4*Math.floor(r[3])+1E3*parseFloat(r[4]));if(0!=v){if(""==r[2]&&""==r[3]&&/^\d+$/.exec(r[4])){var w=kernel.getProp("intUN")||20100;v=Math.floor(v/(w%1E4));var Ta=Math.floor(v/1E7);var Ra=Math.floor(v/1E5)%100;var Za=v%1E5;2E4<w?v=
6E4*(60*Ta+Ra)+Za:1E4<w&&(v=6E4*(100*Ta+Ra)+Za)}"DNF"==r[1]?w=-1:"+"==r[5]&&2E3<v?(w=2E3,v-=2E3):w=0;Ta=[];if(r[6]){Ta=r[6].split("+").reverse();Ra=v;for(Za=0;Za<Ta.length;Za++){var Ua=h.exec(Ta[Za]);if(null==Ua){Ra=1E8;break}Ra-=Math.round(36E5*Math.floor(Ua[1])+6E4*Math.floor(Ua[2])+1E3*parseFloat(Ua[3]));Ta[Za]=Math.max(0,Ra)}Math.abs(Ra)>10*Ta.length?Ta=[]:Ta.pop()}Ra=r[7]||"";Za=r[8];Va=[Ra,Za,[w,v].concat(Ta)];(v=mathlib.str2time(r[9]))&&Va.push(v);n("time",Va);kernel.clrKey()}}}b.val("")},
clear:function(){b.val("")}}}(),lb=function(){function f(f){if(d){var z=$.now();if(f.on){var w=f.time_milli;if(f.running){if(-3==v||-4==v)r=z-$a-w,cb.reset();v=1;$a=z-w;b.setAutoShow(!1)}else-1!=v||!h()||0!=w||"R"!=f.signalHeader&&"L"!=f.signalHeader?-3!=v&&-4!=v&&(v=-1,cb.val(w),b.setAutoShow(!0)):(v=-3,b.setAutoShow(!1),$a=z);p.running&&!f.running&&0!=f.time_milli&&(r=h()?17E3<r?-1:15E3<r?2E3:0:0,n("time",[r,~~w]));f.greenLight?cb.color("#0d0"):f.rightHand&&f.leftHand?cb.color("#f00"):-4==v?cb.color("#0d0"):
cb.color("");cb.setRunning(-3==v||f.running&&67!=f.signalHeader)}else v=-1,cb.val(),cb.setRunning(!1),cb.color(""),b.setAutoShow(!0);p=f}}var d=!1,p={},r;return{setEnable:function(b){(d="s"==b||"m"==b)?(stackmatutil.setCallBack(f),stackmatutil.init(b,!1).then($.noop,function(){kernel.showDialog([$("<div>Press OK To Connect To Stackmat</div>"),function(){stackmatutil.init(b,!0).then($.noop,console.log)},0,0],"share","Stackmat Connect")})):stackmatutil.stop()},onkeyup:function(b){var f=$.now();32==
b&&-4==v&&(v=-3,cb.reset(),$a=f,cb.fixDisplay(!1,32==b));32==b&&kernel.clrKey()},onkeydown:function(b){var f=$.now();32==b&&-1==v&&h()&&p.on&&0==p.time_milli?(v=-4,$a=f,cb.fixDisplay(!0,!0)):27==b&&-1>=v&&(v=-1,cb.val(0),cb.fixDisplay(!0,!1));32==b&&kernel.clrKey()}}}(),gb=function(){function f(f){if(d)switch(f.state){case GanTimerState.HANDS_ON:cb.color("#f00");break;case GanTimerState.HANDS_OFF:cb.color("");break;case GanTimerState.GET_SET:cb.color("#0d0");break;case GanTimerState.IDLE:p=0;switch(v){case -1:h()&&
(v=-3,cb.setRunning(!0),$a=$.now(),b.setAutoShow(!1));break;default:v=-1,cb.reset(),b.setAutoShow(!0)}break;case GanTimerState.RUNNING:-3==v&&(p=$.now()-$a,p=h()?17E3<p?-1:15E3<p?2E3:0:0);$a=$.now();cb.reset();cb.color("");v=1;cb.setRunning(!0);b.setAutoShow(!1);break;case GanTimerState.STOPPED:cb.setRunning(!1);cb.val(f.recordedTime.asTimestamp);b.setAutoShow(!0);n("time",[p,f.recordedTime.asTimestamp]);break;case GanTimerState.DISCONNECT:v=-1,cb.val(),cb.setRunning(!1),cb.color(""),b.setAutoShow(!0)}}
var d=!1,p=0;return{setEnable:function(b){(d="b"==b)?(setTimeout(cb.val,100),kernel.showDialog([$("<div><br><br><b>Press OK to connect to GAN Smart Timer</b><br><br>If you have enabled WCA inspections in settings, use GAN Smart Timer RESET button to start/cancel inspection timer.</div>"),function(){GanTimerDriver.connect().then(function(){GanTimerDriver.setStateUpdateCallback(f);cb.reset(0)})["catch"](function(b){alert(b)})},0,0],"share","GAN Smart Timer")):GanTimerDriver.disconnect()},onkeyup:$.noop,
onkeydown:$.noop}}(),ib=function(){function b(z,v,w,Ta){if(void 0==window.twistyjs)!f&&document.createElement("canvas").getContext?(f=!0,$.getScript("js/twisty.js",b.bind(null,z,v,w,Ta))):Ta(void 0,!0);else if("q"!=d("input")){var Ra=void 0==h;Ra&&(h=new twistyjs.TwistyScene,h.addMoveListener(v),w.empty().append(h.getDomElement()),n=null);h.initializeTwisty(z);p=h.getTwisty();Ta(r,Ra)}else{if(Ra=void 0==n)n=twistyjs.qcube,n.addMoveListener(v),w.empty().append(n.getDomElement()),n.resize(),h=null;
n.init(z);Ta(n,Ra)}}var f=!1,h,p,n,r={keydown:function(b){return h.keydown(b)},resize:function(){return h.resize()},addMoves:function(b){return h.addMoves(b)},applyMoves:function(b){return h.applyMoves(b)},isRotation:function(b){return p.isInspectionLegalMove(p,b)},move2str:function(b){return p.move2str(b)},toggleColorVisible:function(b){return p.toggleColorVisible(p,b)},isSolved:function(b){return p.isSolved(p,b)},moveCnt:function(b){return p.moveCnt(b)},parseScramble:function(b){return p.parseScramble(b)}};
return{init:b}}(),ab=function(){function f(f,r){if(1!=r){var w=$.now();if(-3==v||-2==v){if(Ua.isRotation(f)&&!/^(333ni|444bld|555bld)$/.exec(ab)){0==r&&Ta[0].push([Ua.move2str(f),0]);return}Qa=h()?w-$a:0;$a=w;bb=0;v=3==eb&&"r3"!=ab?Za[d("vrcMP","n")]:1;var Ra=Ta[0];Ta=[];for(var ua=0;ua<v;ua++)Ta[ua]=[];Ta[v]=Ra;Sa=v;Va=[17E3<Qa?-1:15E3<Qa?2E3:0];cb.setRunning(!0,!0);b.setAutoShow(!1)}if(1<=v){/^(333ni|444bld|555bld)$/.exec(ab)&&!Ua.isRotation(f)&&Ua.toggleColorVisible(0==Ua.isSolved(d("vrcMP","n")));
0==r&&Ta[v-1].push([Ua.move2str(f),w-$a]);if(2==r){var Wa=Ua.isSolved(d("vrcMP","n"));if(Wa<v)for(ua=v;ua>Wa;ua--)Va[ua]=w-$a;v=Math.min(Wa,v)||1;1<Sa&&cb.setStaticAppend(cb.getMulPhaseAppend(v,Sa))}0==Wa&&2==r&&(bb+=Ua.moveCnt(),ab.match(/^r\d+$/)&&0!=Xa.length?("r3"!=ab&&eb++,p(!0),z()):(b.setAutoShow(!0),v=-1,cb.setRunning(!1),cb.setStaticAppend(""),cb.val(Va[1],!0),cb.append(cb.getMulPhaseAppend(0,Sa)),cb.append('<div style="font-family: Arial; font-size: 0.5em">'+bb+" moves<br>"+~~(1E5*bb/Va[1])/
100+" tps</div>"),Ta.reverse(),n("time",["",0,Va,0,[$.map(Ta,cubeutil.moveSeq2str).join(" ")]])))}}}function p(b){if((!sb||d("input")!=Wa)&&jb){sb=!0;Wa=d("input");var h=eb;h||(h=3);h={type:"cube",faceColors:ua(kernel.getProp("colcube"),[3,4,5,0,1,2]),dimension:h,stickerWidth:1.7,scale:.9};"skb"==nb?h={type:"skewb",faceColors:ua(kernel.getProp("colskb"),[0,5,4,2,1,3]),scale:.9}:"mgm"==nb?h={type:"mgm",faceColors:ua(kernel.getProp("colmgm"),[0,2,1,5,4,3,11,9,8,7,6,10]),scale:.9}:"pyr"==nb?h={type:"pyr",
faceColors:ua(kernel.getProp("colpyr"),[3,1,2,0]),scale:.9}:"sq1"==nb&&(h={type:"sq1",faceColors:ua(kernel.getProp("colsq1"),[0,5,4,2,1,3]),scale:.9});ib.init(h,f,lb,function(f,h){Ua=f;h&&!Ua&&(lb.css("height",""),lb.html("--:--"));b||(cb.setRunning(!1,!0),cb.setStaticAppend(""),Ra(d("timerSize")))})}}function z(){p();var b=Xa;ab.match(/^r\d+$/)&&(b=Xa.shift().match(/\d+\) (.*)$/)[1],cb.setStaticAppend("<br>"+(Xa.length+1)+"/"+Xa.len));b=Ua.parseScramble(b);sb=!1;Ua.applyMoves(b);Ua.moveCnt(!0);Ta=
[[]]}function w(b,f){if("scramble"==b){ab=f[0];Xa=f[1];var d=tools.puzzleType(ab),h=gb.indexOf(d);"cubennn"==d&&(h=f[2]);-1==h||eb==h&&nb==d||(eb=h,nb=d,sb=!1,p());if(d=f[0].match(/^r(\d)\d*$/))Xa=Xa.split("\n"),Xa.len=Xa.length,eb!=~~d[1]&&(eb=~~d[1],sb=!1,p())}}function Ra(b){lb.css("height",b*$("#logo").width()/9+"px");Ua&&Ua.resize()}var Ua,Wa="",Qa=0,bb=0,Sa=1,Xa,ab,eb,nb,gb=" sq1 222 333 444 555 666 777 888 999 101010 111111 skb mgm pyr".split(" "),sb=!1,lb=$("<div />"),jb=!1;$(function(){r("timer",
"scramble",w);lb.appendTo("#container")});return{onkeydown:function(f){if(void 0!=Ua){var d=$.now();if(-1==v)32==f&&(z(),h()?(v=-3,$a=d,cb.setRunning(!0,!0)):(cb.setRunning(!1,!0),cb.val(0,!0),v=-2),b.setAutoShow(!1));else if(-3==v||-2==v||1<=v)27==f?(b.setAutoShow(!0),1<=v&&n("time",["",0,[-1,d-$a],0,[$.map(Ta,cubeutil.moveSeq2str).join(" ")]]),p(),v=-1):Ua.keydown({keyCode:f});27!=f&&32!=f||kernel.clrKey()}},setEnable:function(b){(jb=b)?lb.show():lb.hide()},setSize:Ra,reset:p}}(),jb=function(){function f(){Wa&&
(clearTimeout(Wa),Wa=0);Qa&&(clearTimeout(Qa),Qa=0)}function r(r,w,ua){ab=r;if(Ra){Ua&&eb.setState(r,w,!1);f();if(-1==v){if(r!=mathlib.SOLVED_FACELET){var Ya=d("giiSD");"s"==Ya?giikerutil.checkScramble()&&z(ua):"n"!=Ya&&(Wa=setTimeout(function(){z(ua)},1E3*~~Ya));Ya=d("giiSM");"n"!=Ya&&{x4:/^([URFDLB][ '])\1\1\1$/,xi2:/^([URFDLB])( \1'\1 \1'|'\1 \1'\1 )$/}[Ya].exec(w.join(""))&&(Qa=setTimeout(function(){z(ua)},1E3))}}else if(-3==v||-2==v){bb=h()?ua-$a:0;$a=ua;v=Za[d("vrcMP","n")];Ta=[];for(Ya=0;Ya<
v;Ya++)Ta[Ya]=[];Xa=v;Va=[17E3<bb?-1:15E3<bb?2E3:0];cb.fixDisplay(!1,!0);cb.setRunning(!0,Ua);b.setAutoShow(!1)}if(1<=v){Ta[v-1].push([w[0],ua-$a]);w=cubeutil.getProgress(r,kernel.getProp("vrcMP","n"));if(w<v)for(Ya=v;Ya>w;Ya--)Va[Ya]=ua-$a;v=Math.min(w,v)||1;cb.setStaticAppend(cb.getMulPhaseAppend(v,Xa));if(r==mathlib.SOLVED_FACELET){Ta.reverse();r=cubeutil.getPrettyMoves(Ta);w="";var Sa=p[kernel.getProp("vrcMP","n")],hb=0;for(Ya=0;Ya<r.length;Ya++)hb+=r[Ya][1],w+=r[Ya][0]+(Sa[Ya]?" //"+Sa[Ya]+" "+
r[Ya][1]+" move(s)%0A":"");giikerutil.setLastSolve(w);v=-1;Va[1]=ua-$a;b.setAutoShow(!0);cb.setRunning(!1,Ua);cb.setStaticAppend("");cb.fixDisplay(!1,!0);cb.val(Va[1],Ua);cb.append(cb.getMulPhaseAppend(0,Xa));cb.append('<div style="font-family: Arial; font-size: 0.5em">'+hb+" moves<br>"+~~(1E5*hb/Va[1])/100+" tps</div>");if(0!=Va[1]){w=[$.map(Ta,cubeutil.moveSeq2str).join(" ")];w[r.length]=r[0][1];for(Ya=1;Ya<r.length;Ya++)w[r.length-Ya]=w[r.length-Ya+1]+r[Ya][1];n("time",["",0,Va,0,w])}}}}}function z(p){f();
-1==v&&(giikerutil.markScrambled(),giikerutil.checkScramble()||n("scramble",["333",scramble_333.genFacelet(ab),0]),v=-2,$a=p,cb.fixDisplay(!0,!0),h()&&cb.setRunning(!0,Ua),b.setAutoShow(!1),d("giiBS")&&metronome.playTick())}function w(b){(Ua=b)?Sa.show():Sa.hide();b&&eb.initVRC()}var Ra=!1,Ua=!1,Wa=0,Qa=0,bb=0,Sa=$("<div />"),Xa=1,ab=mathlib.SOLVED_FACELET,eb=function(){function b(b){void 0!=p&&!r&&Ua&&(r=!0,p.initializeTwisty({type:"cube",faceColors:ua(kernel.getProp("colcube"),[3,4,5,0,1,2]),dimension:3,
stickerWidth:1.7,scale:.9}),v.fromFacelet(mathlib.SOLVED_FACELET),n=p.getTwisty(),b||f(d("timerSize")))}function f(b){Sa.css("height",b*$("#logo").width()/9+"px");p&&p.resize()}function h(){void 0==p&&(void 0!=window.twistyjs?(p=new twistyjs.TwistyScene,Sa.empty().append(p.getDomElement()),b(),p.resize(),z=!1):!z&&document.createElement("canvas").getContext?($.getScript("js/twisty.js",h),z=!0):(Sa.css("height",""),Sa.html("--:--")))}var p,n,r=!1,z=!1,v=new mathlib.CubieCube,w=new mathlib.CubieCube,
Ta=new mathlib.CubieCube;return{resetVRC:b,initVRC:h,setState:function(f,d,h){w.fromFacelet(f);h=[];for(var z=!0,Ra=0;Ra<d.length;Ra++){h.push(d[Ra]);var Ua=3*"URFDLB".indexOf(d[Ra][0])+"'2 ".indexOf(d[Ra][1]);if(0<=Ua&&18>Ua&&(mathlib.CubieCube.EdgeMult(w,mathlib.CubieCube.moveCube[Ua],Ta),mathlib.CubieCube.CornMult(w,mathlib.CubieCube.moveCube[Ua],Ta),Ua=w,w=Ta,Ta=Ua,w.isEqual(v))){z=!1;break}}z?(b(!1),v.fromFacelet(mathlib.SOLVED_FACELET),h=scramble_333.genFacelet(f)):h=h.reverse().join(" ");d=
h.match(/^\s*$/)?[]:n.parseScramble(h);5>d.length?p.addMoves(d):p.applyMoves(d);r=!1;v.fromFacelet(f)},setSize:f}}();$(function(){Sa.appendTo("#container")});return{setEnable:function(b){(Ra="g"==b)?(giikerutil.setCallBack(r),(b=giikerutil.init())&&b.then($.noop,function(b){b.code==b.SECURITY_ERR&&kernel.showDialog([$("<div>Press OK To Connect To Giiker Cube</div>"),function(){giikerutil.init().then($.noop,console.log)},0,0],"share","Giiker Connect")})):GiikerCube.stop();w(Ra&&d("giiVRC"))},onkeydown:function(h){27==
h?(f(),v=-1,b.setAutoShow(!0),cb.val(0,Ua),cb.setRunning(!1,Ua),cb.fixDisplay(!1,!0)):32==h&&d("giiSK")&&ab!=mathlib.SOLVED_FACELET&&-1==v&&z($.now())},setVRC:w,setSize:eb.setSize}}(),sb="input phases preScr useMilli smallADP giiVRC".split(" ");$(function(){Qa=$("#container");r("timer","property",function(f,h){"timerSize"==h[0]&&(Qa.css("font-size",h[1]+"em"),ab.setSize(h[1]),jb.setSize(h[1]));"timerSize"!=h[0]&&"phases"!=h[0]||$("#multiphase").css("font-size",d("timerSize")/Math.max(d("phases"),
4)+"em");"input"==h[0]&&(lb.setEnable(h[1]),jb.setEnable(h[1]),gb.setEnable(h[1]));"showAvg"==h[0]&&nb.showAvgDiv(h[1]);"giiVRC"==h[0]&&"set"!=h[2]&&jb.setEnable(d("input"));if(-1!=$.inArray(h[0],sb)){var p=d("input");v=-1;ab.setEnable("v"==p||"q"==p);ab.reset();cb.setEnable("i"!=p);cb.reset("v"==p||"q"==p||"g"==p&&d("giiVRC"));bb.reset();eb.setEnable("i"==p);b.setAutoShow(!0)}},/^(?:input|phases|scrType|preScr|timerSize|showAvg|useMilli|smallADP|giiVRC)$/);Sa("vrc","vrcSpeed",1,PROPERTY_VRCSPEED,
[100,[0,50,100,200,500,1E3],"∞ 20 10 5 2 1".split(" ")],1);Sa("vrc","vrcMP",1,PROPERTY_VRCMP,["n","n cfop fp cf4op cf4o2p2 roux".split(" "),PROPERTY_VRCMPS.split("|")],1);Sa("vrc","vrcAH",1,"Useless pieces in huge cube",["01",["00","01","10","11"],["Hide","Border","Color","Show"]],1);Sa("vrc","giiVRC",0,PROPERTY_GIIKERVRC,[!0],1);Sa("vrc","giiSD",1,PROPERTY_GIISOK_DELAY,["s","2345ns".split(""),PROPERTY_GIISOK_DELAYS.split("|")],1);Sa("vrc","giiSK",0,PROPERTY_GIISOK_KEY,[!0],1);Sa("vrc","giiSM",1,
PROPERTY_GIISOK_MOVE,["n",["x4","xi2","n"],PROPERTY_GIISOK_MOVES.split("|")],1);Sa("vrc","giiBS",0,PROPERTY_GIISBEEP,[!0],1);Sa("vrc","giiRST",1,PROPERTY_GIIRST,["p",["a","p","n"],PROPERTY_GIIRSTS.split("|")]);Sa("vrc","giiAED",0,PROPERTY_GIIAED,[!1]);Sa("timer","useMouse",0,PROPERTY_USEMOUSE,[!1],1);Sa("timer","useIns",1,PROPERTY_USEINS,["n",["a","b","n"],PROPERTY_USEINS_STR.split("|")],1);Sa("timer","voiceIns",1,PROPERTY_VOICEINS,["1",["n","1","2"],PROPERTY_VOICEINS_STR.split("|")],1);Sa("timer",
"voiceVol",2,PROPERTY_VOICEVOL,[100,1,100],1);Sa("timer","input",1,PROPERTY_ENTERING,["t","tismvgqb".split(""),PROPERTY_ENTERING_STR.split("|")],1);Sa("timer","intUN",1,PROPERTY_INTUNIT,[20100,[1,100,1E3,10001,10100,11E3,20001,20100,21E3],"X X.XX X.XXX X:XX X:XX.XX X:XX.XXX X:XX:XX X:XX:XX.XX X:XX:XX.XXX".split(" ")],1);Sa("timer","timeU",1,PROPERTY_TIMEU,["c",["u","c","s","i","n"],PROPERTY_TIMEU_STR.split("|")],1);Sa("timer","preTime",1,PROPERTY_PRETIME,[300,[0,300,550,1E3],["0","0.3","0.55","1"]],
1);Sa("timer","phases",2,PROPERTY_PHASES,[1,1,10],3);Sa("kernel","showAvg",0,SHOW_AVG_LABEL,[!0],1);Sa("ui","timerSize",2,PROPERTY_TIMERSIZE,[20,1,100],1);Sa("ui","smallADP",0,PROPERTY_SMALLADP,[!0],1)});var ob;return{onkeydown:function(f){if(!b.isPop()){var h=Xa(f),p=$(document.activeElement);if(p.is("input, textarea, select"))"i"==d("input")&&"inputTimer"==p.prop("id")&&13==h&&eb.parseInput();else switch(p.blur(),d("input")){case "t":bb.onkeydown(h,f);break;case "s":lb.onkeydown(h,f);break;case "b":gb.onkeydown(h,
f);break;case "v":case "q":ab.onkeydown(h,f);break;case "g":jb.onkeydown(h,f)}}},onkeyup:function(f){if(!b.isPop()){var h=Xa(f),p=$(document.activeElement);if(p.is("input, textarea, select"))"i"==d("input")&&"inputTimer"==p.prop("id")&&13==h&&eb.clear();else switch(p.blur(),d("input")){case "t":bb.onkeyup(h,f);break;case "s":lb.onkeyup(h,f);break;case "b":gb.onkeyup(h,f)}}},showAvgDiv:nb.showAvgDiv,refocus:function(){void 0!=ob?ob.focus():document.activeElement&&document.activeElement.blur&&document.activeElement.blur()},
getCurTime:function(b){return 0<v?(b||$.now())-$a:0}}},[kernel.regListener,kernel.regProp,kernel.getProp,kernel.pretty,kernel.ui,kernel.pushSignal]);var scrMgr=function(r,Sa){function d(b,d,h){b=b||[[""]];d=d||[""];h=h||0;for(var n=0,w=-1,ua=[],Ta,Ua,Ra=0;Ra<h;Ra++){do Ta=r(b.length),Ua=r(b[Ta].length),Ta!=w&&(n=0,w=Ta);while(0!=(n>>Ua&1));n|=1<<Ua;b[Ta][Ua].constructor==Array?ua.push(Sa(b[Ta][Ua])+Sa(d)):ua.push(b[Ta][Ua]+Sa(d))}return ua.join(" ")}function w(d,r,Qa){DEBUG&&console.log("[regscr]",d);if($.isArray(d))for(Qa=0;Qa<d.length;Qa++)b[d[Qa]]=r;else b[d]=r,void 0!=Qa&&(n[d]=Qa[0],h[d]=Qa[1]);return w}var b={blank:function(){return"N/A"}},
n={},h={};return{reg:w,scramblers:b,filters:n,probs:h,mega:d,formatScramble:function(h){return h.replace(/[$#]\{([^\}]+)\}/g,function(h,n){if("$"==h[0]){var r=[n];"["==n[0]&&(r=JSON.parse(n));return b[r[0]].apply(this,r)}return"#"==h[0]?d.apply(this,JSON.parse("["+n+"]")):""})},rndState:function(b,d){if(void 0!=d){var h=d.slice();void 0==b&&(b=h);for(var n=0;n<b.length;n++)b[n]||(h[n]=0);return mathlib.rndProb(h)}},fixCase:function(b,d){return void 0==b?mathlib.rndProb(d):b}}}(mathlib.rn,mathlib.rndEl),
scramble=execMain(function(r,Sa){function d(){kernel.blur();jb.html("Scrambling...");zb=!hb||/^(remote|input$)/.exec(hb)?zb:hb;Bb||(qb=hb,Ya=kb,Ab=pb);Bb=!1;Ya&&xb.addClass("click").unbind("click").click(w);hb=nb.getSelected();pb=~~ab.val();qb!=hb&&kernel.setProp("scrType",hb);kb="";requestAnimFrame(ua)}function w(){Bb=!0;jb.html(h(qb,Ya,Ab,!0));xb.removeClass("click").unbind("click");void 0!=Ya&&kernel.pushSignal("scrambleX",h(qb,Ya,Ab))}function b(){Bb?(Bb=!1,jb.html(h(hb,kb,pb,!0)),xb.addClass("click").unbind("click").click(w),
kernel.pushSignal("scrambleX",h(hb,kb,pb))):d()}function n(){if(kb){var f=kernel.getProp("scrClk","n");"c"==f?$.clipboardCopy(jb.text())&&logohint.push("scramble copied"):"+"==f&&b()}}function h(b,f,d,h){f=f||"";d=d||0;var p=/^\$T([a-zA-Z0-9]+)(-[0-9]+)?\$\s*(.*)$/.exec(f);p&&(b=p[1],f=p[3],d=~~p[2]);return h?(b=kernel.getProp("scrASize")?Math.max(.25,Math.round(20*Math.pow(50/Math.max(f.length,10),.3))/20):1,jb.css("font-size",b+"em"),DEBUG&&console.log("[scrFontSize]",b),f.replace(/~/g,"&nbsp;").replace(/\\n/g,
"\n").replace(/`([^']*)`/g,kernel.getProp("scrKeyM",!1)?"<u>$1</u>":"$1")):[b,f.replace(/~/g,"").replace(/\\n/g,"\n").replace(/`([^']*)`/g,"$1"),d]}function ua(){v();kb?(kb=kb.replace(/(\s*)$/,""),jb.html(h(hb,kb,pb,!0)),kernel.pushSignal("scramble",h(hb,kb,pb))):jb.html("Scrambling... ")}function Xa(b,f,d){rb&&(csTimerWorker&&csTimerWorker.getScramble?wb=wb||csTimerWorker.getScramble(b,function(b,f){DEBUG&&console.log("[scrcache]",b+" cached by csTimerWorker");Qa(b,f)}.bind(void 0,f)):d||(wb=wb||
setTimeout(function(b,f){var d=Wa[f[0]];Qa(b,d.apply(d,f))}.bind(void 0,f,b),500)))}function Qa(b,f){var d=JSON.parse(localStorage.cachedScr||null)||{};$.isArray(d)&&(d={});d[b]=f;localStorage.cachedScr=JSON.stringify(d);wb=0}function v(){if(hb){kb="";var b=ob[hb]||hb;if("input"==b)kb=tb.next();else if(tb.clear(),b in Wa){var f=JSON.parse(localStorage.cachedScr||null)||{},d=JSON.stringify([b,pb,db[1]]);rb&&d in f?(kb=f[d],delete f[d],localStorage.cachedScr=JSON.stringify(f)):kb=Wa[b](b,pb,Cb(db[1],
z[b]));Xa([b,pb,Cb(db[1],z[b])],d)}else requestAnimFrame(ua)}}function Va(){kernel.blur();var b=nb.getSelIdx();b=scrdata[b[0]][1][b[1]][2];ab.val(Math.abs(b));ab[0].disabled=0>=b;b=nb.getSelected();db=JSON.parse(kernel.getProp("scrFlt",JSON.stringify([b,f[b]])));bb[0].disabled=ab[0].disabled&&!(b in f);db[0]!=b&&(db=[b,f[b]&&mathlib.valuedArray(f[b].length,1)],kernel.setProp("scrFlt",JSON.stringify(db),"session"))}function $a(){Va();d()}function Ta(){function b(){if(hb in f){for(var b=mathlib.valuedArray(f[hb].length,
1),p=!1,r=0;r<h.length;r++)h[r][0].checked?p=!0:b[r]=0;p?(db=[hb,b],b=JSON.stringify(db),kernel.getProp("scrFlt")!=b&&(n=!0,kernel.setProp("scrFlt",b))):alert("Should Select At Least One Case");n&&d()}}lb.empty();var h=[],p=[],n=!1;if(hb in f){var r=f[hb],z=r;db[0]==hb&&(z=db[1]||r);lb.append("<br>",gb,ib,"<br><br>");for(var v={},w=0;w<r.length;w++){var Ra=r[w].indexOf("-");-1==Ra?v[r[w]]=[w]:(Ra=r[w].slice(0,Ra),v[Ra]=v[Ra]||[],v[Ra].push(w))}for(w=0;w<r.length;w++)Ra=$('<input type="checkbox">').val(w),
z[w]&&(Ra[0].checked=!0),h.push(Ra),p.push($("<label>").append(Ra,r[w]));var Ta=function(b){var f=0;$.each(v[b],function(b,d){f+=h[d][0].checked?1:0});return f+"/"+v[b].length},Ua;for(Ua in v)1==v[Ua].length&&lb.append(p[v[Ua][0]]);for(Ua in v)1!=v[Ua].length&&lb.append($("<div>").attr("data",Ua).append($("<span>").html(Ua+" "+Ta(Ua))," | ",$('<span class="click">').html("All").click(function(){var b=$(this).parent().attr("data");$.each(v[b],function(b,f){h[f][0].checked=!0});$(this).parent().children().first().html(b+
" "+Ta(b))})," | ",$('<span class="click">').html("None").click(function(){var b=$(this).parent().attr("data");$.each(v[b],function(b,f){h[f][0].checked=!1});$(this).parent().children().first().html(b+" "+Ta(b))})," | ",$('<span class="click">[+]</span>').click(function(){$(this).next().toggle()}),$("<div>").append($.map(v[Ua],function(b){h[b].change(function(){var b=$(this).parent().parent().parent().attr("data");$(this).parent().parent().parent().children().first().html(b+" "+Ta(b))});return p[b]})).hide()));
gb.unbind("click").click(function(){for(var b=0;b<h.length;b++)h[b][0].checked||(h[b][0].checked=!0),h[b].change()});ib.unbind("click").click(function(){for(var b=0;b<h.length;b++)h[b][0].checked&&(h[b][0].checked=!1),h[b].change()})}kernel.showDialog([eb,b,null,b],"scropt","Scramble Options")}function Ua(f,n){"time"==f?Lb?d():(jb.empty(),kernel.pushSignal("scramble",["-","",0])):"property"==f?"scrSize"==n[0]?sb.css("font-size",n[1]/7+"em"):"scrMono"==n[0]?Za.css("font-family",n[1]?"SimHei, Monospace":
"Arial"):"scrType"==n[0]?n[1]!=nb.getSelected()&&(nb.loadVal(n[1]),$a()):"scrLim"==n[0]?n[1]?sb.addClass("limit"):sb.removeClass("limit"):"scrAlign"==n[0]?"c"==n[1]?Za.css("text-align","center"):"l"==n[1]?Za.css("text-align","left"):"r"==n[1]&&Za.css("text-align","right"):"scrFast"==n[0]?(ob["444wca"]=n[1]?"444m":"444wca","444wca"==hb&&d()):"scrKeyM"==n[0]?jb.html(Bb?h(qb,Ya||"",Ab||0,!0):h(hb,kb||"",pb,!0)):"scrHide"==n[0]&&(n[1]?p.hide():p.show()):"button"==f&&"scramble"==n[0]?(Lb=n[1])&&""==jb.html()&&
d():"ctrl"==f&&"scramble"==n[0]&&("last"==n[1]?w():"next"==n[1]&&b())}function Ra(b,f){for(var d=0;d<scrdata.length;d++)for(var h=0;h<scrdata[d][1].length;h++)if(scrdata[d][1][h][1]==b){f(d,h);return}}var Wa=scrMgr.scramblers,f=scrMgr.filters,z=scrMgr.probs,Za=$('<div id="scrambleDiv"/>'),p=$("<div />").addClass("title"),cb=[$("<select />"),$("<select />")],nb=new kernel.TwoLvMenu(scrdata,$a,cb[0],cb[1],"333"),bb=$('<input type="button" class="icon">').val(""),eb=$("<div>"),lb=$('<div class="sflt">'),
gb=$('<input type="button">').val("Select All"),ib=$('<input type="button">').val("Select None"),ab=$('<input type="text" maxlength="3">'),jb=$("<div>"),sb=$('<div id="scrambleTxt"/>'),ob={"333oh":"333","333ft":"333"},db="",mb=$("<textarea />"),hb,kb,pb=0,qb,Ya,Ab=0,zb="333",Bb=!1,xb=$("<span />").html(SCRAMBLE_LAST),ub=$("<span />").addClass("click").html(SCRAMBLE_NEXT).click(b),rb=!0,wb=0;$(function(){if(csTimerWorker&&csTimerWorker.getScramble){var b=['["444wca",40,null]'],f=JSON.parse(localStorage.cachedScr||
null)||{};$.isArray(f)&&(f={});for(var d=0;d<b.length;d++)b[d]in f||setTimeout(Xa.bind(void 0,JSON.parse(b[d]),b[d],!0),2500+~~(5E3*Math.random()))}});(function(){function b(){kernel.setProp("scrType",zb)}function f(b){if(!$.isArray(b))return!1;d=b;return 0!=d.length}var d=[];return{next:function(h){for(var p=null;!p&&0!=d.length;)p=d.shift();if(p)return p;"remoteComp"==h?(onlinecomp||b(),p=onlinecomp.getScrambles(),f(p)?requestAnimFrame(ua):b()):"remoteURL"==h&&$.getJSON("https://cstimer.net/testRemoteScramble.php",
function(d){f(d)?requestAnimFrame(ua):b()}).error(b);return""},clear:function(){d=[]}}})();var tb=function(){function b(){var b=mb.val();if(b.match(/^\s*$/))b=!1;else{d=[];b=b.split("\n");for(var f=0;f<b.length;f++){var h=b[f];null==h.match(/^\s*$/)&&d.push(h.replace(/^\d+[\.\),]\s*/,""))}b=0!=d.length}b?ua():kernel.setProp("scrType",zb)}function f(){kernel.setProp("scrType",zb)}var d=[];return{next:function(){for(var h=null;!h&&0!=d.length;)h=d.shift();if(h)return h;mb.val("");kernel.showDialog([mb,
b,f],"input",SCRAMBLE_INPUT);return""},clear:function(){d=[]}}}(),Lb=!1,Hb=function(){function b(){for(var b=~~h.val(),f="",d=kb,r=n.val(),z=0;z<b;z++)v(),f+=r.replace("1",z+1)+kb+"\n";kb=d;p.text(f);p.select()}var f=$("<div />").css("text-align","center").css("font-size","0.7em"),d=$("<span />").addClass("click").html(SCRGEN_GEN),h=$('<input type="text" maxlength="3">').val(5),p=$('<textarea rows="10" style="width: 100%" readonly />'),n=$('<select><option value="1. ">1. </option><option value="1) ">1) </option><option value="(1) ">(1) </option><option value=""></option></select>');
f.append(SCRGEN_NSCR,h,"&nbsp;",SCRGEN_PRE).append(n,"<br>",d,"<br>",p);return function(h){h&&(h.empty().append(f.width(Za.width()/2)),n.unbind("change").change(kernel.blur),d.unbind("click").click(b))}}(),Cb=scrMgr.rndState;$(function(){kernel.regListener("scramble","time",Ua);kernel.regListener("scramble","property",Ua,/^scr(?:Size|Mono|Type|Lim|Align|Fast|KeyM|Hide)$/);kernel.regListener("scramble","button",Ua,/^scramble$/);kernel.regListener("scramble","ctrl",Ua,/^scramble$/);kernel.regProp("scramble",
"scrSize",2,PROPERTY_SCRSIZE,[15,5,50],1);kernel.regProp("scramble","scrASize",0,PROPERTY_SCRASIZE,[!0],1);kernel.regProp("scramble","scrMono",0,PROPERTY_SCRMONO,[!0],1);kernel.regProp("scramble","scrLim",0,PROPERTY_SCRLIM,[!1],1);kernel.regProp("scramble","scrAlign",1,PROPERTY_SCRALIGN,["c",["c","l","r"],PROPERTY_SCRALIGN_STR.split("|")],1);kernel.regProp("scramble","preScr",1,"pre-scramble",[""," z2 z' z x' x".split(" ")," z2 z' z x' x".split(" ")],1);kernel.regProp("scramble","scrFast",0,PROPERTY_SCRFAST,
[!1]);kernel.regProp("scramble","scrKeyM",0,PROPERTY_SCRKEYM,[!1],1);kernel.regProp("scramble","scrClk",1,PROPERTY_SCRCLK,["n",["n","c","+"],PROPERTY_SCRCLK_STR.split("|")],1);kernel.regProp("scramble","scrType",-6,"Scramble Type",["333"],3);ab.change(d);bb.click(Ta);eb.append($("<div>").append(SCRAMBLE_LENGTH+": ",ab),lb);p.append($("<nobr>").append(cb[0]," ",cb[1]," ",bb)," <wbr>");p.append($("<nobr>").append(xb,"/",ub,SCRAMBLE_SCRAMBLE));Za.append(p,sb.append(jb).click(n));tools.regTool("scrgen",
TOOLS_SCRGEN,Hb);sb.click(function(){p.show();kernel.blur();kernel.setProp("scrHide",!1)});kernel.regProp("ui","scrHide",-1,"Hide Scramble Selector",[!1]);kernel.addWindow("scramble",BUTTON_SCRAMBLE,Za,!0,!0,3);Va()});return{getTypeName:function(b){var f="";Ra(b,function(b,d){f=scrdata[b][0]+">"+scrdata[b][1][d][0]});return f},getTypeIdx:function(b){var f=1E300;Ra(b,function(b,d){f=100*b+d});return f},scrStd:h,setCacheEnable:function(b){rb=b}}},[mathlib.rn,mathlib.rndEl]);(function(r,Sa,d){function w(b,d){var h=Xa[b];switch(h.length){case 1:return r(h[0],[""],d);case 2:return r(h[0],h[1],d);case 3:return r(h[0],h[1],h[2])}}function b(b,n){var r=v[b],w=r[1],Ta=r[2],f=0,z=0,Za=[],p=[["R","R'"],["R'","R"],["L","L'"],["L'","L"],["F'","F"],["F","F'"],["B","B'"],["B'","B"]],ua=["U","D"];r=r[0];for(var Qa=0;Qa<Ta.length;Qa++)Za[Qa]=0;for(Qa=0;Qa<n;Qa++){for(var Va=!1;!Va;)for(var Xa="",$a=0;$a<Ta.length;$a++){var gb=Sa(4);Za[$a]+=gb;0!=gb&&(Va=!0,Xa+=" "+Ta[$a]+h[gb-1])}Va=
Sa(8);$a=Sa(2);gb=Sa(3);r+=Xa+" "+p[Va][0]+" "+ua[$a]+h[gb]+" "+p[Va][1];0==$a&&(f+=gb+1);1==$a&&(z+=gb+1)}for(Qa=0;Qa<Ta.length;Qa++)gb=4-Za[Qa]%4,4>gb&&(r+=" "+Ta[Qa]+h[gb-1]);f=4-f%4;z=4-z%4;4>f&&(r+=" U"+h[f-1]);4>z&&(r+=" D"+h[z-1]);return r+=" "+d(w)}function n(b,d){var h=Qa[b].replace(/%l/g,d).replace(/%c/g,'["","2","\'"]');return scrMgr.formatScramble(h)}var h=["","2","'"],ua=["","2","'","2'"],Xa={111:[[["x"],["y"],["z"]],h],2223:[[["U"],["R"],["F"]],h],2226:[[[["U","D"]],[["R","L"]],[["F",
"B"]]],h],"333o":[[["U","D"],["R","L"],["F","B"]],h],334:[[[["U","U'","U2"],["u","u'","u2"]],[["R2","L2","M2"]],[["F2","B2","S2"]]]],336:[[[["U","U'","U2"],["u","u'","u2"],["3u","3u2","3u'"]],[["R2","L2","M2"]],[["F2","B2","S2"]]]],888:[["U D u d 3u 3d 4u".split(" "),"R L r l 3r 3l 4r".split(" "),"F B f b 3f 3b 4f".split(" ")],h],999:[["U D u d 3u 3d 4u 4d".split(" "),"R L r l 3r 3l 4r 4l".split(" "),"F B f b 3f 3b 4f 4b".split(" ")],h],101010:[["U D u d 3u 3d 4u 4d 5u".split(" "),"R L r l 3r 3l 4r 4l 5r".split(" "),
"F B f b 3f 3b 4f 4b 5f".split(" ")],h],111111:[["U D u d 3u 3d 4u 4d 5u 5d".split(" "),"R L r l 3r 3l 4r 4l 5r 5l".split(" "),"F B f b 3f 3b 4f 4b 5f 5b".split(" ")],h],444:[[["U","D","u"],["R","L","r"],["F","B","f"]],h],"444m":[[["U","D","Uw"],["R","L","Rw"],["F","B","Fw"]],h],555:[[["U","D","u","d"],["R","L","r","l"],["F","B","f","b"]],h],"555wca":[[["U","D","Uw","Dw"],["R","L","Rw","Lw"],["F","B","Fw","Bw"]],h],"666p":[[["U","D","2U","2D","3U"],["R","L","2R","2L","3R"],["F","B","2F","2B","3F"]],
h],"666wca":[[["U","D","Uw","Dw","3Uw"],["R","L","Rw","Lw","3Rw"],["F","B","Fw","Bw","3Fw"]],h],"666s":[[["U","D","U&sup2;","D&sup2;","U&sup3;"],["R","L","R&sup2;","L&sup2;","R&sup3;"],["F","B","F&sup2;","B&sup2;","F&sup3;"]],h],"666si":[[["U","D","u","d","3u"],["R","L","r","l","3r"],["F","B","f","b","3f"]],h],"777p":[["U D 2U 2D 3U 3D".split(" "),"R L 2R 2L 3R 3L".split(" "),"F B 2F 2B 3F 3B".split(" ")],h],"777wca":[["U D Uw Dw 3Uw 3Dw".split(" "),"R L Rw Lw 3Rw 3Lw".split(" "),"F B Fw Bw 3Fw 3Bw".split(" ")],
h],"777s":[["U D U&sup2; D&sup2; U&sup3; D&sup3;".split(" "),"R L R&sup2; L&sup2; R&sup3; L&sup3;".split(" "),"F B F&sup2; B&sup2; F&sup3; B&sup3;".split(" ")],h],"777si":[["U D u d 3u 3d".split(" "),"R L r l 3r 3l".split(" "),"F B f b 3f 3b".split(" ")],h],cm3:[[[["U<","U>","U2"],["E<","E>","E2"],["D<","D>","D2"]],[["R^","Rv","R2"],["M^","Mv","M2"],["L^","Lv","L2"]]]],cm2:[[[["U<","U>","U2"],["D<","D>","D2"]],[["R^","Rv","R2"],["L^","Lv","L2"]]]],233:[[[["U","U'","U2"]],["R2","L2"],["F2","B2"]]],
fto:[[["U","D"],["F","B"],["L","BR"],["R","BL"]],["","'"]],gear:[[["U"],["R"],["F"]]," 2 3 4 5 6 ' 2' 3' 4' 5'".split(" ")],sfl:[[["R","L"],["U","D"]],h],ufo:[[["A"],["B"],["C"],[["U","U'","U2'","U2","U3"]]]],"2gen":[[["U"],["R"]],h],"2genl":[[["U"],["L"]],h],roux:[[["U"],["M"]],h],"3gen_F":[[["U"],["R"],["F"]],h],"3gen_L":[[["U"],["R","L"]],h],RrU:[[["U"],["R","r"]],h],RrUu:[[["U","u"],["R","r"]],h],minx2g:[[["U"],["R"]],ua],mlsll:[[[["R U R'","R U2 R'","R U' R'","R U2' R'"]],[["F' U F","F' U2 F",
"F' U' F","F' U2' F"]],[["U","U2","U'","U2'"]]]],half:[[["U","D"],["R","L"],["F","B"]],["2"]],lsll:[[[["R U R'","R U2 R'","R U' R'"]],[["F' U F","F' U2 F","F' U' F"]],[["U","U2","U'"]]]],prco:[[["F","B"],["U","D"],["L","DBR"],["R","DBL"],["BL","DR"],["BR","DL"]],ua],skb:[[["R"],["L"],["B"],["U"]],["","'"]],ivy:[[["R"],["L"],["D"],["B"]],["","'"]],112:[[["R"],["R"]],h],eide:[[["OMG"],["WOW"],["WTF"],["WOO-HOO WOO-HOO MATYAS YES YES YAY YEEEEEEEEEEEES".split(" ")],["HAHA"],["XD"],[":D"],["LOL"]],["",
"","","!!!"]]},Qa={sia113:'#{[["U","u"],["R","r"]],%c,%l} z2 #{[["U","u"],["R","r"]],%c,%l}',sia123:'#{[["U"],["R","r"]],%c,%l} z2 #{[["U"],["R","r"]],%c,%l}',sia222:'#{[["U"],["R"],["F"]],%c,%l} z2 y #{[["U"],["R"],["F"]],%c,%l}',335:'#{[[["U","U\'","U2"],["D","D\'","D2"]],["R2","L2"],["F2","B2"]],0,%l} / ${333}',337:'#{[[["U","U\'","U2","u","u\'","u2","U u","U u\'","U u2","U\' u","U\' u\'","U\' u2","U2 u","U2 u\'","U2 u2"],["D","D\'","D2","d","d\'","d2","D d","D d\'","D d2","D\' d","D\' d\'","D\' d2","D2 d","D2 d\'","D2 d2"]],["R2","L2"],["F2","B2"]],0,%l} / ${333}',
r234:"2) ${222so}\\n3) ${333}\\n4) ${[444,40]}",r2345:'${r234}\\n5) ${["555",60]}',r23456:'${r2345}\\n6) ${["666p",80]}',r234567:'${r23456}\\n7) ${["777p",100]}',r234w:'2) ${222so}\\n3) ${333}\\n4) ${["444m",40]}',r2345w:'${r234w}\\n5) ${["555wca",60]}',r23456w:'${r2345w}\\n6) ${["666wca",80]}',r234567w:'${r23456w}\\n7) ${["777wca",100]}',"333ni":'${333}#{[[""]],["","Rw ","Rw2 ","Rw\' ","Fw ","Fw\' "],1}#{[[""]],["","Uw","Uw2","Uw\'"],1}',"444bld":'${444wca}#{[[""]],[""," x"," x2"," x\'"," z"," z\'"],1}#{[[""]],[""," y"," y2"," y\'"],1}',
"555bld":'${["555wca",%l]}#{[[""]],[""," 3Rw"," 3Rw2"," 3Rw\'"," 3Fw"," 3Fw\'"],1}#{[[""]],[""," 3Uw"," 3Uw2"," 3Uw\'"],1}'},v={"4edge":["r b2",["b2 r'","b2 U2 r U2 r U2 r U2 r"],["u"]],"5edge":["r R b B",["B' b' R' r'","B' b' R' U2 r U2 r U2 r U2 r"],["u","d"]],"6edge":["3r r 3b b",["3b' b' 3r' r'","3b' b' 3r' U2 r U2 r U2 r U2 r","3b' b' r' U2 3r U2 3r U2 3r U2 3r","3b' b' r2 U2 3r U2 3r U2 3r U2 3r U2 r"],["u","3u","d"]],"7edge":["3r r 3b b",["3b' b' 3r' r'","3b' b' 3r' U2 r U2 r U2 r U2 r","3b' b' r' U2 3r U2 3r U2 3r U2 3r",
"3b' b' r2 U2 3r U2 3r U2 3r U2 3r U2 r"],["u","3u","3d","d"]]},Va;for(Va in Xa)scrMgr.reg(Va,w);for(Va in Qa)scrMgr.reg(Va,n);for(Va in v)scrMgr.reg(Va,b);scrMgr.reg("cubennn",function(b,d){if(1>=d)return"N/A";for(var n=[[],[],[]],v=0;v<d-1;v++)0==v%2?(n[0].push((4>v?"":~~(v/2+1))+(2>v?"U":"u")),n[1].push((4>v?"":~~(v/2+1))+(2>v?"R":"r")),n[2].push((4>v?"":~~(v/2+1))+(2>v?"F":"f"))):(n[0].push((4>v?"":~~(v/2+1))+(2>v?"D":"d")),n[1].push((4>v?"":~~(v/2+1))+(2>v?"L":"l")),n[2].push((4>v?"":~~(v/2+
1))+(2>v?"B":"b")));return r(n,h,10*d)})})(scrMgr.mega,mathlib.rn,mathlib.rndEl);var scramble_333=function(r,Sa,d,w,b,n){function h(b){b.cp=[0,1,2,3,4,5,6,7];b.co=[0,0,0,0,0,0,0,0];b.ep=[0,1,2,3,4,5,6,7,8,9,10,11];b.eo=[0,0,0,0,0,0,0,0,0,0,0,0]}function ua(b,f,d){var h;for(h=0;8>h;++h){d.cp[h]=b.cp[f.cp[h]];var p=b.co[f.cp[h]];var n=f.co[h];var r=p;r+=3>p?n:6-n;r%=3;3<=p!==3<=n&&(r+=3);d.co[h]=r}}function Xa(){h(this)}function Qa(b,f,p,n){h(this);d(this.cp,b);b=f;var r=0;for(f=6;0<=f;--f)r+=this.co[f]=b%3,b=~~(b/3);this.co[7]=(15-r)%3;Sa(this.ep,p,12);p=n;b=0;for(n=10;0<=n;--n)b^=
this.eo[n]=p&1,p>>=1;this.eo[11]=b}function v(b,f,d){var h;for(h=0;12>h;++h)d.ep[h]=b.ep[f.ep[h]],d.eo[h]=f.eo[h]^b.eo[f.ep[h]]}function Va(){Va=$.noop;var b,f;jb[0]=new Qa(15120,0,119750400,0);jb[3]=new Qa(21021,1494,323403417,0);jb[6]=new Qa(8064,1236,29441808,550);jb[9]=new Qa(9,0,5880,0);jb[12]=new Qa(1230,412,2949660,0);jb[15]=new Qa(224,137,328552,137);for(b=0;18>b;b+=3)for(f=0;2>f;++f)jb[b+f+1]=new Xa,v(jb[b+f],jb[b],jb[b+f+1]),ua(jb[b+f],jb[b],jb[b+f+1])}function $a(){return f(0xffffffffffff,
0xffffffffffff,4294967295,4294967295)}function Ta(b){for(var f=0,d=0;d<b.length;d++)-1==b[d]&&f++;return f}function Ua(f,d,h){for(var p=0,n=0,r=0;r<f.length;r++)-1!=f[r]&&(p+=f[r]);p%=h;for(r=0;r<f.length-1;r++)-1==f[r]&&(1==d--?f[r]=((h<<4)-p)%h:(f[r]=b(h),p+=f[r])),n*=h,n+=f[r];return n}function Ra(f,d,h){for(var p=[0,1,2,3,4,5,6,7,8,9,10,11],n=0;n<f.length;n++)-1!=f[n]&&(p[f[n]]=-1);for(var z=n=0;n<p.length;n++)-1!=p[n]&&(p[z++]=p[n]);var v;for(n=0;n<f.length&&0<d;n++)if(-1==f[n]){z=b(d);for(f[n]=
p[z];11>z;z++)p[z]=p[z+1];2==d--&&(v=n)}w(r(f,f.length),f.length)==1-h&&(d=f[n-1],f[n-1]=f[v],f[v]=d);return r(f,f.length)}function Wa(b,f){if("number"!==typeof b)return b;for(var d=[],h=0;h<f;h++){var p=b&15;d[h]=15==p?-1:p;b/=16}return d}function f(b,f,d,h,p,z){Va();p=p||pb;z=z||pb;b=Wa(b,12);f=Wa(f,12);d=Wa(d,8);h=Wa(h,8);var Za="";do{var Ya=f.slice(),bb=b.slice(),Sa=h.slice(),ab=d.slice();Ya=Ua(Ya,Ta(Ya),2);Sa=Ua(Sa,Ta(Sa),3);var cb=Ta(bb),hb=Ta(ab);0==cb&&0==hb?(bb=r(bb,12),ab=r(ab,8)):0!=cb&&
0==hb?(ab=r(ab,8),bb=Ra(bb,cb,w(ab,8))):(bb=0==cb&&0!=hb?r(bb,12):Ra(bb,cb,-1),ab=Ra(ab,hb,w(bb,12)));if(0!=ab+Sa+bb+Ya){Za=new Qa(ab,Sa,bb,Ya);bb=new Xa;ab=n(z);Ya=n(p);for(Sa=0;Sa<ab.length;Sa++)ua(jb[ab[Sa]],Za,bb),v(jb[ab[Sa]],Za,bb),cb=bb,bb=Za,Za=cb;for(Sa=0;Sa<Ya.length;Sa++)ua(Za,jb[Ya[Sa]],bb),v(Za,jb[Ya[Sa]],bb),cb=bb,bb=Za,Za=cb;ab=Za;bb=[];Za=[85,82,70,68,76,66];for(Ya=0;54>Ya;++Ya)bb[Ya]=Za[~~(Ya/9)];for(hb=0;8>hb;++hb)for(cb=ab.cp[hb],Ya=ab.co[hb],Sa=0;3>Sa;++Sa)bb[sb[hb][(Sa+Ya)%3]]=
Za[~~(sb[cb][Sa]/9)];for(hb=0;12>hb;++hb)for(cb=ab.ep[hb],Ya=ab.eo[hb],Sa=0;2>Sa;++Sa)bb[ob[hb][(Sa+Ya)%2]]=Za[~~(ob[cb][Sa]/9)];Za=String.fromCharCode.apply(null,bb);Za=(new min2phase.Search).solution(Za,21,1E9,50,2)}}while(3>=Za.length);return Za.replace(/ +/g," ")}function z(){return f(0xffffffffffff,0xffffffffffff,1985229328,0)}function Za(){return f(0xba9876543210,0,4294967295,4294967295)}function p(){return f(0xba987654ffff,65535,1985282047,65535)}function cb(b,d,h){b=qb[scrMgr.fixCase(h,Ya)];
d=Math.pow(16,b&15);h=Math.pow(16,b>>8&15);return f(0xba9f7654ffff-7*d,64424574975-(15^b>>4&1)*d,1986002943-11*h,1048575-(15^b>>12&3)*h)}function nb(){return f(0xffff7654ffff,0xffff0000ffff,4294967295,4294967295)}function bb(b,d,h){b=Ab[scrMgr.fixCase(h,zb)];return f(0xba987654ffff,0,b[0]+1985216512,b[1],mb,mb)}function eb(){return f(0xba9876543f1f,0,1985282047,65535,mb)}function lb(){var d=b(4);return f(0xba98f6f4ffff,4042326015,1985229328,0,[hb[d]],mb)+kb[d]}function gb(d,h,p){d=b(4);h=[];for(var n=
0;n<mb.length;n++)h.push(mb[n].concat(hb[d]));return f(0xba98f6f4ffff,4042326015,1985282047,Bb[scrMgr.fixCase(p,xb)],h,mb)+kb[d]}function ib(){return f(0xba9876543210,0,1985282047,65535)}function ab(){return f(0xba987654ffff,65535,1985229328,0)}Qa.prototype=Xa.prototype;var jb=[],sb=[[8,9,20],[6,18,38],[0,36,47],[2,45,11],[29,26,15],[27,44,24],[33,53,42],[35,17,51]],ob=[[5,10],[7,19],[3,37],[1,46],[32,16],[28,25],[30,43],[34,52],[23,12],[21,41],[50,39],[48,14]],db=new min2phase.Search,mb=[[],[0],
[1],[2]],hb=[[],[3,14],[4,13],[5,12]],kb=["","x'","x2","x"],pb=[[]],qb=[8192,4113,8210,4099,8195,4114,8194,4115,8211,4098,8208,4097,8209,4096,8193,4112,0,17,3,18,2,19,1,16,1024,1041,5120,9233,5137,9216,24,8,8200,4104,8216,4120,1048,5128,9224,5144,9240,1032],Ya=[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1],Ab=[[12816,8481],[12306,8481],[12576,8481],[12801,8481],[12306,4128],[12321,4128],[12801,4128],[12546,4128],[12816,4128],[12576,4128],[12546,4386],[12576,
4386],[12306,4386],[12321,4386],[12816,4386],[12801,4386],[12576,8736],[12546,8736],[12816,8736],[12801,8736],[12321,8736],[12306,8736],[12816,8448],[12306,8448],[12801,8448],[12576,8448],[12546,8448],[12321,8448],[12321,4608],[12801,4608],[12306,4608],[12576,4608],[12546,4608],[12816,4608],[12546,4353],[12576,4353],[12306,4353],[12321,4353],[12816,4353],[12801,4353],[65535,0]],zb=[1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3],Bb=[0,4626,258,4386,546,33,18,273],
xb=[6,12,24,24,24,24,24,24],ub=[[4146,12816],[12546,12816],[12321,12816],[8961,12816],[12816,12321],[12816,12546],[12816,8961],[12306,12801],[8496,12321],[4896,12546],[12321,12546],[12546,12321],[12801,12801],[12576,12801],[4656,12306],[12306,12306],[531,12801],[8976,12801],[4656,12801],[12576,12306],[12801,12306]],rb=[1,4,4,2,4,4,2,4,4,4,4,4,4,4,1,1,4,4,4,4,4],wb=[[0,0],[4369,4626],[4369,4386],[4369,546],[4369,273],[17,8226],[17,4113],[17,8706],[17,273],[17,4368],[17,8736],[17,546],[17,4353],[257,
8226],[257,273],[257,546],[257,4113],[4369,258],[4369,18],[4369,33],[4369,0],[0,4626],[0,4386],[0,18],[0,33],[0,258],[0,273],[0,546],[17,0],[17,528],[17,8448],[17,33],[17,4098],[257,33],[257,528],[17,4128],[17,258],[17,8208],[17,513],[257,4128],[257,258],[17,4608],[17,288],[17,18],[17,8193],[257,18],[257,288],[17,4641],[17,4386],[17,8466],[17,8721],[257,4641],[257,4386],[17,8481],[17,4626],[257,8481],[257,4626],[257,0]],tb=[1,2,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,2,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,2,2,2];scrMgr.reg("333",$a)("333fm",function(){do{var b=$a();var f=b.split(" ");if(!(3>f.length)){var d=f[0][0];var h=f[1][0];var p=f[f.length-2][0];var n=f[f.length-3][0]}}while("F"==d||"B"==d&&"F"==h||"R"==p||"L"==p&&"R"==n);return"R' U' F "+b+"R' U' F"})("edges",z)("corners",Za)("ll",p)("lsll2",cb,["Easy-01 Easy-02 Easy-03 Easy-04 RE-05 RE-06 RE-07 RE-08 REFC-09 REFC-10 REFC-11 REFC-12 REFC-13 REFC-14 SPGO-15 SPGO-16 SPGO-17 SPGO-18 PMS-19 PMS-20 PMS-21 PMS-22 Weird-23 Weird-24 CPEU-25 CPEU-26 CPEU-27 CPEU-28 CPEU-29 CPEU-30 EPCU-31 EPCU-32 EPCU-33 EPCU-34 EPCU-35 EPCU-36 ECP-37 ECP-38 ECP-39 ECP-40 ECP-41 Solved-42".split(" "),
Ya])("f2l",nb)("zbll",bb,["H-BBFF H-FBFB H-RFLF H-RLFF L-FBRL L-LBFF L-LFFB L-LFFR L-LRFF L-RFBL Pi-BFFB Pi-FBFB Pi-FRFL Pi-FRLF Pi-LFRF Pi-RFFL S-FBBF S-FBFB S-FLFR S-FLRF S-LFFR S-LFRF T-BBFF T-FBFB T-FFLR T-FLFR T-RFLF T-RLFF U-BBFF U-BFFB U-FFLR U-FRLF U-LFFR U-LRFF aS-FBBF aS-FBFB aS-FRFL aS-FRLF aS-LFRF aS-RFFL PLL".split(" "),zb])("zzll",eb)("zbls",function(){return f(0xba9f7654ffff,0,1986002943,1048575)})("lse",lb)("cmll",gb,["O H L Pi S T U aS".split(" "),xb])("cll",ib)("ell",ab)("pll",function(b,
d,h){b=ub[scrMgr.fixCase(h,rb)];return f(b[0]+0xba9876540000,0,b[1]+1985216512,0,mb,mb)},["H Ua Ub Z Aa Ab E F Ga Gb Gc Gd Ja Jb Na Nb Ra Rb T V Y".split(" "),rb])("oll",function(b,d,h){b=wb[scrMgr.fixCase(h,tb)];return f(0xba987654ffff,b[0],1985282047,b[1],mb,mb)},["PLL Point-1 Point-2 Point-3 Point-4 Square-5 Square-6 SLBS-7 SLBS-8 Fish-9 Fish-10 SLBS-11 SLBS-12 Knight-13 Knight-14 Knight-15 Knight-16 Point-17 Point-18 Point-19 CO-20 OCLL-21 OCLL-22 OCLL-23 OCLL-24 OCLL-25 OCLL-26 OCLL-27 CO-28 Awkward-29 Awkward-30 P-31 P-32 T-33 C-34 Fish-35 W-36 Fish-37 W-38 BLBS-39 BLBS-40 Awkward-41 Awkward-42 P-43 P-44 T-45 C-46 L-47 L-48 L-49 L-50 I-51 I-52 L-53 L-54 I-55 I-56 CO-57".split(" "),
tb])("2gll",function(){return f(0xba987654ffff,0,1985229328,65535,mb)})("easyc",function(b,d){var h=cross.getEasyCross(d);return f(h[0],h[1],4294967295,4294967295)})("eoline",function(){return f(0xffff7f5fffff,0,4294967295,4294967295)});return{getRandomScramble:$a,getEdgeScramble:z,getCornerScramble:Za,getLLScramble:p,getLSLLScramble:cb,getZBLLScramble:bb,getZZLLScramble:eb,getF2LScramble:nb,getLSEScramble:lb,getCMLLScramble:gb,getCLLScramble:ib,getELLScramble:ab,getAnyScramble:f,genFacelet:function(b){return db.solution(b,
21,1E9,50,2)},solvFacelet:function(b){return db.solution(b,21,1E9,50,0)}}}(mathlib.getNPerm,mathlib.setNPerm,mathlib.set8Perm,mathlib.getNParity,mathlib.rn,mathlib.rndEl);var scramble_444=function(r,Sa,d){function w(b,f){var d;var h=Array(b);if(void 0!=f)for(d=0;d<b;d++)h[d]=Array(f);return h}function b(b,f,d){var h=pc[b];h&&!h.___clazz$?yb=h.prototype:(!h&&(h=pc[b]=function(){}),yb=h.prototype=0>f?{}:new pc[f],yb.castableTypeMap$=d);for(var p=3;p<arguments.length;++p)arguments[p].prototype=yb;h.___clazz$&&(yb.___clazz$=h.___clazz$,h.___clazz$=null)}function n(b){for(var f={},d=0,h=b.length;d<h;++d)f[b[d]]=1;return f}function h(){}function ua(){}function Xa(b,f){var d=
Array(f);if(3==b)for(var h=0;h<f;++h){var p={};p.l=p.m=p.h=0;d[h]=p}else if(0<b)for(p=[null,0,!1][b],h=0;h<f;++h)d[h]=p;return d}function Qa(b,f,d,h,p){h=Xa(p,h);v(b,f,d,h);return h}function v(b,f,d,h){Va();var p=Hc,n=Ic;Va();for(var r=0,z=p.length;r<z;++r)h[p[r]]=n[r];h.___clazz$=b;h.castableTypeMap$=f;h.queryId$=d;return h}function Va(){Va=h;Hc=[];Ic=[];var b=new ua,f=Hc,d=Ic,p=0,n,r;for(r in b)if(n=b[r])f[p]=r,d[p]=n,++p}function $a(){$a=h;zc=w(15582,36);qc=w(15582);Ub=w(15582);jc=w(48,48);Wb=
w(48,36);kc=w(48);Jc=w(48)}function Ta(b,f){var d;if(null!=f&&f.castableTypeMap$&&f.castableTypeMap$[21]){for(d=0;24>d;++d)if(b.ct[d]!=f.ct[d])return!1;return!0}return!1}function Ua(b){var f;var d=0;var h=8;for(f=23;0<=f;--f)1==b.ct[f]&&(d+=Sa[f][h--]);return d}function Ra(b){var d;if(null!=lc)return lc[Ua(b)];for(d=0;48>d;++d){var h=Ua(b);a:{var p;var n=0;for(p=qc.length-1;n<=p;){var r=n+(~~(p-n)>>1);var z=qc[r];if(z<h)n=r+1;else if(z>h)p=r-1;else{h=r;break a}}h=-n-1}h=0<=h?h:-1;if(-1!=h)return 64*
h+d;f(b,0);1==d%2&&f(b,1);7==d%8&&f(b,2);15==d%16&&f(b,3)}}function Wa(b,f){var d=f%3;switch(~~(f/3)){case 0:fb(b.ct,0,1,2,3,d);break;case 1:fb(b.ct,16,17,18,19,d);break;case 2:fb(b.ct,8,9,10,11,d);break;case 3:fb(b.ct,4,5,6,7,d);break;case 4:fb(b.ct,20,21,22,23,d);break;case 5:fb(b.ct,12,13,14,15,d);break;case 6:fb(b.ct,0,1,2,3,d);fb(b.ct,8,20,12,16,d);fb(b.ct,9,21,13,17,d);break;case 7:fb(b.ct,16,17,18,19,d);fb(b.ct,1,15,5,9,d);fb(b.ct,2,12,6,10,d);break;case 8:fb(b.ct,8,9,10,11,d);fb(b.ct,2,19,
4,21,d);fb(b.ct,3,16,5,22,d);break;case 9:fb(b.ct,4,5,6,7,d);fb(b.ct,10,18,14,22,d);fb(b.ct,11,19,15,23,d);break;case 10:fb(b.ct,20,21,22,23,d);fb(b.ct,0,8,4,14,d);fb(b.ct,3,11,7,13,d);break;case 11:fb(b.ct,12,13,14,15,d),fb(b.ct,1,20,7,18,d),fb(b.ct,0,23,6,17,d)}}function f(b,f){switch(f){case 0:Wa(b,19);Wa(b,28);break;case 1:Wa(b,21);Wa(b,32);break;case 2:fb(b.ct,0,3,1,2,1);fb(b.ct,8,11,9,10,1);fb(b.ct,4,7,5,6,1);fb(b.ct,12,15,13,14,1);fb(b.ct,16,19,21,22,1);fb(b.ct,17,18,20,23,1);break;case 3:Wa(b,
18),Wa(b,29),Wa(b,24),Wa(b,35)}}function z(b,d){var h;for(h=0;h<d;++h)f(b,0),1==h%2&&f(b,1),7==h%8&&f(b,2),15==h%16&&f(b,3)}function Za(b,f){var d;var h=8;for(d=23;0<=d;--d)b.ct[d]=0,f>=Sa[d][h]&&(f-=Sa[d][h--],b.ct[d]=1)}function p(b,f){var d;for(d=0;24>d;++d)b.ct[d]=f.ct[d]}function cb(){var b;this.ct=w(24);for(b=0;8>b;++b)this.ct[b]=1;for(b=8;24>b;++b)this.ct[b]=0}function nb(b,f){var d;this.ct=w(24);for(d=0;24>d;++d)this.ct[d]=~~(b.ct[d]/2)==f?1:0}function bb(b){var f;this.ct=w(24);for(f=0;24>
f;++f)this.ct[f]=b[f]}function eb(){eb=h;Ac=w(70,28);Bc=w(6435,28);id=w(70,16);jd=w(6435,16);Ob=w(450450);kd=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,1,0,0,0]}function lb(b){var f;var d=0;var h=8;for(f=14;0<=f;--f)b.ct[f]!=b.ct[15]&&(d+=Sa[f][h--]);return d}function gb(b){var f;var d=0;var h=4;for(f=6;0<=f;--f)b.rl[f]!=b.rl[7]&&(d+=Sa[f][h--]);return 2*d+b.parity}function ib(b,f){b.parity^=kd[f];var d=f%3;switch(~~(f/3)){case 0:fb(b.ct,0,1,2,3,d);break;case 1:fb(b.rl,0,1,2,
3,d);break;case 2:fb(b.ct,8,9,10,11,d);break;case 3:fb(b.ct,4,5,6,7,d);break;case 4:fb(b.rl,4,5,6,7,d);break;case 5:fb(b.ct,12,13,14,15,d);break;case 6:fb(b.ct,0,1,2,3,d);fb(b.rl,0,5,4,1,d);fb(b.ct,8,9,12,13,d);break;case 7:fb(b.rl,0,1,2,3,d);fb(b.ct,1,15,5,9,d);fb(b.ct,2,12,6,10,d);break;case 8:fb(b.ct,8,9,10,11,d);fb(b.rl,0,3,6,5,d);fb(b.ct,3,2,5,4,d);break;case 9:fb(b.ct,4,5,6,7,d);fb(b.rl,3,2,7,6,d);fb(b.ct,11,10,15,14,d);break;case 10:fb(b.rl,4,5,6,7,d);fb(b.ct,0,8,4,14,d);fb(b.ct,3,11,7,13,
d);break;case 11:fb(b.ct,12,13,14,15,d),fb(b.rl,1,4,7,2,d),fb(b.ct,1,0,7,6,d)}}function ab(b,f){switch(f){case 0:ib(b,19);ib(b,28);break;case 1:ib(b,21);ib(b,32);break;case 2:fb(b.ct,0,3,1,2,1),fb(b.ct,8,11,9,10,1),fb(b.ct,4,7,5,6,1),fb(b.ct,12,15,13,14,1),fb(b.rl,0,3,5,6,1),fb(b.rl,1,2,4,7,1)}}function jb(b,f,d){var h;for(h=0;16>h;++h)b.ct[h]=~~(f.ct[h]/2);for(h=0;8>h;++h)b.rl[h]=f.ct[h+16];b.parity=d}function sb(b,f){var d;var h=8;b.ct[15]=0;for(d=14;0<=d;--d)f>=Sa[d][h]?(f-=Sa[d][h--],b.ct[d]=
1):b.ct[d]=0}function ob(b,f){var d;b.parity=f&1;f>>>=1;var h=4;b.rl[7]=0;for(d=6;0<=d;--d)f>=Sa[d][h]?(f-=Sa[d][h--],b.rl[d]=1):b.rl[d]=0}function db(){this.rl=w(8);this.ct=w(16)}function mb(){mb=h;rc=w(29400,20);ld=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1];bc=w(29400);Kc=[0,9,14,23,27,28,41,42,46,55,60,69];Lc=w(70)}function hb(b){var f;var d=0;var h=4;for(f=6;0<=f;--f)b.ud[f]!=b.ud[7]&&(d+=Sa[f][h--]);d*=35;h=4;for(f=6;0<=f;--f)b.fb[f]!=b.fb[7]&&(d+=Sa[f][h--]);var p=b.fb[7]^b.ud[7];var n=0;h=4;
for(f=7;0<=f;--f)b.rl[f]!=p&&(n+=Sa[f][h--]);return b.parity+2*(12*d+Lc[n])}function kb(b,f,d){var h;var p=f.ct[0]>f.ct[8]^f.ct[8]>f.ct[16]^f.ct[0]>f.ct[16]?1:0;for(h=0;8>h;++h)b.ud[h]=f.ct[h]&1^1,b.fb[h]=f.ct[h+8]&1^1,b.rl[h]=f.ct[h+16]&1^1^p;b.parity=p^d}function pb(){this.ud=w(8);this.rl=w(8);this.fb=w(8)}function qb(){qb=h}function Ya(){var b;this.ct=w(24);for(b=0;24>b;++b)this.ct[b]=~~(b/4)}function Ab(b){Ya.call(this);for(b=0;23>b;++b){var f=b+r(24-b);if(this.ct[f]!=this.ct[b]){var d=this.ct[b];
this.ct[b]=this.ct[f];this.ct[f]=d}}}function zb(){zb=h;Tb=w(18);var b,f;Tb[0]=new wb(15120,0);Tb[3]=new wb(21021,1494);Tb[6]=new wb(8064,1236);Tb[9]=new wb(9,0);Tb[12]=new wb(1230,412);Tb[15]=new wb(224,137);for(b=0;18>b;b+=3)for(f=0;2>f;++f)Tb[b+f+1]=new rb,ub(Tb[b+f],Tb[b],Tb[b+f+1])}function Bb(b){b.cp=[0,1,2,3,4,5,6,7];b.co=[0,0,0,0,0,0,0,0]}function xb(b,f){var d;for(d=0;8>d;++d)b.cp[d]=f.cp[d],b.co[d]=f.co[d]}function ub(b,f,d){var h;for(h=0;8>h;++h){d.cp[h]=b.cp[f.cp[h]];var p=b.co[f.cp[h]];
var n=f.co[h];var r=p;r+=3>p?n:6-n;r%=3;3<=p^3<=n&&(r+=3);d.co[h]=r}}function rb(){Bb(this)}function wb(b,f){Bb(this);mathlib.set8Perm(this.cp,b);var d=f,h;var p=0;for(h=6;0<=h;--h)p+=this.co[h]=d%3,d=~~(d/3);this.co[7]=(15-p)%3}function tb(b){wb.call(this,r(40320),r(2187))}function Lb(){Lb=h;Xb=w(1937880);Cc=w(1538);Dc=w(1538);mc=w(11880);md=[0,1,6,3,4,5,2,7];Mc=w(160,12);Nc=w(160,12);Oc=[1,1,1,3,12,60,360,2520,20160,181440,1814400,19958400,239500800];Pc=[0,2,4,6,1,3,7,5,8,9,10,11]}function Hb(b,
f,d,h,p){var n=b.edgeo[p];b.edgeo[p]=b.edge[h];b.edge[h]=b.edgeo[d];b.edgeo[d]=b.edge[f];b.edge[f]=n}function Cb(b,f){var d;b.isStd||Eb(b);var h=0;var p=1985229328;var n=47768;for(d=0;d<f;++d){var r=b.edge[d]<<2;h*=12-d;32<=r?(h+=n>>r-32&15,n-=4368<<r-32):(h+=p>>r&15,n-=4369,p-=286331152<<r)}return h}function Gb(b){var f=Cb(b,4);f=mc[f];var d=f&7;f>>=3;Pb(b,d);b=Cb(b,10)%20160;return 20160*f+b}function Qb(b,f){b.isStd=!1;switch(f){case 0:d(b.edge,0,4,1,5);d(b.edgeo,0,4,1,5);break;case 1:vb(b.edge,
0,4,1,5);vb(b.edgeo,0,4,1,5);break;case 2:d(b.edge,0,5,1,4);d(b.edgeo,0,5,1,4);break;case 3:vb(b.edge,5,10,6,11);vb(b.edgeo,5,10,6,11);break;case 4:d(b.edge,0,11,3,8);d(b.edgeo,0,11,3,8);break;case 5:vb(b.edge,0,11,3,8);vb(b.edgeo,0,11,3,8);break;case 6:d(b.edge,0,8,3,11);d(b.edgeo,0,8,3,11);break;case 7:d(b.edge,2,7,3,6);d(b.edgeo,2,7,3,6);break;case 8:vb(b.edge,2,7,3,6);vb(b.edgeo,2,7,3,6);break;case 9:d(b.edge,2,6,3,7);d(b.edgeo,2,6,3,7);break;case 10:vb(b.edge,4,8,7,9);vb(b.edgeo,4,8,7,9);break;
case 11:d(b.edge,1,9,2,10);d(b.edgeo,1,9,2,10);break;case 12:vb(b.edge,1,9,2,10);vb(b.edgeo,1,9,2,10);break;case 13:d(b.edge,1,10,2,9);d(b.edgeo,1,10,2,9);break;case 14:vb(b.edge,0,4,1,5);vb(b.edgeo,0,4,1,5);d(b.edge,9,11);d(b.edgeo,8,10);break;case 15:vb(b.edge,5,10,6,11);vb(b.edgeo,5,10,6,11);d(b.edge,1,3);d(b.edgeo,0,2);break;case 16:vb(b.edge,0,11,3,8);vb(b.edgeo,0,11,3,8);d(b.edge,5,7);d(b.edgeo,4,6);break;case 17:vb(b.edge,2,7,3,6);vb(b.edgeo,2,7,3,6);d(b.edge,8,10);d(b.edgeo,9,11);break;case 18:vb(b.edge,
4,8,7,9);vb(b.edgeo,4,8,7,9);d(b.edge,0,2);d(b.edgeo,1,3);break;case 19:vb(b.edge,1,9,2,10),vb(b.edgeo,1,9,2,10),d(b.edge,4,6),d(b.edgeo,5,7)}}function Db(b,f){b.isStd=!1;switch(f){case 0:Qb(b,14);Qb(b,17);break;case 1:Hb(b,11,5,10,6);Hb(b,5,10,6,11);Hb(b,1,2,3,0);Hb(b,4,9,7,8);Hb(b,8,4,9,7);Hb(b,0,1,2,3);break;case 2:Jb(b,4,5),Jb(b,5,4),Jb(b,11,8),Jb(b,8,11),Jb(b,7,6),Jb(b,6,7),Jb(b,9,10),Jb(b,10,9),Jb(b,1,1),Jb(b,0,0),Jb(b,3,3),Jb(b,2,2)}}function Pb(b,f){for(;2<=f;)f-=2,Db(b,1),Db(b,2);0!=f&&Db(b,
0)}function Nb(b,f){var d,h;var p=1985229328;var n=47768;for(d=h=0;11>d;++d){var r=Oc[11-d];var z=~~(f/r);f%=r;h^=z;z<<=2;32<=z?(z-=32,b.edge[d]=n>>z&15,r=(1<<z)-1,n=(n&r)+(n>>4&~r)):(b.edge[d]=p>>z&15,r=(1<<z)-1,p=(p&r)+(p>>>4&~r)+(n<<28),n>>=4)}0==(h&1)?b.edge[11]=p:(b.edge[11]=b.edge[10],b.edge[10]=p);for(d=0;12>d;++d)b.edgeo[d]=d;b.isStd=!0}function Fb(b,f){var d;for(d=0;12>d;++d)b.edge[d]=f.edge[d],b.edgeo[d]=f.edgeo[d];b.isStd=f.isStd}function Kb(b,f){var d;null==b.temp&&(b.temp=w(12));for(d=
0;12>d;++d)b.temp[d]=d,b.edge[d]=f.ep[Pc[d]+12]%12;var h=1;for(d=0;12>d;++d)for(;b.edge[d]!=d;){var p=b.edge[d];b.edge[d]=b.edge[p];b.edge[p]=p;var n=b.temp[d];b.temp[d]=b.temp[p];b.temp[p]=n;h^=1}for(d=0;12>d;++d)b.edge[d]=b.temp[f.ep[Pc[d]]%12];return h}function Eb(b){var f;null==b.temp&&(b.temp=w(12));for(f=0;12>f;++f)b.temp[b.edgeo[f]]=f;for(f=0;12>f;++f)b.edge[f]=b.temp[b.edge[f]],b.edgeo[f]=f;b.isStd=!0}function vb(b,f,d,h,p){var n=b[f];b[f]=b[h];b[h]=n;n=b[d];b[d]=b[p];b[p]=n}function Jb(b,
f,d){var h=b.edge[f];b.edge[f]=b.edgeo[d];b.edgeo[d]=h}function Ib(){this.edge=w(12);this.edgeo=w(12)}function Yb(b,f){return b[f>>4]>>((f&15)<<1)&3}function Rb(b,f,d){var h=Nc[f];var p=Mc[f];var n=0;var r=1985229328;var z=47768;for(f=0;f<d;++f){var v=h[b[p[f]]]<<2;n*=12-f;32<=v?(n+=z>>v-32&15,z-=4368<<v-32):(n+=r>>v&15,z-=4369,r-=286331152<<v)}return n}function gc(b){var f=new Ib;var d=0;var h=Yb(Xb,b);if(3==h)return 10;for(;0!=b;){0==h?h=2:--h;var p=~~(b/20160);p=Cc[p];var n=b%20160;Nb(f,20160*
p+n);for(p=0;17>p;++p){n=Rb(f.edge,p<<3,4);n=mc[n];var r=n&7;n>>=3;r=Rb(f.edge,p<<3|r,10)%20160;n=20160*n+r;if(Yb(Xb,n)==h){++d;b=n;break}}}return d}function Zb(b,f,d){b[f>>4]^=(3^d)<<((f&15)<<1)}function ic(){ic=h}function ac(){var b;this.ep=w(24);for(b=0;24>b;++b)this.ep[b]=b}function $b(b){ac.call(this);for(b=0;23>b;++b){var f=b+r(24-b);if(f!=b){var d=this.ep[b];this.ep[b]=this.ep[f];this.ep[f]=d}}}function dc(){dc=h;Qc=[35,1,34,2,4,6,22,5,19]}function Vb(b,f){var d=b.edge;var h=f.edge,p;for(p=
0;24>p;++p)d.ep[p]=h.ep[p];d=b.center;h=f.center;for(p=0;24>p;++p)d.ct[p]=h.ct[p];xb(b.corner,f.corner);b.value=f.value;b.add1=f.add1;b.length1=f.length1;b.length2=f.length2;b.length3=f.length3;b.sym=f.sym;for(d=0;60>d;++d)b.moveBuffer[d]=f.moveBuffer[d];b.moveLength=f.moveLength;b.edgeAvail=f.edgeAvail;b.centerAvail=f.centerAvail;b.cornerAvail=f.cornerAvail}function Sb(b){for(;b.centerAvail<b.moveLength;){var f=b.center,d=b.moveBuffer[b.centerAvail++];var h=d%3;switch(~~(d/3)){case 0:fb(f.ct,0,1,
2,3,h);break;case 1:fb(f.ct,16,17,18,19,h);break;case 2:fb(f.ct,8,9,10,11,h);break;case 3:fb(f.ct,4,5,6,7,h);break;case 4:fb(f.ct,20,21,22,23,h);break;case 5:fb(f.ct,12,13,14,15,h);break;case 6:fb(f.ct,0,1,2,3,h);fb(f.ct,8,20,12,16,h);fb(f.ct,9,21,13,17,h);break;case 7:fb(f.ct,16,17,18,19,h);fb(f.ct,1,15,5,9,h);fb(f.ct,2,12,6,10,h);break;case 8:fb(f.ct,8,9,10,11,h);fb(f.ct,2,19,4,21,h);fb(f.ct,3,16,5,22,h);break;case 9:fb(f.ct,4,5,6,7,h);fb(f.ct,10,18,14,22,h);fb(f.ct,11,19,15,23,h);break;case 10:fb(f.ct,
20,21,22,23,h);fb(f.ct,0,8,4,14,h);fb(f.ct,3,11,7,13,h);break;case 11:fb(f.ct,12,13,14,15,h),fb(f.ct,1,20,7,18,h),fb(f.ct,0,23,6,17,h)}}return b.center}function ec(b){for(;b.cornerAvail<b.moveLength;){var f=b.corner,d=b.moveBuffer[b.cornerAvail++]%18;!f.temps&&(f.temps=new rb);ub(f,Tb[d],f.temps);xb(f,f.temps)}return b.corner}function Mb(b){for(;b.edgeAvail<b.moveLength;){var f=b.edge,d=b.moveBuffer[b.edgeAvail++];var h=d%3;switch(~~(d/3)){case 0:fb(f.ep,0,1,2,3,h);fb(f.ep,12,13,14,15,h);break;case 1:fb(f.ep,
11,15,10,19,h);fb(f.ep,23,3,22,7,h);break;case 2:fb(f.ep,0,11,6,8,h);fb(f.ep,12,23,18,20,h);break;case 3:fb(f.ep,4,5,6,7,h);fb(f.ep,16,17,18,19,h);break;case 4:fb(f.ep,1,20,5,21,h);fb(f.ep,13,8,17,9,h);break;case 5:fb(f.ep,2,9,4,10,h);fb(f.ep,14,21,16,22,h);break;case 6:fb(f.ep,0,1,2,3,h);fb(f.ep,12,13,14,15,h);fb(f.ep,9,22,11,20,h);break;case 7:fb(f.ep,11,15,10,19,h);fb(f.ep,23,3,22,7,h);fb(f.ep,2,16,6,12,h);break;case 8:fb(f.ep,0,11,6,8,h);fb(f.ep,12,23,18,20,h);fb(f.ep,3,19,5,13,h);break;case 9:fb(f.ep,
4,5,6,7,h);fb(f.ep,16,17,18,19,h);fb(f.ep,8,23,10,21,h);break;case 10:fb(f.ep,1,20,5,21,h);fb(f.ep,13,8,17,9,h);fb(f.ep,14,0,18,4,h);break;case 11:fb(f.ep,2,9,4,10,h),fb(f.ep,14,21,16,22,h),fb(f.ep,7,15,1,17,h)}}return b.edge}function sd(b){var d,h;var p=Array(b.moveLength-(b.add1?2:0));for(d=h=0;d<b.length1;++d)p[h++]=b.moveBuffer[d];var n=b.sym;for(d=b.length1+(b.add1?2:0);d<b.moveLength;++d)if(27<=Wb[n][b.moveBuffer[d]]){p[h++]=Wb[n][b.moveBuffer[d]]-9;var r=Qc[Wb[n][b.moveBuffer[d]]-27];n=jc[n][r]}else p[h++]=
Wb[n][b.moveBuffer[d]];d=jc[kc[n]];a:{b=Sb(b);var z;b=new bb(b.ct);for(z=0;48>z;++z){n=!0;for(r=0;24>r;++r)if(b.ct[r]!=~~(r/4)){n=!1;break}if(n){b=z;break a}f(b,0);1==z%2&&f(b,1);7==z%8&&f(b,2);15==z%16&&f(b,3)}b=-1}d=d[b];b="";n=d;for(d=h-1;0<=d;--d)h=p[d],h=3*~~(h/3)+(2-h%3),27<=Wb[n][h]?(b=b+Rc[Wb[n][h]-9]+" ",r=Qc[Wb[n][h]-27],n=jc[n][r]):b=b+Rc[Wb[n][h]]+" ";return b}function cc(b,f){b.moveBuffer[b.moveLength++]=f}function uc(){this.moveBuffer=w(60);this.edge=new ac;this.center=new Ya;this.corner=
new rb}function vc(b){uc.call(this);Vb(this,b)}function Uc(b){this.moveBuffer=w(60);this.edge=new $b(b);this.center=new Ab(b);this.corner=new tb(b)}function Vc(){}function Wc(){Wc=h;var b,f;Rc="U  ;U2 ;U' ;R  ;R2 ;R' ;F  ;F2 ;F' ;D  ;D2 ;D' ;L  ;L2 ;L' ;B  ;B2 ;B' ;Uw ;Uw2;Uw';Rw ;Rw2;Rw';Fw ;Fw2;Fw';Dw ;Dw2;Dw';Lw ;Lw2;Lw';Bw ;Bw2;Bw'".split(";");fc=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,19,21,22,23,25,28,30,31,32,34,36];sc=[0,1,2,4,6,7,8,9,10,11,13,15,16,17,19,22,25,28,31,34,36];nd=w(37);
od=w(37);nc=w(37,36);Ec=w(29,28);Fc=w(21,20);Sc=w(36);tc=w(28);oc=w(20);for(b=0;29>b;++b)nd[fc[b]]=b;for(b=0;21>b;++b)od[sc[b]]=b;for(b=0;36>b;++b){for(f=0;36>f;++f)nc[b][f]=~~(b/3)==~~(f/3)||~~(b/3)%3==~~(f/3)%3&&b>f;nc[36][b]=!1}for(b=0;29>b;++b)for(f=0;28>f;++f)Ec[b][f]=nc[fc[b]][fc[f]];for(b=0;21>b;++b)for(f=0;20>f;++f)Fc[b][f]=nc[sc[b]][sc[f]];for(b=0;36>b;++b)for(Sc[b]=36,f=b;36>f;++f)if(!nc[b][f]){Sc[b]=f-1;break}for(b=0;28>b;++b)for(tc[b]=28,f=b;28>f;++f)if(!Ec[b][f]){tc[b]=f-1;break}for(b=
0;20>b;++b)for(oc[b]=20,f=b;20>f;++f)if(!Fc[b][f]){oc[b]=f-1;break}}function td(b){b.solution="";var f=Ra(new nb(Sb(b.c),0));var d=Ra(new nb(Sb(b.c),1));var h=Ra(new nb(Sb(b.c),2));var p=Ub[~~f>>6];var r=Ub[~~d>>6];var z=Ub[~~h>>6];b.p1SolsCnt=0;b.arr2idx=0;vd(b.p1sols.heap);for(b.length1=(p<r?p:r)<z?p<r?p:r:z;100>b.length1&&!(z<=b.length1&&wc(b,~~h>>>6,h&63,b.length1,-1,0)||p<=b.length1&&wc(b,~~f>>>6,f&63,b.length1,-1,0)||r<=b.length1&&wc(b,~~d>>>6,d&63,b.length1,-1,0));++b.length1);z=xd(b.p1sols,
Qa(yd,n([25,30,40]),24,0,0));z.sort(function(b,f){return b.value-f.value});r=9;do{h=z[0].value;a:for(;100>h;++h)for(d=0;d<z.length&&!(z[d].value>h);++d)if(!(h-z[d].length1>r)&&(Vb(b.c1,z[d]),jb(b.ct2,Sb(b.c1),xc(Mb(b.c1).ep)),f=lb(b.ct2),p=gb(b.ct2),b.length1=z[d].length1,b.length2=h-z[d].length1,Xc(b,f,p,b.length2,28,0)))break a;++r}while(100==h);b.arr2.sort(function(b,f){return b.value-f.value});z=0;h=13;do{r=b.arr2[0].value;a:for(;100>r;++r)for(d=0;d<Math.min(b.arr2idx,100)&&!(b.arr2[d].value>
r);++d)if(!(r-b.arr2[d].length1-b.arr2[d].length2>h)){f=Kb(b.e12,Mb(b.arr2[d]));kb(b.ct3,Sb(b.arr2[d]),f^xc(ec(b.arr2[d]).cp));f=hb(b.ct3);p=Cb(b.e12,10);var v=gc(Gb(b.e12));if(v<=r-b.arr2[d].length1-b.arr2[d].length2&&Yc(b,p,f,v,r-b.arr2[d].length1-b.arr2[d].length2,20,0)){z=d;break a}}++h}while(100==r);h=new vc(b.arr2[z]);b.length1=h.length1;b.length2=h.length2;r=r-b.length1-b.length2;for(d=0;d<r;++d)cc(h,sc[b.move3[d]]);b.solution=sd(h)}function ud(b,d){if(!pd){var h,n,r;var v=new cb;for(h=0;24>
h;++h)v.ct[h]=h;var Ya=new bb(v.ct);var ua=new bb(v.ct);var Qa=new bb(v.ct);for(h=0;48>h;++h){for(n=0;48>n;++n){for(r=0;48>r;++r)Ta(v,Ya)&&(jc[h][n]=r,0==r&&(kc[h]=n)),f(Ya,0),1==r%2&&f(Ya,1),7==r%8&&f(Ya,2),15==r%16&&f(Ya,3);f(v,0);1==n%2&&f(v,1);7==n%8&&f(v,2);15==n%16&&f(v,3)}f(v,0);1==h%2&&f(v,1);7==h%8&&f(v,2);15==h%16&&f(v,3)}for(h=0;48>h;++h)for(p(v,ua),z(v,kc[h]),n=0;36>n;++n)for(p(Ya,v),Wa(Ya,n),z(Ya,h),r=0;36>r;++r)if(p(Qa,ua),Wa(Qa,r),Ta(Qa,Ya)){Wb[h][n]=r;break}Za(v,0);for(h=0;48>h;++h)Jc[kc[h]]=
Ua(v),f(v,0),1==h%2&&f(v,1),7==h%8&&f(v,2),15==h%16&&f(v,3);lc=w(735471);v=new cb;n=w(22984);for(ua=0;22984>ua;ua++)n[ua]=0;for(ua=Ya=0;735471>ua;++ua)if(0==(n[~~ua>>>5]&1<<(ua&31))){Za(v,ua);for(h=0;48>h;++h)Qa=Ua(v),n[~~Qa>>>5]|=1<<(Qa&31),null!=lc&&(lc[Qa]=Ya<<6|kc[h]),f(v,0),1==h%2&&f(v,1),7==h%8&&f(v,2),15==h%16&&f(v,3);qc[Ya++]=ua}v=new cb;Ya=new cb;for(ua=0;15582>ua;++ua)for(Za(Ya,qc[ua]),Qa=0;36>Qa;++Qa)p(v,Ya),Wa(v,Qa),zc[ua][Qa]=Ra(v);lc=null;yc(Ub);Ya=Ub[0]=0;for(ua=1;15582!=ua;){var Va=
(n=4<Ya)?-1:Ya;v=n?Ya:-1;++Ya;for(Qa=0;15582>Qa;++Qa)if(Ub[Qa]==Va)for(r=0;27>r;++r)if(h=~~zc[Qa][r]>>>6,Ub[h]==v)if(++ua,n){Ub[Qa]=Ya;break}else Ub[h]=Ya}ua=new db;for(v=0;70>v;++v)for(Ya=0;28>Ya;++Ya)ob(ua,v),ib(ua,fc[Ya]),Ac[v][Ya]=gb(ua);for(v=0;70>v;++v)for(ob(ua,v),Ya=0;16>Ya;++Ya)id[v][Ya]=gb(ua),ab(ua,0),1==Ya%2&&ab(ua,1),7==Ya%8&&ab(ua,2);for(v=0;6435>v;++v)for(sb(ua,v),Ya=0;16>Ya;++Ya)jd[v][Ya]=lb(ua)&65535,ab(ua,0),1==Ya%2&&ab(ua,1),7==Ya%8&&ab(ua,2);for(v=0;6435>v;++v)for(Ya=0;28>Ya;++Ya)sb(ua,
v),ib(ua,fc[Ya]),Bc[v][Ya]=lb(ua)&65535;yc(Ob);Qa=Ob[0]=Ob[18]=Ob[28]=Ob[46]=Ob[54]=Ob[56]=0;for(h=6;450450!=h;){Va=(r=6<Qa)?-1:Qa;var Xa=r?Qa:-1;++Qa;for(v=0;450450>v;++v)if(Ob[v]==Va)for(ua=~~(v/70),n=v%70,Ya=0;23>Ya;++Ya){var $a=Bc[ua][Ya];var mb=Ac[n][Ya];$a=70*$a+mb;if(Ob[$a]==Xa)if(++h,r){Ob[v]=Qa;break}else Ob[$a]=Qa}}for(v=0;12>v;++v)Lc[Kc[v]]=v;ua=new pb;for(v=0;29400>v;++v)for(Ya=0;20>Ya;++Ya){n=ua;r=v;n.parity=r&1;r>>>=1;Va=Kc[r%12];r=~~(r/12);Qa=4;for(h=7;0<=h;--h)n.rl[h]=0,Va>=Sa[h][Qa]&&
(Va-=Sa[h][Qa--],n.rl[h]=1);Va=r%35;r=~~(r/35);Qa=4;n.fb[7]=0;for(h=6;0<=h;--h)Va>=Sa[h][Qa]?(Va-=Sa[h][Qa--],n.fb[h]=1):n.fb[h]=0;Qa=4;n.ud[7]=0;for(h=6;0<=h;--h)r>=Sa[h][Qa]?(r-=Sa[h][Qa--],n.ud[h]=1):n.ud[h]=0;Qa=ua;h=Ya;Qa.parity^=ld[h];switch(h){case 0:case 1:case 2:fb(Qa.ud,0,1,2,3,h%3);break;case 3:fb(Qa.rl,0,1,2,3,1);break;case 4:case 5:case 6:fb(Qa.fb,0,1,2,3,(h-1)%3);break;case 7:case 8:case 9:fb(Qa.ud,4,5,6,7,(h-1)%3);break;case 10:fb(Qa.rl,4,5,6,7,1);break;case 11:case 12:case 13:fb(Qa.fb,
4,5,6,7,(h+1)%3);break;case 14:fb(Qa.ud,0,1,2,3,1);fb(Qa.rl,0,5,4,1,1);fb(Qa.fb,0,5,4,1,1);break;case 15:fb(Qa.rl,0,1,2,3,1);fb(Qa.fb,1,4,7,2,1);fb(Qa.ud,1,6,5,2,1);break;case 16:fb(Qa.fb,0,1,2,3,1);fb(Qa.ud,3,2,5,4,1);fb(Qa.rl,0,3,6,5,1);break;case 17:fb(Qa.ud,4,5,6,7,1);fb(Qa.rl,3,2,7,6,1);fb(Qa.fb,3,2,7,6,1);break;case 18:fb(Qa.rl,4,5,6,7,1);fb(Qa.fb,0,3,6,5,1);fb(Qa.ud,0,3,4,7,1);break;case 19:fb(Qa.fb,4,5,6,7,1),fb(Qa.ud,0,7,6,1,1),fb(Qa.rl,1,4,7,2,1)}rc[v][Ya]=hb(ua)&65535}yc(bc);ua=bc[0]=0;
for(Qa=1;29400!=Qa;){for(v=0;29400>v;++v)if(bc[v]==ua)for(Ya=0;17>Ya;++Ya)-1==bc[rc[v][Ya]]&&(bc[rc[v][Ya]]=ua+1,++Qa);++ua}v=new Ib;for(ua=0;20>ua;++ua)for(Qa=0;8>Qa;++Qa){Nb(v,0);Qb(v,ua);Pb(v,Qa);for(Ya=0;12>Ya;++Ya)Mc[ua<<3|Qa][Ya]=v.edge[Ya];Eb(v);for(Ya=0;12>Ya;++Ya)Nc[ua<<3|Qa][Ya]=v.temp[Ya]}Ya=new Ib;n=w(1485);for(ua=0;1485>ua;ua++)n[ua]=0;for(ua=v=0;11880>ua;++ua)if(0==(n[~~ua>>>3]&1<<(ua&7))){Nb(Ya,ua*Oc[8]);for(h=0;8>h;++h)Qa=Cb(Ya,4),Qa==ua&&(Dc[v]=(Dc[v]|1<<h)&65535),n[~~Qa>>3]|=1<<
(Qa&7),mc[Qa]=v<<3|md[h],Db(Ya,0),1==h%2&&(Db(Ya,1),Db(Ya,2));Cc[v++]=ua}var eb;ua=new Ib;Qa=new Ib;n=new Ib;yc(Xb);Ya=0;Gc=1;for(Zb(Xb,0,0);31006080!=Gc;){r=9<Ya;Va=Ya%3;v=(Ya+1)%3;h=r?3:Va;Va=r?Va:3;if(9<=Ya)break;for(mb=0;31006080>mb;mb+=16){var Ab=Xb[~~mb>>4];if(r||-1!=Ab)for($a=mb,Xa=mb+16;$a<Xa;++$a,Ab>>=2)if((Ab&3)==h){var nb=~~($a/20160);nb=Cc[nb];var kb=$a%20160;Nb(ua,20160*nb+kb);for(nb=0;17>nb;++nb){kb=Rb(ua.edge,nb<<3,4);kb=mc[kb];var jb=kb&7;kb>>=3;var qb=Rb(ua.edge,nb<<3|jb,10)%20160;
qb=20160*kb+qb;if(Yb(Xb,qb)==Va){Zb(Xb,r?$a:qb,v);++Gc;if(r)break;qb=Dc[kb];if(1!=qb)for(Fb(Qa,ua),Qb(Qa,nb),Pb(Qa,jb),eb=1;0!=(qb=~~qb>>1&65535);++eb)1==(qb&1)&&(Fb(n,Qa),Pb(n,eb),jb=20160*kb+Cb(n,10)%20160,Yb(Xb,jb)==Va&&(Zb(Xb,jb,v),++Gc))}}}}++Ya}pd=!0}b.c=new Uc(d);td(b);return b.solution}function wc(b,f,d,h,p,n){var r,z,v;if(0==f){if(f=0==h){Vb(b.c1,b.c);for(f=0;f<b.length1;++f)cc(b.c1,b.move1[f]);switch(Jc[d]){case 0:cc(b.c1,24);cc(b.c1,35);b.move1[b.length1]=24;b.move1[b.length1+1]=35;b.add1=
!0;d=19;break;case 12869:cc(b.c1,18);cc(b.c1,29);b.move1[b.length1]=18;b.move1[b.length1+1]=29;b.add1=!0;d=34;break;case 735470:b.add1=!1,d=0}jb(b.ct2,Sb(b.c1),xc(Mb(b.c1).ep));f=lb(b.ct2);h=gb(b.ct2);b.c1.value=Ob[70*f+h]+b.length1;b.c1.length1=b.length1;b.c1.add1=b.add1;b.c1.sym=d;++b.p1SolsCnt;if(500>b.p1sols.heap.size)var w=new vc(b.c1);else{d=b.p1sols;if(0==d.heap.size)w=null;else{f=d.heap.array[0];h=d.heap;p=d.heap.size-1;n=h.array[p];h.array.splice(p,1);--h.size;if(0<d.heap.size){hc(d.heap,
0,n);h=0;p=d.heap.size;for(v=d.heap.array[h];2*h+1<p;){n=(r=2*h+1,w=r+1,z=r,w<p&&0>d.heap.array[r].value-d.heap.array[w].value&&(z=w),z);if(0>d.heap.array[n].value-v.value)break;hc(d.heap,h,d.heap.array[n]);h=n}hc(d.heap,h,v)}w=f}w.value>b.c1.value&&Vb(w,b.c1)}r=b.p1sols;b:{z=r.heap.size;d=r.heap;f=d.size++;for(d.array[f]=w;0<z;){d=z;z=~~((z-1)/2);if(0>=w.value-r.heap.array[z].value){hc(r.heap,d,w);break b}hc(r.heap,d,r.heap.array[z])}hc(r.heap,z,w)}f=1E4==b.p1SolsCnt}return f}for(r=0;27>r;r+=3)if(r!=
p&&r!=p-9&&r!=p-18)for(v=0;3>v;++v){z=r+v;w=zc[f][Wb[d][z]];var Ya=Ub[~~w>>>6];if(Ya>=h){if(Ya>h)break}else if(Ya=jc[d][w&63],w>>>=6,b.move1[n]=z,wc(b,w,Ya,h-1,r,n+1))return!0}return!1}function Xc(b,f,d,h,p,n){var r;if(0==f&&0==Ob[d]){if(f=0==h){Vb(b.c2,b.c1);for(f=0;f<b.length2;++f)cc(b.c2,b.move2[f]);f=Mb(b.c2);d=0;p=!1;for(h=0;12>h;++h)d|=1<<f.ep[h],p=p!=12<=f.ep[h];0!=(d&~~d>>12)||p?f=!1:(f=Kb(b.e12,Mb(b.c2)),kb(b.ct3,Sb(b.c2),f^xc(ec(b.c2).cp)),f=hb(b.ct3),Cb(b.e12,10),d=gc(Gb(b.e12)),b.arr2[b.arr2idx]?
Vb(b.arr2[b.arr2idx],b.c2):b.arr2[b.arr2idx]=new vc(b.c2),b.arr2[b.arr2idx].value=b.length1+b.length2+Math.max(d,bc[f]),b.arr2[b.arr2idx].length2=b.length2,++b.arr2idx,f=b.arr2idx==b.arr2.length)}return f}for(r=0;23>r;++r)if(Ec[p][r])r=tc[r];else{var z=Bc[f][r];var v=Ac[d][r];var w=Ob[70*z+v];if(w>=h)w>h&&(r=tc[r]);else if(b.move2[n]=fc[r],Xc(b,z,v,h-1,r,n+1))return!0}return!1}function Yc(b,f,d,h,p,n,r){var z;if(0==p)return 0==f&&0==d;Nb(b.tempe[r],f);for(z=0;17>z;++z)if(Fc[n][z])z=oc[z];else{f=rc[d][z];
var v=bc[f];if(v>=p)v>p&&14>z&&(z=oc[z]);else{v=Rb(b.tempe[r].edge,z<<3,10);var w=~~(v/20160);w=mc[w];var Ya=w&7;w>>=3;var ua=Rb(b.tempe[r].edge,z<<3|Ya,10)%20160;Ya=h;w=Yb(Xb,20160*w+ua);w=3==w?10:(1227133513<<w>>Ya&3)+Ya-1;if(w>=p)w>p&&14>z&&(z=oc[z]);else if(Yc(b,v,f,w,p-1,z,r+1))return b.move3[r]=z,!0}}return!1}function Zc(){var b;this.p1sols=new fd(new Vc);this.move1=w(15);this.move2=w(20);this.move3=w(20);this.c1=new uc;this.c2=new uc;this.ct2=new db;this.ct3=new pb;this.e12=new Ib;this.tempe=
w(20);this.arr2=w(100);for(b=0;20>b;++b)this.tempe[b]=new Ib}function $c(){$c=h}function xc(b){var f,d,h;var p=h=0;for(d=b.length;p<d;++p)for(f=p;f<d;++f)b[p]>b[f]&&(h^=1);return h}function fb(b,f,d,h,p,n){switch(n){case 0:n=b[p];b[p]=b[h];b[h]=b[d];b[d]=b[f];b[f]=n;break;case 1:n=b[f];b[f]=b[h];b[h]=n;n=b[d];b[d]=b[p];b[p]=n;break;case 2:n=b[f],b[f]=b[d],b[d]=b[h],b[h]=b[p],b[p]=n}}function ad(){}function bd(b,f,d,h){var p=new ad;p.typeName=b+f;dd(0!=d?-d:0)&&ed(0!=d?-d:0,p);p.modifiers=4;p.superclass=
Tc;p.componentType=h;return p}function cd(b,f,d,h){var p=new ad;p.typeName=b+f;dd(d)&&ed(d,p);p.superclass=h;return p}function dd(b){return"number"==typeof b&&0<b}function ed(b,f){f.seedId=b;if(2==b)var d=String.prototype;else if(0<b)if(d=pc[f.seedId])d=d.prototype;else{d=pc[b]=function(){};d.___clazz$=f;return}else return;d.___clazz$=f}function vd(b){b.array=Qa(qd,n([30,40]),0,0,0);b.size=0}function hc(b,f,d){var h=b.array[f];b.array[f]=d;return h}function wd(){this.array=Qa(qd,n([30,40]),0,0,0);
this.array.length=500}function yc(b){var f=b.length,d;for(d=0;d<f;++d)b[d]=-1}function xd(b,f){var d=b.heap,h=f;if(h.length<d.size){var p=Xa(0,d.size);v(h.___clazz$,h.castableTypeMap$,h.queryId$,p);h=p}for(p=0;p<d.size;++p)h[p]=d.array[p];h.length>d.size&&(h[d.size]=null);return h}function fd(b){this.heap=new wd;this.cmp=b}function gd(){gd=h;Wc();$c();$a();eb();mb();Lb();qb();zb();ic();dc();rd=new Zc}function hd(){gd();return(scramble_333.getRandomScramble()+ud(rd,Math)).replace(/\s+/g," ")}var yb,
pc={};b(1,-1,{});yb.value=null;b(73,1,{},ua);yb.queryId$=0;var Hc,Ic;b(153,1,n([21]),cb,nb,bb);var Ub,zc,Jc,lc=null,qc,kc,Wb,jc;b(154,1,{},db);yb.parity=0;var Bc,Ob,jd,kd,Ac,id;b(155,1,{},pb);yb.parity=0;var rc,ld,bc,Kc,Lc;b(156,1,{},Ya,Ab);b(157,1,n([22]),rb,wb,tb);yb.temps=null;var Tb;b(158,1,n([23]),Ib);yb.isStd=!0;yb.temp=null;var Pc,Gc=0,Xb,Oc,Mc,Nc,mc,Cc,md,Dc;b(159,1,{},ac,$b);b(160,1,n([24,34]),uc,vc,Uc);yb.compareTo$=function(b){return this.value-b.value};yb.add1=!1;yb.center=null;yb.centerAvail=
0;yb.corner=null;yb.cornerAvail=0;yb.edge=null;yb.edgeAvail=0;yb.length1=0;yb.length2=0;yb.length3=0;yb.moveLength=0;yb.sym=0;yb.value=0;var Qc;b(161,1,{},Vc);yb.compare=function(b,f){return f.value-b.value};var nc,Ec,Fc,fc,Rc,sc,Sc,tc,oc,nd,od;b(163,1,n([26]),Zc);yb.add1=!1;yb.arr2idx=0;yb.c=null;yb.length1=0;yb.length2=0;yb.p1SolsCnt=0;yb.solution="";var pd=!1;yb.val$outerIter=null;yb.size=0;b(239,1,{},fd);yb.cmp=null;yb.heap=null;var Tc=cd("java.lang.","Object",1,null),qd=bd("[Ljava.lang.","Object;",
356,Tc),zd=cd("cs.threephase.","FullCube",160,Tc),yd=bd("[Lcs.threephase.","FullCube;",381,zd),rd;scrMgr.reg("444wca",hd);return{getRandomScramble:hd}}(mathlib.rn,mathlib.Cnk,mathlib.circle);(function(r,Sa,d,w){function b(b,f){f<<=2;if(24<f){f=48-f;var d=b.ul;b.ul=(b.ul>>f|b.ur<<24-f)&16777215;b.ur=(b.ur>>f|d<<24-f)&16777215}else 0<f?(d=b.ul,b.ul=(b.ul<<f|b.ur>>24-f)&16777215,b.ur=(b.ur<<f|d>>24-f)&16777215):0==f?(d=b.ur,b.ur=b.dl,b.dl=d,b.ml=1-b.ml):-24<=f?(f=-f,d=b.dl,b.dl=(b.dl<<f|b.dr>>24-f)&16777215,b.dr=(b.dr<<f|d>>24-f)&16777215):-24>f&&(f=48+f,d=b.dl,b.dl=(b.dl>>f|b.dr<<24-f)&16777215,b.dr=(b.dr>>f|d<<24-f)&16777215)}function n(b,f){var d;6>f?d=b.ul>>(5-f<<2):12>f?d=b.ur>>(11-
f<<2):18>f?d=b.dl>>(17-f<<2):d=b.dr>>(23-f<<2);return d&15}function h(b,f,d){6>f?(b.ul&=~(15<<(5-f<<2)),b.ul|=d<<(5-f<<2)):12>f?(b.ur&=~(15<<(11-f<<2)),b.ur|=d<<(11-f<<2)):18>f?(b.dl&=~(15<<(17-f<<2)),b.dl|=d<<(17-f<<2)):(b.dr&=~(15<<(23-f<<2)),b.dr|=d<<(23-f<<2))}function ua(){this.arr=[];this.prm=[]}function Xa(b){var f;void 0===b&&(b=w(3678));var d=new ua;var p=gb[b];var n=324508639;var r=38177486;var z=f=8;for(b=0;24>b;b++)if(0==(p>>b&1)){var v=w(f)<<2;h(d,23-b,r>>v&15);v=(1<<v)-1;r=(r&v)+(r>>
4&~v);--f}else v=w(z)<<2,h(d,23-b,n>>v&15),h(d,22-b,n>>v&15),v=(1<<v)-1,n=(n&v)+(n>>4&~v),--z,++b;d.ml=w(2);return d}function Qa(f,d,h,p,r,z){if(0==h&&4>p){if(d=0==p)a:{d=f.Search_d;p=f.Search_c;d.ul=p.ul;d.ur=p.ur;d.dl=p.dl;d.dr=p.dr;d.ml=p.ml;for(d=0;d<f.Search_length1;++d)b(f.Search_d,f.Search_move[d]);d=f.Search_d;p=f.Search_sq;for(r=0;8>r;++r)d.prm[r]=n(d,3*r+1)>>1;p.cornperm=Sa(d.prm);p.topEdgeFirst=n(d,0)==n(d,1);r=p.topEdgeFirst?2:0;for(z=0;4>z;r+=3,++z)d.prm[z]=n(d,r)>>1;p.botEdgeFirst=n(d,
12)==n(d,13);for(r=p.botEdgeFirst?14:12;8>z;r+=3,++z)d.prm[z]=n(d,r)>>1;p.edgeperm=Sa(d.prm);p.ml=d.ml;r=f.Search_sq.edgeperm;p=f.Search_sq.cornperm;z=f.Search_sq.ml;for(d=Math.max(db[f.Search_sq.edgeperm<<1|z],db[f.Search_sq.cornperm<<1|z]);d<f.Search_maxlen2;++d)if(v(f,r,p,f.Search_sq.topEdgeFirst,f.Search_sq.botEdgeFirst,z,d,f.Search_length1,0)){for(p=0;p<d;++p)b(f.Search_d,f.Search_move[f.Search_length1+p]);p=f;r="";h=z=0;for(d=d+f.Search_length1-1;0<=d;d--){var w=f.Search_move[d];0<w?(w=12-w,
z=6<w?w-12:w):0>w?(w=12+w,h=6<w?w-12:w):(w="/",d==f.Search_length1-1&&(w="`/`"),r=0==z&&0==h?r+w:r+(" ("+z+","+h+")"+w),z=h=0)}if(0!=z||0!=h)r+=" ("+z+","+h+") ";p.Search_sol_string=r;d=!0;break a}d=!1}return d}if(0!=z){var ua=jb[d];w=ib[ua];if(w<p&&(f.Search_move[r]=0,Qa(f,ua,w,p-1,r+1,0)))return!0}ua=d;if(0>=z)for(h=0;;){h+=ab[ua];ua=h>>4;h&=15;if(12<=h)break;w=ib[ua];if(w>p)break;else if(w<p&&(f.Search_move[r]=h,Qa(f,ua,w,p-1,r+1,1)))return!0}ua=d;if(1>=z)for(h=0;;){h+=lb[ua];ua=h>>4;h&=15;if(6<=
h)break;w=ib[ua];if(w>p)break;else if(w<p&&(f.Search_move[r]=-h,Qa(f,ua,w,p-1,r+1,2)))return!0}return!1}function v(b,f,d,h,p,n,r,z,w){var ua,Qa;if(0==r&&!h&&p)return!0;if(0!=w&&h==p){var Ta=hb[f];var Ra=hb[d];if(db[Ta<<1|1-n]<r&&db[Ra<<1|1-n]<r&&(b.Search_move[z]=0,v(b,Ta,Ra,h,p,1-n,r-1,z+1,0)))return!0}if(0>=w){Ta=(Qa=!h)?mb[f]:f;Ra=Qa?d:mb[d];var Za=Qa?1:2;var Ua=db[Ta<<1|n];for(ua=db[Ra<<1|n];12>Za&&Ua<=r&&Ua<=r;){if(Ua<r&&ua<r&&(b.Search_move[z]=Za,v(b,Ta,Ra,Qa,p,n,r-1,z+1,1)))return!0;(Qa=!Qa)?
(Ta=mb[Ta],Ua=db[Ta<<1|n],Za+=1):(Ra=mb[Ra],ua=db[Ra<<1|n],Za+=2)}}if(1>=w)for(Ta=(p=!p)?ob[f]:f,Ra=p?d:ob[d],Za=p?1:2,Ua=db[Ta<<1|n],ua=db[Ra<<1|n];Za<(6<r?6:12)&&Ua<=r&&Ua<=r;){if(Ua<r&&ua<r&&(b.Search_move[z]=-Za,v(b,Ta,Ra,h,p,n,r-1,z+1,2)))return!0;(p=!p)?(Ta=ob[Ta],Ua=db[Ta<<1|n],Za+=1):(Ra=ob[Ra],ua=db[Ra<<1|n],Za+=2)}return!1}function Va(b,d){b.Search_c=d;var h=d.ur&1118481;h|=h>>3;h|=h>>6;h=h&15|h>>12&48;var p=d.ul&1118481;p|=p>>3;p|=p>>6;p=p&15|p>>12&48;var r=d.dr&1118481;r|=r>>3;r|=r>>6;
r=r&15|r>>12&48;var z=d.dl&1118481;z|=z>>3;z|=z>>6;z=z&15|z>>12&48;var v,w;var ua=0;d.arr[0]=n(d,0);for(v=1;24>v;++v)n(d,v)!=d.arr[ua]&&(d.arr[++ua]=n(d,v));for(ua=w=0;16>ua;++ua)for(v=ua+1;16>v;++v)d.arr[ua]>d.arr[v]&&(w^=1);z=f(w<<24|p<<18|h<<12|z<<6|r);for(b.Search_length1=ib[z];100>b.Search_length1&&(b.Search_maxlen2=Math.min(32-b.Search_length1,17),!Qa(b,z,ib[z],b.Search_length1,0,-1));++b.Search_length1);return b.Search_sol_string}function $a(){this.Search_move=[];this.Search_d=new ua;this.Search_sq=
new Za}function Ta(){Ta=$.noop;sb=[0,3,6,12,15,24,27,30,48,51,54,60,63];gb=[];ib=[];ab=[];lb=[];jb=[];var b,d;for(d=b=0;28561>d;++d){var h=sb[d%13];var n=sb[~~(d/13)%13];var r=sb[~~(~~(d/13)/13)%13];var z=sb[~~(~~(~~(d/13)/13)/13)];n=z<<18|r<<12|n<<6|h;16==p(n)&&(gb[b++]=n)}b=new Wa;for(d=0;7356>d;++d){Ra(b,d);n=ab;h=d;var v=b;z=r=0;do 0==(v.top&2048)?(r+=1,v.top<<=1):(r+=2,v.top=v.top<<2^12291),z=1-z;while(0!=(p(v.top&63)&1));0==(p(v.top)&2)&&(v.Shape_parity^=z);n[h]=r;ab[d]|=Ua(b)<<4;Ra(b,d);n=
lb;h=d;v=b;z=r=0;do 0==(v.bottom&2048)?(r+=1,v.bottom<<=1):(r+=2,v.bottom=v.bottom<<2^12291),z=1-z;while(0!=(p(v.bottom&63)&1));0==(p(v.bottom)&2)&&(v.Shape_parity^=z);n[h]=r;lb[d]|=Ua(b)<<4;Ra(b,d);z=b.top&63;n=p(z);h=p(b.bottom&4032);b.Shape_parity^=1&(n&h)>>1;b.top=b.top&4032|b.bottom>>6&63;b.bottom=b.bottom&63|z<<6;jb[d]=Ua(b)}for(d=0;7536>d;++d)ib[d]=-1;ib[f(14378715)]=0;ib[f(31157686)]=0;ib[f(23967451)]=0;ib[f(7191990)]=0;n=4;h=0;for(b=-1;n!=h;)for(h=n,++b,d=0;7536>d;++d)if(ib[d]==b){r=0;z=
d;do z=ab[z],r+=z&15,z>>=4,-1==ib[z]&&(++n,ib[z]=b+1);while(12!=r);r=0;z=d;do z=lb[z],r+=z&15,z>>=4,-1==ib[z]&&(++n,ib[z]=b+1);while(12!=r);z=jb[d];-1==ib[z]&&(++n,ib[z]=b+1)}}function Ua(b){return cb(gb,b.top<<12|b.bottom)<<1|b.Shape_parity}function Ra(b,f){b.Shape_parity=f&1;b.top=gb[f>>1];b.bottom=b.top&4095;b.top>>=12}function Wa(){}function f(b){return cb(gb,b&16777215)<<1|b>>24}function z(){z=$.noop;db=[];hb=[];mb=[];ob=[];var b,f,h;var p=[];for(f=0;40320>f;++f)r(p,f),d(p,2,4)(p,3,5),hb[f]=
Sa(p),r(p,f),d(p,0,3,2,1),mb[f]=Sa(p),r(p,f),d(p,4,7,6,5),ob[f]=Sa(p);for(f=0;80640>f;++f)db[f]=-1;var n=db[0]=0;for(b=1;80640>b;){var v=(h=11<=n)?-1:n;p=h?n:-1;++n;f=0;a:for(;80640>f;++f)if(db[f]==v){var w=f>>1;var ua=f&1;var Qa=hb[w]<<1|1-ua;if(db[Qa]==p&&(++b,db[h?f:Qa]=n,h))continue a;Qa=w;for(w=0;4>w;++w)if(Qa=mb[Qa],db[Qa<<1|ua]==p&&(++b,db[h?f:Qa<<1|ua]=n,h))continue a;for(w=0;4>w;++w)if(Qa=ob[Qa],db[Qa<<1|ua]==p&&(++b,db[h?f:Qa<<1|ua]=n,h))continue a}}}function Za(){}function p(b){b-=b>>1&
1431655765;b=(b>>2&858993459)+(b&858993459);b=(b>>4)+b&252645135;b+=b>>8;return b+(b>>16)&63}function cb(b,f){var d;var h=0;for(d=b.length-1;h<=d;){var p=h+(d-h>>1);var n=b[p];if(n<f)h=p+1;else if(n>f)d=p-1;else return p}return-h-1}function nb(){nb=$.noop;for(var b=new Wa,f=0;f<kb.length;f++){for(var d=[kb[f]],h=0;h<d.length;h++){var p=d[h];do p=ab[p<<1]>>5,-1==d.indexOf(p)&&d.push(p);while(p!=d[h]);do p=lb[p<<1]>>5,-1==d.indexOf(p)&&d.push(p);while(p!=d[h]);Ra(b,p<<1);p=b.top;b.top=b.bottom;b.bottom=
p;p=Ua(b)>>1;-1==d.indexOf(p)&&d.push(p)}kb[f]=d}}function bb(b,f,d){Ta();z();return Va(qb,Xa())}var eb=ua.prototype=function(){}.prototype;eb.dl=10062778;eb.dr=14536702;eb.ml=0;eb.ul=70195;eb.ur=4544119;eb=$a.prototype=function(){}.prototype;eb.Search_c=null;eb.Search_length1=0;eb.Search_maxlen2=0;eb.Search_sol_string=null;eb=Wa.prototype=function(){}.prototype;eb.bottom=0;eb.Shape_parity=0;eb.top=0;var lb,gb,ib,ab,jb,sb;eb=Za.prototype=function(){}.prototype;eb.botEdgeFirst=!1;eb.cornperm=0;eb.edgeperm=
0;eb.ml=0;eb.topEdgeFirst=!1;var ob,db,mb,hb,kb=[0,1,3,18,19,1004,1005,1006,1007,1008,1009,1011,1015,1016,1018,1154,1155,1156,1157,1158,1159,1161,1166,1168,424,425,426,427,428,429,431,436,95,218,341,482,528,632,1050,342,343,345,346,348,353,223,487,533,535,1055,219,225,483,489,639,1051,1057,486,1054,1062,6,21,34,46,59,71,144,157,182,305,7,22,35,47,60,72,145,158,183,306,8,23,36,48,61,73,146,159,184,307],pb=[16,16,16,10,16,24,16,24,16,24,16,16,4,24,16,48,32,48,32,48,32,32,48,16,48,32,48,16,48,32,32,
48,36,48,72,72,48,48,72,48,36,72,48,48,72,32,48,16,32,48,16,32,48,48,16,48,48,36,72,36,72,96,96,72,96,72,72,72,72,24,48,64,64,48,64,48,48,48,48,16,24,32,32,24,32,24,24,24,24,8],qb=new $a;scrMgr.reg("sqrs",bb);scrMgr.reg("sqrcsp",function(b,f,d){Ta();z();nb();b=mathlib.rndEl(kb[scrMgr.fixCase(d,pb)]);return Va(qb,Xa(b))},["Star-x8 Star-x71 Star-x62 Star-x44 Star-x53 Square-Scallop Square-rPawn Square-Shield Square-Barrel Square-rFist Square-Mushroom Square-lPawn Square-Square Square-lFist Square-Kite Kite-Scallop Kite-rPawn Kite-Shield Kite-Barrel Kite-rFist Kite-Mushroom Kite-lPawn Kite-lFist Kite-Kite Barrel-Scallop Barrel-rPawn Barrel-Shield Barrel-Barrel Barrel-rFist Barrel-Mushroom Barrel-lPawn Barrel-lFist Scallop-Scallop Scallop-rPawn Scallop-Shield Scallop-rFist Scallop-Mushroom Scallop-lPawn Scallop-lFist Shield-rPawn Shield-Shield Shield-rFist Shield-Mushroom Shield-lPawn Shield-lFist Mushroom-rPawn Mushroom-rFist Mushroom-Mushroom Mushroom-lPawn Mushroom-lFist Pawn-rPawn-rPawn Pawn-rPawn-lPawn Pawn-rPawn-rFist Pawn-lPawn-rFist Pawn-lPawn-lPawn Pawn-rPawn-lFist Pawn-lPawn-lFist Fist-rFist-rFist Fist-lFist-rFist Fist-lFist-lFist Pair-x6 Pair-r42 Pair-x411 Pair-r51 Pair-l42 Pair-l51 Pair-x33 Pair-x312 Pair-x321 Pair-x222 L-x6 L-r42 L-x411 L-r51 L-l42 L-l51 L-x33 L-x312 L-x321 L-x222 Line-x6 Line-r42 Line-x411 Line-r51 Line-l42 Line-l51 Line-x33 Line-x312 Line-x321 Line-x222".split(" "),
pb]);return{initialize:$.noop,getRandomScramble:bb}})(mathlib.set8Perm,mathlib.get8Perm,mathlib.circle,mathlib.rn);(function(){function r(b,n){var r=h.set([],n&31),v=Xa.set([],n>>5),w=ua.set([],b),Qa=[];mathlib.fillFacelet(Sa,Qa,[0,1,2,3],v,6);mathlib.fillFacelet(d,Qa,w,r,6);r=[4,2,3,1,5,0];for(v=0;6>v;v++)for(w=0;2>w;w++){var Ra=d[v][0^w],Wa=d[v][1^w],f=6*~~(Ra/6)+r[(r.indexOf(Ra%6)+5)%6],z=6*~~(Wa/6)+r[(r.indexOf(Wa%6)+1)%6];if(Qa[f]==Qa[Ra]&&Qa[z]==Qa[Wa])return!1}return!0}var Sa=[[3,16,11],[4,23,15],[5,9,22],[10,17,21]],d=[[1,7],[2,14],[0,18],[6,12],[8,20],[13,19]],w=new mathlib.Solver(4,2,[[0,[function(d,
h){mathlib.acycle(d,b[h])},"p",6,-1],360],[0,function(d,r){var v=h.set([],d&31),w=Xa.set([],d>>5);w[r]++;mathlib.acycle(v,b[r],1,n[r]);return Xa.get(w)<<5|h.get(v)},2592]]),b=[[0,1,3],[1,2,5],[0,4,2],[3,5,4]],n=[[0,1,0,2],[0,1,0,2],[0,0,1,2],[0,0,1,2]],h=new mathlib.coord("o",6,-2),ua=new mathlib.coord("p",6,-1),Xa=new mathlib.coord("o",4,3);scrMgr.reg(["pyro","pyrso","pyrl4e","pyrnb","pyr4c"],function(b){var d="pyro"==b?0:8,h="pyrl4e"==b?2:7;do{if("pyro"==b||"pyrso"==b||"pyr4c"==b){var n=mathlib.rn(360);
var ua=mathlib.rn(2592)}else if("pyrl4e"==b)n=mathlib.get8Perm(mathlib.set8Perm([],mathlib.rn(12),4,-1).concat([4,5]),6,-1),ua=864*mathlib.rn(3)+mathlib.rn(8);else if("pyrnb"==b){do n=mathlib.rn(360),ua=mathlib.rn(2592);while(!r(n,ua))}var Qa=w.search([n,ua],0).length;var Ra=w.toStr(w.search([n,ua],d).reverse(),"ULRB",["'",""])+" ";for(var Wa=0;4>Wa;Wa++){var f=mathlib.rn("pyr4c"==b?2:3);2>f&&(Ra+="lrbu".charAt(Wa)+[" ","' "][f],Qa++)}}while(Qa<h);return Ra})})();(function(){function r(d,h){var n=Xa.set([],d%12),f=ua.set([],~~(d/12)),r=Qa.set([],h%81);h=v.set([],~~(h/81));for(var Ta=[],p=0;6>p;p++)Ta[5*p]=f[p];mathlib.fillFacelet(w,Ta,[0,1,2,3],r,5);mathlib.fillFacelet(b,Ta,n,h,5);for(p=0;30>p;p+=5)for(n=1;5>n;n++)if(Ta[p]==Ta[p+n])return!1;return!0}function Sa(b,d){var r=Xa.set([],b%12),f=ua.set([],~~(b/12));mathlib.acycle(f,n[d]);mathlib.acycle(r,h[d]);return 12*ua.get(f)+Xa.get(r)}function d(b,d){var n=Qa.set([],b%81),f=v.set([],~~(b/81));n[d]++;mathlib.acycle(f,
h[d],1,[0,2,1,3]);return 81*v.get(f)+Qa.get(n)}var w=[[4,16,7],[1,11,22],[26,14,8],[29,19,23]],b=[[3,6,12],[2,21,17],[27,9,18],[28,24,13]],n=[[0,3,1],[0,2,4],[1,5,2],[3,4,5]],h=[[0,1,2],[0,3,1],[0,2,3],[1,3,2]],ua=new mathlib.coord("p",6,-1),Xa=new mathlib.coord("p",4,-1),Qa=new mathlib.coord("o",4,3),v=new mathlib.coord("o",4,-3),Va=new mathlib.Solver(4,2,[[0,Sa,4320],[0,d,2187]]),$a=new mathlib.Solver(4,2,[[0,function(b,d){return~~(Sa(12*b,d)/12)},360],[0,function(b,h){return d(b,h)%81},81]]),Ta=
[0,1,2,0,2,1,1,2,0,2,1,0];scrMgr.reg(["skbo","skbso","skbnb"],function(b){var d="skbso"==b?6:2,h="skbo"==b?0:8;do{var f=mathlib.rn(4320);var n=mathlib.rn(2187)}while(0==f&&0==n||Ta[f%12]!=(n+~~(n/3)+~~(n/9)+~~(n/27))%3||null!=Va.search([f,n],0,d)||"skbnb"==b&&!r(f,n));b=Va.search([f,n],h).reverse();f=[];n=["L","R","B","U"];for(d=0;d<b.length;d++){h=b[d][0];var v=1-b[d][1];2==h&&mathlib.acycle(n,[0,3,1],v+1);f.push(n[h]+(1==v?"'":""))}return f.join(" ")})(["ivyo","ivyso"],function(b){var d="ivyso"==
b?6:0;do{b=mathlib.rn(360);var h=mathlib.rn(81)}while(0==b&&0==h||null!=$a.search([b,h],0,1));return $a.toStr($a.search([b,h],d).reverse(),"RLDB","' ")})})();(function(r){function Sa(b,d){mathlib.acycle(b,n[d],1,h[d])}function d(b,d){for(var h=mathlib.set8Perm([],b,7),n=ua.set([],d),f=[],r=0;24>r;r++)f[r]=r>>2;mathlib.fillFacelet(Xa,f,h,n,4);for(r=0;24>r;r+=4)if((1<<f[r]|1<<f[r+3])&(1<<f[r+1]|1<<f[r+2]))return!1;return!0}function w(h,n,Qa){var Ta="222o"==h?0:9;do{var f=2;if("222o"==h||"222so"==h){var z=r(5040);var Za=r(729);f=3}else if("222eg"==h){Za=v[Qa&7];z=[0,2,3,4,5,1][Qa>>3];z=mathlib.set8Perm([0,0,0,0].concat($a[z]),r(24),4);z=mathlib.get8Perm(z,
7);var p=r(4);for(Za=ua.set([],Za);0<p--;)Sa(Za,0);Za=ua.get(Za)}else{if(/^222eg[012]$/.exec(h))return w("222eg",n,[0,8,40][~~h[5]]+Qa);if("222nb"==h){do z=r(5040),Za=r(729);while(!d(z,Za))}}}while(0==z&&0==Za||null!=b.search([z,Za],0,f));return b.toStr(b.search([z,Za],Ta).reverse(),"URF","'2 ")}var b=new mathlib.Solver(3,3,[[0,[function(b,d){mathlib.acycle(b,n[d])},"p",7],5040],[0,[Sa,"o",7,-3],729]]),n=[[0,2,3,1],[0,1,5,4],[0,4,6,2]],h=[null,[0,1,0,1,3],[1,0,1,0,3]],ua=new mathlib.coord("o",7,-3),
Xa=[[3,4,9],[1,20,5],[2,8,17],[0,16,21],[13,11,6],[15,7,22],[12,19,10]],Qa=[1,2,4,4,4,4,4,4,1,2,4,4,4,4,4,4,1,2,4,4,4,4,4,4,1,2,4,4,4,4,4,4,1,2,4,4,4,4,4,4,1,2,4,4,4,4,4,4],v=[0,17,5,14,8,1,2,4],Va="EG0-O EG0-H EG0-L EG0-Pi EG0-S EG0-T EG0-U EG0-aS EG1B-O EG1B-H EG1B-L EG1B-Pi EG1B-S EG1B-T EG1B-U EG1B-aS EG1L-O EG1L-H EG1L-L EG1L-Pi EG1L-S EG1L-T EG1L-U EG1L-aS EG1F-O EG1F-H EG1F-L EG1F-Pi EG1F-S EG1F-T EG1F-U EG1F-aS EG1R-O EG1R-H EG1R-L EG1R-Pi EG1R-S EG1R-T EG1R-U EG1R-aS EG2-O EG2-H EG2-L EG2-Pi EG2-S EG2-T EG2-U EG2-aS".split(" "),
$a=[[4,5,6],[4,6,5],[6,5,4],[5,4,6],[5,6,4],[6,4,5]];scrMgr.reg(["222o","222so","222nb"],w)("222eg0",w,[Va.slice(0,8),Qa.slice(0,8)])("222eg1",w,[Va.slice(8,40),Qa.slice(8,40)])("222eg2",w,[Va.slice(40,48),Qa.slice(40,48)])("222eg",w,[Va,Qa])})(mathlib.rn);(function(){function r(b,d){mathlib.acycle(b,[0,d+1])}function Sa(b,d){var h=mathlib.set8Perm([],~~(b/3),4);mathlib.acycle(h,Xa[d]);return 3*mathlib.get8Perm(h,4)+(b%3+(0==d?1:0))%3}function d(b,d,r){return 72*n[r][~~(d/72)]+h[(r+b)%3][d%72]}function w(b,d,r,Sa){if(0==d)return 0==b[0]&&0==b[1]&&0==b[2]&&0==b[3];if(Math.max(mathlib.getPruning(ua[0],72*b[0]+b[1]),mathlib.getPruning(ua[1],72*b[0]+b[2]),mathlib.getPruning(ua[2],72*b[0]+b[3]))>d)return!1;for(var v=0;3>v;v++)if(v!=r)for(var Qa=b.slice(),
Ra=0;11>Ra;Ra++){Qa[0]=n[v][Qa[0]];for(var Wa=1;4>Wa;Wa++)Qa[Wa]=h[(v+Wa-1)%3][Qa[Wa]];if(w(Qa,d-1,v,Sa))return Sa.push("URF".charAt(v)+"' 2' 3' 4' 5' 6 5 4 3 2 ".split(" ")[Ra]),!0}}function b(){b=$.noop;mathlib.createMove(h,72,Sa,3);mathlib.createMove(n,24,[r,"p",4],3);for(var w=0;3>w;w++)mathlib.createPrun(ua[w],0,1728,5,d.bind(null,w),3,12,0)}var n=[],h=[],ua=[[],[],[]],Xa=[[0,3,2,1],[0,1],[0,3]];scrMgr.reg(["gearo","gearso"],function(d){b();do{var h=[mathlib.rn(24)];for(var n=0;3>n;n++){do h[n+
1]=mathlib.rn(72);while(15==mathlib.getPruning(ua[n],72*h[0]+h[n+1]))}}while(0==h);d="gearso"==d?4:0;for(n=[];!w(h,d,-1,n);)d++;return n.reverse().join(" ")})})();(function(){var r=new mathlib.Solver(4,1,[[0,function(d,r){var b=mathlib.set8Perm([],d>>4,4);mathlib.acycle(b,Sa[r]);return(mathlib.get8Perm(b,4)<<4)+(d&15^1<<r)},384]]),Sa=[[0,1],[2,3],[0,3],[1,2]];scrMgr.reg("133",function(){var d=1+mathlib.rn(191);d=2*d+((mathlib.getNParity(d>>3,4)^d>>1^d>>2^d)&1);return r.toStr(r.search([d],0),"RLFB",[""])})})();(function(r,Sa){function d(){d=$.noop;for(var h=[],w,Xa=0;40320>Xa;Xa++)b[Xa]=[];for(Xa=0;40320>Xa;Xa++)mathlib.set8Perm(h,Xa),r(h,0,1,2,3),w=b[0][Xa]=Sa(h),r(h,4,5,6,7),w=b[1][w]=Sa(h),r(h,2,5)(h,3,6),w=b[2][w]=Sa(h),r(h,0,5)(h,3,4),b[3][w]=Sa(h);mathlib.createPrun(n,0,40320,12,b,4,3)}function w(d,ua,Xa,Qa,v){if(0==Xa)return 0==d+ua;if(mathlib.getPruning(n,d)>Xa)return!1;var h,$a;for($a=0;4>$a;$a++)if($a!=Qa){var Ta=d;var Ua=ua;for(h=0;h<(2>$a?3:1);h++){Ta=b[$a][Ta];var Ra=$a;2>Ra||(Ua=mathlib.set8Perm([],
Ua,3),2==Ra?r(Ua,0,1):3==Ra&&r(Ua,0,2),Ua=Sa(Ua,3));if(w(Ta,Ua,Xa-1,$a,v))return v.push(["U","D","R2","F2"][$a]+(2>$a?" 2'".charAt(h):"")),!0}}}var b=[],n=[];scrMgr.reg("223",function(){d();do{var b=mathlib.rn(40320);var n=mathlib.rn(6)}while(0==n+b);for(var r=[],Qa=0;99>Qa&&!w(b,n,Qa,-1,r);Qa++);return r.reverse().join(" ")})})(mathlib.circle,mathlib.get8Perm);var clock=function(r,Sa){function d(b,d,h,n,r){for(var v=b[0].length;n<v;n++)b[h][n]=(b[h][n]+b[d][n]*r)%12}var w=[[0,1,1,0,1,1,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,0,1,1,0,0,0,0,0],[0,0,0,1,1,0,1,1,0,0,0,0,0,0],[1,1,0,1,1,0,0,0,0,0,0,0,0,0],[1,1,1,1,1,1,0,0,0,0,0,0,0,0],[0,1,1,0,1,1,0,1,1,0,0,0,0,0],[0,0,0,1,1,1,1,1,1,0,0,0,0,0],[1,1,0,1,1,0,1,1,0,0,0,0,0,0],[1,1,1,1,1,1,1,1,1,0,0,0,0,0],[11,0,0,0,0,0,0,0,0,1,0,1,1,0],[0,0,0,0,0,0,11,0,0,0,0,1,1,1],[0,0,0,0,0,0,0,0,11,0,1,1,0,1],[0,0,11,0,0,0,0,0,0,1,1,
1,0,0],[11,0,11,0,0,0,0,0,0,1,1,1,1,0],[11,0,0,0,0,0,11,0,0,1,0,1,1,1],[0,0,0,0,0,0,11,0,11,0,1,1,1,1],[0,0,11,0,0,0,0,0,11,1,1,1,0,1],[11,0,11,0,0,0,11,0,11,1,1,1,1,1]],b=[-1,1,-1,-1,-1,5,-1,7,-1,-1,-1,11],n=[7695,42588,47187,85158,86697,156568,181700,209201,231778],h="UR DR DL UL U R D L ALL".split(" ");scrMgr.reg("clko",function(ua){var Xa=[];for(ua=0;14>ua;ua++)Xa[ua]=r(12);ua=[];ua.length=18;if(14==Xa.length&&18==ua.length)for(var Qa=15,v=0;v<Sa[18][14];v++){var Va=v;var $a=14;for(var Ta=0,Ua=
17;0<=Ua;Ua--)Va>=Sa[Ua][$a]&&(Va-=Sa[Ua][$a--],Ta|=1<<Ua);$a=Ta;Va=!1;for(Ta=0;Ta<n.length;Ta++)if(($a&n[Ta])==n[Ta]){Va=!0;break}if(!Va){Va=[];for(Ta=Ua=0;18>Ta;Ta++)1==($a>>Ta&1)&&(Va[Ua++]=Ta);$a=[];for(Ua=0;14>Ua;Ua++){$a[Ua]=[];for(Ta=0;14>Ta;Ta++)$a[Ua][Ta]=w[Va[Ta]][Ua];$a[Ua][14]=Xa[Ua]}b:{Ta=$a;Ua=Ta[0].length;for(var Ra=0;Ra<Ua-1;Ra++){if(-1==b[Ta[Ra][Ra]]){for(var Wa=-1,f=Ra+1;14>f;f++)if(-1!=b[Ta[f][Ra]]){Wa=f;break}if(-1==Wa)c:for(f=Ra;13>f;f++)for(var z=f+1;14>z;z++)if(-1!=b[(Ta[f][Ra]+
Ta[z][Ra])%12]){d(Ta,z,f,Ra,1);Wa=f;break c}if(-1==Wa){for(f=Ra+1;14>f;f++)if(0!=Ta[f][Ra]){Ta=-1;break b}Ta=Ra+1;break b}f=Ta;z=f[Ra];f[Ra]=f[Wa];f[Wa]=z}Wa=b[Ta[Ra][Ra]];for(f=Ra;f<Ua;f++)Ta[Ra][f]=Ta[Ra][f]*Wa%12;for(f=Ra+1;14>f;f++)d(Ta,Ra,f,Ra,12-Ta[f][Ra])}Ta=0}if(0==Ta){Ta=!0;for(Ua=14;14>Ua;Ua++)if(0!=$a[Ua][14]){Ta=!1;break}if(Ta){Ta=$a;for(Ua=Ta[0].length-2;0<Ua;Ua--)for(Ra=Ua-1;0<=Ra;Ra--)0!=Ta[Ra][Ua]&&d(Ta,Ua,Ra,Ua,12-Ta[Ra][Ua]);for(Ua=Ta=0;14>Ua;Ua++)0!=$a[Ua][14]&&Ta++;if(Ta<Qa){for(Ua=
0;18>Ua;Ua++)ua[Ua]=0;for(Ua=0;14>Ua;Ua++)ua[Va[Ua]]=$a[Ua][14];Qa=Ta}}}}}Xa="";for(Qa=0;9>Qa;Qa++)v=ua[Qa],0!=v&&(Va=6>=v,6<v&&(v=12-v),Xa+=h[Qa]+v+(Va?"+":"-")+" ");Xa+="y2 ";for(Qa=0;9>Qa;Qa++)v=ua[Qa+9],0!=v&&(Va=6>=v,6<v&&(v=12-v),Xa+=h[Qa]+v+(Va?"+":"-")+" ");ua=!0;for(Qa=0;4>Qa;Qa++)1==r(2)&&(Xa+=(ua?"":" ")+h[Qa],ua=!1);return Xa});return{moveArr:w}}(mathlib.rn,mathlib.Cnk);(function(){var r=[[0,1,2,3],[0,2,5,4]],Sa=[[0,0,0,0,2],[0,1,0,1,2]],d=new mathlib.Solver(2,3,[[0,function(d,b){var n=d>>3,h=d,w=d<<1|mathlib.getNParity(n,6)^h>>1&1;n=mathlib.set8Perm([],n,6);mathlib.acycle(n,r[b]);0==b&&(h+=2);1==b&&(w+=1);return mathlib.getNPerm(n,6)<<3|h&6|w>>1&1},5760],[0,[function(d,b){mathlib.acycle(d,r[b],1,Sa[b])},"o",6,-2],32]]);scrMgr.reg("lsemu",function(){do{var r=mathlib.rn(5760);var b=mathlib.rn(32)}while(0==b+r);return d.toStr(d.search([r,b],0),"UM"," 2'").replace(/ +/g,
" ")})})();(function(r,Sa,d){function w(b,f,d,h){void 0==h&&(h=[""]);for(var p=0,n,z=[],v=0;v<d;v++){do n=r(b.length);while(p>>n&1);z.push(b[n]+Sa(h));p&=~f[n];p|=1<<n}return z.join(" ")}function b(b){return" "+Sa([b+"=0",b+"+1",b+"+2",b+"+3",b+"+4",b+"+5",b+"+6",b+"-5",b+"-4",b+"-3",b+"-2",b+"-1"])+" "}function n(){return Sa(["U","d"])+Sa(["U","d"])}function h(b,f,d,h){for(var p=[[0,-1],[1,0],[-1,0],[0,1]],n=0,z=3,v,w=5,ua=[],Qa=0;Qa<f;Qa++){do v=r(4);while(0>n+p[v][0]||3<n+p[v][0]||0>z+p[v][1]||3<z+p[v][1]||
3==v+w);n+=p[v][0];z+=p[v][1];0<ua.length&&ua[ua.length-1][0]==v?ua[ua.length-1][1]++:ua.push([v,1]);w=v}f="";for(Qa=0;Qa<ua.length;Qa++)if(p=b?ua[Qa][0]:3-ua[Qa][0],p=(d?"￪￩￫￬":"ULRD").charAt(p),h)f+=p+(1==ua[Qa][1]?"":ua[Qa][1])+" ";else for(n=0;n<ua[Qa][1];n++)f+=p+" ";return f}function ua(b,f){var d="",h,p;for(h=0;h<f;h++){d+="  ";for(p=0;p<b;p++)d+=(0==p%2?"R":"D")+Sa(["++","--"])+" ";d+="U"+(d.endsWith("-- ")?"'\\n":"~\\n")}return d}function Xa(b,f){Ua=[];var d;Qa(1,b,f);var h="";for(d=0;d<
Ua[0].length;d++){var p=Ua[0][d];h=7==p[0]?h+"/":h+(" ("+p[0]+","+p[1]+") ")}return h}function Qa(b,f,d){for(var h=0;h<b;h++){Ra=[1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0];Ua[h]=[];for(var p=0;p<d;){var n=r(12)-5,z=2==f?0:r(12)-5,w=(0==n?0:1)+(0==z?0:1);(p+w<=d||1!=f)&&(0<w||0==p)&&v(n,z)&&(1==f&&(p+=w),0<w&&(Ua[h][Ua[h].length]=[n,z]),p<d||1!=f)&&(p++,Ua[h][Ua[h].length]=[7,0],v(7,0))}}}function v(b,f){var d;if(7==b){for(d=0;6>d;d++)mathlib.circle(Ra,d+6,d+12);return!0}if(Ra[(17-b)%12]||Ra[(11-
b)%12]||Ra[12+(17-f)%12]||Ra[12+(11-f)%12])return!1;var h=Ra.slice(0,12);var p=Ra.slice(12,24);for(d=0;12>d;d++)Ra[d]=h[(12+d-b)%12],Ra[d+12]=p[(12+d-f)%12];return!0}function Va(b,f){for(var d=0,h=[],p=0;4>p;p++)h[p]=r(3),0<h[p]?(h[p]="ulrb".charAt(p)+["! ","' "][h[p]-1],d++):h[p]="";return b.substr(0,b.length-f*d)+" "+h.join("")}var $a=["","2","'"],Ta=["","2","'","2'"],Ua=[],Ra=[];scrMgr.reg("444yj",function(b,f){var d=[["U","D"],["R","L","r"],["F","B","f"]],h=[],p=0,n,v="";var w=-1;for(n=0;n<f;n++){var ua=
0;do{var Qa=r(d.length),Ta=r(d[Qa].length);if(Qa!=w||0==h[Ta]){if(Qa==w)h[Ta]=1,ua=r($a.length);else{for(w=0;w<d[Qa].length;w++)h[w]=0;w=Qa;h[Ta]=1;ua=r($a.length)}0==Qa&&0==Ta&&(p=(p+4+ua)%4);v=1==Qa&&2==Ta?0==p||3==p?v+("l"+$a[ua]+" "):v+("r"+$a[ua]+" "):2==Qa&&2==Ta?0==p||1==p?v+("b"+$a[ua]+" "):v+("f"+$a[ua]+" "):v+(d[Qa][Ta]+$a[ua]+" ");ua=1}}while(0==ua)}return v});scrMgr.reg("bic",function(b,f){function d(b){var f=[],d,h,r,z=0;for(d=0;9>d;d++){for(h=r=0;h<f.length;h++)f[h]==n[p[b][d]]&&(r=
1);0==r&&(f[f.length]=n[p[b][d]],0==n[p[b][d]]&&(z=1))}return 5==f.length&&1==z}function h(b,f){for(var d=0;d<f;d++){var h=n[p[b][0]];n[p[b][0]]=n[p[b][6]];n[p[b][6]]=n[p[b][4]];n[p[b][4]]=n[p[b][2]];n[p[b][2]]=h;h=n[p[b][7]];n[p[b][7]]=n[p[b][5]];n[p[b][5]]=n[p[b][3]];n[p[b][3]]=n[p[b][1]];n[p[b][1]]=h}}for(var p=[[0,1,2,5,8,7,6,3,4],[6,7,8,13,20,19,18,11,12],[0,3,6,11,18,17,16,9,10],[8,5,2,15,22,21,20,13,14]],n=[1,1,2,3,3,2,4,4,0,5,6,7,8,9,10,10,5,6,7,8,9,11,11],v="",w=[],ua,Qa,Ta,Ra;w.length<f;){ua=
[1,1,1,1];for(Qa=0;4>Qa;Qa++)1!=ua[Qa]||d(Qa)||(ua[Qa]=0);for(Qa=0;0==Qa;)Ta=r(4),1==ua[Ta]&&(Ra=r(3)+1,h(Ta,Ra),Qa=1);w[w.length]=[Ta,Ra];2<=w.length&&w[w.length-1][0]==w[w.length-2][0]&&(w[w.length-2][1]=(w[w.length-2][1]+w[w.length-1][1])%4,w=w.slice(0,w.length-1));1<=w.length&&0==w[w.length-1][1]&&(w=w.slice(0,w.length-1))}for(ua=0;ua<f;ua++)v+="UFLR"[w[ua][0]]+$a[w[ua][1]-1]+" ";return v});scrMgr.reg("15p 15pm 15pat clkwca clk clkc clke giga mgmo mgmp mgmc heli redi redim pyrm prcp mpyr r3 r3ni sq1h sq1t sq2 ssq1t bsq -1 333noob lol".split(" "),
function(v,f){var z="";switch(v){case "15p":return h(!1,f);case "15pm":return h(!0,f);case "15pat":return h(!1,f,!0,!0);case "clkwca":var Ra="0+ 1+ 2+ 3+ 4+ 5+ 6+ 1- 2- 3- 4- 5-".split(" ");z="UR? DR? DL? UL? U? R? D? L? ALL? y2 U? R? D? L? ALL?????";for(var p=0;14>p;p++)z=z.replace("?",Sa(Ra));return z.replace("?",Sa([""," UR"])).replace("?",Sa([""," DR"])).replace("?",Sa([""," DL"])).replace("?",Sa([""," UL"]));case "clk":return"UU"+b("u")+"dU"+b("u")+"dd"+b("u")+"Ud"+b("u")+"dU"+b("u")+"Ud"+b("u")+
"UU"+b("u")+"UU"+b("u")+"UU"+b("u")+"dd     "+n()+"\\ndd"+b("d")+"dU"+b("d")+"UU"+b("d")+"Ud"+b("d")+"UU     UU     Ud     dU     UU     dd"+b("d")+n();case "clkc":z="";for(p=0;4>p;p++)z+="("+(r(12)-5)+", "+(r(12)-5)+") / ";for(p=0;6>p;p++)z+="("+(r(12)-5)+") / ";for(p=0;4>p;p++)z+=Sa(["d","U"]);return z;case "clke":return"UU"+b("u")+"dU"+b("u")+"dU"+b("u")+"UU"+b("u")+"UU"+b("u")+"UU"+b("u")+"Ud"+b("u")+"Ud"+b("u")+"dd"+b("u")+"dd     "+n()+"\\nUU     UU     dU"+b("d")+"dU     dd"+b("d")+"Ud     Ud"+
b("d")+"UU     UU"+b("d")+"dd"+b("d")+n();case "giga":z="";for(p=0;p<Math.ceil(f/10);p++){z+="  ";for(Ra=0;10>Ra;Ra++)z+=(0==Ra%2?"Rr".charAt(r(2)):"Dd".charAt(r(2)))+Sa(["+ ","++","- ","--"])+" ";z+="y"+Sa(Ta)+"\\n"}return z;case "mgmo":return w("F B U D L DBR DL BR DR BL R DBL".split(" "),[1364,2728,1681,2402,2629,1418,2329,1574,1129,2198,421,602],f);case "mgmp":return ua(10,Math.ceil(f/10));case "mgmc":z=Math.ceil(f/10);p="";var Wa;for(Ra=0;Ra<z;Ra++){p+=" ";for(Wa=0;5>Wa;Wa++)p+=Sa(["+","-"])+
Sa(["+","-"])+" ";p+="U"+Sa(["'\\n","~\\n"])}return p;case "heli":return w("UF UR UB UL FR BR BL FL DF DR DB DL".split(" "),[154,53,106,197,771,1542,3084,2313,2704,1328,2656,1472],f);case "redi":return w("LRFBlrfb".split(""),[28,44,67,131,193,194,52,56],f,["","'"]);case "redim":z=[];for(p=0;p<f;p++)z.push(d([["R"],["L"]],["","'"],3+r(3)));return z.join(" x ");case "pyrm":return z=d([["U"],["L"],["R"],["B"]],["!","'"],f),Va(z,3).replace(/!/g,"");case "prcp":return ua(10,Math.ceil(f/10));case "mpyr":return z=
w("U! L! R! B! Uw Lw Rw Bw".split(" "),[224,208,176,112,238,221,187,119],f,["!","'"]),Va(z,4).replace(/!/g,"");case "r3":for(p=0;p<f;p++)z+=(0==p?"":"\\n")+(p+1)+") ${333}";return scrMgr.formatScramble(z);case "r3ni":for(p=0;p<f;p++)z+=(0==p?"":"\\n")+(p+1)+") ${333ni}";return scrMgr.formatScramble(z);case "sq1h":return Xa(1,f);case "sq1t":return Xa(0,f);case "sq2":for(p=0;p<f;)if(Ra=r(12)-5,Wa=r(12)-5,0!=Ra||0!=Wa)p++,z+="("+Ra+","+Wa+") / ";return z;case "ssq1t":Ua=[];Qa(2,0,f);p=Ua[0];Ra=Ua[1];
Wa="";7==p[0][0]&&(p=[[0,0]].concat(p));7==Ra[0][0]&&(Ra=[[0,0]].concat(Ra));for(z=0;z<f;z++)Wa+="("+p[2*z][0]+","+Ra[2*z][0]+","+Ra[2*z][1]+","+p[2*z][1]+") / ";return Wa;case "bsq":return Xa(2,f);case "-1":for(p=0;p<f;p++)z+=String.fromCharCode(32+r(224));return z+"Error: subscript out of range";case "333noob":return z=d(SCRAMBLE_NOOBST,SCRAMBLE_NOOBSS.split("|"),f).replace(/t/,"T"),z.substr(0,z.length-2)+".";case "lol":return z=d([["L"],["O"]],0,f),z.replace(/ /g,"")}console.log("Error")})})(mathlib.rn,
mathlib.rndEl,scrMgr.mega);var storage=execMain(function(){function r(b){b=""+b;return String.fromCharCode(47+b.length)+b}function Sa(b,d){return"session_"+r(b)+(void 0==d?"":"_"+r(d))}function d(b){console.log("IndexedDB Error",b||"undefined")}function w(b,n,r,ua){(ua=ua||h)?(ua=ua.transaction(["sessions"],b),ua.oncomplete=r||$.noop,ua.onerror=d,ua=ua.objectStore("sessions"),n(ua)):requestAnimFrame(function(){w(b,n,r)})}function b(b,d){return new Promise(function(h,r){if(n)w("readwrite",function(d){d.clear();for(var h=1;h<=
~~kernel.getProp("sessionN");h++)for(var n=mathlib.str2obj(b["session"+h]||[]),r=0;r<(Math.ceil(n.length/100)||1);r++)d.put(n.slice(100*r,100*(r+1)),Sa(h,r))},h,d);else{for(var v=1;v<=~~kernel.getProp("sessionN");v++)localStorage["session"+v]=obj2str(b["session"+v]);h()}})}var n=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB,h,ua=/^session_\d(\d+)_\d(\d+)$/;n&&$(function(){var r=n.open("cstimer",1);r.onerror=d;r.onupgradeneeded=function(d){console.log("Update Data From LocalStorage");
var h=d.target.result;h.createObjectStore("sessions").transaction.oncomplete=function(d){b(localStorage,function(){},h)}};r.onsuccess=function(b){h=b.target.result}});return{set:function(b,d,h){return new Promise(function(r,v){n?w("readwrite",function(n){var r=~~(h/100),v=IDBKeyRange.bound(Sa(b,r),Sa(b+1),!1,!0);for(n["delete"](v);r<(Math.ceil(d.length/100)||1);r++)n.put(d.slice(100*r,100*(r+1)),Sa(b,r))},function(){r(d)}):(localStorage["session"+b]=JSON.stringify(d),r(d))})},get:function(b,d,h){return new Promise(function(r,
v){var ua=[];if(n)w("readonly",function(d){var h=IDBKeyRange.bound(Sa(b),Sa(b+1),!1,!0);d.openCursor(h).onsuccess=function(b){if(b=b.target.result)Array.prototype.push.apply(ua,b.value),b["continue"]()}},function(){d=d||0;h=h||ua.length;if(0!=d||h!=ua.length)ua=ua.slice(d,h);r(ua)});else{var Qa=localStorage["session"+b];void 0!=Qa&&""!=Qa&&(ua=JSON.parse(Qa));if(0!=d||h!=ua.length)ua=ua.slice(d,h);r(ua)}})},del:function(b,d,h){n?w("readwrite",function(h){h["delete"](IDBKeyRange.bound(Sa(b),Sa(b+1),
!1,!0));var n=IDBKeyRange.bound(Sa(d),Sa(d+1),!1,!0);h.openCursor(n).onsuccess=function(d){if(d=d.target.result){var n=ua.exec(d.key);h.put(d.value,Sa(b,~~n[2]));h["delete"](d.key);d["continue"]()}}},h):(localStorage["session"+b]=localStorage["session"+d],delete localStorage["session"+d],h&&requestAnimFrame(h))},importAll:b,exportAll:function(){return new Promise(function(b,d){var h={};if(n)w("readonly",function(b){b.openCursor().onsuccess=function(b){if(b=b.target.result){var d=~~ua.exec(b.key)[1];
h["session"+d]=h["session"+d]||[];Array.prototype.push.apply(h["session"+d],b.value);b["continue"]()}}},function(){b(h)});else{for(var r=1;r<=~~kernel.getProp("sessionN");r++)void 0!=localStorage["session"+r]&&(h["session"+r]=mathlib.str2obj(localStorage["session"+r]));b(h)}})}}});var TimeStat=execMain(function(){function r(d,w,b,n){this.avgSizes=d.slice();this.timeAt=b;this.timeSort=n||r.dnfsort;this.reset(w)}function Sa(d){var r=kernel.getProp("trim","p5");return"p"==r[0]?Math.ceil(d/100*r.slice(1)):"m"==r?Math.max(0,d-1>>1):~~r}r.dnfsort=function(d,r){return d==r?0:0>d?1:0>r?-1:d-r};r.prototype.reset=function(d){this.timesLen=d;this.shouldRecalc=!0};r.prototype.getAllStats=function(){this.genStats();var d=this.timesLen-this.tree.rankOf(-1);return[d,d==this.timesLen?-1:kernel.round(this.tree.cumSum(this.timesLen-
d)/(this.timesLen-d))]};r.prototype.genStats=function(){if(this.shouldRecalc){this.bestAvg=[];this.lastAvg=[];this.bestAvgIndex=[];this.treesAvg=[];this.tree=sbtree.tree(this.timeSort);this.bestTime=this.worstTime=-1;this.bestTimeIndex=this.worstTimeIndex=0;var d=this.timesLen;for(this.timesLen=0;this.timesLen<d;)this.doPushed(!0,this.timesLen!=d-1);this.shouldRecalc=!1}};r.prototype.pushed=function(d){this.genStats();this.doPushed(d)};r.prototype.doPushed=function(d,r){var b=[];this.timesLen++;var n=
this.timesLen-1,h=this.timeAt(n);this.tree.insert(h,n);if(!r){var w=this.bestTime;this.bestTime=0==this.timesLen?-1:this.tree.rank(0);this.bestTimeIndex=this.tree.find(this.bestTime);this.worstTime=0==this.timesLen?-1:this.tree.rank(Math.max(0,this.tree.rankOf(-1)-1));this.worstTimeIndex=this.tree.find(this.worstTime);0>this.timeSort(h,w)&&-1!=w&&b.push("single")}for(w=0;w<this.avgSizes.length;w++){var Xa=Math.abs(this.avgSizes[w]);if(this.timesLen<Xa)break;var Qa=0>this.avgSizes[w]?0:Sa(Xa),v=Xa-
2*Qa,Va=this.treesAvg[w]||sbtree.tree(this.timeSort);if(this.timesLen==Xa){for(var $a=0;$a<Xa;$a++)Va.insert(this.timeAt($a),$a);this.bestAvg[w]=[-1,0,-1,-1];this.bestAvgIndex[w]=0;this.lastAvg[w]=[-1,0,-1,-1]}else Va.remove(this.timeAt(n-Xa)).insert(h,n);$a=Va.cumSum(Xa-Qa)-Va.cumSum(Qa);var Ta=Math.sqrt((Va.cumSk2(Xa-Qa)-Va.cumSk2(Qa)-$a*$a/v)/(v-1))/1E3;Qa=[Va.rankOf(-1)<Xa-Qa?-1:$a/v,Ta,Va.rank(Qa-1),Va.rank(Xa-Qa)];0>this.timeSort(Qa[0],this.bestAvg[w][0])&&(0<=this.bestAvg[w][0]&&!r&&b.push((0<
this.avgSizes[w]?"ao":"mo")+Xa),this.bestAvg[w]=Qa,this.bestAvgIndex[w]=n-Xa+1);this.lastAvg[w]=Qa;this.treesAvg[w]=Va}0==b.length||d||logohint.push("Session best "+b.join(" ")+"!")};r.prototype.getMinMaxInt=function(){if(this.getAllStats()[0]==this.timesLen)return null;var d=[100,200,500,1E3,2E3,5E3,1E4,2E4,5E4,1E5];if("a"==kernel.getProp("disPrec")){var r=(this.worstTime-this.bestTime)/10;for(var b=0;b<d.length;b++)if(r<d[b]){r=d[b];break}}else r=d[kernel.getProp("disPrec")];return[this.worstTime,
this.bestTime,r]};r.prototype.runAvgMean=function(d,r,b,n){b=b||r;void 0===n&&(n=Sa(b));if(!(0>d||d+r>this.timesLen)){if(0>=b-n)return[-1,0,-1,-1];for(var h=sbtree.tree(this.timeSort),w=0;w<b;w++)h.insert(this.timeAt(d+w),w);for(var Xa=b-2*n,Qa=h.cumSum(b-n)-h.cumSum(n),v=Math.sqrt((h.cumSk2(b-n)-h.cumSk2(n)-Qa*Qa/Xa)/(Xa-1))/1E3,Va=[[h.rankOf(-1)<b-n?-1:Qa/Xa,v,h.rank(n-1),h.rank(b-n)]],$a=d-b,Ta=b;Ta<r;Ta++)h.remove(this.timeAt($a+Ta)).insert(this.timeAt(d+Ta),w),Qa=h.cumSum(b-n)-h.cumSum(n),v=
Math.sqrt((h.cumSk2(b-n)-h.cumSk2(n)-Qa*Qa/Xa)/(Xa-1))/1E3,Va.push([h.rankOf(-1)<b-n?-1:Qa/Xa,v,h.rank(n-1),h.rank(b-n)]);return Va}};r.prototype.getTrimList=function(d,r,b,n){for(var h=[],w=[],Xa=Sa(r),Qa=0;Qa<r;Qa++){var v=this.timeAt(d+Qa),Va=this.timeSort(v,b);v=this.timeSort(n,v);0>Va?h.push(Qa):0>v?w.push(Qa):0==Va&&h.length<Xa?h.unshift(Qa):0==v&&w.length<Xa&&w.unshift(Qa)}return h.slice(-Xa).concat(w.slice(-Xa))};return r});var stats=execMain(function(r,Sa,d){function w(b){if(kernel.getProp("delmul")){var d=prompt(STATS_CFM_DELMUL,1);if(null==d||!/^\d+$/.exec(d)||0==~~d)return}else{if(!confirm(STATS_CFM_DELETE))return;d=1}ab.splice(b,~~d);rb.reset(ab.length);wb.reset(ab.length);Db.save(b);zb.updateTable(!1);return!0}function b(b){for(var d=0,f=0,h=0;h<ab.length;h++){var p=ab[h][0];-1==p[0]||p.length<=b?f+=1:d+=z(b,h)}return f==ab.length?-1:d/(ab.length-f)}function n(b,d){switch(b[0]){case 0:return r(b[1]);case -1:return"DNF"+
(d?"("+r(b[1])+")":"");default:return r(b[0]+b[1])+"+"}}function h(b){if(2==b.length)return"";var d=[];d.push(r(b[b.length-1]));for(var f=b.length-2;1<=f;f--)d.push(r(b[f]-b[f+1]));return"="+d.join("+")}function ua(b){return"https://alg.cubing.net/?alg="+encodeURIComponent((b[4][0]||"").replace(/@(\d+)/g,"/*$1*/").replace(/-/g,"&#45;"))+"&setup="+encodeURIComponent(b[1]||"")}function Xa(b){b=~~$(b.target).attr("data");var d=rb;0!=b&&(d=new TimeStat(ub,ab.length,z.bind(void 0,b)));nb(d,Za,0==b?0:STATS_CURSPLIT.replace("%d",
b))}function Qa(b,f,h){var p=ab[b],z=p[0],v=[];v.push('<td class="times">'+(p[2]&&"*")+(b+1)+'</td><td class="times">'+n(z,!1)+"</td>");p=wb.runAvgMean(b-Eb+1,Eb,0,0<Fb?void 0:0);var w=wb.runAvgMean(b-vb+1,vb,0,0<Kb?void 0:0);v.push("<td"+(p?' class="times"':"")+">"+(p?d(p[0][0]):"-")+"</td><td"+(w?' class="times"':"")+">"+(w?d(w[0][0]):"-")+"</td>");if(1<f){v.push("<td>"+r(z[z.length-1])+"</td>");for(p=z.length-2;1<=p;p--)v.push("<td>"+r(z[p]-z[p+1])+"</td>");for(p=z.length-1;p<f;p++)v.push("<td>-</td>")}v=
v.join("");h&&h.html(v);return'<tr data="'+b+'">'+v+"</tr>"}function v(f){kb.empty().unbind("click").click(Xa);var h=ab.length,p=wb.getAllStats();kb.append('<th colspan="4" data="0" class="times">'+STATS_SOLVE+": "+(h-p[0])+"/"+h+"<br>"+STATS_AVG+": "+d(p[1])+"</th>").css("font-size","1.2em");if(1<f)for(h=1;h<=f;h++)kb.append('<th data="'+h+'" class="times">'+d(b(h))+"</th>").css("font-size","")}function Va(){if(!Ab){if(kernel.getProp("statsum")){Ya.css("display","inline-block");rb.getAllStats();
var b=$("<select>").change(function(b){kernel.setProp("statsrc",$(b.target).val())});b.append($("<option>").val("t").html("time"));var f=["t"];if(1!=xb)for(var h=0;h<xb;h++)b.append($("<option>").val("p"+(h+1)).html("P."+(h+1))),f.push("p"+(h+1));h=kernel.getProp("statsrc","t");-1==f.indexOf(h)?(b.append($("<option>").val("n").html("select")),b.val("n"),f.push("n")):b.val(h);h=[];0<ab.length?(h.push('<td class="times click" data="cs">'+r(rb.timeAt(ab.length-1))+"</td>"),h.push('<td class="times click" data="bs">'+
r(rb.bestTime)+"</td>")):(h.push("<td><span>-</span></td>"),h.push("<td><span>-</span></td>"));for(var p=[],n=0;n<ub.length;n++){var z=Math.abs(ub[n]);ab.length>=z&&(p.push("<tr><th>"+"am"[ub[n]>>>31]+"o"+z+"</th>"),p.push('<td class="times click" data="c'+"am"[ub[n]>>>31]+n+'">'+d(rb.lastAvg[n][0])+"</td>"),p.push('<td class="times click" data="b'+"am"[ub[n]>>>31]+n+'">'+d(rb.bestAvg[n][0])+"</td>"))}qb.empty().append($("<tr>").append("<th></th><th>"+tb[1]+"</th><th>"+tb[0]+"</th>"),$("<tr>").append(1==
f.length?"<th>time</th>":$("<th>").append(b),h.join("")),p.join(""))}else qb.empty(),Ya.hide();ib()}}function $a(){if(!Ab){Va();Hb.update();Gb.update();Qb.update();Pb.update();var b=ab.length-1,f=wb.runAvgMean(b-Eb+1,Eb,0,0<Fb?void 0:0),h=wb.runAvgMean(b-vb+1,vb,0,0<Kb?void 0:0);kernel.pushSignal("avg",[(0<Fb?"ao":"mo")+Eb+": "+(f?d(f[0][0]):"-"),(0<Kb?"ao":"mo")+vb+": "+(h?d(h[0][0]):"-"),f?[b-Eb+1,Eb,10*Eb,0>Fb]:void 0,h?[b-vb+1,vb,10*vb,0>Kb]:void 0,Ra.bind(void 0,wb,Za)])}}function Ta(){var b=
kernel.getProp("statsrc","t");return"t"==b?Cb:"p"==b[0]?z.bind(void 0,~~b.slice(1)):Cb}function Ua(b,d,f){var p=n(d[0],!0)+h(d[0])+(d[2]?"["+d[2]+"]":"");-1!=$.inArray(b,f)&&(p="("+p+")");kernel.getProp("printScr")&&(p+="   "+d[1]);kernel.getProp("printDate")&&(p+="   @"+mathlib.time2str(d[3]));return kernel.getProp("printScr")||kernel.getProp("printDate")?b+1+". "+p+" \n":p+", "}function Ra(b,f,h,p,n,r){if(0!=b.timesLen){var z=[0,[null],[null]],v=[];0!=h+p&&(r?z=b.runAvgMean(h,p,0,0)[0]:(z=b.runAvgMean(h,
p)[0],v=b.getTrimList(h,p,z[2],z[3])));var w="";if(kernel.getProp("printDate")&&2<p){w=f(h);var ua=f(h+p-1);w=tb[11].replace("%s",mathlib.time2str(w&&w[3])).replace("%e",mathlib.time2str(ua&&ua[3]));w=" ("+w+")"}w=[mathlib.time2str(+new Date/1E3,tb[3])+w+"\n"];1<n&&(2==n?w.push(tb[8]):10==n?w.push(tb[5]):r?w.push(tb[6].replace("%mk",~~(n/10))):w.push(tb[7].replace("%mk",~~(n/10))),w.push(": "+d(z[0])));w.push("\n\n"+tb[10]+"\n");for(n=0;n<p;n++)w.push(Ua(kernel.getProp("absidx")?h+n:n,f(h+n),v));
w=w.join("").slice(0,-2);sb.val(w);kernel.showDialog([sb,cb,void 0,cb,[STATS_EXPORTCSV,function(){Wa(b,f,h,p);return!1}]],"stats",STATS_CURROUND);sb[0].select()}}function Wa(b,d,f,h){if(0!=b.timesLen){window.Blob||alert("Do not support your browser!");b=["No.;Time;Comment;Scramble;Date"];for(var p=0;p<xb;p++)b[0]+=";P."+(p+1);for(p=0;p<h;p++){var z=d(f+p),v=[];v.push(p+1);v.push(n(z[0],!0));v.push(z[2]?z[2]:"");v.push(z[1]);v.push(mathlib.time2str(z[3]));v.push(r(z[0][z[0].length-1]));for(var w=z[0].length-
2;1<=w;w--)v.push(r(z[0][w]-z[0][w+1]));for(w=z[0].length-1;w<xb;w++)v.push("");for(w=0;w<v.length;w++){z=v;var ua=w,Qa=v[w];Qa=Qa.toString();if(-1!=Qa.indexOf(";")||-1!=Qa.indexOf("\n"))Qa='"'+Qa.replace(/"/g,'""')+'"';z[ua]=Qa}b.push(v.join(";"))}b=b.join("\r\n");d=new Blob([b],{type:"text/csv"});f=$('<a class="click"/>').appendTo("body");f.attr("href",URL.createObjectURL(d));f.attr("download","csTimerExport_"+mathlib.time2str(new Date/1E3,"%Y%M%D_%h%m%s")+".csv");f[0].click();f.remove()}}function f(b,
d,f){f=$(f.target).attr("data");if(void 0!=f){var h=~~f.substr(2);switch(f.substr(0,2)){case "bs":Ra(b,d,b.bestTimeIndex,1,10,!0);break;case "cs":Ra(b,d,b.timesLen-1,1,10,!0);break;case "ws":Ra(b,d,b.worstTimeIndex,1,10,!0);break;case "bm":Ra(b,d,b.bestAvgIndex[h],-ub[h],10*-ub[h],!0);break;case "cm":Ra(b,d,b.timesLen+ub[h],-ub[h],10*-ub[h],!0);break;case "ba":Ra(b,d,b.bestAvgIndex[h],ub[h],10*ub[h],!1);break;case "ca":Ra(b,d,b.timesLen-ub[h],ub[h],10*ub[h],!1);break;case "tt":nb(b,d)}}}function z(b,
d){var f=ab[d][0];return-1==f[0]||f.length<=b?-1:Ib*~~((0==b?f[0]+f[1]:f[f.length-b]-(f[f.length-b+1]||0))/Ib)}function Za(b){return ab[b]}function p(b){for(var d=[],f=0;f<b.length;f++)d.push(f);d.sort(function(f,d){var h=b[f][3]||0,p=b[d][3]||0;return h==p?f-d:h-p});for(f=0;f<b.length;f++)d[f]=b[d[f]];return d}function cb(){sb.val("")}function nb(b,f,h){var p=b.getAllStats(),n=p[0],z=b.runAvgMean(0,ab.length)[0];p=p[1];var v=b.timesLen,w="";if(kernel.getProp("printDate")&&2<v){w=f(0);var ua=f(v-
1);w=tb[11].replace("%s",mathlib.time2str(w&&w[3])).replace("%e",mathlib.time2str(ua&&ua[3]));w=" ("+w+")"}w=[mathlib.time2str(+new Date/1E3,tb[3])+w];w.push(tb[4].replace("%d",v-n+"/"+v)+"\n");w.push(tb[5]);w.push("    "+tb[0]+": "+r(b.bestTime));w.push("    "+tb[2]+": "+r(b.worstTime)+"\n");for(n=0;n<ub.length;n++)ua=Math.abs(ub[n]),v>=ua&&(w.push(tb[7-(ub[n]>>>31)].replace("%mk",ua)),w.push("    "+tb[1]+": "+d(b.lastAvg[n][0])+" (σ = "+bb(b.lastAvg[n][1],2)+")"),w.push("    "+tb[0]+": "+d(b.bestAvg[n][0])+
" (σ = "+bb(b.bestAvg[n][1],2)+")\n"));w.push(tb[8].replace("%v",d(z[0])).replace("%sgm",bb(z[1],2)).replace(/[{}]/g,""));w.push(tb[9].replace("%v",d(p)+"\n"));if(0!=v){w.push(tb[10]);z=[];for(p=0;p<v;p++)z.push(Ua(p,f(p),[]));z=z.join("").slice(0,-2);w.push(z)}w=w.join("\n");sb.val(w);kernel.showDialog([sb,cb,void 0,cb,[STATS_EXPORTCSV,function(){Wa(b,f,0,v);return!1}]],"stats",h||STATS_CURSESSION);sb[0].select()}function bb(b,f){b&&b!=Number.POSITIVE_INFINITY&&b!=Number.NEGATIVE_INFINITY||(b=0);
for(var d=""+Math.round(b*Math.pow(10,f));d.length<f+1;)d="0"+d;var h=d.length;return d.substr(0,h-f)+"."+d.substr(h-f,f)}function eb(b){b=b.split(/[\s,;]+/);for(var f=/([am])o(\d+)/,d=[],h=0;h<b.length;h++){var p=f.exec(b[h]);if(!p)return!1;d.push(("a"==p[1]?1:-1)*~~p[2])}d.sort(function(b,f){return Math.abs(b)-Math.abs(f)});return d}function lb(b){(b=eb(b))?(ub=b,rb=new TimeStat(ub,ab.length,Ta()),wb=new TimeStat([],ab.length,Cb),Lb.updateStatal(ub),$a()):(kernel.setProp("statal","mo3 ao5 ao12 ao100"),
kernel.reprop())}function gb(b,f){if("time"==b){var d=f;if("string"==typeof d[0]){var h=[d[2],d[1]||Nb,d[0],d[3]||Math.round(((new Date).getTime()-d[2][1])/1E3)];d[4]&&h.push(d[4]);ab.push(h);d=d[2]}else ab.push([d,Nb,"",Math.round(((new Date).getTime()-d[1])/1E3)]);rb.pushed();wb.pushed();Db.save(ab.length-1);d.length-1>xb?zb.updateTable(!0):zb.appendRow(ab.length-1);$a();kernel.pushSignal("timestd",ab[ab.length-1])}else"scramble"==b||"scrambleX"==b?Nb=f[1]:"property"==b?/^(:?useMilli|timeFormat|stat[12][tl]|statinv)$/.exec(f[0])?
(Ib=kernel.getProp("useMilli")?1:10,Fb=[1,-1][~~kernel.getProp("stat1t")]*kernel.getProp("stat1l"),Kb=[1,-1][~~kernel.getProp("stat2t")]*kernel.getProp("stat2l"),Eb=Math.abs(Fb),vb=Math.abs(Kb),zb.updateTable(!1)):"statsum"==f[0]?Va():"statal"==f[0]?(d=f[1],"u"==d&&(d="modify"==f[2],h=kernel.getProp("statalu"),d||!/^\s*([am]o\d+[\s,;]*)+\s*$/.exec(h))&&(d=prompt("Statistics Details",h||"mo3 ao5 ao12 ao100"),/^\s*([am]o\d+[\s,;]*)+\s*$/.exec(d)&&eb(d)?kernel.setProp("statalu",d):(null!=d&&alert("INVALID VALUES!"),
kernel.setProp("statal","mo3 ao5 ao12 ao100"),kernel.reprop())),d=kernel.getProp("statal"),lb("u"==d?kernel.getProp("statalu"):d)):"statalu"==f[0]?lb(f[1]):"trim"==f[0]?(rb.reset(ab.length),wb.reset(ab.length),Lb.updateStatal(ub),$a()):"view"==f[0]?ib():"statHide"==f[0]?f[1]?db.hide():db.show():"statsrc"==f[0]?(rb=new TimeStat(ub,ab.length,Ta()),$a()):"wndStat"==f[0]?ib():"sr_statal"==f[0]&&kernel.setProp("sr_statalu",f[1]):"ctrl"==b&&"stats"==f[0]?"clr"==f[1]?Db.getButton().click():"undo"==f[1]?
Bb.delLast():"OK"==f[1]?Bb.setCfm(0):"+2"==f[1]?Bb.setCfm(2E3):"DNF"==f[1]&&Bb.setCfm(-1):"ashow"!=b||f?"button"==b&&"stats"==f[0]&&f[1]&&setTimeout(ib,50):zb.hideAll()}function ib(){$("html").hasClass("m")?ob.height(Math.max(Ya.height(),kb.height()+2*hb.height())):null!=ob[0].offsetParent&&ob.outerHeight(~~(jb.height()-(db.is(":hidden")?0:db.outerHeight())-Ya.outerHeight()-5))}var ab=[],jb=$('<div id="stats" />'),sb=$('<textarea rows="10" readonly />'),ob=$('<div class="myscroll" />'),db=$("<div>"),
mb=$("<table />").click(function(b){b=$(b.target);if(b.is("td")&&"-"!=b.html()){var f=b.prevAll(),d=f.length;f=~~(0==d?b:f.eq(-1)).html().replace("*","")-1;if(!(4<d||0>d))switch(d){case 0:if(kernel.getProp("rsfor1s")){Ra(rb,Za,f,1,10,!0);break}case 1:Bb.proc(f,b);break;case 2:Ra(rb,Za,f-Eb+1,Eb,10*Eb,0>Fb);break;case 3:Ra(rb,Za,f-vb+1,vb,10*vb,0>Kb)}}}).addClass("table"),hb=$("<tr />"),kb=$("<tr />"),pb=$('<tr class="click" ><th class="click" colspan="15">...</th></tr>'),qb=$('<table class="sumtable" />').click(function(b){f(rb,
Za,b)}).addClass("table"),Ya=$('<div class="statc" />'),Ab=!0,zb=function(){function b(b){xb=1;for(b=0;b<ab.length;b++)xb=Math.max(xb,ab[b][0].length-1);hb.empty().append(w,"<th>"+STATS_TIME+"</th><th>"+(0<Fb?"ao":"mo")+Eb+"</th><th>"+(0<Kb?"ao":"mo")+vb+"</th>");if(1<xb)for(b=0;b<xb;b++)hb.append("<th>P."+(b+1)+"</th>");ua=[];Ra=ab.length-1;kernel.getProp("statinv")?mb.empty().append(hb,pb,kb):mb.empty().append(kb,hb,pb);d();0>Ra?pb.unbind("click").hide():pb.unbind("click").click(zb.showAll).show();
w.unbind("click").click(f);v(xb);$a();ob.scrollTop(kernel.getProp("statinv")?mb[0].scrollHeight:0)}function f(){var f=prompt("Filter Pattern: (23*, 15.1*, comments, scrambles, date)");null!=f&&f!=z&&(z=f?(f+"").replace(/[.\\+*?\[\^\]$(){}=!<>|:\-]/g,"\\$&").replace(/\\\*/g,".*").replace(/\\\?/g,"."):".*",r=new RegExp(z,"g"),b(!0))}function d(){for(var b=ua.length+50,f=[];0<=Ra&&ua.length<b;){var d=ab[Ra];if(r.exec(n(d[0],!0)+h(d[0]))||r.exec(d[1])||r.exec(d[2])||r.exec(mathlib.time2str(d[3])))f.push(Qa(Ra,
xb)),ua.push(Ra);Ra--}kernel.getProp("statinv")?pb.after(f.reverse().join("")):pb.before(f.join(""))}function p(b){d();0>Ra&&pb.unbind("click").hide()}var r=/.*/,z=".*",w=$('<th class="click">').html("&#8981;"),ua=[],Ra=0;return{appendRow:function(f){var d=Qa(f,xb);kernel.getProp("statinv")?(kb.before(d),ob.scrollTop(mb[0].scrollHeight)):(hb.after(d),ob.scrollTop(0));ua.unshift(f);v(xb);50<ua.length&&zb.hideAll();".*"!=z&&(z=".*",r=/.*/,b(!0))},showAll:p,hideAll:function(){for(;50<ua.length;)(kernel.getProp("statinv")?
pb.next():pb.prev()).remove(),Ra=ua.pop();0<Ra&&pb.unbind("click").click(p).show()},updateTable:b,updateFrom:function(b){for(var f=b.attr("data"),d=Math.min(f+Math.max(Eb,vb),ab.length);void 0!==f&&f<d&&0<=f;)Qa(~~f,xb,b),b=kernel.getProp("statinv")?b.next():b.prev(),f=b.attr("data");v(xb)}}}(),Bb=function(){function b(){ab[bb][2]=Sa.val();Db.save(bb);Qa(bb,xb,Xa)}function f(b){b=$(b.target);var f=b.attr("data");f&&("p"==f?(b={" OK ":0," +2 ":2E3," DNF ":-1}[b.html()],r(b,bb,Xa)):"d"==f?w(bb)&&(bb=
void 0,d()):"s"==f?(b=ab[bb],$.clipboardCopy(b[1])&&logohint.push("scramble copied")):"c"==f&&(b=ab[bb],$.clipboardCopy(n(b[0],!0)+h(b[0])+(b[2]?"["+b[2]+"]":"")+"   "+b[1]+"   @"+mathlib.time2str(b[3]))&&logohint.push("solve copied")))}function d(){kernel.isDialogShown("cfm")&&kernel.hideDialog();cb&&(v.css("font-size","0.8em"),cb.empty().append(v),bb=ab.length-1,Xa=kernel.getProp("statinv")?kb.prev():hb.next(),p())}function p(){if(ab[bb]){var d=ab[bb],p="";d[4]&&(p=$('<a target="_blank">'+STATS_REVIEW+
"</a>").addClass("click"),p.attr("href",ua(d)),p=$("<tr>").append($("<td>").append(p),$("<td>").append(Ya)));v.empty().append(Ta,"<br>",h(d[0]),"<br>").append('<span class="click" data="c"> &#128203; </span>|<span class="click" data="p"> OK </span>|<span class="click" data="p"> +2 </span>|<span class="click" data="p"> DNF </span>| ',Ua).append("<br>",$('<table style="display:inline-block;">').append($("<tr>").append("<td>"+STATS_COMMENT+"</td>",$("<td>").append(Sa)),$("<tr>").append('<td><span class="click" data="s">'+
SCRAMBLE_SCRAMBLE+"</span></td>",$("<td>").append(Wa)),$("<tr>").append("<td>"+STATS_DATE+"</td>",$("<td>").append(Va)),p)).unbind("click").click(f);Ta.html(n(d[0],!0));Wa.val(d[1]);Va.val(mathlib.time2str(d[3]));Sa.val(d[2]).unbind("change").change(b);Ya.val(d[4]?JSON.stringify(d[4]):"")}else v.empty()}function r(b,f,d){ab[f][0][0]!=b&&(ab[f][0][0]=b,rb.reset(ab.length),wb.reset(ab.length),Db.save(f),zb.updateFrom(d),$a(),f==bb&&p(),kernel.pushSignal("timepnt",ab[f]))}function z(b,f){cb=b;void 0!=
b&&d()}var v=$('<div style="text-align:center; font-family: initial;">'),Ta=$('<span style="font-size:2.5em;"/>'),Sa=$('<input type="text">').css("width","8em"),Ua=$('<input type="button" data="d">').val("X"),Wa=$('<input type="text" readonly>').css("width","8em"),Va=$('<input type="text" readonly>').css("width","8em"),Ya=$('<input type="text" readonly>').css("width","8em"),bb=0,Xa,cb;$(function(){tools.regTool("cfm",TOOLS_CFMTIME,z);kernel.regListener("cfm","session",d)});return{proc:function(b,
f){bb=b;Xa=f.parent();p();v.css("font-size","1.2em");kernel.showDialog([v,d,void 0,d,[STATS_SSSTAT,function(){d();Ra(rb,Za,b,1,10,!0)}]],"cfm","Solves No."+(b+1))},delLast:function(){0!=ab.length&&w(ab.length-1)&&(bb=void 0,d())},setCfm:function(b){0!=ab.length&&r(b,ab.length-1,kernel.getProp("statinv")?kb.prev():hb.next())}}}(),xb=0,ub=[-3,5,12,50,100,1E3],rb=new TimeStat(ub,0,Cb),wb=new TimeStat([],0,Cb),tb=STATS_STRING.split("|");for(Sa=0;13>Sa;Sa++)tb[Sa]=tb[Sa]||"";var Lb=function(){function b(b){return-1==
Va[b][0][0]?-1:~~((Va[b][0][0]+Va[b][0][1])/Ib)*Ib}function h(b){return Va[b]}function n(){Va=[];for(var b=Promise.resolve(),f=~~kernel.getProp("sessionN"),h=JSON.parse(kernel.getProp("sessionData")),n=Ta.val(),z=Sa.val(),v=-1==Za.val()?-1:~~(+new Date/1E3)-86400*Za.val(),w=0;w<f;w++){var ua=Db.rank2idx(w+1);if("*"==n||h[ua].name==n)if("*"==z||(h[ua].opt.scrType||"333")==z)b=b.then(function(b){return new Promise(function(f){storage.get(b).then(function(b){for(var d=0;d<b.length;d++)(b[d][3]||0)<v||
Va.push(b[d]);f()})})}.bind(void 0,ua))}b.then(function(){Va=p(Va);Wa.reset(Va.length);var b=Wa.getAllStats(),f=b[0],h=b[1],n=0;for(b=0;b<Va.length;b++)n+=Va[b][0][1];b=[];b.push('<span class="click" data="tt">'+tb[4].replace("%d",Wa.timesLen-f+"/"+Wa.timesLen)+", "+tb[9].replace("%v",d(h))+"</span>\n");b.push("<span>"+tb[12].replace("%d",r(n))+"</span>\n");b.push(tb[0]+': <span class="click" data="bs">'+r(Wa.bestTime)+"</span>");b.push(" | "+tb[2]+': <span class="click" data="ws">'+r(Wa.worstTime)+
"</span>\n");f=!1;h='<table class="table"><tr><td></td><td>'+tb[1]+"</td><td>"+tb[0]+"</td></tr>";for(n=0;n<ub.length;n++){var z=Math.abs(ub[n]);Wa.timesLen>=z&&(f||(f=!0,b.push(h)),b.push("<tr><td>"+tb[7-(ub[n]>>>31)].replace("%mk",z)),b.push('<td><span class="click" data="c'+"am"[ub[n]>>>31]+n+'">'+d(Wa.lastAvg[n][0])+" (σ="+bb(Wa.lastAvg[n][1],2)+")</span></td>"),b.push('<td><span class="click" data="b'+"am"[ub[n]>>>31]+n+'">'+d(Wa.bestAvg[n][0])+" (σ="+bb(Wa.bestAvg[n][1],2)+")</span></td></tr>"))}f&&
b.push("</table>");b=b.join("");Ra.html(b.replace(/\n/g,"<br>"))})}function z(){var b=!1,f=JSON.parse(kernel.getProp("sessionData"));$.each(f,function(f,d){ab[f]&&d.name==ab[f].name&&(d.opt||{}).scrType==(ab[f].opt||{}).scrType||(b=!0)});ab=f;if(b){var d=[],h=[];Ta.empty().append($("<option />").val("*").html(STATS_XSESSION_NAME));Sa.empty().append($("<option />").val("*").html(STATS_XSESSION_SCR));$.each(f,function(b,f){var p=f.name;-1==$.inArray(p,d)&&(d.push(p),Ta.append($("<option />").val(p).html(p)));
p=(f.opt||{}).scrType||"333";-1==$.inArray(p,h)&&(h.push(p),Sa.append($("<option />").val(p).html(scramble.getTypeName(p))))})}}function v(b,d){(Ya=b)&&!/^scr/.exec(d)&&(z(),b.empty().append(Qa),Ua.unbind("click").click(n),Ra.unbind("click").click(function(b){f(Wa,h,b)}))}function w(b,f){"sessionData"==f[0]&&Ya&&z()}var ua=STATS_XSESSION_DATE.split("|"),Qa=$("<div />").css("text-align","center").css("font-size","0.7em"),Ra=$("<div />"),Ta=$("<select>"),Za=$("<select>").append($("<option>").val(-1).html(ua[0]),
$("<option>").val(1).html(ua[1]),$("<option>").val(7).html(ua[2]),$("<option>").val(30).html(ua[3]),$("<option>").val(365).html(ua[4])).val(-1),Sa=$("<select>"),Ua=$('<span class="click">'+STATS_XSESSION_CALC+"</span>"),Wa=new TimeStat([],0,b),Va=[],Ya=null,ab={};$(function(){Qa.append(Ta,Za,Sa," ",Ua,"<br>",Ra);"undefined"!=typeof tools&&tools.regTool("hugestats",TOOLS_HUGESTATS,v);kernel.regListener("labelstat","property",w,/^sessionData$/)});return{update:$.noop,updateStatal:function(f){Wa=new TimeStat(f,
0,b)}}}(),Hb=function(){function b(){if(n){var b=rb.getAllStats(),f=b[0],h=b[1],z=0;for(b=0;b<ab.length;b++)z+=ab[b][0][1];b=[];b.push('<span class="click" data="tt">'+tb[4].replace("%d",rb.timesLen-f+"/"+rb.timesLen)+", "+tb[9].replace("%v",d(h))+"</span>\n");b.push("<span>"+tb[12].replace("%d",r(z))+"</span>\n");b.push(tb[0]+': <span class="click" data="bs">'+r(rb.bestTime)+"</span>");b.push(" | "+tb[2]+': <span class="click" data="ws">'+r(rb.worstTime)+"</span>\n");f=!1;h='<table class="table"><tr><td></td><td>'+
tb[1]+"</td><td>"+tb[0]+"</td></tr>";for(z=0;z<ub.length;z++){var v=Math.abs(ub[z]);rb.timesLen>=v&&(f||(f=!0,b.push(h)),b.push("<tr><td>"+tb[7-(ub[z]>>>31)].replace("%mk",v)),b.push('<td><span class="click" data="c'+"am"[ub[z]>>>31]+z+'">'+d(rb.lastAvg[z][0])+" (σ="+bb(rb.lastAvg[z][1],2)+")</span></td>"),b.push('<td><span class="click" data="b'+"am"[ub[z]>>>31]+z+'">'+d(rb.bestAvg[z][0])+" (σ="+bb(rb.bestAvg[z][1],2)+")</span></td></tr>"))}f&&b.push("</table>");b=b.join("");p.html(b.replace(/\n/g,
"<br>"))}}function h(d,h){(n=void 0!=d)&&!/^scr/.exec(h)&&(d.empty().append(p.unbind("click").click(function(b){f(rb,Za,b)})),b())}var p=$("<div />").css("text-align","center").css("font-size","0.7em"),n=!1;$(function(){"undefined"!=typeof tools&&tools.regTool("stats",TOOLS_STATS,h)});return{update:b}}(),Cb=z.bind(void 0,0),Gb=function(){function b(){if(h){d.empty();var b=wb.getMinMaxInt();if(b){var f=b[0],p=b[1];b=b[2];f=~~(f/b);p=~~(p/b);for(var n={},z={},v=0,w=z[f+1]=0;w<ab.length;w++){var ua=
Cb(w);-1!=ua?(ua=~~(ua/b),n[ua]=(n[ua]||0)+1,v=Math.max(n[ua],v),z[ua]=w+1):z[f+1]=w+1}for(w=f;w>p;w--)z[w]=Math.max(z[w+1],z[w]||0);ua=[];var Qa=0,Ra=1E3<=b?/[^\.]+(?=\.)/:/[^\.]+\.[\d]/,Ta=r(f*b).match(Ra)[0].length;for(w=p;w<=f;w++){p=r(w*b).match(Ra)[0];var Za=r((w+1)*b).match(Ra)[0];n[w]=n[w]||0;Qa+=n[w];p=mathlib.valuedArray(Ta-p.length,"&nbsp;").join("")+p;Za=mathlib.valuedArray(Ta-Za.length,"&nbsp;").join("")+Za;ua.push("<tr><td>"+p+'+</td><td><span class="cntbar" style="width: '+n[w]/v*5+
'em;">'+n[w]+"</span></td><td>&nbsp;&lt;"+Za+'</td><td><span class="cntbar" style="width: '+Qa/ab.length*5+'em; white-space: nowrap;">'+(ab.length-z[w+1])+"/"+Qa+"</span></td></tr>")}d.html('<table style="border:none;">'+ua.join("")+"</table>")}}}function f(f,p){(h=void 0!=f)&&!/^scr/.exec(p)&&(f.empty().append(d),b())}var d=$("<div />"),h=!1;$(function(){"undefined"!=typeof tools&&(kernel.regListener("distribution","property",function(f,d){"disPrec"==d[0]&&b()},/^disPrec$/),kernel.regProp("tools",
"disPrec",1,STATS_PREC,["a",["a",0,1,2,3,4,5,6,7,8,9],STATS_PREC_STR.split("|")],1),tools.regTool("distribution",TOOLS_DISTRIBUTION,f))});return{update:b}}(),Qb=function(){function b(){if(n&&h[0].getContext){p=h[0].getContext("2d");var b=kernel.getProp("imgSize")/10;z=50;h.width(12*b+"em");h.height(6*b+"em");h.attr("width",10*z+1);h.attr("height",5*z+5);v=5*z;z*=10;p.lineWidth=2;p.font="12pt Arial";p.fillStyle=kernel.getProp("col-font");p.fillText("time",50,13);p.strokeStyle="#888";p.beginPath();
p.moveTo(90,7);p.lineTo(150,7);p.stroke();p.fillText((0<Fb?"ao":"mo")+Eb,200,13);p.strokeStyle="#f00";p.beginPath();p.moveTo(240,7);p.lineTo(300,7);p.stroke();p.fillText((0<Kb?"ao":"mo")+vb,350,13);p.strokeStyle="#00f";p.beginPath();p.moveTo(390,7);p.lineTo(450,7);p.stroke();if(b=wb.getMinMaxInt()){var d=b[2],w=Math.ceil(b[0]/d)*d;b=~~(b[1]/d)*d;var ua=w-b,Qa=1E3<=d?/[^\.]+(?=\.)/:/[^\.]+\.[\d]/,Ra=[0,1,1,0,0],Ta=[0,0,1,1,0];p.fillStyle="#fff";p.beginPath();p.moveTo(Ra[0]*(z-35)+35,(1-Ta[0])*(v-25)+
25);for(var Za=1;Za<Ra.length;Za++)p.lineTo(Ra[Za]*(z-35)+35,(1-Ta[Za])*(v-25)+25);p.fill();p.closePath();p.fillStyle=kernel.getProp("col-font");p.strokeStyle="#ccc";p.lineWidth=1;p.textAlign="right";for(Ra=b;Ra<=w;Ra+=d)f([0,1],[(Ra-b)/ua,(Ra-b)/ua],"#ccc"),Ta=r(Ra).match(Qa)[0],p.fillText(Ta,30,(w-Ra)/ua*(v-25)+30);p.lineWidth=2;if(1<ab.length){d=[];w=[];for(Ra=0;Ra<ab.length;Ra++)Qa=Cb(Ra),-1!=Qa&&(d.push(Ra/(ab.length-1)),w.push(Math.max(0,Math.min(1,(Qa-b)/ua))));f(d,w,"#888")}if(ab.length>Eb){d=
[];w=[];Qa=wb.runAvgMean(0,ab.length,Eb,0<Fb?void 0:0);for(Ra=0;Ra<Qa.length;Ra++)-1!=Qa[Ra][0]&&(d.push((Ra+Eb-1)/(ab.length-1)),w.push(Math.max(0,Math.min(1,(Qa[Ra][0]-b)/ua))));f(d,w,"#f00")}if(ab.length>vb){d=[];w=[];Qa=wb.runAvgMean(0,ab.length,vb,0<Kb?void 0:0);for(Ra=0;Ra<Qa.length;Ra++)-1!=Qa[Ra][0]&&(d.push((Ra+vb-1)/(ab.length-1)),w.push(Math.max(0,Math.min(1,(Qa[Ra][0]-b)/ua))));f(d,w,"#00f")}f([0,1,1,0,0],[0,0,1,1,0],"#000")}}}function f(b,f,d){p.strokeStyle=d;p.beginPath();p.moveTo(b[0]*
(z-35)+35,(1-f[0])*(v-25)+25);for(d=1;d<b.length;d++)p.lineTo(b[d]*(z-35)+35,(1-f[d])*(v-25)+25);p.stroke();p.closePath()}function d(f,d){(n=void 0!=f)&&!/^scr/.exec(d)&&(f.empty().append(h),b())}var h=$("<canvas />"),p,n=!1,z,v;$(function(){"undefined"!=typeof tools&&(kernel.regListener("trend","property",function(f,d){"disPrec"==d[0]&&b()},/^disPrec|col-font$/),h[0].getContext&&tools.regTool("trend",TOOLS_TREND,d))});return{update:b}}(),Db=function(){function b(b){eb=b;kernel.setProp("session",
eb);db[eb]=db[eb]||{name:eb,opt:{}};kernel.setSProps(db[eb].opt||{});f();return Ta()}function f(){for(var b=1;b<=kb;b++){"object"!=typeof db[b]&&(db[b]={});var f={name:b,opt:{}},d;for(d in f)void 0===db[b][d]&&(db[b][d]=f[d]);db[b].scr&&(db[b].opt.scrType=db[b].scr,delete db[b].scr);db[b].phases&&(db[b].opt.phases=db[b].phases,delete db[b].phases);db[b].rank=db[b].rank||b}h();ob.empty();for(b=0;b<gb.length;b++)ob.append($("<option />").val(gb[b]).html(db[gb[b]].name));ob.append(pb,lb);ob.val(eb)}
function h(){gb=[];for(var b=1;b<=kb;b++)gb.push(b);gb.sort(function(b,f){return db[b].rank-db[f].rank});for(b=0;b<gb.length;b++)db[gb[b]].rank=b+1;kernel.setProp("sessionData",JSON.stringify(db))}function n(b){return db[b].rank+"-"+db[b].name}function r(b,d){$.isNumeric(b)||(b=(db[eb]||{}).rank||kb);eb=++kb;var h=new Date;h=h.getMonth()+1+"."+h.getDate()+" "+Jb;kernel.setProp("sessionN",kb);var p=db[gb[b-1]]||{};db[eb]=void 0===d||d?{name:p.name||h,opt:JSON.parse(JSON.stringify(p.opt||{})),rank:b+
.5}:{name:h,opt:kernel.getSProps(),rank:b+.5};f()}function z(f,d){r(f,d);ab=[];wb.reset(ab.length);rb.reset(ab.length);Za();b(eb);kernel.blur();kernel.getProp("imrename")&&Qa(eb,!0)}function v(f){f!=kb&&(db[f]=db[kb]);delete db[kb];storage.del(f,kb);kb--;kernel.setProp("sessionN",kb);kernel.setProp("sessionData",JSON.stringify(db));0==kb?z():eb==f?kernel.setProp("session",1):eb==kb+1&&b(f)}function w(b){if(0!=("stat"in db[b]?db[b].stat[0]:1)&&!confirm(STATS_CFM_DELSS.replace("%s",n(b))))return!1;
v(b);return!0}function ua(){confirm(STATS_CFM_RESET)&&(ab=[],rb.reset(),wb.reset(),Za(),zb.updateTable(!1),kernel.blur())}function Qa(b,f){void 0===b&&(b=eb);var d=prompt(f?STATS_SESSION_NAMEC:STATS_SESSION_NAME,db[b].name);null!=d&&(d=$("<div/>").text(d).html(),db[b].name=d,kernel.setProp("sessionData",JSON.stringify(db)))}function Ra(b,f){Ab=!1;ab=f;rb.reset(ab.length);wb.reset(ab.length);zb.updateTable(!1);db[b]=db[b]||{name:b,opt:{}};db[b].stat=[ab.length].concat(wb.getAllStats());db[b].date=
[(ab[0]||[])[3],(ab[ab.length-1]||[])[3]];kernel.setProp("sessionData",JSON.stringify(db));kernel.isDialogShown("ssmgr")&&cb();kernel.pushSignal("session","load")}function Ta(){return storage.get(eb).then(Ra.bind(void 0,eb))}function Za(b){db[eb].stat=[ab.length].concat(wb.getAllStats());db[eb].date=[(ab[0]||[])[3],(ab[ab.length-1]||[])[3]];kernel.setProp("sessionData",JSON.stringify(db));return storage.set(eb,ab,b)}function Sa(d){d=$(d.target);if(d.is("td, th, select")&&(d.hasClass("click")||d.is("select"))){for(var h=
d.parent();!h.is("tr");)h=h.parent();var p=h.children();5>p.length&&(p=h.prev().children());h=~~p.first().html().replace(/-.*$/,"");p=gb[h-1];switch(d.attr("data")||d.val()){case "r":Qa(p);break;case "u":1!=h&&(db[p].rank--,db[gb[h-2]].rank++,kernel.setProp("sessionData",JSON.stringify(db)));break;case "d":h!=gb.length&&(db[p].rank++,db[gb[h]].rank--,kernel.setProp("sessionData",JSON.stringify(db)));break;case "s":b(p);break;case "+":z(h);break;case "x":w(p);break;case "m":Va(p);break;case "o":bb();
break;case "p":Ua();break;case "e":Xa(d.parent());return;case "g":qb=!1;break;case "gn":qb="name";break;case "gs":qb="scr";break;case "v":storage.get(p).then(function(b){Wa(new TimeStat([],b.length,function(b,f){return-1==b[f][0][0]?-1:~~((b[f][0][0]+b[f][0][1])/Ib)*Ib}.bind(void 0,b)),function(b,f){return b[f]}.bind(void 0,b),0,b.length)});break;default:return}kernel.blur();f();cb()}}function Ua(){var b=prompt(STATS_PROMPTSPL.replace("%s",n(eb)),~~(ab.length/2));if(null!=b)if(b=~~b,1>b||b>ab.length-
1)alert(STATS_ALERTSPL);else{var f=eb,d=ab.slice(-b);r();storage.set(eb,d).then(function(){eb=f;ab=ab.slice(0,-b);rb.reset();wb.reset();Za();Ra(eb,ab)})}}function Va(f){if(eb!=f&&confirm(STATS_ALERTMG.replace("%f",n(eb)).replace("%t",n(f)))){var d=eb;storage.get(f).then(function(b){Array.prototype.push.apply(b,ab);return storage.set(f,b)}).then(function(h){delete db[f].stat;db[eb].date=[(h[0]||[])[3],(h[h.length-1]||[])[3]];kernel.setProp("sessionData",JSON.stringify(db));b(f);v(d)})}}function bb(){for(var b=
p(ab),f=0,d=0;d<ab.length;d++)b[d]!=ab[d]&&f++;0==f?logohint.push("Already sorted"):confirm(STATS_SSMGR_SORTCFM.replace("%d",f))&&(ab=b,rb.reset(),wb.reset(),Za(),Ra(eb,ab))}function Ya(b){var f=gb[b-1],h=db[f],p=["?/?","?"];if("stat"in h){var n=h.stat;p[0]=n[0]-n[1]+"/"+n[0];p[1]=d(n[2])}n=STATS_SSMGR_OPS.split("|");n='<select><option value="">...</option><option value="r">'+n[0]+'</option><option value="+">'+n[1]+'</option><option value="'+(f==eb?'p">'+n[2]:'m">'+n[3])+'</option><option value="x">'+
n[4]+"</option>"+(f==eb?'<option value="o">'+n[5]+"</option>":"")+'<option value="v">'+STATS_EXPORTCSV+"</option></select>";var r=1==b?"<td></td>":'<td class="click" data="u">&#8593;</td>',z=b==gb.length?"<td></td>":'<td class="click" data="d">&#8595;</td>',v="<td>"+scramble.getTypeName(h.opt.scrType||"333")+"</td>",w="<td>"+p[0]+"</td>";p="<td>"+p[1]+"</td>";var ua=mathlib.time2str((db[f].date||[])[1],"%Y-%M-%D");return'<tr class="'+(f==eb?"selected mhide":"mhide")+'"><td class="click" data="s">'+
b+"-"+h.name+(f==eb?"*":"")+"</td>"+w+p+"<td>"+ua+"</td>"+v+"<td>"+(h.opt.phases||1)+"</td>"+r+z+'<td class="seltd">'+n+'</td></tr><tr class="'+(f==eb?"selected ":"")+'mshow t"><td class="click" data="s" rowspan=2>'+b+"-"+h.name+(f==eb?"*":"")+"</td>"+w+v+r+z+'</tr><tr class="'+(f==eb?"selected ":"")+'mshow b">'+p+"<td>"+ua+"&nbsp;"+(h.opt.phases||1)+'P.</td><td class="seltd" colspan=2>'+n+"</td></tr>"}function hb(b){for(var f=!1,d=[],h=0;h<b.length;h++){var p=gb[b[h]];f=f||eb==p;d.push(db[p].name+
"("+scramble.getTypeName(db[p].opt.scrType||"333")+")")}d=d.join(", ");45<d.length&&(d=d.slice(0,42)+"...");return"<tr"+(f?' class="selected"':"")+'><td class="click" data="e" colspan=9 style="text-align:left;">'+(f?"*":"")+"[+] "+b.length+" session(s): "+d+"</td></tr>"}function Xa(b){for(var f=b.next();f.is(":hidden");f=f.next())f.css("display","");b.remove()}function cb(){h();nb.empty().append('<tr class="mhide"><th class="click" data='+("name"==qb?'"g">[+]':'"gn">[-]')+" "+STATS_SSMGR_NAME+"</th><th>"+
STATS_SOLVE+"</th><th>"+STATS_AVG+"</th><th>"+STATS_DATE+'</th><th class="click" data='+("scr"==qb?'"g">[+]':'"gs">[-]')+" "+SCRAMBLE_SCRAMBLE+'</th><th>P.</th><th colspan=3>OP</th></tr><tr class="mshow t"><th rowspan=2 class="click" data='+("name"==qb?'"g">[+]':'"gn">[-]')+" "+STATS_SSMGR_NAME+"</th><th>"+STATS_SOLVE+'</th><th class="click" data='+("scr"==qb?'"g">[+]':'"gs">[-]')+" "+SCRAMBLE_SCRAMBLE+'</th><th colspan=2 rowspan=2>OP</th></tr><tr class="mshow b"><th>'+STATS_AVG+"</th><th>"+STATS_DATE+
" & P.</th></tr>");for(var b=[],f=NaN,d=0;d<gb.length;d++){var p=db[gb[d]];qb&&p[qb]==f?b[b.length-1].push(d):(b.push([d]),f=p[qb])}for(d=0;d<b.length;d++)if(1==b[d].length)nb.append(Ya(b[d][0]+1));else for(nb.append(hb(b[d])),f=0;f<b[d].length;f++)nb.append($(Ya(b[d][f]+1)).hide());nb.unbind("click").click(Sa).unbind("change").change(Sa)}function $a(){cb();kernel.showDialog([sb,0,void 0,0,[STATS_SSMGR_ORDER,function(){if(!confirm(STATS_SSMGR_ODCFM))return!1;for(var b=[],d=1;d<=kb;d++)b.push(d);b.sort(function(b,
f){var d=scramble.getTypeIdx(db[b].opt.scrType||"333"),h=scramble.getTypeIdx(db[f].opt.scrType||"333");return d==h?db[b].rank-db[f].rank:d-h});for(d=0;d<b.length;d++)db[b[d]].rank=d+1;h();f();cb();return!1}]],"ssmgr",STATS_SSMGR_TITLE)}function mb(d,h){if("property"==d)"set"==h[2]||"session"==h[2]||h[0].startsWith("session")||(db[eb].opt=kernel.getSProps(),kernel.setProp("sessionData",JSON.stringify(db))),"session"==h[0]&&~~h[1]!=eb?b(h[1]):"sessionData"==h[0]?(db=JSON.parse(h[1]),"set"!=h[2]&&f()):
"sessionN"==h[0]?kb=h[1]:"scrType"==h[0]?(Jb=h[1],"modify"==h[2]&&kernel.getProp("scr2ss")&&z(void 0,!1)):"statclr"==h[0]&&(h[1]?jb.val("X").unbind("click").click(ua):jb.val("+").unbind("click").click(z));else if("ctrl"==d&&"stats"==h[0]){var p=db[eb].rank;"+"==h[1]&&p<kb?kernel.setProp("session",gb[p]):"-"==h[1]&&1<p&&kernel.setProp("session",gb[p-2])}}var kb=15,eb=-1,sb=$("<div />"),nb=$("<table />").appendTo(sb).addClass("table ssmgr"),jb=$('<input type="button">').val("+"),db,gb,pb=$("<option />").val("new").html("New.."),
lb=$("<option />").val("del").html("Delete.."),ob=$("<select />").change(function(){kernel.blur();"new"==ob.val()?z(kb,!1):"del"==ob.val()?w(eb)||ob.val(eb):b(~~ob.val())}),qb=!1;$(function(){kernel.regListener("ssmgr","property",mb);kernel.regListener("ssmgr","ctrl",mb,/^stats$/);kernel.regProp("stats","sessionN",-6,"Number of Sessions",[15]);kernel.regProp("stats","sessionData",-6,"Session Data",["{}"]);kb=kernel.getProp("sessionN");db=JSON.parse(kernel.getProp("sessionData"));f();kernel.setProp("sessionData",
JSON.stringify(db));kernel.regProp("stats","session",-6,"Current Session Index",[1])});return{getSelect:function(){return ob},showMgrTable:$a,importSessions:function(d){if(d&&0!=d.length){for(var h=eb,p=0;p<d.length;p++){var n=d[p],r=kernel.getSProps(),z;for(z in n.opt)r[z]=n.opt[z];eb=++kb;db[eb]={name:n.name||eb,opt:r,rank:kb};kernel.setProp("sessionN",kb);ab=n.times;rb.reset(ab.length);wb.reset(ab.length);Za()}f();b(h);$a();logohint.push("Import %d session(s)".replace("%d",d.length));return d.length}},
getButton:function(){return jb},rank2idx:function(b){return gb[b-1]},load:Ta,save:Za}}(),Pb=function(){function b(b){b-=Ta;var f=new Date(1E3*b);switch(Za){case "d":return~~(b/86400);case "w":return~~((b/86400-Qa.val())/7);case "m":return 12*f.getFullYear()+f.getMonth();case "y":return f.getFullYear()}}function f(b){switch(Za){case "d":return mathlib.time2str(86400*b+Ta,"%Y-%M-%D");case "w":return mathlib.time2str(86400*(7*b+~~Qa.val())+Ta,"Start@ %Y-%M-%D");case "m":return~~(b/12)+"-"+("0"+(b%12+
1)).slice(-2);case "y":return""+b}}function d(){for(var f=Promise.resolve(),d=[],h=~~kernel.getProp("sessionN"),p=0;p<h;p++){var n=Db.rank2idx(p+1);f=f.then(function(f){return new Promise(function(h){storage.get(f).then(function(p){d[f]={};for(var n=0;n<p.length;n++)if(p[n][3]){var r=b(p[n][3]);d[f][r]=d[f][r]||[0,0];d[f][r][0]+=1;d[f][r][1]+=-1!=p[n][0][0]}h()})})}.bind(void 0,n))}return f.then(function(){Ra=d})}function h(b){b=$(b.target).html();"&gt;"==b?Ua--:"&lt;"==b?Ua=Math.min(Ua+1,0):"+"==
b?Wa++:"-"==b&&(Wa=Math.max(1,Wa-1));p()}function p(){if(hb){var b=$('<table class="table">');db.empty().append("Period",z.unbind("change").change(r)," Start of day",v.unbind("change").change(r)," week",Qa.unbind("change").change(r),"<br>",b);for(var d=JSON.parse(kernel.getProp("sessionData")),p=~~kernel.getProp("sessionN"),n=$("<tr>").append(bb.unbind("click").click(h),Va.unbind("click").click(h)),w=$("<tr>").append(Ya.unbind("click").click(h),ab.unbind("click").click(h)),ua=0;ua<Wa;ua++)n.append($("<td rowspan=2>").html(f(Sa-
ua+Ua).replace(" ","<br>")));b.append(n,w);for(ua=0;ua<p;ua++)if(n=Db.rank2idx(ua+1),0!=Object.keys(Ra[n]||{}).length){w=$("<tr>").append($("<td colspan=2>").html(d[n].name));for(var Ta=0;Ta<Wa;Ta++){var Za=Ra[n][Sa-Ta+Ua];w.append($("<td>").html(Za?Za[1]+"/"+Za[0]:"-"))}b.append(w)}}}function n(b,f){hb=!!b;b&&!/^scr/.exec(f)&&(b.empty().append(db),r())}function r(){hb&&(Za=z.val(),Ta=3600*v.val()+60*(new Date).getTimezoneOffset(),Sa=b(+new Date/1E3),d().then(p))}for(var z=$("<select>").append($("<option>").val("d").html("day"),
$("<option>").val("w").html("week"),$("<option>").val("m").html("month"),$("<option>").val("y").html("year")).val("d"),v=$("<select>"),w=0;24>w;w++){var ua=("0"+w).slice(-2)+":00";v.append($("<option>").val(w).html(ua))}var Qa=$("<select>").append($("<option>").val(3).html("Sun"),$("<option>").val(4).html("Mon"),$("<option>").val(5).html("Tue"),$("<option>").val(6).html("Wed"),$("<option>").val(0).html("Thu"),$("<option>").val(1).html("Fri"),$("<option>").val(2).html("Sat")).val(3),Ra=[],Ta,Za,Sa,
Ua=0,Wa=3,Va=$('<td class="click">').html("&gt;"),bb=$('<td class="click">').html("&lt;"),Ya=$('<td class="click">').html("+"),ab=$('<td class="click">').html("-");$("<td colspan=1>");var hb=!1,db=$("<div />").css("text-align","center").css({"font-size":"0.7em","max-height":"20em","overflow-y":"auto"});$(function(){"undefined"!=typeof tools&&tools.regTool("dlystat","Daily Statistics",n);kernel.regListener("dlystat","property",p,/^sessionData$/)});return{update:r}}(),Nb="",Fb,Kb,Eb,vb,Jb="333",Ib=
1;$(function(){kernel.regListener("stats","time",gb);kernel.regListener("stats","scramble",gb);kernel.regListener("stats","scrambleX",gb);kernel.regListener("stats","property",gb,/^(:?useMilli|timeFormat|stat(:?sum|[12][tl]|alu?|inv|Hide|src)|session(:?Data)?|scrType|phases|trim|view|wndStat|sr_.*)$/);kernel.regListener("stats","ctrl",gb,/^stats$/);kernel.regListener("stats","ashow",gb);kernel.regListener("stats","button",gb);kernel.regProp("stats","trim",1,PROPERTY_TRIM,["p5","1 p1 p5 p10 p20 m".split(" "),
["1","1%","5%","10%","20%",PROPERTY_TRIM_MED]],1);kernel.regProp("stats","statsum",0,PROPERTY_SUMMARY,[!0],1);kernel.regProp("stats","printScr",0,PROPERTY_PRINTSCR,[!0],1);kernel.regProp("stats","printDate",0,PROPERTY_PRINTDATE,[!1],1);kernel.regProp("stats","imrename",0,PROPERTY_IMRENAME,[!1],1);kernel.regProp("stats","scr2ss",0,PROPERTY_SCR2SS,[!1]);kernel.regProp("stats","statinv",0,PROPERTY_STATINV,[!1],1);kernel.regProp("stats","statclr",0,STATS_STATCLR,[!0],1);kernel.regProp("stats","absidx",
0,STATS_ABSIDX,[!1],1);jb.append(db.append($('<span class="click" />').html(STATS_SESSION).click(Db.showMgrTable),Db.getSelect(),Db.getButton()),Ya.append(qb),$('<div class="stattl">').append(ob.append(mb)));$(window).bind("resize",ib);mb.append(hb,kb);kernel.addWindow("stats",BUTTON_TIME_LIST,jb,!0,!0,4);ob.bind("scroll",function(){var b=ob[0];b.scrollHeight-b.scrollTop<b.clientHeight+5&&!kernel.getProp("statinv")&&pb.click()});var b=STATS_TYPELEN.split("|");kernel.regProp("stats","stat1t",1,b[0].replace("%d",
1),[0,[0,1],b.slice(2)],1);kernel.regProp("stats","stat1l",2,b[1].replace("%d",1),[5,3,1E3],1);kernel.regProp("stats","stat2t",1,b[0].replace("%d",2),[0,[0,1],b.slice(2)],1);kernel.regProp("stats","stat2l",2,b[1].replace("%d",2),[12,3,1E3],1);kernel.regProp("stats","rsfor1s",0,STATS_RSFORSS,[!1]);kernel.regProp("stats","statalu",5,PROPERTY_STATALU,["mo3 ao5 ao12 ao100"],1);kernel.regProp("stats","statal",1,PROPERTY_STATAL,["mo3 ao5 ao12 ao100",["mo3 ao5 ao12 ao100","mo3 ao5 ao12 ao25 ao50 ao100",
"mo3 ao5 ao12 ao25 ao50 ao100 ao200 ao500 ao1000 ao2000 ao5000 ao10000","u"],["mo3 ao5 ao12 ao100","mo3 ao5 ao12 ao25 ao50 ao100","mo3 ao5 ao12 ao25 ao50 ao100 ao200 ao500 ao1000 ao2000 ao5000 ao10000","Custom"]],1);kernel.regProp("stats","delmul",0,PROPERTY_DELMUL,[!0]);kernel.regProp("ui","statHide",-1,"Hide Session Title",[!1]);kernel.setProp("sr_statalu",kernel.getProp("sr_statal"))});return{importSessions:Db.importSessions,getReviewUrl:ua,pretty:n}},[kernel.pretty,kernel.round,kernel.pround]);var tools=execMain(function(){function r(b,d){if(-1==b)for(var f=0;f<kernel.getProp("NTools");f++)r(f,d);else if(!Xa){for(f in Wa)Wa[f]();v[b].empty()}else for(f in Wa)if(f==Va[b])Wa[f](v[b],d)}function Sa(b,d){for(var f in Wa)if(f==Va[b])Wa[f](void 0,d)}function d(b){if(/^222(so|[236o]|eg[012]?|nb)$/.exec(b))return"222";if(/^(333(oh?|ni|f[mt])?|(z[zb]|[coep]|cm|2g|ls)?ll|lse(mu)?|2genl?|3gen_[LF]|edges|corners|f2l|lsll2|zbls|roux|RrU|half|easyc|eoline)$/.exec(b))return"333";if(/^(444([mo]|wca|yj|bld)?|4edge|RrUu)$/.exec(b))return"444";
if(/^(555(wca|bld)?|5edge)$/.exec(b))return"555";if(/^(666(si|[sp]|wca)?|6edge)$/.exec(b))return"666";if(/^(777(si|[sp]|wca)?|7edge)$/.exec(b))return"777";if(/^888$/.exec(b))return"888";if(/^999$/.exec(b))return"999";if(/^101010$/.exec(b))return"101010";if(/^111111$/.exec(b))return"111111";if(/^cubennn$/.exec(b))return"cubennn";if(/^pyr(s?[om]|l4e|nb|4c)$/.exec(b))return"pyr";if(/^skb(s?o|nb)?$/.exec(b))return"skb";if(/^sq(rs|1[ht]|rcsp)$/.exec(b))return"sq1";if(/^clk(wca|o)$/.exec(b))return"clk";
if(/^mgmp$/.exec(b))return"mgm";if(/^15p(at|ra?p?)?$/.exec(b))return"15p";if(/^15p(rmp|m)$/.exec(b))return"15b";if(/^8p(at|ra?p?)?$/.exec(b))return"8p";if(/^8p(rmp|m)$/.exec(b))return"8b"}function w(b,d){DEBUG&&console.log("[func select]",b,d);kernel.blur();for(var f=void 0===b?4:b+1,h=void 0===b?0:b;h<f;h++){var n=Ta[h].getSelected();Va[h]!=n&&(Sa(h,"property"),Va[h]=n,kernel.setProp("toolsfunc",JSON.stringify(Va)),r(h,"property"))}}function b(b,d){if("property"==b)if("imgSize"==d[0]||/^col/.exec(d[0]))for(var f=
0;f<kernel.getProp("NTools");f++)"image"==Va[f]&&r(f,b);else if("NTools"==d[0])for(f=0;4>f;f++)f<d[1]?(Qa[f].show(),""==v[f].html()&&r(f,b)):(Qa[f].hide(),Sa(f,b));else if("toolHide"==d[0]){f=!d[1];for(var h=0;4>h;h++)f?$a[h].show():$a[h].hide()}else{if("toolsfunc"==d[0]&&"session"==d[2]){h=JSON.parse(d[1]);for(f=0;4>f;f++)Ta[f].loadVal(h[f]);w()}}else if("scramble"==b||"scrambleX"==b)ua=d,r(-1,b);else if("button"==b&&"tools"==d[0])if(Xa=d[1])for(f=0;f<kernel.getProp("NTools");f++)Xa&&""==v[f].html()&&
r(f,b);else r(-1,b)}function n(b){$(b.target).hasClass("click")||$(b.target).is("input, textarea, select")||kernel.setProp("toolHide",!1)}function h(b){b=$(this);if("a"==b.attr("data"))b.prevAll().show(),b.prev().hide(),b.hide();else if("n"==b.attr("data")){var d=b.prevAll(":hidden");d.last().show();1==d.length&&(b.next().hide(),b.hide())}}for(var ua=["-","",0],Xa=!1,Qa=[],v=[],Va=["image","stats","cross"],$a=[],Ta=[],Ua=[],Ra=0;4>Ra;Ra++)v[Ra]=$("<div />"),$a[Ra]=$("<span />"),Ta[Ra]=new kernel.TwoLvMenu(Ua,
w.bind(null,Ra),$("<select />"),$("<select />")),Qa[Ra]=$("<div />").css("display","inline-block");$(function(){kernel.regListener("tools","property",b,/^(?:imgSize|image|toolsfunc|NTools|col(?:cube|pyr|skb|sq1|mgm)|toolHide)$/);kernel.regListener("tools","scramble",b);kernel.regListener("tools","scrambleX",b);kernel.regListener("tools","button",b,/^tools$/);for(var d=$('<div id="toolsDiv"/>'),h=0;4>h;h++)v[h].click(n),$a[h].append("<br>",TOOLS_SELECTFUNC,Ta[h].select1,Ta[h].select2),Qa[h].append(v[h],
$a[h]).appendTo(d),1==h&&d.append("<br>");kernel.regProp("tools","solSpl",0,PROPERTY_HIDEFULLSOL,[!1]);kernel.regProp("tools","imgSize",2,PROPERTY_IMGSIZE,[15,5,50]);kernel.regProp("tools","NTools",2,PROPERTY_NTOOLS,[1,1,4]);h=JSON.stringify(["image","stats","cross","distribution"]);kernel.regProp("tools","toolsfunc",5,PROPERTY_TOOLSFUNC,[h],1);var r=kernel.getProp("toolsfunc",h);-1==r.indexOf("[")&&(r=h.replace("image",r),kernel.setProp("toolsfunc",r));Va=JSON.parse(r);kernel.addWindow("tools",BUTTON_TOOLS,
d,!1,!0,6);kernel.regProp("ui","toolHide",-1,"Hide Tools Selector",[!1])});var Wa={};return{regTool:function(b,d,h){DEBUG&&console.log("[regtool]",b,d);Wa[b]=h;d=d.split(">");if(2==d.length){h=-1;for(var f=0;f<Ua.length;f++)if(Ua[f][0]==d[0]&&$.isArray(Ua[f][1])){h=f;break}-1!=h?Ua[h][1].push([d[1],b]):Ua.push([d[0],[[d[1],b]]])}else Ua.push([d[0],b]);for(f=0;4>f;f++)Ta[f].reset(Va[f])},getCurScramble:function(){return ua},getSolutionSpan:function(b){for(var d=$("<span />"),f=0;f<b.length;f++)d.append('<span style="display:none;">&nbsp;'+
b[f]+"</span>");kernel.getProp("solSpl")?(d.append($('<span class="click" data="n">[+1]</span>').click(h)),d.append($('<span class="click" data="a">['+b.length+"f]</span>").click(h))):d.children().show();return d},scrambleType:function(b){return null==b.match(/^([\d]?[xyzFRUBLDfrubldSME]([w]|&sup[\d];)?[2']?\s*)+$/)?"-":b.match(/^([xyzFRU][2']?\s*)+$/)?"222o":b.match(/^([xyzFRUBLDSME][2']?\s*)+$/)?"333":b.match(/^(([xyzFRUBLDfru]|[FRU]w)[2']?\s*)+$/)?"444":b.match(/^(([xyzFRUBLDfrubld])[w]?[2']?\s*)+$/)?
"555":"-"},puzzleType:d,isPuzzle:function(b,h){h=h||ua;var f=d(h[0]);h=h[1];return f?f==b:"222"==b?h.match(/^([xyzFRU][2']?\s*)+$/):"333"==b?h.match(/^([xyzFRUBLDSME][2']?\s*)+$/):"444"==b?h.match(/^(([xyzFRUBLDfru]|[FRU]w)[2']?\s*)+$/):"555"==b?h.match(/^(([xyzFRUBLDfrubld])[w]?[2']?\s*)+$/):"skb"==b?h.match(/^([RLUB]'?\s*)+$/):"pyr"==b?h.match(/^([RLUBrlub]'?\s*)+$/):"sq1"==b?h.match(/^$/):!1}}});var image=execMain(function(){function r(b){var d=b[0];"input"==d&&(d=tools.scrambleType(b[1]));d=tools.puzzleType(d);var f;for(f=0;12>f;f++)if(d==Wa[f])return Ua(f,b[1]),!0;return"cubennn"==d?(Ua(b[2],b[1]),!0):"pyr"==d?(Ta(b[1]),!0):"skb"==d?($a(b[1]),!0):"sq1"==d?(Va(b[1]),!0):"clk"==d?(v(b[1]),!0):"mgm"==d?(Qa(b[1]),!0):"15b"==d||"15p"==d?(Ra(d[2],4,b[1]),!0):"8b"==d||"8p"==d?(Ra(d[1],3,b[1]),!0):!1}function Sa(b){b&&(d=$("<canvas>"),w=d[0].getContext("2d"),b.empty().append(d),r(tools.getCurScramble())||
b.html(IMAGE_UNAVAILABLE))}var d,w,b=Math.sqrt(3)/2,n=Math.PI,h=$.ctxRotate,ua=$.ctxTransform,Xa=$.ctxDrawPolygon,Qa=function(){function b(b,d,f,p){for(var r=0;5>r;r++)Xa(w,$a[b[d+r]],h([Ra,Ta],2*n/5*r+p),f),Xa(w,$a[b[d+r+5]],h([Sa,Ua],2*n/5*r+p),f);Xa(w,$a[b[d+10]],h([Wa,Va],p),f)}var r=[[4,0,1,2,3,9,5,6,7,8,10,11,12,13,58,59,16,17,18,63,20,21,22,23,24,14,15,27,28,29,19,31,32,33,34,35,25,26,38,39,40,30,42,43,44,45,46,36,37,49,50,51,41,53,54,55,56,57,47,48,60,61,62,52,64,65,66,67,68,69,70,71,72,73,
74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131],[81,77,78,3,4,86,82,83,8,85,87,122,123,124,125,121,127,128,129,130,126,131,89,90,24,25,88,94,95,29,97,93,98,33,34,35,36,37,38,39,40,41,42,43,44,26,22,23,48,30,31,27,28,53,32,69,70,66,67,68,74,75,71,72,73,76,101,102,103,99,100,106,107,108,104,105,109,46,47,79,80,45,51,52,84,49,50,54,0,1,2,91,92,
5,6,7,96,9,10,15,11,12,13,14,20,16,17,18,19,21,113,114,110,111,112,118,119,115,116,117,120,55,56,57,58,59,60,61,62,63,64,65],[0,1,2,3,4,5,6,7,8,9,10,33,34,35,14,15,38,39,40,19,42,43,44,45,46,25,26,49,50,51,30,53,54,55,56,57,36,37,60,61,62,41,64,65,11,12,13,47,48,16,17,18,52,20,21,22,23,24,58,59,27,28,29,63,31,32,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,124,
125,121,122,123,129,130,126,127,128,131]],p=(Math.sqrt(5)+1)/2,v=.25/Math.tan(n/5),ua=2.6+3*Math.cos(.1*n)*p,Qa=2.2+1*Math.sin(.1*n)*p,Ra=[0,v,0,-v],Ta=[-1,-.75,-.5,-.75],Sa=[Math.cos(.1*n)-v,v,0,.5*Math.sin(.4*n)],Ua=[-Math.sin(.1*n)+-.25,-.75,-.5,.5*-Math.cos(.4*n)],Wa=[.5*Math.sin(0*n),.5*Math.sin(.4*n),.5*Math.sin(.8*n),.5*Math.sin(1.2*n),.5*Math.sin(1.6*n)],Va=[.5*-Math.cos(0*n),.5*-Math.cos(.4*n),.5*-Math.cos(.8*n),.5*-Math.cos(1.2*n),.5*-Math.cos(1.6*n)],$a="#fff #d00 #060 #81f #fc0 #00b #ffb #8df #f83 #7e0 #f9f #999".split(" "),
ob=/[RD][+-]{2}|U'?/;return function(h){$a=kernel.getProp("colmgm").match(f);for(var v=[],z=0;12>z;z++)for(var Ra=0;11>Ra;Ra++)v[11*z+Ra]=z;h=h.split(/\s+/);for(z=0;z<h.length;z++)if(Ra=ob.exec(h[z])){var Ta="URD".indexOf(Ra[0][0]),Sa=/[-']/.exec(Ra[0][1]);Ra=v;Ta=r[Ta];var Ua=Ra.slice();if(Sa)for(Sa=0;132>Sa;Sa++)Ra[Ta[Sa]]=Ua[Sa];else for(Sa=0;132>Sa;Sa++)Ra[Sa]=Ua[Ta[Sa]]}z=kernel.getProp("imgSize")/7.5;d.width(7*z+"em");d.height(3.5*z+"em");d.attr("width",392);d.attr("height",196);b(v,0,[40,2.6+
0*p,2.2+0*p],0*n);b(v,11,[40,2.6+Math.cos(.1*n)*p,2.2+Math.sin(.1*n)*p],.2*n);b(v,22,[40,2.6+Math.cos(.5*n)*p,2.2+Math.sin(.5*n)*p],.6*n);b(v,33,[40,2.6+Math.cos(.9*n)*p,2.2+Math.sin(.9*n)*p],1*n);b(v,44,[40,2.6+Math.cos(1.3*n)*p,2.2+Math.sin(1.3*n)*p],1.4*n);b(v,55,[40,2.6+Math.cos(1.7*n)*p,2.2+Math.sin(1.7*n)*p],1.8*n);b(v,66,[40,ua+Math.cos(.7*n)*p,Qa+Math.sin(.7*n)*p],0*n);b(v,77,[40,ua+Math.cos(.3*n)*p,Qa+Math.sin(.3*n)*p],1.6*n);b(v,88,[40,ua+Math.cos(1.9*n)*p,Qa+Math.sin(1.9*n)*p],1.2*n);b(v,
99,[40,ua+Math.cos(1.5*n)*p,Qa+Math.sin(1.5*n)*p],.8*n);b(v,110,[40,ua+Math.cos(1.1*n)*p,Qa+Math.sin(1.1*n)*p],.4*n);b(v,121,[40,ua+0*p,Qa+0*p],1*n);w&&(w.fillStyle="#000",w.font="20px serif",w.textAlign="center",w.textBaseline="middle",w.fillText("U",104,88),w.fillText("F",104,40*(2.2+Math.sin(.5*n)*p)))}}(),v=function(){var b=/([UD][RL]|ALL|[UDRLy])(\d[+-]?)?/,f="UR DR DL UL U R D L ALL".split(" ");return function(p){var r=p.split(/\s+/),v=clock.moveArr,z=9;p=[0,0,0,0];for(var Ra=[0,0,0,0,0,0,0,
0,0,0,0,0,0,0],Qa=0;Qa<r.length;Qa++){var Ta=b.exec(r[Qa]);if(Ta)if("y2"==Ta[0])z=0;else{var Sa=f.indexOf(Ta[1])+z;if(void 0==Ta[2])p[Sa%9]=1;else{var Ua=~~Ta[2][0];Ua="+"==Ta[2][1]?Ua:12-Ua;for(Ta=0;14>Ta;Ta++)Ra[Ta]=(Ra[Ta]+v[Sa][Ta]*Ua)%12}}}Ra=[Ra[0],Ra[3],Ra[6],Ra[1],Ra[4],Ra[7],Ra[2],Ra[5],Ra[8],12-Ra[2],Ra[10],12-Ra[8],Ra[9],Ra[11],Ra[13],12-Ra[0],Ra[12],12-Ra[6]];p=[p[3],p[2],p[0],p[1],1-p[0],1-p[1],1-p[3],1-p[2]];Qa=kernel.getProp("imgSize")/7.5;d.width(6.25*Qa+"em");d.height(3*Qa+"em");
d.attr("width",375);d.attr("height",180);r=[10,30,50];v=[10,30,50,75,95,115];for(Qa=0;18>Qa;Qa++)z=["#37b","#5cf"][~~(Qa/9)],Sa=[3,v[~~(Qa/3)],r[Qa%3]],w&&(Ta=ua(h([[1,1,0,-1,-1,-1,1,0],[0,-1,-8,-1,0,1,1,0]],Ra[Qa]/6*n),Sa),Ua=Ta[0],Ta=Ta[1],w.beginPath(),w.fillStyle=z,w.arc(Ua[7],Ta[7],9*Sa[0],0,2*n),w.fill(),w.beginPath(),w.fillStyle="#ff0",w.strokeStyle="#f00",w.moveTo(Ua[0],Ta[0]),w.bezierCurveTo(Ua[1],Ta[1],Ua[1],Ta[1],Ua[2],Ta[2]),w.bezierCurveTo(Ua[3],Ta[3],Ua[3],Ta[3],Ua[4],Ta[4]),w.bezierCurveTo(Ua[5],
Ta[5],Ua[6],Ta[6],Ua[0],Ta[0]),w.closePath(),w.fill(),w.stroke());r=[20,40];v=[20,40,85,105];for(Qa=0;8>Qa;Qa++)Ra=["#850","#ff0"][p[Qa]],z=[3,v[~~(Qa/2)],r[Qa%2]],w&&(Sa=ua([[0],[0]],z),w.beginPath(),w.fillStyle=Ra,w.strokeStyle="#000",w.arc(Sa[0][0],Sa[1][0],3*z[0],0,2*n),w.fill(),w.stroke())}}(),Va=function(){function r(b){for(var d=[],f=0;12>f;f++)d[(f+b[0])%12]=v[f];for(f=0;12>f;f++)d[f+12]=v[(f+b[1])%12+12];if(b[2])for(p=1-p,f=0;6>f;f++)mathlib.circle(d,f+6,23-f);v=d}var v=[],p=0,Ra=[[0,-.5,
.5],[0,-b-1,-b-1]],Qa=[[0,-.5,-b-1,-b-1],[0,-b-1,-b-1,-.5]],Ta=[[0,-.5,-b-1],[0,-b-1,-b-1]],Sa=[[0,-b-1,-b-1],[0,-b-1,-.5]],Ua=ua(Ra,[.66,0,0]),Wa=ua(Qa,[.66,0,0]),Va={U:"#ff0",R:"#f80",F:"#0f0",D:"#fff",L:"#f00",B:"#00f"},ab=/^\s*\(\s*(-?\d+),\s*(-?\d+)\s*\)\s*$/;return function(z){var ua=kernel.getProp("colsq1").match(f);Va={U:ua[0],R:ua[1],F:ua[2],D:ua[3],L:ua[4],B:ua[5]};v=[0,0,1,2,2,3,4,4,5,6,6,7,8,8,9,10,10,11,12,12,13,14,14,15];p=0;ua=z.split("/");for(z=0;z<ua.length;z++)if(/^\s*$/.exec(ua[z]))r([0,
0,1]);else{var Qa=ab.exec(ua[z]);r([~~Qa[1]+12,~~Qa[2]+12,1])}r([0,0,1]);z=kernel.getProp("imgSize")/10;d.width(11*z/1.3+"em");d.height(6.3*z/1.3+"em");d.attr("width",495);d.attr("height",283.5);ua=[45,2.7,2.7];for(z=0;12>z;z++)0==v[z]%2?v[z]==v[(z+1)%12]&&(Xa(w,Va["LBBRRFFLBLRBFRLF"[v[z]]],h(Sa,(z-3)*n/6),ua),Xa(w,Va["LBBRRFFLBLRBFRLF"[v[z]+1]],h(Ta,(z-3)*n/6),ua),Xa(w,Va["UD"[8<=v[z]?1:0]],h(Wa,(z-3)*n/6),ua)):(Xa(w,Va["-B-R-F-L-B-R-F-L"[v[z]]],h(Ra,(z-5)*n/6),ua),Xa(w,Va["UD"[8<=v[z]?1:0]],h(Ua,
(z-5)*n/6),ua));ua=[45,2.7+5.4,2.7];for(z=12;24>z;z++)0==v[z]%2?v[z]==v[(z+1)%12+12]&&(Xa(w,Va["LBBRRFFLBLRBFRLF"[v[z]]],h(Sa,-z*n/6),ua),Xa(w,Va["LBBRRFFLBLRBFRLF"[v[z]+1]],h(Ta,-z*n/6),ua),Xa(w,Va["UD"[8<=v[z]?1:0]],h(Wa,-z*n/6),ua)):(Xa(w,Va["-B-R-F-L-B-R-F-L"[v[z]]],h(Ra,(-1-z)*n/6),ua),Xa(w,Va["UD"[8<=v[z]?1:0]],h(Ua,(-1-z)*n/6),ua));ua=[45,5.4,5.7];Xa(w,Va.L,[[-b-1,-b-1,-.5,-.5],[.5,-.5,-.5,.5]],ua);0==p?Xa(w,Va.L,[[b+1,b+1,-.5,-.5],[.5,-.5,-.5,.5]],ua):Xa(w,Va.R,[[b,b,-.5,-.5],[.5,-.5,-.5,
.5]],ua)}}(),$a=function(){var h=[],n="#fff #00f #f00 #ff0 #0f0 #f80".split(" "),p=[[45*b,45*b,186.75*b,-22.5,22.5,45],[45*b,0,328.5*b,-22.5,45,67.5],[45*b,0,234*b,-22.5,45,114.75],[0,-45*b,139.5*b,45,-22.5,209.25],[45*b,0,139.5*b,22.5,45,114.75],[45*b,0,45*b,22.5,45,67.5]];return function(r){n=kernel.getProp("colskb").match(f);for(var v=0,z=0;6>z;z++)for(var ua=0;5>ua;ua++)h[v++]=z;r=kernel.parseScramble(r,"RULB");for(z=0;z<r.length;z++){v=r[z][0];ua=1==r[z][2]?1:2;for(var Ra=0;Ra<ua;Ra++)switch(v){case 0:mathlib.circle(h,
10,5,15);mathlib.circle(h,14,8,17);mathlib.circle(h,12,9,16);mathlib.circle(h,13,6,19);mathlib.circle(h,24,4,28);break;case 1:mathlib.circle(h,0,25,5);mathlib.circle(h,2,26,7);mathlib.circle(h,4,27,9);mathlib.circle(h,1,28,6);mathlib.circle(h,21,19,12);break;case 2:mathlib.circle(h,20,15,25);mathlib.circle(h,23,18,29);mathlib.circle(h,21,16,28);mathlib.circle(h,24,19,27);mathlib.circle(h,13,9,1);break;case 3:mathlib.circle(h,5,25,15),mathlib.circle(h,9,28,19),mathlib.circle(h,8,26,18),mathlib.circle(h,
7,29,17),mathlib.circle(h,2,23,14)}}z=kernel.getProp("imgSize")/10;d.width((8*b+.3)*z+"em");d.height(6.2*z+"em");d.attr("width",45*(8*b+.3)+1);d.attr("height",280);for(z=0;6>z;z++)r=z,v=p[r],Xa(w,n[h[5*r]],[[-1,0,1,0],[0,1,0,-1]],v),Xa(w,n[h[5*r+1]],[[-1,-1,0],[0,-1,-1]],v),Xa(w,n[h[5*r+2]],[[0,1,1],[-1,-1,0]],v),Xa(w,n[h[5*r+3]],[[-1,-1,0],[0,1,1]],v),Xa(w,n[h[5*r+4]],[[0,1,1],[1,1,0]],v)}}(),Ta=function(){var h=[],n=["#0f0","#f00","#00f","#ff0"],p=[3.5,1.5,5.5,3.5],r=[0,3*b,3*b,6.5*b],v=[0,6,5,
4],ua=[1,7,3,5],Ra=[2,8,4,3],Qa=[[0,1,2],[2,3,0],[1,0,3],[3,2,1]],Ta=[-.5,.5,0],Sa=[b,b,0],Ua=[-b,-b,0];return function(z){n=kernel.getProp("colpyr").match(f);for(var Wa=0,Va=0;4>Va;Va++)for(var bb=0;9>bb;bb++)h[Wa++]=Va;z=kernel.parseScramble(z,"URLB");for(Va=0;Va<z.length;Va++){var Za=z[Va][0]+(2==z[Va][1]?4:0);Wa=1==z[Va][2]?1:2;bb=4<=Za?1:4;Za=Qa[Za%4];for(var hb=0;hb<bb;hb++)for(var ab=0;ab<Wa;ab++)mathlib.circle(h,9*Za[0]+v[hb],9*Za[1]+ua[hb],9*Za[2]+Ra[hb])}Va=kernel.getProp("imgSize")/10;
d.width(7*Va+"em");d.height(6.5*b*Va+"em");d.attr("width",315);d.attr("height",292.5*b);for(Va=0;4>Va;Va++){z=Va;Wa=0!=z;bb=[0,-1,1,0,.5,-.5,0,-.5,.5];Za=[0,2,2,2,1,1,2,3,3];for(hb=0;hb<Za.length;hb++)Za[hb]*=Wa?-b:b,bb[hb]*=Wa?-1:1;for(hb=0;9>hb;hb++)Xa(w,n[h[9*z+hb]],[Ta,6<=hb!=Wa?Ua:Sa],[45,p[z]+bb[hb],r[z]+Za[hb]])}}}(),Ua=function(){function b(b,d,f,p){var n=p*p,r,v,z;5<b&&(b-=6);for(z=0;z<f;z++){for(r=0;r<p;r++){if(0==b){var w=6*n-p*d-p+r;var ua=2*n-p*d-1-r;var Ra=3*n-p*d-1-r;var Qa=5*n-p*d-
p+r}else 1==b?(w=3*n+d+p*r,ua=3*n+d-p*(r+1),Ra=n+d-p*(r+1),Qa=5*n+d+p*r):2==b?(w=3*n+d*p+r,ua=4*n+p-1-d+p*r,Ra=d*p+p-1-r,Qa=2*n-1-d-p*r):3==b?(w=4*n+d*p+p-1-r,ua=2*n+d*p+r,Ra=n+d*p+r,Qa=5*n+d*p+p-1-r):4==b?(w=6*n-1-d-p*r,ua=p-1-d+p*r,Ra=2*n+p-1-d+p*r,Qa=4*n-1-d-p*r):5==b&&(w=4*n-p-d*p+r,ua=2*n-p+d-p*r,Ra=n-1-d*p-r,Qa=4*n+d+p*r);var Ta=h[w];h[w]=h[ua];h[ua]=h[Ra];h[Ra]=h[Qa];h[Qa]=Ta}if(0==d)for(r=0;r+r<p;r++)for(v=0;v+v<p-1;v++)w=b*n+r+v*p,Ra=b*n+(p-1-r)+(p-1-v)*p,3>b?(ua=b*n+(p-1-v)+r*p,Qa=b*n+v+
(p-1-r)*p):(Qa=b*n+(p-1-v)+r*p,ua=b*n+v+(p-1-r)*p),Ta=h[w],h[w]=h[ua],h[ua]=h[Ra],h[Ra]=h[Qa],h[Qa]=Ta}}var h=[],p="#ff0 #fa0 #00f #fff #f00 #0d0".split(" ");return function(n,r){p=kernel.getProp("colcube").match(f);for(var v=0,z=0;6>z;z++)for(var ua=0;ua<n*n;ua++)h[v++]=z;z=kernel.parseScramble(r,"DLBURF");for(v=0;v<z.length;v++){for(ua=0;ua<z[v][1];ua++)b(z[v][0],ua,z[v][2],n);if(-1==z[v][1]){for(ua=0;ua<n-1;ua++)b(z[v][0],ua,-z[v][2],n);b((z[v][0]+3)%6,0,z[v][2]+4,n)}}z=kernel.getProp("imgSize")/
50;d.width(39*z+"em");d.height(29*z+"em");d.attr("width",39*n/9*30+1);d.attr("height",29*n/9*30+1);for(z=0;6>z;z++){v=z;ua=n;var Ra=10/9,Qa=10/9;0==v?(Ra*=ua,Qa*=2*ua):1==v?(Ra*=0,Qa*=ua):2==v?(Ra*=3*ua,Qa*=ua):3==v?(Ra*=ua,Qa*=0):4==v?(Ra*=2*ua,Qa*=ua):5==v&&(Ra*=ua,Qa*=ua);for(var Ta=0;Ta<ua;Ta++)for(var Sa=1==v||2==v?ua-1-Ta:Ta,Ua=0;Ua<ua;Ua++)Xa(w,p[h[(v*ua+(0==v?ua-1-Ua:Ua))*ua+Sa]],[[Ta,Ta,Ta+1,Ta+1],[Ua,Ua+1,Ua+1,Ua]],[30,Ra,Qa])}}}(),Ra=function(){return function(b,h,p){for(var n=[],r=[[1,
0],[0,1],[0,-1],[-1,0]],v=0;v<h*h;v++)n[v]=v;v=h-1;var z=h-1,ua=/([ULRD\uFFEA\uFFE9\uFFEB\uFFEC])([\d]?)/;p=p.split(" ");for(var Ra=0;Ra<p.length;Ra++){var Qa=ua.exec(p[Ra]);if(Qa){var Ta="ULRD￪￩￫￬".indexOf(Qa[1])%4;Qa=~~Qa[2]||1;Ta=r["b"==b?3-Ta:Ta];for(var Sa=0;Sa<Qa;Sa++)mathlib.circle(n,v*h+z,(v+Ta[0])*h+z+Ta[1]),v+=Ta[0],z+=Ta[1]}}b=kernel.getProp("imgSize")/50;d.width(30*b+"em");d.height(30*b+"em");d.attr("width",50*(h+.2));d.attr("height",50*(h+.2));b=kernel.getProp("col15p").match(f);b[h-
1]=b[b.length-1];for(v=0;v<h;v++)for(p=0;p<h;p++)r=n[p*h+v],z=Math.min(~~(r/h),r%h),r++,Xa(w,b[z],[[v+.05,v+.05,v+1-.05,v+1-.05],[p+.05,p+1-.05,p+1-.05,p+.05]],[50,.1,.1]),r!=h*h&&(w.fillStyle="#000",w.font="30px monospace",w.textAlign="center",w.textBaseline="middle",w.fillText(r,50*(v+.5+.1),50*(p+.5+.1)))}}(),Wa="  222 333 444 555 666 777 888 999 101010 111111".split(" "),f=/#[0-9a-fA-F]{3}/g;$(function(){d=$("<canvas>");d[0].getContext&&tools.regTool("image",TOOLS_IMAGE,Sa)});return{draw:r}});var cross=function(r,Sa,d,w,b,n,h){function ua(b,d){var f=bb[d][~~(b/24)];return 24*~~(f/384)+eb[b%24][(f>>4)%24]}function Xa(b,d){var f=bb[d][b>>4];return~~(f/384)<<4|lb[b&15][(f>>4)%24]^f&15}function Qa(b,d){for(var f=3;0<=f;f--)d[f]=b&1,b>>=1}function v(b){for(var d=0,f=0;4>f;f++)d<<=1,d|=b[f];return d}function Va(b,d){var f=bb[d][~~(b/384)];return 384*~~(f/384)+16*eb[(b>>4)%24][(f>>4)%24]+(lb[b&15][(f>>4)%24]^f&15)}function $a(){$a=$.noop;for(var f=0;24>f;f++)eb[f]=[];for(f=0;16>f;f++)lb[f]=[];
var h=[],z=[],Ra=[];for(f=0;24>f;f++)for(var Ta=0;24>Ta;Ta++){w(h,f,4);w(z,Ta,4);for(var Ua=0;4>Ua;Ua++)Ra[Ua]=h[z[Ua]];eb[f][Ta]=b(Ra,4);if(16>f){Qa(f,h);for(Ua=0;4>Ua;Ua++)Ra[Ua]=h[z[Ua]];lb[f][Ta]=v(Ra)}}r(bb,495,function(d,f){for(var h=[0,0,0,0,0,0,0,0,0,0,0,0],p=4,r=0;12>r;r++)d>=n[11-r][p]?(d-=n[11-r][p--],h[r]=p<<1):h[r]=-1;Sa(h,f);d=0;p=4;var v=0,z=[];for(r=0;12>r;r++)0<=h[r]&&(d+=n[11-r][p--],z[p]=h[r]>>1,v|=(h[r]&1)<<3-p);return 24*d+b(z,4)<<4|v});Za=[];p=[];d(Za,0,11880,5,ua);d(p,0,7920,
6,Xa)}function Ta(){function b(b,d){var f=~~(b/3);return 3*[[3,1,2,7,0,5,6,4],[0,1,6,2,4,5,7,3],[1,2,3,0,4,5,6,7],[0,5,1,3,4,6,2,7],[4,0,2,3,5,1,6,7],[0,1,2,3,7,4,5,6]][d][f]+(b%3+[[2,0,0,1,1,0,0,2],[0,0,1,2,0,0,2,1],[0,0,0,0,0,0,0,0],[0,1,2,0,0,2,1,0],[1,2,0,0,2,1,0,0],[0,0,0,0,0,0,0,0]][d][f])%3}Ta=$.noop;$a();for(var f=0;24>f;f++){ib[f]=[];gb[f]=[];for(var h=0;6>h;h++){ib[f][h]=b(f,h);var p=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];p[f>>1]=f&1;Sa(p,h);for(var n=0;12>n;n++)if(0<=p[n]){gb[f][h]=n<<1|
p[n];break}}}cb=[];for(f=0;4>f;f++)h=[],d(h,72*(f+4)+2*(f+4),576,5,function(b,d){return 24*ib[~~(b/24)][d]+gb[b%24][d]}),cb[f]=h}function Ua(b,d,f,n,r,v,z,w){if(0==v)return 0==b&&0==d&&f==2*(r+4)&&n==3*(r+4);if(h(Za,b)>v||h(p,d)>v||h(cb[r],24*n+f)>v)return!1;var Ra,Qa;for(Qa=0;6>Qa;Qa++)if(Qa!=z&&Qa!=z-3){var Ta=b;var Sa=d;var Va=f;var Wa=n;for(Ra=0;3>Ra;Ra++)if(Ta=ua(Ta,Qa),Sa=Xa(Sa,Qa),Va=gb[Va][Qa],Wa=ib[Wa][Qa],Ua(Ta,Sa,Va,Wa,r,v-1,Qa,w))return w.push("FRUBLD".charAt(Qa)+" 2'".charAt(Ra)),!0}return!1}
function Ra(b,d,f,n,r){if(0==f)return 0==b&&0==d;if(h(Za,b)>f||h(p,d)>f)return!1;var v,z;for(z=0;6>z;z++)if(z!=n&&z!=n-3){var w=b;var Qa=d;for(v=0;3>v;v++)if(w=ua(w,z),Qa=Xa(Qa,z),Ra(w,Qa,f-1,z,r))return r.push("FRUBLD".charAt(z)+" 2'".charAt(v)),!0}return!1}function Wa(b){$a();for(var d=[],f=0;6>f;f++){for(var h=0,p=0,n=0;n<b.length;n++)for(var r=jb[f].indexOf("FRUBLD".charAt(b[n][0])),v=b[n][2],z=0;z<v;z++)h=Xa(h,r),p=ua(p,r);n=[];for(r=0;100>r&&!Ra(p,h,r,-1,n);r++);n.reverse();d.push(n)}return d}
function f(b,d){Ta();for(var f=0,h=0,p=[8,10,12,14],n=[12,15,18,21],r=0;r<b.length;r++)for(var v=jb[d].indexOf("FRUBLD".charAt(b[r][0])),z=b[r][2],w=0;w<z;w++){f=Xa(f,v);h=ua(h,v);for(var Ra=0;4>Ra;Ra++)p[Ra]=gb[p[Ra]][v],n[Ra]=ib[n[Ra]][v]}r=[];v=!1;for(z=0;!v;){for(Ra=0;4>Ra;Ra++)if(Ua(h,f,p[Ra],n[Ra],Ra,z,-1,r)){v=!0;break}z++}r.reverse();return r}function z(){z=$.noop;$a();nb=[];d(nb,0,190080,7,Va,6,3,6)}var Za,p,cb,nb,bb=[],eb=[],lb=[],gb=[],ib=[],ab="DULRFB".split(""),jb="FRUBLD FLDBRU FDRBUL FULBDR URBDLF DRFULB".split(" "),
sb="&nbsp;&nbsp; z2 z' z&nbsp; x' x&nbsp;".split(" "),ob;execMain(function(){function b(){var d=$(this).parent(),h="DULRFB".indexOf(d.html()[0]);f(ob,h);var p=$(this).html();if("ec"==p){var n=f(ob,h);p="<<"}else n=Wa(ob)[h],p="ec";p=$("<span />").html(p).addClass("click").click(b);d.empty().append(ab[h]+"(",p,"): "+sb[h],tools.getSolutionSpan(n),"<br>")}function d(d){if(d)if(tools.isPuzzle("333")){var f=tools.getCurScramble()[1];d.empty();ob=kernel.parseScramble(f,"FRUBLD");f=Wa(ob);for(var h=0;6>
h;h++){var p=$('<span class="sol"/>'),n=$("<span />").html("ec").addClass("click").click(b);p.append(ab[h]+"(",n,"): "+sb[h],tools.getSolutionSpan(f[h]),"<br>");d.append(p)}}else d.html(IMAGE_UNAVAILABLE)}$(function(){tools.regTool("cross",TOOLS_SOLVERS+">"+TOOLS_CROSS,d)})});return{solve:Wa,getEasyCross:function(b){z();8<b&&(b=8);var d=mathlib.rn([1,16,174,1568,11377,57758,155012,189978,190080][b])+1,f;for(f=0;190080>f&&!(h(nb,f)<=b&&0==--d);f++);b=~~(f/384);var p=(f>>4)%24;d=[];var r=[],v=[],ua=
[];Qa(f&15,ua);w(v,p,4);p=4;var Ra=[7,6,5,4,10,9,8,11,3,2,1,0];for(f=0;12>f;f++)b>=n[11-f][p]?(b-=n[11-f][p--],d[Ra[f]]=v[p],r[Ra[f]]=ua[p]):d[Ra[f]]=r[Ra[f]]=-1;return[d,r]}}}(mathlib.createMove,mathlib.edgeMove,mathlib.createPrun,mathlib.setNPerm,mathlib.getNPerm,mathlib.Cnk,mathlib.getPruning);execMain(function(r,Sa,d,w){function b(b,d){var h=[0,0,0,0,0,0,0,0,0,0,0,0],f=b%12,n=~~(b/12);n>=f&&n++;h[f]=2;h[n]=4;Sa(h,d);for(var r=0;12>r;r++)1==h[r]>>1?f=r:2==h[r]>>1&&(n=r);n>f&&n--;return 12*n+f}function n(){n=$.noop;r(Xa,2048,[Sa,"o",12,-2]);r(Qa,132,b)}function h(b,d){n();var h=kernel.parseScramble(b,"FRUBLD");d.empty();for(var f=0;12>f;f++){for(var r=0,w=116,p=0;p<h.length;p++)for(var ua=$a[f].indexOf("FRUBLD".charAt(h[p][0])),Ra=h[p][2],Sa=0;Sa<Ra;Sa++)r=Xa[ua][r],w=Qa[ua][w];r=v.search([r,
w],0);for(p=0;p<r.length;p++)r[p]="FRUBLD".charAt(r[p][0])+" 2'".charAt(r[p][1]);d.append($('<span class="sol">').append(Va[f]+": "+Ta[f],tools.getSolutionSpan(r)),"<br>")}}function ua(b){if(b)if(tools.isPuzzle("333")){var d=tools.getCurScramble();h(d[1],b)}else b.html(IMAGE_UNAVAILABLE)}var Xa=[],Qa=[],v=new mathlib.Solver(6,3,[[0,[Sa,"o",12,-2],2048],[116,b,132]]),Va="D(LR) D(FB) U(LR) U(FB) L(UD) L(FB) R(UD) R(FB) F(LR) F(UD) B(LR) B(UD)".split(" "),$a="FRUBLD RBULFD FLDBRU LBDRFU FDRBUL DBRUFL FULBDR UBLDFR URBDLF RDBLUF DRFULB RUFLDB".split(" "),
Ta="&nbsp;&nbsp;&nbsp; &nbsp;y&nbsp; z2&nbsp; z2y z'&nbsp; z'y &nbsp;z&nbsp; z&nbsp;y x'&nbsp; x'y &nbsp;x&nbsp; x&nbsp;y".split(" ");$(function(){tools.regTool("eoline",TOOLS_SOLVERS+">"+TOOLS_EOLINE,ua)});return{solve:h}},[mathlib.createMove,mathlib.edgeMove,mathlib.createPrun,mathlib.getPruning]);execMain(function(r){function Sa(b,d){n.ca=[0,0,0,0,0,0,0,0];for(var v=1;3>v;v++){var w=b%24;b=~~(b/24);n.ca[w&7]=v|w&24}r.CornMult(n,r.moveCube[3*d],h);w=[];for(v=0;8>v;v++)w[h.ca[v]&7]=v|h.ca[v]&24;b=0;for(v=2;0<v;v--)b=24*b+w[v];return b}function d(b,d){n.ea=[0,0,0,0,0,0,0,0,0,0,0,0];for(var v=1;4>v;v++){var w=b%24;b=~~(b/24);n.ea[w>>1]=v<<1|w&1}r.EdgeMult(n,r.moveCube[3*d],h);w=[];for(v=0;12>v;v++)w[h.ea[v]>>1]=v<<1|h.ea[v]&1;b=0;for(v=3;0<v;v--)b=24*b+w[v];return b}function w(b,h){h.empty();
for(var n=0;4>n;n++){a:{var r=b,w=Qa[n];var Wa=[126];for(var f=[11964],z=1;4>z;z++)Wa[z]=Sa(Wa[z-1],4),f[z]=d(f[z-1],4);var Va=[];w=w.split("");for(var p=0;4>p;p++){Va[p]=w.join("");var $a=kernel.parseScramble(r,Va[p]);for(z=0;z<$a.length;z++)for(var nb=$a[z][0],bb=0;bb<$a[z][2];bb++)Wa[p]=Sa(Wa[p],nb),f[p]=d(f[p],nb);mathlib.circle(w,0,2,3,5)}for(w=1;12>w;w++)for(p=0;4>p;p++)if(r=ua.search([Wa[p],f[p]],1==w?0:w,w)){r.push(p);Wa=r;break a}Wa=void 0}f=Wa.pop();0==n%2&&(f=(f+2)%4);for(p=0;p<Wa.length;p++)Wa[p]=
"URFDLB".charAt(Wa[p][0])+" 2'".charAt(Wa[p][1]);h.append($('<span class="sol">').append(Xa[n]+": "+v[n]+["&nbsp;&nbsp;&nbsp;","x'&nbsp;","x2&nbsp;","x&nbsp;&nbsp;"][f],tools.getSolutionSpan(Wa)),"<br>")}}function b(b){if(b)if(tools.isPuzzle("333")){var d=tools.getCurScramble();w(d[1],b)}else b.html(IMAGE_UNAVAILABLE)}var n=new r,h=new r,ua=new mathlib.Solver(6,3,[[126,Sa,576],[11964,d,13824]]),Xa=["LU","LD","FU","FD"],Qa=["DRBULF","URFDLB","DBLUFR","UBRDFL"],v=["&nbsp;&nbsp;","&nbsp;&nbsp;","y&nbsp;",
"y&nbsp;"];$(function(){tools.regTool("roux1",TOOLS_SOLVERS+">"+TOOLS_ROUX1,b)});return{solve:w}},[mathlib.CubieCube]);var gsolver=function(){function r(h,n){for(var r=0;r<d.length;r++)n=h(n,d[r]);for(r=0;r<b.length;r++)n=h(n,b[r]);return n}function Sa(b,d){var h={};d=d||" 2'";for(var n in b)for(var r=0;r<d.length;r++)h[n+d[r]]=b[n];return h}var d,w,b,n=function(){function b(b,d){for(var f=b.split(""),h=n["URF".indexOf(d[0])],r="? 2'".indexOf(d[1]),p=0;p<h.length;p++)mathlib.acycle(f,h[p],r);return f.join("")}var h="URFDLB".split(""),n=[[[0,1,3,2],[4,8,16,20],[5,9,17,21]],[[4,5,7,6],[1,22,13,9],[3,20,15,11]],[[8,
9,11,10],[2,4,13,19],[3,6,12,17]]],r=new mathlib.gSolver("XXXX???????????????????? ????XXXX???????????????? ????????XXXX???????????? ????????????XXXX???????? ????????????????XXXX???? ????????????????????XXXX".split(" "),b,Sa({U:1,R:2,F:3}));return function(n,v){d=kernel.parseScramble(n,"URF");for(var f="UUUURRRRFFFFDDDDLLLLBBBB",z=0;z<d.length;z++){var w=d[z];f=b(f,"URF".charAt(w[0])+" 2'".charAt(w[2]-1))}for(w=0;6>w;w++){var p=[];for(z=0;24>z;z++)p.push(f[z]=="URFDLB".charAt(w)?"X":"?");z=r.search(p.join(""),
0);v.append(h[w]+": ",tools.getSolutionSpan(z),"<br>")}}}(),h=function(){function n(b,d){for(var f=b.split(""),h=Ra["URFDLBurfdlbMESxyz".indexOf(d[0])],p="? 2'".indexOf(d[1]),n=0;n<h.length;n++)mathlib.acycle(f,h[n],p);return f.join("")}function v(b,d,f){f+=" // orientation \n";for(var h=0;h<d.length&&void 0!=d[h];h++)f+=d[h].join(" ").replace(/\s+/g," ")+" // "+b[h].head+(0==d[h].length?" skip":"")+"\n";return"https://alg.cubing.net/?alg="+encodeURIComponent(f)}function ua(d,f){var h=+new Date,p=
[null,0],z=[];b=[];for(var ua=0;ua<d.length;ua++){if(!d[ua].solv){d[ua].solv={};for(var Qa in d[ua].step)d[ua].solv[Qa]=new mathlib.gSolver([Qa],n,d[ua].move)}var Ra=void 0,Ta=n,Sa=d[ua].solv,Ua=d[ua].step,Wa=d[ua].fmov||[];p=p[1];var Va=d[ua].maxl||10,Xa=0;a:for(;Xa<Va+1;Xa++)for(var ab in Sa)if((Ua[ab]|p)==Ua[ab]){var bb=r(Ta,ab);Ra=Sa[ab].search(bb,0,Xa);if(void 0!=Ra){p|=Ua[ab];break a}for(var Za=0;Za<Wa.length;Za++)if(Ra=Ta(bb,Wa[Za]),Ra=Sa[ab].search(Ra,0,Xa),void 0!=Ra){Ra.unshift(Wa[Za]);
p|=Ua[ab];break a}}p=[Ra,p];z[ua]=p[0];if(void 0==p[0]){f.append(d[ua].head+": &nbsp;(no solution found in %d moves)".replace("%d",d[ua].maxl||10),"<br>");break}f.append(d[ua].head+": ",0==z[ua].length?"&nbsp;(skip)":tools.getSolutionSpan(z[ua]),"<br>");b=b.concat(z[ua]);DEBUG&&console.log("[step solver]",d[ua].head+": ",z[ua],"->",p[1],r(n,mathlib.SOLVED_FACELET),+new Date-h)}f.append($('<a class="click" target="_blank">alg.cubing.net</a>').attr("href",v(d,z,jb)+"&setup="+encodeURIComponent(w)))}
function Qa(){jb=gb.val();h.exec(ib,w,ab.empty())}var Ra=[[[0,2,8,6],[1,5,7,3],[18,36,45,9],[19,37,46,10],[20,38,47,11]],[[9,11,17,15],[10,14,16,12],[2,51,29,20],[5,48,32,23],[8,45,35,26]],[[18,20,26,24],[19,23,25,21],[6,9,29,44],[7,12,28,41],[8,15,27,38]],[[27,29,35,33],[28,32,34,30],[24,15,51,42],[25,16,52,43],[26,17,53,44]],[[36,38,44,42],[37,41,43,39],[0,18,27,53],[3,21,30,50],[6,24,33,47]],[[45,47,53,51],[46,50,52,48],[2,36,33,17],[1,39,34,14],[0,42,35,11]],[[0,2,8,6],[1,5,7,3],[18,36,45,9],
[19,37,46,10],[20,38,47,11],[21,39,48,12],[22,40,49,13],[23,41,50,14]],[[9,11,17,15],[10,14,16,12],[2,51,29,20],[5,48,32,23],[8,45,35,26],[1,52,28,19],[4,49,31,22],[7,46,34,25]],[[18,20,26,24],[19,23,25,21],[6,9,29,44],[7,12,28,41],[8,15,27,38],[3,10,32,43],[4,13,31,40],[5,16,30,37]],[[27,29,35,33],[28,32,34,30],[24,15,51,42],[25,16,52,43],[26,17,53,44],[21,12,48,39],[22,13,49,40],[23,14,50,41]],[[36,38,44,42],[37,41,43,39],[0,18,27,53],[3,21,30,50],[6,24,33,47],[1,19,28,52],[4,22,31,49],[7,25,34,
46]],[[45,47,53,51],[46,50,52,48],[2,36,33,17],[1,39,34,14],[0,42,35,11],[5,37,30,16],[4,40,31,13],[3,43,32,10]],[[1,19,28,52],[4,22,31,49],[7,25,34,46]],[[21,12,48,39],[22,13,49,40],[23,14,50,41]],[[3,10,32,43],[4,13,31,40],[5,16,30,37]],[[9,11,17,15],[10,14,16,12],[2,51,29,20],[5,48,32,23],[8,45,35,26],[36,42,44,38],[37,39,43,41],[0,53,27,18],[3,50,30,21],[6,47,33,24],[1,52,28,19],[4,49,31,22],[7,46,34,25]],[[0,2,8,6],[1,5,7,3],[18,36,45,9],[19,37,46,10],[20,38,47,11],[27,33,35,29],[28,30,34,32],
[24,42,51,15],[25,43,52,16],[26,44,53,17],[21,39,48,12],[22,40,49,13],[23,41,50,14]],[[18,20,26,24],[19,23,25,21],[6,9,29,44],[7,12,28,41],[8,15,27,38],[45,51,53,47],[46,48,52,50],[2,17,33,36],[1,14,34,39],[0,11,35,42],[3,10,32,43],[4,13,31,40],[5,16,30,37]]],Wa=Sa({U:0,R:17,F:34,D:48,L:65,B:82}),f=Sa({U:0,R:17,F:34,L:65,B:82}),z=Sa({U:0,R:17,M:97,r:113}),Xa=Sa({U:0,R:17,L:65}),p=[{move:Wa,maxl:8,head:"Cross",step:{"----U--------R--R-----F--F--D-DDD-D-----L--L-----B--B-":0}},{move:f,head:"F2L-1",
step:{"----U-------RR-RR-----FF-FF-DDDDD-D-----L--L-----B--B-":1,"----U--------R--R----FF-FF-DD-DDD-D-----LL-LL----B--B-":2,"----U--------RR-RR----F--F--D-DDD-DD----L--L----BB-BB-":4,"----U--------R--R-----F--F--D-DDDDD----LL-LL-----BB-BB":8}},{move:f,head:"F2L-2",step:{"----U-------RR-RR----FFFFFFDDDDDD-D-----LL-LL----B--B-":3,"----U-------RRRRRR----FF-FF-DDDDD-DD----L--L----BB-BB-":5,"----U--------RR-RR---FF-FF-DD-DDD-DD----LL-LL---BB-BB-":6,"----U-------RR-RR-----FF-FF-DDDDDDD----LL-LL-----BB-BB":9,
"----U--------R--R----FF-FF-DD-DDDDD----LLLLLL----BB-BB":10,"----U--------RR-RR----F--F--D-DDDDDD---LL-LL----BBBBBB":12}},{move:f,head:"F2L-3",step:{"----U-------RRRRRR---FFFFFFDDDDDD-DD----LL-LL---BB-BB-":7,"----U-------RR-RR----FFFFFFDDDDDDDD----LLLLLL----BB-BB":11,"----U-------RRRRRR----FF-FF-DDDDDDDD---LL-LL----BBBBBB":13,"----U--------RR-RR---FF-FF-DD-DDDDDD---LLLLLL---BBBBBB":14}},{move:f,head:"F2L-4",step:{"----U-------RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB":15}}],cb=[{move:Wa,maxl:10,
fmov:["x ","x2","x'"],head:"Step 1",step:{"---------------------F--F--D--D--D-----LLLLLL-----B--B":0}},{move:z,maxl:16,head:"Step 2",step:{"------------RRRRRR---F-FF-FD-DD-DD-D---LLLLLL---B-BB-B":1}}],nb=[{move:Wa,maxl:8,head:"2x2x2",step:{"---------------------FF-FF-DD-DD--------LL-LL---------":1,"------------------------------DD-DD----LL-LL-----BB-BB":2}},{move:Wa,maxl:10,head:"2x2x3",step:{"---------------------FF-FF-DD-DD-DD----LLLLLL----BB-BB":3}}],bb=[{move:Wa,maxl:10,head:"EOLine",step:{"-H-HUH-H-----R-------HFH-F--D-HDH-D-----L-------HBH-B-":0}},
{move:Xa,maxl:16,head:"ZZF2L1",step:{"-H-HUH-H----RRRRRR---HFF-FF-DDHDD-DD----L-------BBHBB-":1,"-H-HUH-H-----R-------FFHFF-DD-DDHDD----LLLLLL---HBB-BB":2}},{move:Xa,maxl:16,head:"ZZF2L2",step:{"-H-HUH-H----RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB":3}}],eb=[{move:Wa,maxl:7,head:"EO",step:{"-H-HUH-H-----R-------HFH----H-HDH-H-----L-------HBH---":0}},{move:Wa,maxl:10,head:"DR",step:{"UUUUUUUUU---RRR------FFF---UUUUUUUUU---RRR------FFF---":1}}],lb,gb,ib,ab,jb="z2";execMain(function(){for(var b="z2;;z ;z';x ;x'".split(";"),
d=0;6>d;d++)for(var f=0;3>f;f++)b.push(b[d]+" y"+" 2'".charAt(f));gb=$("<select>");for(d=0;d<b.length;d++)gb.append($("<option>").val(b[d]).html(b[d]))});return{exec:function(f,h,v){if("222"==f){d=kernel.parseScramble(h,"URFDLB");for(f=0;f<d.length;f++)d[f]="URFDLB".charAt(d[f][0])+" 2'".charAt(d[f][2]-1);h="URF UFL ULB UBR DFR DLF DBL DRB".split(" ");var z="----UU-UURR-RR-----FF-FF------------------------------ ---UU-UU----------FF-FF--------------LL-LL------------ UU-UU-------------------------------LL-LL-----BB-BB--- -UU-UU----RR-RR------------------------------BB-BB---- ------------RR-RR-----FF-FF-DD-DD--------------------- ---------------------FF-FF-DD-DD--------LL-LL--------- ------------------------------DD-DD----LL-LL-----BB-BB -------------RR-RR-------------DD-DD------------BB-BB-".split(" ");
lb=lb||new mathlib.gSolver(z,n,Wa);for(f=0;8>f;f++){v.append(h[f]+": ");b=[];var w=lb.search(r(n,z[f]),0);w?v.append(tools.getSolutionSpan(w),"<br>"):v.append("no solution found<br>")}}else{ab=v;ib=f;z=jb.split(" ");w=[0,1,2,3,4,5];for(var Ra=[[5,1,0,2,4,3],[0,2,4,3,5,1],[1,3,2,4,0,5]],Ta=0;Ta<z.length;Ta++)if(z[Ta][0])for(var Sa="xyz".indexOf(z[Ta][0]),Ua="? 2'".indexOf(z[Ta][1]||" "),Va=0;Va<Ua;Va++)for(var Xa=0;6>Xa;Xa++)w[Xa]=Ra[Sa][w[Xa]];for(Xa=0;6>Xa;Xa++)w[Xa]="URFDLB".charAt(w[Xa]);z=w.join("");
d=kernel.parseScramble(h,"URFDLB");for(h=0;h<d.length;h++)d[h]=z.charAt(d[h][0])+" 2'".charAt(d[h][2]-1);v.append("Orientation:",gb.unbind("change").change(Qa),"<br>");"cf"==f&&ua(p,v);"roux"==f&&ua(cb,v);"petrus"==f&&ua(nb,v);"zz"==f&&ua(bb,v);"eodr"==f&&ua(eb,v)}},move:n}}(),ua=function(){function h(b,d){if(!b)return null;d=~~d;b=b.split("|");if(0==d){var f=b[0].slice(6);b[0]=b[0].slice(0,6)+b[1].slice(6);b[1]=b[1].slice(0,6)+f}else if(f=0<d?0:1,d=Math.abs(d),b[f]=b[f].slice(d)+b[f].slice(0,d),
/[a-h]/.exec(b[f][0]+b[f][6]))return null;return b.join("|")}function n(b){for(var d=0,f=0,h=[],n=0;n<b.length;n++)0==b[n]?(0==d&&0==f?h.push("/"):h.push((d+5)%12-5+","+((f+5)%12-5)+"/"),d=f=0):0<b[n]?d+=~~b[n]:f-=~~b[n];return h}for(var v={0:33},w=1;12>w;w++)v[""+w]=0,v[""+-w]=16;var ua,Qa;return function(f,z){ua=ua||new mathlib.gSolver(["0Aa0Aa0Aa0Aa|Aa0Aa0Aa0Aa0","0Aa0Aa0Aa0Aa|0Aa0Aa0Aa0Aa","Aa0Aa0Aa0Aa0|Aa0Aa0Aa0Aa0","Aa0Aa0Aa0Aa0|0Aa0Aa0Aa0Aa"],h,v);Qa=Qa||new mathlib.gSolver(["0Aa0Aa0Aa0Aa|Bb1Bb1Bb1Bb1",
"0Aa0Aa0Aa0Aa|1Bb1Bb1Bb1Bb","Aa0Aa0Aa0Aa0|Bb1Bb1Bb1Bb1","Aa0Aa0Aa0Aa0|1Bb1Bb1Bb1Bb"],h,v);d=[];for(var w=/^\s*\(\s*(-?\d+),\s*(-?\d+)\s*\)\s*$/,p=f.split("/"),Ra=0;Ra<p.length;Ra++){if(!/^\s*$/.exec(p[Ra])){var Ta=w.exec(p[Ra]);~~Ta[1]&&d.push((~~Ta[1]+12)%12);~~Ta[2]&&d.push(-(~~Ta[2]+12)%12)}d.push(0)}0<d.length&&d.pop();b=[];w=ua.search(r(h,"0Aa0Aa0Aa0Aa|Aa0Aa0Aa0Aa0"),0);z.append("Shape: ",tools.getSolutionSpan(n(w)),"<br>");b=b.concat(w);w=Qa.search(r(h,"0Aa0Aa0Aa0Aa|Bb1Bb1Bb1Bb1"),0);z.append("Color: ",
tools.getSolutionSpan(n(w)),"<br>")}}(),Xa=function(){function h(b,d){for(var h=b.split(""),f=n["RULBrbxy".indexOf(d[0])],r="? '*".indexOf(d[1]),v=0;v<f.length;v++)mathlib.acycle(h,f[v],r);return h.join("")}var n=[[[5,25,15],[9,28,17],[7,29,16],[8,26,19],[23,14,4]],[[0,20,25],[2,21,27],[4,22,29],[1,23,26],[19,7,11]],[[10,15,20],[13,18,24],[11,16,23],[14,19,22],[29,1,8]],[[25,20,15],[29,23,19],[28,21,18],[27,24,17],[13,9,2]],[[0,25,5],[4,26,7],[3,27,9],[2,28,6],[17,12,21]],[[0,20,25],[2,21,27],[4,
22,29],[1,23,26],[19,7,11]],[[0,25,15,10],[1,27,19,13],[2,29,18,11],[3,26,17,14],[4,28,16,12],[6,7,9,8],[21,23,24,22]],[[5,10,20,25],[6,11,21,26],[7,12,22,27],[8,13,23,28],[9,14,24,29],[1,2,4,3],[16,18,19,17]],[]],v;return function(n,w){v=v||new mathlib.gSolver(["?L?L??B?B?UUUUU?R?R???F?F?????","?F?F??L?L?UUUUU?B?B???R?R?????","?R?R??F?F?UUUUU?L?L???B?B?????","?B?B??R?R?UUUUU?F?F???L?L?????"],h,Sa({R:0,r:1,B:2,b:3}," '"));d=kernel.parseScramble(n,"RULB");for(var ua=0;ua<d.length;ua++)d[ua]="RULB".charAt(d[ua][0])+
" 2'".charAt(d[ua][2]-1);var f="URFDLB".split(""),z="UUUUU?RR???FF????????LL???BB?? ???BBUUUUU??L?L?FF????????R?R? ?B?B??R?R?UUUUU?F?F???L?L????? ????????RR???BBUUUUU???LL???FF ?BB????????R?R????FFUUUUU??L?L ??F?F??R?R???????B?B?L?L?UUUUU".split(" ");for(ua=0;6>ua;ua++){b=[];var Qa=["x*","y ",null,"x ","y*","y'"],p=~~(r(h,"U????R????F????D????L????B????").indexOf(f[ua])/5);Qa[p]&&b.push(Qa[p]);(Qa=v.search(r(h,z[ua]),0))?(w.append(f[ua]+": "),b[0]&&w.append("&nbsp;"+b[0].replace("'","2").replace("*",
"'")),w.append(tools.getSolutionSpan(Qa),"<br>")):w.append(f[ua]+": no solution found<br>")}}}(),Qa=function(){function h(b,d){for(var h=b.split(""),f=n["RULB".indexOf(d[0])],r="? '".indexOf(d[1]),v=0;v<f.length;v++)mathlib.acycle(h,f[v],r);return h.join("")}var n=[[[5,9,22],[0,7,20],[1,8,18]],[[3,16,11],[1,14,6],[2,12,7]],[[4,23,15],[2,18,13],[0,19,14]],[[10,17,21],[8,12,19],[6,13,20]]],v;return function(n,w){v=v||new mathlib.gSolver(["????FF??RRR??L?L?L?DDDDD"],h,Sa({R:0,U:1,L:2,B:3}," '"));d=kernel.parseScramble(n,
"RULBrulb");n=[];for(var ua=0;ua<d.length;ua++)1==d[ua][1]&&n.push("RULB".charAt(d[ua][0])+" 2'".charAt(d[ua][2]-1));var f=["D","L","R","F"],z=[["RULB","LUBR","BURL"],["URBL","LRUB","BRLU"],["RLBU","ULRB","BLUR"],["RBUL","UBLR","LBRU"]];for(ua=0;4>ua;ua++){b=[];var Qa,p=0;a:for(;99>p;p++)for(var Ra=0;3>Ra;Ra++){var Ta=z[ua][Ra];d=[];for(var Ua=0;Ua<n.length;Ua++)d.push("RULB"[Ta.indexOf(n[Ua][0])]+n[Ua][1]);if(Qa=v.search(r(h,"????FF??RRR??L?L?L?DDDDD"),p,p)){for(Ua=0;Ua<Qa.length;Ua++)Qa[Ua]=Ta["RULB".indexOf(Qa[Ua][0])]+
Qa[Ua][1];break a}}Qa?w.append(f[ua]+": ",tools.getSolutionSpan(Qa),"<br>"):w.append(f[ua]+": no solution found<br>")}}}();(function(){function d(b,d){var f=b.indexOf("-"),h=f>>2;f&=3;var p=b.split(""),n=~~d[1],r=[h<<2|f];if("V"==d[0]){if("$"==p[h<<2|n])return null;for(var v=f>n?-1:1;f!=n;)f+=v,r.push(h<<2|f)}else{if("$"==p[n<<2|f])return null;for(v=h>n?-1:1;h!=n;)h+=v,r.push(h<<2|f)}r.reverse();mathlib.acycle(p,r);return p.join("")}function h(b){var d=[];b=b.split("");for(var f=0;f<b.length;f++)"?"==
b[f]&&(b[f]="-",d.push(b.join("")),b[f]="?");return d}function n(f,h){for(var p=[],n=0;n<h.length;n++)p[n]=f[h[n]];f=p.join("");for(n=0;n<b.length;n++)f=d(f,b[n]);return f}function r(b){do{var d=mathlib.rndPerm(b*b);var f=(b-1-~~(d.indexOf(d.length-1)/b))*(b-1);for(var h=0;h<d.length;h++)for(var n=h+1;n<d.length;n++)d[h]>d[n]&&d[h]!=d.length-1&&f++}while(0!=f%2);return d}function v(d,h){var p=+new Date,v=[],w=0;if(4==d){v[0]=r(4);for(var Qa=v[0],Ra=[],Ta=[0,4,8,12,1,5,9,13,2,6,10,14,3,7,11,15],Sa=
0;16>Sa;Sa++)Ra[Sa]=Ta[Qa[Ta[Sa]]];v[1]=Ra;Qa=0;a:for(;99>Qa;Qa++)for(w=0;2>w;w++)if(Ra=v[w].indexOf(v.length-1),b=["V"+(Ra&3),"H"+(Ra>>2)],Ra=f.search(n("0123???????????-",v[w]),Qa,Qa)){b=b.concat(Ra);break a}Qa=z.search(n("01234???8???c??-",v[w]).replace(/[0123]/g,"$"),0);b=b.concat(Qa)}else if(3==d){Qa=r(3);Ra=[5,6,7,9,10,11,13,14,15];for(Ta=0;16>Ta;Ta++)v[Ta]=Ra[Qa[Ra.indexOf(Ta)]]||Ta;Ra=v.indexOf(v.length-1);b=["V"+(Ra&3),"H"+(Ra>>2)];v=[v]}Qa=ua.search(n("0123456789abcde-",v[w]).replace(/[012348c]/g,
"$"),0);b=b.concat(Qa);DEBUG&&console.log("[15p solver]",w,n("0123456789abcde-",v[w]),b.join(""),b.length,+new Date-p);b.reverse();Ra=h.slice(3==d?3:4);p=[];w=0==w?"VH":"HV";v=-1==Ra.indexOf("a")?["DR","UL"]:["￬￫","￪￩"];Qa=-1!=Ra.indexOf("m");Ra=-1!=Ra.indexOf("p");Ta=[3,3];for(Sa=0;Sa<b.length;Sa++)if(Sa<b.length-1&&b[Sa][0]==b[Sa+1][0]||2<=Sa&&b[Sa-2]==b[Sa])b.splice(Sa,1),Sa=-1;for(Sa=0;Sa<b.length;Sa++){var Ua=~~b[Sa][1],Va=w.indexOf(b[Sa][0]);if(Ta[Va]!=Ua){var Wa=v[Qa!=Ta[Va]>Ua?0:1][Va],Xa=
Math.abs(Ta[Va]-Ua);if(Ra)p.push(Wa+Xa);else for(;0<Xa--;)p.push(Wa);Ta[Va]=Ua}}return p.join(" ").replace(/1/g,"")}var w=Sa({V:0,H:1},"0123"),f=new mathlib.gSolver(h("0123????????????"),d,w),z=new mathlib.gSolver(h("$$$$4???8???c???"),d,w),ua=new mathlib.gSolver(["$$$$$567$9ab$de-"],d,w);scrMgr.reg(["15prp","15prap","15prmp"],v.bind(null,4))(["8prp","8prap","8prmp"],v.bind(null,3))})();var v=execMain(function(){function n(b){var d=bb[0].getBoundingClientRect(),f=b.offsetX/30*bb[0].width/d.width;
b=b.offsetY/30*bb[0].height/d.height;for(d=0;6>d;d++)if(f>=3.3*ab[d]&&f<=3.3*ab[d]+3&&b>=3.3*jb[d]&&b<=3.3*jb[d]+3){var h=~~(f-3.3*ab[d]),n=~~(b-3.3*jb[d]);lb=lb.split("");lb[9*d+3*n+h]=ib;lb=lb.join("");v(eb,d,h,n,lb)}f>=ab[6]&&f<=ab[6]+5&&b>=jb[6]&&b<=jb[6]+2&&(h=~~(f-ab[6]),n=~~(b-jb[6]),ib="URFDLB-XYZ".charAt(2*h+n),$.ctxDrawPolygon(eb,gb[ib],sb,[30,1.5,1.5]))}function v(b,d,f,h,n){$.ctxDrawPolygon(b,gb[n[9*d+3*h+f]],[[f,f,f+1,f+1],[h,h+1,h+1,h]],[30,3.3*ab[d],3.3*jb[d]])}function w(b,d){var f=
kernel.getProp("imgSize")/48;bb.width(39*f+"em");bb.height(29*f+"em");bb.attr("width",391);bb.attr("height",87/9*30+1);for(f=0;6>f;f++)for(var h=0;3>h;h++)for(var n=0;3>n;n++)v(b,f,h,n,d);for(h=0;5>h;h++)for(n=0;2>n;n++)$.ctxDrawPolygon(b,gb["URFDLB-XYZ".charAt(2*h+n)],[[h,h,h+1,h+1],[n,n+1,n+1,n]],[30,7.25,.5]);$.ctxDrawPolygon(b,gb[ib],sb,[30,1.5,1.5])}function ua(b){b=z.val();z.val("");kernel.blur();"input"==b?(b=prompt("U1U2...U9R1..R9F1..D1..L1..B1..B9",lb),null!=b&&(ob.exec(b)?(lb=b,w(eb,lb)):
logohint.push("Invalid Input"))):""!=b&&(lb=b,w(eb,lb))}function Qa(){if(f){var b=db[1].searchNext(1E3,1E3);var d=cb.length+" sol(s), @"+~~((+new Date-mb)/1E3)+"s|"+db[1].maxl+"f";b&&cb.push(b.join(" ")+" ("+b.length+"f)");p.html(cb.join("\n")+"\n"+d);p[0].scrollTop=p[0].scrollHeight;setTimeout(Qa,16)}}function Wa(){(f=!f)?Xa.val("Stop Solve!"):Xa.val("Start Solve!");kernel.blur();if(f){db[0]!=lb&&(db[0]=lb,db[1]=new mathlib.gSolver([lb],h.move,Sa({U:0,R:17,F:34,D:48,L:65,B:82})));var b=r(h.move,
lb);db[1].search(b,0,0);mb=+new Date;cb=[];Qa()}}var f=!1,z=$('<select style="font-size:0.75em;">'),Xa=$('<input type="button" value="Start Solve!" style="font-size:0.75em;">'),p=$('<textarea wrap=off rows="2" cols="30" style="font-size:0.75em;">'),cb=[],nb={"3x3x3":mathlib.SOLVED_FACELET,Empty:"----U--------R--------F--------D--------L--------B----","2x2x2":"----UU-UURR-RR-----FF-FF------------------------------","2x2x3":"---UUUUUURR-RR----FFFFFF-------------LL-LL------------",Cross:"----U--------R--R-----F--F--D-DDD-D-----L--L-----B--B-",
XCross:"----U-------RR-RR-----FF-FF-DDDDD-D-----L--L-----B--B-",EOLine:"-X-XUX-X-----R-------XFX-F--D-XDX-D-----L-------XBX-B-",Roux1:"---------------------F--F--D--D--D-----LLLLLL-----B--B",Domino:"UUUUUUUUU---RRR------FFF---UUUUUUUUU---RRR------FFF---","EO&CO":"XYXYUYXYX----R-------YFY---XYXYDYXYX----L-------YBY---",Corner:"U-U---U-UR-R---R-RF-F---F-FD-D---D-DL-L---L-LB-B---B-B"},bb,eb,lb=mathlib.SOLVED_FACELET,gb={U:"#fff",R:"#f00",F:"#0d0",D:"#ff0",L:"#fa0",B:"#00f","-":"#777",X:"#0ff",Y:"#f0f",
Z:"#000"},ib="-",ab=[1,2,1,1,0,3,7.25],jb=[0,1,1,2,1,1,.5],sb=[[-.7,-.7,.7,.7],[-.7,.7,.7,-.7]],ob=/^[URFDLBXYZ-]{54}$/,db=["",null],mb=0;$(function(){bb=$("<canvas>");if(bb[0].getContext){eb=bb[0].getContext("2d");z.append($("<option>").val("").html("Edit subset"));for(var b in nb)z.append($("<option>").val(nb[b]).html(b));z.append($("<option>").val("input").html("..."));lb=nb.Cross;w(eb,lb)}});return function(h,r){d=kernel.parseScramble(h,"URFDLB");for(var v=0;v<d.length;v++)d[v]="URFDLB".charAt(d[v][0])+
" 2'".charAt(d[v][2]-1);b=[];r.empty().append(z.unbind("change").change(ua)," ").append(Xa.unbind("click").click(Wa),"<br>").append(p.empty(),"<br>").append(bb.unbind("mousedown").bind("mousedown",n));f&&Wa()}});execMain(function(){function b(b,d){if(d){d.empty();var r=$('<span class="sol"/>'),Ra=tools.getCurScramble();w=Ra[1];if("222face"==b&&tools.isPuzzle("222"))n(Ra[1],r);else if("333udf"==b&&tools.isPuzzle("333")&&/^[URFDLB 2']+$/.exec(Ra[1]))v(Ra[1],r);else if(b.startsWith("333")&&tools.isPuzzle("333")&&
/^[URFDLB 2']+$/.exec(Ra[1]))h.exec(b.slice(3),Ra[1],r);else if("sq1cs"==b&&tools.isPuzzle("sq1"))ua(Ra[1],r);else if("skbl1"==b&&tools.isPuzzle("skb"))Xa(Ra[1],r);else if("pyrv"==b&&tools.isPuzzle("pyr"))Qa(Ra[1],r);else{d.html(IMAGE_UNAVAILABLE);return}d.append(r)}}$(function(){tools.regTool("222face",TOOLS_SOLVERS+">"+TOOLS_222FACE,b.bind(null,"222face"));tools.regTool("333cf",TOOLS_SOLVERS+">Cross + F2L",b.bind(null,"333cf"));tools.regTool("333roux",TOOLS_SOLVERS+">Roux S1 + S2",b.bind(null,"333roux"));
tools.regTool("333petrus",TOOLS_SOLVERS+">2x2x2 + 2x2x3",b.bind(null,"333petrus"));tools.regTool("333zz",TOOLS_SOLVERS+">EOLine + ZZF2L",b.bind(null,"333zz"));tools.regTool("333222",TOOLS_SOLVERS+">2x2x2",b.bind(null,"333222"));tools.regTool("333eodr",TOOLS_SOLVERS+">EO + DR",b.bind(null,"333eodr"));tools.regTool("sq1cs",TOOLS_SOLVERS+">SQ1 S1 + S2",b.bind(null,"sq1cs"));tools.regTool("pyrv",TOOLS_SOLVERS+">Pyraminx V",b.bind(null,"pyrv"));tools.regTool("skbl1",TOOLS_SOLVERS+">Skewb Face",b.bind(null,
"skbl1"));tools.regTool("333udf",TOOLS_SOLVERS+">3x3x3 General",b.bind(null,"333udf"))})});return{rubiksCube:h}}();var giikerutil=execMain(function(r){function Sa(b){b&&(v.html(Ra).removeClass("click").unbind("click"),GiikerCube.isConnected()||v.html("Bluetooth: Connect").addClass("click").click(Xa),b.empty().append(v,"<br>").append(Va.unbind("click").click(n),"<br>").append("Raw Data: ",$a,"<br>").append("Last Solve: ",Ta,"<br>").append(Ua),Wa())}function d(){GiikerCube.isConnected()?(GiikerCube.getCube().getBatteryLevel().then(function(b){z=b[0];Ra=b[1]+": Connected | "+(z||"??")+"%";v.html(Ra)}),f=setTimeout(d,
6E4)):f=0}function w(){ib&&(clearTimeout(ib),ib=0);kernel.getProp("giiAED")&&(ib=setTimeout(function(){a:{var d=jb;if(1!=d.length%2){var f=[];f[d.length]=new r;for(var h=d.length-1;0<=h;h--)f[h]=new r,r.CubeMult(r.moveCube[d[h]],f[h+1],f[h]);for(h=1;3>h;h++){ab=0;if(b(d,0,h,new r,f)){d=h;break a}if(9999<ab)break}}d=99}99!=d&&(d=nb.toFaceCube(),2>=cubeutil.getProgress(d,"cfop")||(d=scramble_333.genFacelet(nb.toFaceCube()),10>d.length/3?DEBUG&&console.log("[giiker]","Possible error, gen="+d.replace(/ /g,
"")+", ignore"):(DEBUG&&console.log("[giiker]","Almost error, gen="+d.replace(/ /g,"")+", mark solved"),n())))},1E3))}function b(d,f,h,n,p){if(0==h)return n.isEqual((new r).invFrom(p[f]));for(var v=new r;f<d.length-1;f++){if(~~(d[f]/3)%3!=~~(d[f+1]/3)%3){var w=(new r).init(n.ca,n.ea);r.CubeMult(w,r.moveCube[d[f+1]],v);r.CubeMult(v,r.moveCube[d[f]],w);r.CubeMult(w,p[f+2],v);if(9999<++ab)break;if(v.edgeCycles()<h)var z=b(d,f+2,h-1,w,p);if(z)return!0}r.CubeMult(n,r.moveCube[d[f]],v);n.init(v.ca,v.ea)}return!1}
function n(){eb.invFrom(cb);bb=mathlib.SOLVED_FACELET;kernel.setProp("giiSolved",p);jb=[];sb=[];db=0;Wa();Za(bb,["U "],gb)}function h(b,h,n,Qa){n=n||$.now();Ra=Qa+": Connected | "+(z||"??")+"%";v.html(Ra).removeClass("click").unbind("click");p=b;cb.fromFacelet(p);r.EdgeMult(eb,cb,nb);r.CornMult(eb,cb,nb);bb=nb.toFaceCube();jb.push(3*"URFDLB".indexOf(h[0][0])+" 2'".indexOf(h[0][1]));sb.push(timer.getCurTime(n));b=jb.length;if(20<b){Qa="";for(var Ta=0;Ta<db;Ta++){var Sa=jb[Ta];Qa+="URFDLB".charAt(~~(Sa/
3))+" 2'".charAt(Sa%3)}var Ua="";for(Ta=db;Ta<jb.length;Ta++)Sa=jb[Ta],Ua+="URFDLB".charAt(~~(Sa/3))+" 2'".charAt(Sa%3)+"/*"+sb[Ta]+"*/";ua($a,b+" move(s)",Qa,Ua)}bb==mathlib.SOLVED_FACELET&&(jb=[],sb=[],db=0);Wa();0==f&&d();w();Za(bb,h,n)}function ua(b,d,f,h){b.attr("href","https://alg.cubing.net/?alg="+h+"&setup="+f);b.html(d)}function Xa(){p=kernel.getProp("giiSolved",mathlib.SOLVED_FACELET);cb.fromFacelet(p);eb.invFrom(cb);GiikerCube.setCallBack(h);return GiikerCube.isConnected()?Promise.resolve():
GiikerCube.init()}function Qa(b,d){var f=d[0];ob=d[1];if("333"!=tools.puzzleType(f))ob="";else{f=kernel.parseScramble(ob,"URFDLB");var h=new r;lb.init(h.ca,h.ea);for(var n=0;n<f.length;n++){var p=3*f[n][0]+f[n][2]-1;0>p||18<=p||(r.EdgeMult(lb,r.moveCube[p],h),r.CornMult(lb,r.moveCube[p],h),p=lb,lb=h,h=p)}}}var v=$("<span></span>"),Va=$("<span>Reset (Mark Solved)</span>").addClass("click"),$a=$('<a target="_blank">0 move(s)</a>').addClass("click"),Ta=$('<a target="_blank"></a>').addClass("click"),
Ua=$("<canvas>"),Ra="Connected | ??%",Wa=function(){var b=[1,2,1,1,0,3],d=[0,1,1,2,1,1],f="#ff0 #fa0 #00f #fff #f00 #0d0".split(" "),h;return function(){if(Ua)if(kernel.getProp("giiVRC"))Ua.hide();else{f=kernel.getProp("colcube").match(/#[0-9a-fA-F]{3}/g);Ua.show();h=Ua[0].getContext("2d");var n=kernel.getProp("imgSize")/50;Ua.width(39*n+"em");Ua.height(29*n+"em");Ua.attr("width",391);Ua.attr("height",87/9*30+1);for(n=0;6>n;n++)for(var p=n,r=bb,v=10/3*b[p],w=10/3*d[p],z=0;3>z;z++)for(var ua=0;3>ua;ua++)$.ctxDrawPolygon(h,
f["DLBURF".indexOf(r[3*(3*p+ua)+z])],[[z,z,z+1,z+1],[ua,ua+1,ua+1,ua]],[30,v,w])}}}(),f=0,z=0,Za=$.noop,p=mathlib.SOLVED_FACELET,cb=new r,nb=new r,bb=p,eb=new r,lb=new r,gb=$.now(),ib=0,ab=0,jb=[],sb=[],ob,db=0;$(function(){kernel.regListener("giiker","scramble",Qa);kernel.regListener("tool","property",Wa,/^(?:giiVRC)$/);tools.regTool("giikerutil",TOOLS_GIIKER,Sa)});return{setCallBack:function(b){Za=b},markSolved:n,checkScramble:function(){return""==ob?!1:lb.isEqual(nb)},markScrambled:function(){db=
jb.length},init:Xa,setLastSolve:function(b){ua(Ta,"Ready",ob,b)}}},[mathlib.CubieCube]);var metronome=execMain(function(){function r(b){return 99<b?b:" "+b}function Sa(b){b?(b.empty().append("BPM: ",v,$a,"<br />").append("Vol: ",Va,Ta,"<br />",Qa,"<br />").append("<br />",$("<label>").append(Wa,'<span class="click"> Beep at</span>'),"<br />",Ra),v.unbind().on("input",function(){$a.html(r(v.val()));w()}),Va.unbind().on("input",function(){Ta.html(r(Va.val()));Ua.gain.value=Va.val()/100}),Qa.html(f?"Stop!":"Start!"),Qa.unbind().click(function(){f=!f;Qa.html(f?"Stop!":"Start!");w()}),d()):
(null!=z&&(clearInterval(z),z=null),f=!1)}function d(){Wa.unbind("change").change(n).prop("checked",kernel.getProp("beepEn"));Ra.unbind("change").change(n).val(kernel.getProp("beepAt"));n()}function w(){null!=z&&(clearInterval(z),z=null);if(f){var d=6E4/~~v.val();z=setInterval(b,d)}}function b(b){var d=Xa.createOscillator();d.type="sine";d.frequency.value=b||440;d.connect(Ua);d.start(Xa.currentTime);d.stop(Xa.currentTime+.1)}function n(){Wa.prop("checked")?h(Ra.val()):null!=Za&&(clearInterval(Za),
Za=null);kernel.setProp("beepEn",Wa.prop("checked"));kernel.blur()}function h(b){null!=Za&&(clearInterval(Za),Za=null);b=b.split(",");for(var d=0;d<b.length;d++)b[d]=~~(1E3*b[d].trim())/1E3;b=b.filter(Number);b.sort(function(b,d){return b-d});p=b;Ra.val(b.join(","));kernel.setProp("beepAt",b.join(","));Za=setInterval(ua,100)}function ua(){var d=~~timer.getCurTime()/1E3;if(0==d)cb=0;else{for(var f=!1;cb<p.length&&d>p[cb]-.05;)++cb,f=!0;f&&b(550)}}var Xa,Qa=$('<span style="display:inline-block; text-align:center; width:100%;"/>').addClass("click"),
v=$('<input type="range" value="60" min="10" max="360" style="width:7em;" />'),Va=$('<input type="range" value="30" min="0" max="100" style="width:7em;" />'),$a=$("<span />").html(" 60"),Ta=$("<span />").html(" 30"),Ua,Ra=$('<input type="text" style="width:7em;" />'),Wa=$('<input type="checkbox" />'),f=!1,z=null,Za=null,p=[],cb=0;$(function(){kernel.regProp("tools","beepEn",-6,"Beep Enable",[!1]);kernel.regProp("tools","beepAt",-6,"Beep At",["5,10,15,20"]);var b=window.AudioContext||window.webkitAudioContext;
void 0!==b&&(Xa=new b,Ua=Xa.createGain(),Ua.gain.value=.3,Ua.connect(Xa.destination),tools.regTool("mtrnm",TOOLS_METRONOME,Sa));d()});return{playTick:b}});execMain(function(){function r(){var b=prompt(TOOLS_SYNCSEED_INPUTA);kernel.blur();null!=b&&(/^[a-zA-Z0-9]+$/.exec(b)?Sa(b):logohint.push("Invalid Value"))}function Sa(b){v=!0;Va=Va||mathlib.getSeed();mathlib.setSeed(0,"syncseed"+b);scramble.setCacheEnable(!1);h.html(b).addClass("click");kernel.pushSignal("ctrl",["scramble","next"])}function d(){v&&confirm(TOOLS_SYNCSEED_DISABLE)&&(v&&(v=!1,mathlib.setSeed(0,Va[1]+""+Va[0]),Va=void 0,scramble.setCacheEnable(!0),kernel.pushSignal("ctrl",["scramble",
"next"])),h.html("N/A").unbind("click").removeClass("click"))}function w(){Sa(""+~~((new Date).getTime()/1E3/30));kernel.blur()}function b(){alert(TOOLS_SYNCSEED_HELP)}function n(n){n&&n.empty().append(TOOLS_SYNCSEED_SEED,ua.unbind("click").click(b),": ",h.unbind("click").click(d)).append("<br><br>",Xa.unbind("click").click(r)).append("<br>",Qa.unbind("click").click(w))}var h=$("<span>").html("N/A"),ua=$('<span class="click">').html("[?]"),Xa=$('<input type="button">').val(TOOLS_SYNCSEED_INPUT),Qa=
$('<input type="button">').val(TOOLS_SYNCSEED_30S),v=!1,Va;$(function(){tools.regTool("syncseed",TOOLS_SYNCSEED,n)})});var shortcuts=execMain(function(){function r(b,n){if(kernel.getProp("useKSC")){var h;n.altKey&&n.ctrlKey?h=w[n.which]:n.altKey?h=Sa[n.which]:n.ctrlKey&&(h=d[n.which]);void 0!=h&&(void 0==h[1]?kernel.setProp(h[0][0],h[0][1]):kernel.pushSignal(h[1],h[0]),kernel.clrKey(),kernel.blur())}}var Sa={49:[["scrType","sqrs"]],50:[["scrType","222so"]],51:[["scrType","333"]],52:[["scrType","444wca"]],53:[["scrType","555wca"]],54:[["scrType","666wca"]],55:[["scrType","777wca"]],67:[["scrType","clkwca"]],77:[["scrType",
"mgmp"]],80:[["scrType","pyrso"]],83:[["scrType","skbso"]],73:[["scrType","input"]],37:[["scramble","last"],"ctrl"],39:[["scramble","next"],"ctrl"],38:[["stats","-"],"ctrl"],40:[["stats","+"],"ctrl"],68:[["stats","clr"],"ctrl"],90:[["stats","undo"],"ctrl"]},d={49:[["stats","OK"],"ctrl"],50:[["stats","+2"],"ctrl"],51:[["stats","DNF"],"ctrl"]},w={84:[["input","t"]],73:[["input","i"]],83:[["input","s"]],77:[["input","m"]],86:[["input","v"]],71:[["input","g"]]};$(function(){kernel.regListener("shortcut",
"keydown",r);kernel.regProp("tools","useKSC",0,PROPERTY_USEKSC,[!0])})});var help=execMain(function(){function r(){$(this).hasClass("enable")||Sa($(this).html())}function Sa(b){if(void 0===b)for(b in n)break;w(b)&&d(b)}function d(b,d){ua.children().appendTo(kernel.temp);for(var h in n)$("<div />").html(h).addClass(h==b?"tab enable":"tab disable").click(r).appendTo(ua)}function w(b,d){setTimeout(function(){Qa.scrollTop(Qa.scrollTop()+n[b].position().top-3)},0);return!0}function b(){var b=ABOUT_LANG,h;for(h in n)50<n[h].position().top||(b=n[h].is("h1, h2, h3")?n[h].html():
ABOUT_LANG);d(b)}var n={},h=$('<table class="options" />'),ua=$("<td />"),Xa=$("<td />").addClass("tabValue"),Qa=$('<div class="noScrollBar helptable">');h.append($("<tr />").append(ua,Xa.append(Qa)));$(function(){for(var d=$("#about").children(),r=0;r<d.length;r++){var w=d.eq(r),ua=w.appendTo(Qa).html();w.is("h1, h2, h3")&&!d.eq(r+1).is("h1, h2, h3")?n[ua]=w:n[ABOUT_LANG]=n[ABOUT_LANG]||w}Sa();$("#about").html(h);Qa.scrollTop();Qa.unbind("scroll").scroll(b)})});var stackmat=execMain(function(){function r(d){n=d;h=b.createMediaStreamSource(d);ua=b.createScriptProcessor(1024,1,1);ua.onaudioprocess=function(b){b=b.inputBuffer.getChannelData(0);for(var d=0;d<b.length;d++){Va=Math.max(1E-4,Va+(b[d]*b[d]-Va)*$a);var h=1/Math.sqrt(Va)*b[d];Ta.unshift(h);if((Ta.pop()-h)*(Ua?1:-1)>Wa&&Math.abs(h-(Ua?1:-1))-1>Ra&&f>.6*Xa){for(var n=0;n<Math.round(f/Xa);n++)Qa(Ua);Ua^=1;f=0}else f>2*Xa&&(Qa(Ua),f-=Xa);f++;10>bb?z=Math.max(1E-4,z+(Math.pow(h-(Ua?1:-1),2)-z)*$a):100<
bb&&(z=1)}};h.connect(ua);ua.connect(b.destination)}function Sa(b){Za.push(b);b!=nb?(nb=b,bb=1):bb++;eb++;if(10<bb)cb=b,Za=[],0!=p.length&&(p=[]),100<bb&&gb.on?(gb.on=!1,gb.noise=Math.min(1,z)||0,gb.power=Va,ib(gb)):700<eb&&(eb=100,gb.noise=Math.min(1,z)||0,gb.power=Va,ib(gb));else if(10==Za.length)if(Za[0]==cb||Za[9]!=cb)Za=Za.slice(1);else{b=0;for(var f=8;0<f;f--)b=b<<1|(Za[f]==cb?1:0);p.push(String.fromCharCode(b));a:if(b=p,9==b.length||10==b.length){DEBUG&&console.log("[stackmat]",b);f=/[0-9]/;
var h=b[0];if(/[ SILRCA]/.exec(h)){for(var n=64,r=1;r<b.length-3;r++){if(!f.exec(b[r]))break a;n+=~~b[r]}n==b[b.length-3].charCodeAt(0)&&d(h,6E4*~~b[1]+1E3*~~(b[2]+b[3])+~~(b[4]+b[5]+(10==b.length?b[6]:"0")),9==b.length?10:1)}}Za=[]}}function d(b,d,f){var h=$.now();200<h-lb&&DEBUG&&console.log("[stackmat] signal miss ",h-lb);lb=h;h={};h.time_milli=d;h.unit=f;h.on=!0;kernel.getProp("stkHead")||(b="S");d=f==gb.unit?h.time_milli>gb.time_milli:Math.floor(h.time_milli/10)>Math.floor(gb.time_milli/10);
h.greenLight="A"==b;h.leftHand="L"==b||"A"==b||"C"==b;h.rightHand="R"==b||"A"==b||"C"==b;h.running=("S"!=b||"S"==gb.signalHeader)&&(" "==b||d);h.signalHeader=b;h.unknownRunning=!gb.on;h.noise=Math.min(1,z)||0;h.power=Va;gb=h;eb=0;ib(gb)}function w(b){if(nb!=cb&&1==bb&&(Za.push(b),24==Za.length)){for(var f=0,h=5;0<=h;h--){f*=10;for(var n=0;4>n;n++)f+=Za[4*h+n]<<n}Za=[];d("S",f,1)}b!=nb?(nb=b,bb=1):bb++;10<bb&&(cb=b,Za=[],p=[],1E3<bb&&gb.on?(gb.on=!1,gb.noise=Math.min(1,z)||0,gb.power=Va,ib(gb)):4E3<
bb&&(bb=1E3,gb.noise=Math.min(1,z)||0,gb.power=Va,ib(gb)))}var b,n,h,ua,Xa,Qa,v,Va=1,$a=1E-4,Ta=[],Ua=0,Ra=.2,Wa=.7,f=0,z=0,Za=[],p=[],cb=0,nb=0,bb=0,eb=0,lb=0,gb={time_milli:0,unit:10,on:!1,greenLight:!1,leftHand:!1,rightHand:!1,running:!1,unknownRunning:!0,signalHeader:"I",noise:1,power:1},ib=$.noop;return{init:function(d,f,h){v=d;void 0===navigator.mediaDevices&&(navigator.mediaDevices={});void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(b){var d=navigator.webkitGetUserMedia||
navigator.mozGetUserMedia||navigator.msGetUserMedia;return d?new Promise(function(f,h){d.call(navigator,b,f,h)}):Promise.reject(Error("getUserMedia is not implemented in this browser"))});b=new (window.AudioContext||window.webkitAudioContext);"m"==v?(Xa=b.sampleRate/8E3,Qa=w):(Xa=b.sampleRate/1200,Qa=Sa);$a=.001/Xa;Ta.length=Math.ceil(Xa/6);Za=[];p=[];d={echoCancellation:!1,noiseSuppression:!1};f&&(d.deviceId={exact:f});return void 0==n?navigator.mediaDevices.getUserMedia({audio:d}).then(function(d){if("suspended"==
b.state&&!h)return Promise.reject();r(d)},console.log):Promise.resolve()},stop:function(){void 0!=n&&(h.disconnect(ua),ua.disconnect(b.destination),n.stop&&n.stop(),n=void 0)},updateInputDevices:function(){var b=[],d=new Promise(function(d,f){d(b)});return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(function(f){for(var h=0;h<f.length;h++){var n=f[h];"audioinput"===n.kind&&b.push([n.deviceId,n.label||"microphone "+(b.length+1)])}return d}):
d},setCallBack:function(b){ib=b}}});
execMain(function(){window.nativeStackmat&&(stackmat=function(){DEBUG&&console.log("Use Native Stackmat");var r="stackmat_callback_"+~~(1E7*Math.random()),Sa;nativeStackmat.setCallback(r);window[r]=function(d){DEBUG&&console.log(JSON.stringify(d));Sa&&Sa(d)};return{init:function(){nativeStackmat.init();return Promise.resolve()},stop:function(){nativeStackmat.stop();return Promise.resolve()},updateInputDevices:function(){return new Promise(function(d,r){d([[void 0,"native"]])})},setCallBack:function(d){Sa=
d}}}())});var stackmatutil=execMain(function(r){function Sa(d){d?(n=!0,d.empty().append(w,"<br>","Device:&nbsp;&nbsp;",b)):n=!1}function d(){stackmat.updateInputDevices().then(function(d){b.empty();for(var h=0;h<d.length;h++)b.append($("<option>").val(d[h][0]).text(d[h][1]));b.unbind("change").change(function(){stackmat.stop();console.log("select device ",b.val());stackmat.init(void 0,b.val(),!0);kernel.blur()})})}var w=$("<span>").html("status:  unknown"),b=$('<select style="font-size: 1rem;">'),n=!1;$(function(){tools.regTool("stackmatutil",
"stackmat",Sa);kernel.regProp("timer","stkHead",0,PROPERTY_STKHEAD,[!0]);d()});return{init:function(b,n){return stackmat.init(b,void 0,n).then(d)},stop:stackmat.stop,setCallBack:function(b){stackmat.setCallBack(function(d){if(n){var h="status:  "+(d.on?"on":"off")+"<br>";h+="noise:   "+~~(100*d.noise)+"%<br>";h+="power:   "+~~(100*Math.log10(d.power))/10+"dB<br>";h+="header:  "+d.signalHeader+"<br>";h+="pad:     "+(d.leftHand?"L":" ")+(d.rightHand?"R":" ")+"<br>";h+="running: "+(d.running?"yes":"no");
w.html(h.replace(/ /g,"&nbsp;"))}b&&b(d)})}}});var GiikerCube=execMain(function(){var r=void 0,Sa=null,d=function(){function b(b){d(b.target.value)}function d(b){for(var d=$.now(),h=[],r=0;20>r;r++)h.push(b.getUint8(r));if(167==h[18]){b=[176,81,104,224,86,137,237,119,38,26,193,161,210,126,150,81,93,13,236,249,89,235,88,24,113,81,214,131,130,199,2,169,39,165,171,41];var f=h[19]>>4&15,w=h[19]&15;for(r=0;18>r;r++)h[r]+=b[r+f]+b[r+w];h=h.slice(0,18)}b=[];for(r=0;r<h.length;r++)b.push(h[r]>>4&15),b.push(h[r]&15);r=[];for(h=0;3>h;h++)for(f=8;0!=f;f>>=
1)r.push(b[h+28]&f?1:0);f=new mathlib.CubieCube;w=[-1,1,-1,1,1,-1,1,-1];for(h=0;8>h;h++)f.ca[h]=b[h]-1|(3+b[h+8]*w[h])%3<<3;for(h=0;12>h;h++)f.ea[h]=b[h+16]-1<<1|r[h];r=f.toFaceCube(Sa,$a);w=b.slice(32,40);f=[];for(h=0;h<w.length;h+=2)f.push("BDLURF".charAt(w[h]-1)+" 2'".charAt((w[h+1]-1)%7));if(DEBUG){w=[];for(h=0;40>h;h++)w.push("0123456789abcdef".charAt(b[h]));console.log("[giiker]","Raw Data: ",b.join(""));console.log("[giiker]","Current State: ",r);console.log("[giiker]","A Valid Generator: ",
scramble_333.genFacelet(r));console.log("[giiker]","Previous Moves: ",f.reverse().join(" "));f.reverse()}n(r,f,d,v);return[r,f]}var r=null,w=null,v,Sa=[[26,15,29],[20,8,9],[18,38,6],[24,27,44],[51,35,17],[45,11,2],[47,0,36],[53,42,33]],$a=[[25,28],[23,12],[19,7],[21,41],[32,16],[5,10],[3,37],[30,43],[52,34],[48,14],[46,1],[50,39]];return{init:function(h){v=h.name.startsWith("Gi")?"Giiker":"Mi Smart";return h.gatt.connect().then(function(b){r=b;return b.getPrimaryService("0000aadb-0000-1000-8000-00805f9b34fb")}).then(function(b){return b.getCharacteristic("0000aadc-0000-1000-8000-00805f9b34fb")}).then(function(b){w=
b;return w.startNotifications()}).then(function(){return w.readValue()}).then(function(h){d(h)[0]!=kernel.getProp("giiSolved",mathlib.SOLVED_FACELET)&&(h=kernel.getProp("giiRST"),("a"==h||"p"==h&&confirm(CONFIRM_GIIRST))&&giikerutil.markSolved());return w.addEventListener("characteristicvaluechanged",b)})},opservs:["0000aadb-0000-1000-8000-00805f9b34fb","0000aaaa-0000-1000-8000-00805f9b34fb"],getBatteryLevel:function(){var b,d,h,n=function(b){h([b.target.value.getUint8(1),v]);d.removeEventListener("characteristicvaluechanged",
n);d.stopNotifications()};return r.getPrimaryService("0000aaaa-0000-1000-8000-00805f9b34fb").then(function(d){b=d;return d.getCharacteristic("0000aaab-0000-1000-8000-00805f9b34fb")}).then(function(b){d=b;return d.startNotifications()}).then(function(){return d.addEventListener("characteristicvaluechanged",n)}).then(function(){return b.getCharacteristic("0000aaac-0000-1000-8000-00805f9b34fb")}).then(function(b){b.writeValue((new Uint8Array([181])).buffer);return new Promise(function(b){h=b})})}}}(),
w=function(){function b(b){for(var d=[],h=0;h<b.byteLength;h++)d[h]=b.getUint8(h);if(null==f)return d;16<d.length&&(d=d.slice(0,d.length-16).concat(f.decrypt(d.slice(d.length-16))));f.decrypt(d);return d}function d(b){return b.getPrimaryService("0000180a-0000-1000-8000-00805f9b34fb").then(function(b){$a=b;return b.getCharacteristic("00002a28-0000-1000-8000-00805f9b34fb")}).then(function(b){return b.readValue()}).then(function(b){var d=b.getUint8(0)<<16|b.getUint8(1)<<8|b.getUint8(2);DEBUG&&console.log("[gancube] version",
JSON.stringify(d));f=null;if(65543<d&&65536==(d&16776704))return $a.getCharacteristic("00002a23-0000-1000-8000-00805f9b34fb").then(function(b){return b.readValue()}).then(function(b){var h=z[d>>8&255];if(h){h=JSON.parse(LZString.decompressFromEncodedURIComponent(h));for(var n=0;6>n;n++)h[n]=h[n]+b.getUint8(5-n)&255;b=h}else b=void 0;b?(DEBUG&&console.log("[gancube] key",JSON.stringify(b)),f=new ab(b)):logohint.push("Not support your Gan cube")});logohint.push("Not support your Gan cube")})}function r(){return 50>
ib?new Promise(function(b){b(!1)}):Ta.readValue().then(function(d){d=b(d);for(var f=[],h=0;h<d.length-2;h+=3)for(var n=d[h^1]<<16|d[h+1^1]<<8|d[h+2^1],p=21;0<=p;p-=3)f.push("URFDLB".charAt(n>>p&7)),12==p&&f.push("URFDLB".charAt(h/3));nb=f.join("");ib=0;return new Promise(function(b){b(!0)})})}function w(){if(Sa)return Ua.readValue().then(function(d){d=b(d);bb=$.now();lb=d[12];if(lb!=gb){Za=[];for(var f=0;6>f;f++){var h=d[13+f];Za.unshift("URFDLB".charAt(~~(h/3))+" 2'".charAt(h%3))}var v;return Ra.readValue().then(function(d){v=
d=b(d);return r()}).then(function(b){if(b&&-1==gb)n(nb,Za,bb,"Gan 356i"),p.fromFacelet(nb),gb=lb,nb!=kernel.getProp("giiSolved",mathlib.SOLVED_FACELET)&&(b=kernel.getProp("giiRST"),("a"==b||"p"==b&&confirm(CONFIRM_GIIRST))&&giikerutil.markSolved());else{for(var d=[],f=0;9>f;f++)d.unshift(~~((v[2*f+1]|v[2*f+2]<<8)/.95));var h=lb-gb&255;gb=lb;ib+=h;6<h&&(ib=50,h=6);var r=eb;for(f=h-1;0<=f;f--)r+=d[f];2E3<Math.abs(r-bb)&&(console.log("[gancube]","time adjust",bb-r,"@",bb),eb+=bb-r);for(f=h-1;0<=f;f--)h=
3*"URFDLB".indexOf(Za[f][0])+" 2'".indexOf(Za[f][1]),mathlib.CubieCube.EdgeMult(p,mathlib.CubieCube.moveCube[h],cb),mathlib.CubieCube.CornMult(p,mathlib.CubieCube.moveCube[h],cb),eb+=d[f],n(cb.toFaceCube(),Za.slice(f),eb,"Gan 356i"),h=cb,cb=p,p=h;b&&p.toFaceCube()!=nb&&(console.log("[gancube]","Cube state check error"),console.log("[gancube]","calc",p.toFaceCube()),console.log("[gancube]","read",nb),p.fromFacelet(nb))}})}}).then(w)}var v,Va,$a,Ta,Ua,Ra,Wa,f=null,z=["NoRgnAHANATADDWJYwMxQOxiiEcfYgSK6Hpr4TYCs0IG1OEAbDszALpA",
"NoNg7ANATFIQnARmogLBRUCs0oAYN8U5J45EQBmFADg0oJAOSlUQF0g"],Za,p=new mathlib.CubieCube,cb=new mathlib.CubieCube,nb,bb,eb=0,lb=-1,gb=-1,ib=1E3,ab=function(){function b(b,d){for(var f=b.slice(),p=0;16>p;p++)b[p]=h[f[n[p]]]^d[p]}function d(b){if(0==p.length){for(var d=0;256>d;d++)h[f[d]]=d;for(d=0;128>d;d++)p[d]=d<<1,p[128+d]=d<<1^27}b=b.slice();d=1;for(var n=16;176>n;n+=4){var r=b.slice(n-4,n);0==n%16&&(r=[f[r[1]]^d,f[r[2]],f[r[3]],f[r[0]]],d=p[d]);for(var v=0;4>v;v++)b[n+v]=b[n+v-16]^r[v]}this.key=
b}var f=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,
126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],h=[],n=[0,13,10,7,4,1,14,11,8,5,2,15,12,9,6,3],p=[];d.prototype.decrypt=function(d){for(var f=
this.key.slice(160,176),h=0;16>h;h++)d[h]^=f[h];for(f=144;16<=f;f-=16){b(d,this.key.slice(f,f+16));h=d;for(var n=0;16>n;n+=4){var r=h[n+0],v=h[n+1],w=h[n+2],z=h[n+3],ua=r^v^w^z,Qa=p[ua],Ra=p[p[Qa^r^w]]^ua;ua^=p[p[Qa^v^z]];h[n+0]=h[n+0]^Ra^p[r^v];h[n+1]=h[n+1]^ua^p[v^w];h[n+2]=h[n+2]^Ra^p[w^z];h[n+3]=h[n+3]^ua^p[z^r]}}b(d,this.key.slice(0,16));return d};return d}();return{init:function(b){return b.gatt.connect().then(function(b){v=b;return d(b)}).then(function(){return v.getPrimaryService("0000fff0-0000-1000-8000-00805f9b34fb")}).then(function(b){Va=
b;return Va.getCharacteristic("0000fff2-0000-1000-8000-00805f9b34fb")}).then(function(b){Ta=b;return Va.getCharacteristic("0000fff5-0000-1000-8000-00805f9b34fb")}).then(function(b){Ua=b;return Va.getCharacteristic("0000fff6-0000-1000-8000-00805f9b34fb")}).then(function(b){Ra=b;return Va.getCharacteristic("0000fff7-0000-1000-8000-00805f9b34fb")}).then(function(b){Wa=b}).then(w)},opservs:["0000fff0-0000-1000-8000-00805f9b34fb","0000180a-0000-1000-8000-00805f9b34fb"],getBatteryLevel:function(){return Wa.readValue().then(function(d){d=
b(d);return new Promise(function(b){b([d[7],"Gan 356i"])})})}}}(),b=function(){function b(b){b=b.target.value;var h=$.now();if(!(4>b.byteLength)&&42==b.getUint8(0)&&13==b.getUint8(b.byteLength-2)&&10==b.getUint8(b.byteLength-1)){var p=b.getUint8(2),r=b.byteLength-6;if(1==p)for(p=0;p<r;p+=2){var w=Sa[b.getUint8(3+p)>>1],ua=[0,2][b.getUint8(3+p)&1],Qa=3*w+ua;console.log("move","URFDLB".charAt(w)+" 2'".charAt(ua));mathlib.CubieCube.EdgeMult(Za,mathlib.CubieCube.moveCube[Qa],z);mathlib.CubieCube.CornMult(Za,
mathlib.CubieCube.moveCube[Qa],z);f=z.toFaceCube();n(f,["URFDLB".charAt(w)+" 2'".charAt(ua)],h,"GoCube");w=z;z=Za;Za=w;20<++Wa&&(Wa=0,v.writeValue((new Uint8Array([51])).buffer))}else if(2==p){h=[];for(r=0;6>r;r++)for(w=9*Sa[r],ua=Ta[r],h[w+4]="BFUDRL".charAt(b.getUint8(3+9*r)),p=0;8>p;p++)h[w+$a[(p+ua)%8]]="BFUDRL".charAt(b.getUint8(3+9*r+p+1));b=h.join("");b!=f&&(console.log("facelet",b),z.fromFacelet(b))}else if(3!=p)if(5==p)for(console.log("battery level",d(b)),Ua=b.getUint8(3);0!=Ra.length;)Ra.shift()(Ua);
else 7==p?console.log("offline stats",d(b)):8==p&&console.log("cube type",d(b))}}function d(b){for(var d=[],f=0;f<b.byteLength;f++)d.push(b.getUint8(f)>>4&15),d.push(b.getUint8(f)&15);return d}var r,w,v,Sa=[5,2,0,3,1,4],$a=[0,1,2,5,8,7,6,3],Ta=[0,0,6,2,0,0],Ua=-1,Ra=[],Wa=100,f=mathlib.SOLVED_FACELET,z=new mathlib.CubieCube,Za=new mathlib.CubieCube;return{init:function(d){return d.gatt.connect().then(function(b){return b.getPrimaryService("6e400001-b5a3-f393-e0a9-e50e24dcca9e")}).then(function(b){r=
b;return r.getCharacteristic("6e400002-b5a3-f393-e0a9-e50e24dcca9e")}).then(function(b){v=b;return r.getCharacteristic("6e400003-b5a3-f393-e0a9-e50e24dcca9e")}).then(function(b){w=b;return w.startNotifications()}).then(function(){return w.addEventListener("characteristicvaluechanged",b)}).then(function(){return v.writeValue((new Uint8Array([51])).buffer)})},opservs:["6e400001-b5a3-f393-e0a9-e50e24dcca9e"],getBatteryLevel:function(){v.writeValue((new Uint8Array([50])).buffer);return new Promise(function(b){Ra.push(b)})}}}(),
n=$.noop;return{init:function(h){return window.navigator&&window.navigator.bluetooth?window.navigator.bluetooth.requestDevice({filters:[{namePrefix:"Gi"},{namePrefix:"Mi Smart Magic Cube"},{namePrefix:"GAN"},{namePrefix:"GoCube"},{services:["0000fe95-0000-1000-8000-00805f9b34fb"]},{services:[d.opservs[0]]}],optionalServices:[].concat(d.opservs,w.opservs,b.opservs)}).then(function(h){console.log(h);Sa=h;return h.name.startsWith("Gi")||h.name.startsWith("Mi Smart Magic Cube")?(r=d,d.init(h)):h.name.startsWith("GAN")?
(r=w,w.init(h)):h.name.startsWith("GoCube")?(r=b,b.init(h)):Promise.resolve()}):(alert("Bluetooth API is not available. Ensure https access, and try chrome with chrome://flags/#enable-experimental-web-platform-features enabled"),Promise.resolve())},stop:function(){Sa&&(Sa.gatt.disconnect(),Sa=null)},isConnected:function(){return null!=Sa},setCallBack:function(b){n=b},getCube:function(){return r}}});var GanTimerState={};GanTimerState[GanTimerState.DISCONNECT=0]="DISCONNECT";GanTimerState[GanTimerState.GET_SET=1]="GET_SET";GanTimerState[GanTimerState.HANDS_OFF=2]="HANDS_OFF";GanTimerState[GanTimerState.RUNNING=3]="RUNNING";GanTimerState[GanTimerState.STOPPED=4]="STOPPED";GanTimerState[GanTimerState.IDLE=5]="IDLE";GanTimerState[GanTimerState.HANDS_ON=6]="HANDS_ON";GanTimerState[GanTimerState.FINISHED=7]="FINISHED";
var GanTimerDriver=execMain(function(){function r(b){var d=[];if(b)for(var n=0;n<b.byteLength;n++)d.push(b.getUint8(n).toString(16).padStart(2,"0"));return d.join(" ")}function Sa(b){b=b.target.value;try{if(b&&0!=b.byteLength&&254==b.getUint8(0)){var d=b.getUint16(b.byteLength-2,!0),n=b.buffer.slice(2,b.byteLength-2),Sa=new DataView(n);n=65535;for(var Qa=0;Qa<Sa.byteLength;++Qa){n^=Sa.getUint8(Qa)<<8;for(var v=0;8>v;++v)n=0<(n&32768)?n<<1^4129:n<<1}var Va=d==(n&65535)}else Va=!1}catch($a){Va=!1}Va?
"function"==typeof w&&(Va=w,d={state:b.getUint8(3)},d.state==GanTimerState.STOPPED&&(Sa=b.getUint8(4),n=b.getUint8(5),b=b.getUint16(6,!0),d.recordedTime={minutes:Sa,seconds:n,milliseconds:b,asTimestamp:6E4*Sa+1E3*n+b}),Va(d)):console.log("GanTimerDriver: Invalid event data received from Timer: "+r(b))}function d(){b&&(b.removeEventListener("characteristicvaluechanged",Sa),b=void 0);"function"==typeof w&&w({state:GanTimerState.DISCONNECT})}var w,b;return{connect:function(){return navigator.bluetooth?
navigator.bluetooth.getAvailability().then(function(b){if(!b)return Promise.reject("Bluetooth is not available. Ensure HTTPS access, and check bluetooth is enabled on your device")}).then(function(){return navigator.bluetooth.requestDevice({filters:[{namePrefix:"GAN"}],optionalServices:["0000fff0-0000-1000-8000-00805f9b34fb"]})}).then(function(b){b.addEventListener("gattserverdisconnected",d);return b.gatt.connect()}).then(function(b){return b.getPrimaryService("0000fff0-0000-1000-8000-00805f9b34fb")}).then(function(b){return b.getCharacteristic("0000fff5-0000-1000-8000-00805f9b34fb")}).then(function(d){b=
d;b.addEventListener("characteristicvaluechanged",Sa);b.startNotifications()}):Promise.reject("Bluetooth API is not supported by this browser. Try fresh Chrome version!")},disconnect:function(){return b?(b.service.device.removeEventListener("gattserverdisconnected",d),b.removeEventListener("characteristicvaluechanged",Sa),b.stopNotifications().then(function(){b.service.device.gatt.disconnect();b=void 0})):Promise.resolve()},setStateUpdateCallback:function(b){w=b}}});var csTimerWorker=execBoth(function(){if(!window.Worker)return{};var r=new Worker("js/cstimer.js"),Sa={},d=0;r.onmessage=function(d){d=d.data;var b=Sa[d[0]];delete Sa[d[0]];b&&b(d[2])};r.postMessage([0,"set",["SCRAMBLE_NOOBST",SCRAMBLE_NOOBST]]);r.postMessage([0,"set",["SCRAMBLE_NOOBSS",SCRAMBLE_NOOBSS]]);return{getScramble:function(w,b){++d;Sa[d]=b;r.postMessage([d,"scramble",w]);return d}}},function(){self.onmessage=function(r){var Sa=r.data;r=Sa[0];var d=Sa[1];Sa=Sa[2];var w=void 0;switch(d){case "scramble":w=
scrMgr.scramblers[Sa[0]];w=w.apply(w,Sa);break;case "set":self[Sa[0]]=Sa[1]}postMessage([r,d,w])}});
