var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(n,Ta,d){n!=Array.prototype&&n!=Object.prototype&&(n[Ta]=d.value)};$jscomp.getGlobal=function(n){return"undefined"!=typeof window&&window===n?n:"undefined"!=typeof global&&null!=global?global:n};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(n,Ta,d,Ra){if(Ta){d=$jscomp.global;n=n.split(".");for(Ra=0;Ra<n.length-1;Ra++){var a=n[Ra];a in d||(d[a]={});d=d[a]}n=n[n.length-1];Ra=d[n];Ta=Ta(Ra);Ta!=Ra&&null!=Ta&&$jscomp.defineProperty(d,n,{configurable:!0,writable:!0,value:Ta})}};
$jscomp.polyfill("Array.prototype.fill",function(n){return n?n:function(n,d,Ra){var a=this.length||0;0>d&&(d=Math.max(0,a+d));if(null==Ra||Ra>a)Ra=a;Ra=Number(Ra);0>Ra&&(Ra=Math.max(0,a+Ra));for(d=Number(d||0);d<Ra;d++)this[d]=n;return this}},"es6","es3");
$jscomp.checkStringArgs=function(n,Ta,d){if(null==n)throw new TypeError("The 'this' value for String.prototype."+d+" must not be null or undefined");if(Ta instanceof RegExp)throw new TypeError("First argument to String.prototype."+d+" must not be a regular expression");return n+""};
$jscomp.polyfill("String.prototype.startsWith",function(n){return n?n:function(n,d){var Ra=$jscomp.checkStringArgs(this,n,"startsWith");n+="";for(var a=Ra.length,h=n.length,b=Math.max(0,Math.min(d|0,Ra.length)),r=0;r<h&&b<a;)if(Ra[b++]!=n[r++])return!1;return r>=h}},"es6","es3");$jscomp.findInternal=function(n,Ta,d){n instanceof String&&(n=String(n));for(var Ra=n.length,a=0;a<Ra;a++){var h=n[a];if(Ta.call(d,h,a,n))return{i:a,v:h}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(n){return n?n:function(n,d){return $jscomp.findInternal(this,n,d).v}},"es6","es3");$jscomp.arrayIteratorImpl=function(n){var Ta=0;return function(){return Ta<n.length?{done:!1,value:n[Ta++]}:{done:!0}}};$jscomp.arrayIterator=function(n){return{next:$jscomp.arrayIteratorImpl(n)}};$jscomp.makeIterator=function(n){var Ta="undefined"!=typeof Symbol&&Symbol.iterator&&n[Symbol.iterator];return Ta?Ta.call(n):$jscomp.arrayIterator(n)};
$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(n){function Ta(){this.batch_=null}function d(b){return b instanceof a?b:new a(function(a,d){a(b)})}if(n&&!$jscomp.FORCE_POLYFILL_PROMISE)return n;Ta.prototype.asyncExecute=function(b){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(b);return this};Ta.prototype.asyncExecuteBatch_=function(){var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})};var Ra=$jscomp.global.setTimeout;Ta.prototype.asyncExecuteFunction=function(b){Ra(b,
0)};Ta.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var b=this.batch_;this.batch_=[];for(var a=0;a<b.length;++a){var d=b[a];b[a]=null;try{d()}catch(Qa){this.asyncThrow_(Qa)}}}this.batch_=null};Ta.prototype.asyncThrow_=function(b){this.asyncExecuteFunction(function(){throw b;})};var a=function(b){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var a=this.createResolveAndReject_();try{b(a.resolve,a.reject)}catch(Xa){a.reject(Xa)}};a.prototype.createResolveAndReject_=
function(){function a(a){return function(b){Xa||(Xa=!0,a.call(d,b))}}var d=this,Xa=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};a.prototype.resolveTo_=function(b){if(b===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof a)this.settleSameAsPromise_(b);else{a:switch(typeof b){case "object":var d=null!=b;break a;case "function":d=!0;break a;default:d=!1}d?this.resolveToNonPromiseObj_(b):this.fulfill_(b)}};a.prototype.resolveToNonPromiseObj_=
function(a){var b=void 0;try{b=a.then}catch(Xa){this.reject_(Xa);return}"function"==typeof b?this.settleSameAsThenable_(b,a):this.fulfill_(a)};a.prototype.reject_=function(a){this.settle_(2,a)};a.prototype.fulfill_=function(a){this.settle_(1,a)};a.prototype.settle_=function(a,d){if(0!=this.state_)throw Error("Cannot settle("+a+", "+d+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=d;this.executeOnSettledCallbacks_()};a.prototype.executeOnSettledCallbacks_=function(){if(null!=
this.onSettledCallbacks_){for(var a=0;a<this.onSettledCallbacks_.length;++a)h.asyncExecute(this.onSettledCallbacks_[a]);this.onSettledCallbacks_=null}};var h=new Ta;a.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};a.prototype.settleSameAsThenable_=function(a,d){var b=this.createResolveAndReject_();try{a.call(d,b.resolve,b.reject)}catch(Qa){b.reject(Qa)}};a.prototype.then=function(b,d){function r(a,b){return"function"==typeof a?
function(b){try{Qa(a(b))}catch(Wa){w(Wa)}}:b}var Qa,w,h=new a(function(a,b){Qa=a;w=b});this.callWhenSettled_(r(b,Qa),r(d,w));return h};a.prototype["catch"]=function(a){return this.then(void 0,a)};a.prototype.callWhenSettled_=function(a,d){function b(){switch(Qa.state_){case 1:a(Qa.result_);break;case 2:d(Qa.result_);break;default:throw Error("Unexpected state: "+Qa.state_);}}var Qa=this;null==this.onSettledCallbacks_?h.asyncExecute(b):this.onSettledCallbacks_.push(b)};a.resolve=d;a.reject=function(b){return new a(function(a,
d){d(b)})};a.race=function(b){return new a(function(a,h){for(var Qa=$jscomp.makeIterator(b),w=Qa.next();!w.done;w=Qa.next())d(w.value).callWhenSettled_(a,h)})};a.all=function(b){var r=$jscomp.makeIterator(b),h=r.next();return h.done?d([]):new a(function(a,b){function w(b){return function(d){Qa[b]=d;Xa--;0==Xa&&a(Qa)}}var Qa=[],Xa=0;do Qa.push(void 0),Xa++,d(h.value).callWhenSettled_(w(Qa.length-1),b),h=r.next();while(!h.done)})};return a},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(n){return n?n:function(n,d){var Ra=$jscomp.checkStringArgs(this,n,"endsWith");n+="";void 0===d&&(d=Ra.length);for(var a=Math.max(0,Math.min(d|0,Ra.length)),h=n.length;0<h&&0<a;)if(Ra[--a]!=n[--h])return!1;return 0>=h}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var n=0;return function(Ta){return $jscomp.SYMBOL_PREFIX+(Ta||"")+n++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var n=$jscomp.global.Symbol.iterator;n||(n=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[n]&&$jscomp.defineProperty(Array.prototype,n,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var n=$jscomp.global.Symbol.asyncIterator;n||(n=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(n){$jscomp.initSymbolIterator();n={next:n};n[$jscomp.global.Symbol.iterator]=function(){return this};return n};
$jscomp.iteratorFromArray=function(n,Ta){$jscomp.initSymbolIterator();n instanceof String&&(n+="");var d=0,Ra={next:function(){if(d<n.length){var a=d++;return{value:Ta(a,n[a]),done:!1}}Ra.next=function(){return{done:!0,value:void 0}};return Ra.next()}};Ra[Symbol.iterator]=function(){return Ra};return Ra};$jscomp.polyfill("Array.prototype.keys",function(n){return n?n:function(){return $jscomp.iteratorFromArray(this,function(n){return n})}},"es6","es3");
$jscomp.polyfill("Math.log10",function(n){return n?n:function(n){return Math.log(n)/Math.LN10}},"es6","es3");$jscomp.polyfill("String.prototype.repeat",function(n){return n?n:function(n){var d=$jscomp.checkStringArgs(this,null,"repeat");if(0>n||1342177279<n)throw new RangeError("Invalid count value");n|=0;for(var Ra="";n;)if(n&1&&(Ra+=d),n>>>=1)d+=d;return Ra}},"es6","es3");
$jscomp.stringPadding=function(n,Ta){var d=void 0!==n?String(n):" ";return 0<Ta&&d?d.repeat(Math.ceil(Ta/d.length)).substring(0,Ta):""};$jscomp.polyfill("String.prototype.padStart",function(n){return n?n:function(n,d){var Ra=$jscomp.checkStringArgs(this,null,"padStart");return $jscomp.stringPadding(d,n-Ra.length)+Ra}},"es8","es3");var isInWorker="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope;
function execBoth(n,Ta,d){return!isInWorker&&n?n.apply(this,d||[]):isInWorker&&Ta?Ta.apply(this,d||[]):{}}function execWorker(n,Ta){return execBoth(void 0,n,Ta)}function execMain(n,Ta){return execBoth(n,void 0,Ta)}execWorker(function(){self.$={isArray:Array.isArray||function(n){return"array"===jQuery.type(n)},noop:function(){}}});
execMain(function(){window.onerror=function(d,n,a,h,b){void 0==b&&(b={});var r="";try{r=$.fingerprint()}catch(Qa){}var Xa="";try{Xa=LZString.compressToEncodedURIComponent(localStorage.properties)}catch(Qa){}$.post("bug.php",{version:CSTIMER_VERSION,fp:r,msg:d,url:n,line:a,col:h,stack:b.stack,prop:Xa});console.log(CSTIMER_VERSION,r,d,n,a,h,b)};for(var n="CSTIMER_VERSION LANG_SET LANG_STR LANG_CUR OK_LANG CANCEL_LANG RESET_LANG ABOUT_LANG ZOOM_LANG BUTTON_TIME_LIST BUTTON_OPTIONS BUTTON_EXPORT BUTTON_DONATE PROPERTY_SR PROPERTY_USEINS PROPERTY_USEINS_STR PROPERTY_VOICEINS PROPERTY_VOICEINS_STR PROPERTY_VOICEVOL PROPERTY_PHASES PROPERTY_TIMERSIZE PROPERTY_USEMILLI PROPERTY_SMALLADP PROPERTY_SCRSIZE PROPERTY_SCRMONO PROPERTY_SCRLIM PROPERTY_SCRALIGN PROPERTY_SCRALIGN_STR PROPERTY_SCRFAST PROPERTY_SCRKEYM PROPERTY_SCRCLK PROPERTY_SCRCLK_STR PROPERTY_WNDSCR PROPERTY_WNDSTAT PROPERTY_WNDTOOL PROPERTY_WND_STR EXPORT_DATAEXPORT EXPORT_TOFILE EXPORT_FROMFILE EXPORT_TOSERV EXPORT_FROMSERV EXPORT_FROMOTHER EXPORT_USERID EXPORT_INVID EXPORT_ERROR EXPORT_NODATA EXPORT_UPLOADED EXPORT_CODEPROMPT EXPORT_ONLYOPT EXPORT_ACCOUNT EXPORT_LOGINGGL EXPORT_LOGINWCA EXPORT_LOGOUTCFM EXPORT_LOGINAUTHED IMPORT_FINAL_CONFIRM BUTTON_SCRAMBLE BUTTON_TOOLS IMAGE_UNAVAILABLE TOOLS_SELECTFUNC TOOLS_CROSS TOOLS_EOLINE TOOLS_ROUX1 TOOLS_222FACE TOOLS_GIIKER TOOLS_IMAGE TOOLS_STATS TOOLS_HUGESTATS TOOLS_DISTRIBUTION TOOLS_TREND TOOLS_METRONOME TOOLS_CFMTIME TOOLS_SOLVERS TOOLS_SYNCSEED TOOLS_SYNCSEED_SEED TOOLS_SYNCSEED_INPUT TOOLS_SYNCSEED_30S TOOLS_SYNCSEED_HELP TOOLS_SYNCSEED_DISABLE TOOLS_SYNCSEED_INPUTA OLCOMP_UPDATELIST OLCOMP_VIEWRESULT OLCOMP_VIEWMYRESULT OLCOMP_START OLCOMP_SUBMIT OLCOMP_SUBMITAS OLCOMP_WCANOTICE OLCOMP_OLCOMP OLCOMP_ANONYM OLCOMP_ME OLCOMP_WCAACCOUNT OLCOMP_ABORT OLCOMP_WITHANONYM PROPERTY_IMGSIZE TIMER_INSPECT TIMER_SOLVE PROPERTY_USEMOUSE PROPERTY_TIMEU PROPERTY_TIMEU_STR PROPERTY_PRETIME PROPERTY_ENTERING PROPERTY_ENTERING_STR PROPERTY_INTUNIT PROPERTY_INTUNIT_STR PROPERTY_COLOR PROPERTY_COLORS PROPERTY_VIEW PROPERTY_VIEW_STR PROPERTY_UIDESIGN PROPERTY_UIDESIGN_STR COLOR_EXPORT COLOR_IMPORT COLOR_FAIL PROPERTY_FONTCOLOR_STR PROPERTY_COLOR_STR PROPERTY_FONT PROPERTY_FONT_STR PROPERTY_FORMAT PROPERTY_USEKSC PROPERTY_NTOOLS PROPERTY_AHIDE SCRAMBLE_LAST SCRAMBLE_NEXT SCRAMBLE_SCRAMBLE SCRAMBLE_LENGTH SCRAMBLE_INPUT PROPERTY_VRCSPEED PROPERTY_VRCMP PROPERTY_VRCMPS PROPERTY_GIIKERVRC PROPERTY_GIISOK_DELAY PROPERTY_GIISOK_DELAYS PROPERTY_GIISOK_KEY PROPERTY_GIISOK_MOVE PROPERTY_GIISOK_MOVES PROPERTY_GIISBEEP PROPERTY_GIIRST PROPERTY_GIIRSTS CONFIRM_GIIRST PROPERTY_GIIAED scrdata SCRAMBLE_NOOBST SCRAMBLE_NOOBSS STATS_CFM_RESET STATS_CFM_DELSS STATS_CFM_DELMUL STATS_CFM_DELETE STATS_COMMENT STATS_REVIEW STATS_DATE STATS_SSSTAT STATS_CURROUND STATS_CURSESSION STATS_CURSPLIT STATS_EXPORTCSV STATS_SSMGR_TITLE STATS_SSMGR_NAME STATS_SSMGR_DETAIL STATS_SSMGR_OPS STATS_SSMGR_ORDER STATS_SSMGR_ODCFM STATS_SSMGR_SORTCFM STATS_ALERTMG STATS_PROMPTSPL STATS_ALERTSPL STATS_AVG STATS_SOLVE STATS_TIME STATS_SESSION STATS_SESSION_NAME STATS_SESSION_NAMEC STATS_STRING STATS_PREC STATS_PREC_STR STATS_TYPELEN STATS_STATCLR STATS_ABSIDX STATS_XSESSION_DATE STATS_XSESSION_NAME STATS_XSESSION_SCR STATS_XSESSION_CALC STATS_RSFORSS PROPERTY_PRINTSCR PROPERTY_PRINTDATE PROPERTY_SUMMARY PROPERTY_IMRENAME PROPERTY_SCR2SS PROPERTY_SS2SCR PROPERTY_SS2PHASES PROPERTY_STATINV PROPERTY_STATAL PROPERTY_STATALU PROPERTY_DELMUL PROPERTY_TOOLSFUNC PROPERTY_TRIM PROPERTY_TRIM_MED PROPERTY_STKHEAD PROPERTY_HIDEFULLSOL PROPERTY_IMPPREV PROPERTY_AUTOEXP PROPERTY_AUTOEXP_OPT PROPERTY_SCRASIZE MODULE_NAMES BGIMAGE_URL BGIMAGE_INVALID BGIMAGE_OPACITY BGIMAGE_IMAGE BGIMAGE_IMAGE_STR SHOW_AVG_LABEL USE_LOGOHINT TOOLS_SCRGEN SCRGEN_NSCR SCRGEN_PRE SCRGEN_GEN".split(" "),
Ta=0;Ta<n.length;Ta++)window[n[Ta]]=window[n[Ta]]||"|||||||||||||||";window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(d,n){return window.setTimeout(d,1E3/60)}}();window.localStorage||(window.localStorage={});"properties"in localStorage||"https:"==location.protocol||"localhost"==location.hostname||(location.href="https:"+location.href.substring(location.protocol.length));
window.performance&&window.performance.now&&($.now=function(){return Math.floor(window.performance.now())});$.urlParam=function(d){d=(new RegExp("[?&]"+d+"=([^&#]*)")).exec(window.location.href);return null==d?null:d[1]||0};$.hashParam=function(d){d=(new RegExp("[#&]"+d+"=([^&#]*)")).exec(window.location.hash);return null==d?null:d[1]||0};$.clearUrl=function(d){var n=(new RegExp("[?&]("+d+"=[^&#]*&?)")).exec(window.location.href);d=d?location.href.replace(n[1],"").replace(/\?$/,""):location.pathname;
history&&history.replaceState?history.replaceState(void 0,void 0,d):location.href=d};$.clearHash=function(d){var n=(new RegExp("[#&]("+d+"=[^&#]*&?)")).exec(window.location.href);d=d?location.href.replace(n[1],"").replace(/#$/,""):location.pathname+location.search;history&&history.replaceState?history.replaceState(void 0,void 0,d):location.href=d};$.clipboardCopy=function(d,n){var a=$("<textarea>"+d+"</textarea>").appendTo(document.body);a.focus().select();var h=!1;try{h=document.execCommand("copy")}catch(b){}a.remove();
return h};$.fingerprint=function(){var d=window.screen&&[Math.max(screen.height,screen.width),Math.min(screen.height,screen.width),screen.colorDepth].join("x"),n=(new Date).getTimezoneOffset(),a=$.map(navigator.plugins,function(a){return[a.name,a.description,$.map(a,function(a){return[a.type,a.suffixes].join("~")}).sort().join(",")].join("::")}).sort().join(";");d=[navigator.userAgent,navigator.language,!!window.sessionStorage,!!window.localStorage,!!window.indexedDB,navigator.doNotTrack,d,n,a].join("###");
return $.sha256(d)};$.ctxDrawPolygon=function(d,n,a,h){if(d){h=h||[1,0,0,0,1,0];a=$.ctxTransform(a,h);d.beginPath();d.fillStyle=n;d.moveTo(a[0][0],a[1][0]);for(n=1;n<a[0].length;n++)d.lineTo(a[0][n],a[1][n]);d.closePath();d.fill();d.stroke()}};$.ctxRotate=function(d,n){return Transform(d,[Math.cos(n),-Math.sin(n),0,Math.sin(n),Math.cos(n),0])};$.ctxTransform=function(d){for(var n,a=1;a<arguments.length;a++){var h=arguments[a];3==h.length&&(h=[h[0],0,h[1]*h[0],0,h[0],h[2]*h[0]]);n=[[],[]];for(a=0;a<
d[0].length;a++)n[0][a]=d[0][a]*h[0]+d[1][a]*h[1]+h[2],n[1][a]=d[0][a]*h[3]+d[1][a]*h[4]+h[5]}return n};"serviceWorker"in navigator?$(function(){navigator.serviceWorker.register("sw.js")}):window.applicationCache&&$(function(){applicationCache.addEventListener("updateready",function(d){applicationCache.status==applicationCache.UPDATEREADY&&(applicationCache.swapCache(),location.reload())},!1)})});var DEBUGM=!1,DEBUGWK=!1,DEBUG=isInWorker?DEBUGWK:DEBUGM&&!!$.urlParam("debug");
Array.prototype.indexOf||(Array.prototype.indexOf=function(n){for(var Ta=0;Ta<this.length;Ta++)if(this[Ta]==n)return Ta;return-1});
Function.prototype.bind||(Function.prototype.bind=function(n){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var Ta=Array.prototype.slice.call(arguments,1),d=this,Ra=function(){},a=function(){return d.apply(this instanceof Ra?this:n,Ta.concat(Array.prototype.slice.call(arguments)))};this.prototype&&(Ra.prototype=this.prototype);a.prototype=new Ra;return a});execBoth(function(){var n=function(d,n){var a=(d&65535)+(n&65535);return(d>>16)+(n>>16)+(a>>16)<<16|a&65535},Ta=function(d,n){return d>>>n|d<<32-n};$.sha256=function(d){/[\x80-\xFF]/.test(d)&&(d=unescape(encodeURI(d)));for(var Ra=d,a=[],h=0;h<8*Ra.length;h+=8)a[h>>5]|=(Ra.charCodeAt(h/8)&255)<<24-h%32;var b=8*d.length;Ra=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,
4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];
d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];h=[64];a[b>>5]|=128<<24-b%32;a[(b+64>>9<<4)+15]=b;for(b=0;b<a.length;b+=16){for(var r=d[0],Xa=d[1],Qa=d[2],w=d[3],Va=d[4],Za=d[5],Ya=d[6],Ua=d[7],Wa=0;64>Wa;Wa++){var Sa=Wa;if(16>Wa)var c=a[b+Wa];else{c=h[Wa-2];c=Ta(c,17)^Ta(c,19)^c>>>10;c=n(c,h[Wa-7]);var z=h[Wa-15];z=Ta(z,7)^Ta(z,18)^z>>>3;c=n(n(c,z),h[Wa-16])}h[Sa]=c;Sa=Va;Sa=Ta(Sa,6)^Ta(Sa,11)^Ta(Sa,25);Sa=n(n(n(n(Ua,Sa),Va&Za^~Va&Ya),Ra[Wa]),h[Wa]);Ua=
r;Ua=Ta(Ua,2)^Ta(Ua,13)^Ta(Ua,22);c=n(Ua,r&Xa^r&Qa^Xa&Qa);Ua=Ya;Ya=Za;Za=Va;Va=n(w,Sa);w=Qa;Qa=Xa;Xa=r;r=n(Sa,c)}d[0]=n(r,d[0]);d[1]=n(Xa,d[1]);d[2]=n(Qa,d[2]);d[3]=n(w,d[3]);d[4]=n(Va,d[4]);d[5]=n(Za,d[5]);d[6]=n(Ya,d[6]);d[7]=n(Ua,d[7])}a="";for(Ra=0;Ra<4*d.length;Ra++)a+="0123456789abcdef".charAt(d[Ra>>2]>>8*(3-Ra%4)+4&15)+"0123456789abcdef".charAt(d[Ra>>2]>>8*(3-Ra%4)&15);return a}});function MersenneTwisterObject(n,Ta){function d(a,b){var d=a&65535,w=b&65535;var Qa=d*w;var r=Qa>>>16;r=r+d*((b&4294901760)>>>16)&65535;r+=((a&4294901760)>>>16)*w;r&=65535;d=r<<16|Qa&65535;return 0>d?d+4294967296:d}function Ra(a){var w=0<arguments.length&&isFinite(a)?a&4294967295:5489,Qa;b=[w];r=624;for(Qa=1;624>Qa;b[Qa]=w=d(w^w>>>30,1812433253)+Qa++);}function a(a,w){var Qa=a.length,r;Ra(1<arguments.length&&isFinite(w)?w:19650218);var h=b[0];var Xa=1;var n=0;for(r=Math.max(624,Qa);r;n%=Qa,r--)b[Xa]=
h=(b[Xa++]^d(h^h>>>30,1664525))+a[n]+n++&4294967295,623<Xa&&(b[0]=h=b[623],Xa=1);for(r=623;r;r--)b[Xa]=h=(b[Xa]^d(h^h>>>30,1566083941))-Xa++&4294967295,623<Xa&&(b[0]=h=b[623],Xa=1);b[0]=2147483648}function h(){for(var a,d;624<=r||0>r;){r=Math.max(0,r-624);for(d=0;227>d;a=b[d]&2147483648|b[d+1]&2147483647,b[d]=b[d+397]^a>>>1^Xa[a&1],d++);for(;623>d;a=b[d]&2147483648|b[d+1]&2147483647,b[d]=b[d+-227]^a>>>1^Xa[a&1],d++);a=b[623]&2147483648|b[0]&2147483647;b[623]=b[396]^a>>>1^Xa[a&1]}a=b[r++];a^=a>>>11;
a^=a<<7&2636928640;a^=a<<15&4022730752;a^=a>>>18;return 0>a?a+4294967296:a}var b=[],r=NaN,Xa=[0,2567483615];1<arguments.length?a(Ta,n):0<arguments.length?Ra(n):Ra();return function(){return(67108864*(h()>>>5)+(h()>>>6))/9007199254740992}}Math.random=new MersenneTwisterObject((new Date).getTime());var mathlib=function(){function n(a,c,b,d,f,z){var cb=a[c];a[c]=a[f]^z;a[f]=a[d]^z;a[d]=a[b]^z;a[b]=cb^z}function Ta(a){for(var c=arguments.length-1,b=a[arguments[c]];1<c;c--)a[arguments[c]]=a[arguments[c-1]];a[arguments[1]]=b;return Ta}function d(a,c,b,f){b=b||1;for(var cb=c.length,z=[],r=0;r<cb;r++)z[r]=a[c[r]];for(r=0;r<cb;r++){var h=(r+b)%cb;a[c[h]]=z[r];f&&(a[c[h]]+=f[h]-f[r]+f[f.length-1])}return d}function Ra(a,c){return a[c>>3]>>((c&7)<<2)&15}function a(a,c,b){c=c||8;for(var d=0,f=1985229328,
z=0;z<c-1;++z){var cb=a[z]<<2;d=(c-z)*d+(f>>cb&7);f-=286331152<<cb}return 0>b?d>>1:d}function h(a,c,b,d){b=(b||8)-1;var f=1985229328,z=0;0>d&&(c<<=1);for(var cb=0;cb<b;++cb){var r=Wa[b-cb],h=~~(c/r);z^=h;c%=r;h<<=2;a[cb]=f>>h&7;r=(1<<h)-1;f=(f&r)+(f>>4&~r)}0>d&&0!=(z&1)?(a[b]=a[b-1],a[b-1]=f&7):a[b]=f&7;return a}function b(c,b,d){this.length=b;this.evenbase=d;this.get="p"==c?function(c){return a(c,this.length,this.evenbase)}:function(a){var c=this.evenbase,b=Math.abs(c);c=0>c?0:a[0]%b;for(var d=this.length-
1;0<d;d--)c=c*b+a[d]%b;return c};this.set="p"==c?function(a,c){return h(a,c,this.length,this.evenbase)}:function(a,c){for(var b=c,d=this.length,f=this.evenbase,z=Math.abs(f),cb=z*d,r=1;r<d;r++)a[r]=b%z,cb-=a[r],b=~~(b/z);a[0]=(0>f?cb:b)%z;return a}}function r(a,c,d,f){f=f||6;if($.isArray(d)){var z=new b(d[1],d[2],d[3]);d=d[0];for(var cb=0;cb<f;cb++){a[cb]=[];for(var r=0;r<c;r++){var h=z.set([],r);d(h,cb);a[cb][r]=z.get(h)}}}else for(cb=0;cb<f;cb++)for(a[cb]=[],r=0;r<c;r++)a[cb][r]=d(r,cb)}function Xa(){this.ca=
[0,1,2,3,4,5,6,7];this.ea=[0,2,4,6,8,10,12,14,16,18,20,22]}function Qa(a,c,b,d,f,z,r,h){var cb=$.isArray(f);z=z||6;r=r||3;h=h||256;d=d||256;for(var w=0,Sa=b+7>>>3;w<Sa;w++)a[w]=-1;a[c>>3]^=15<<((c&7)<<2);for(w=c=0;w<=d;w++){Sa=0;var Xa=w>=h,Qa=w+1^15,$a=Xa?15:w,n=Xa?w:15,ab=0;a:for(;ab<b;ab++,c>>=4){if(0==(ab&7)&&(c=a[ab>>3],!Xa&&-1==c)){ab+=7;continue}if((c&15)==$a)for(var Ua=0;Ua<z;Ua++)for(var Wa=ab,Ya=0;Ya<r;Ya++)if(Wa=cb?f[Ua][Wa]:f(Wa,Ua),Ra(a,Wa)==n){++Sa;if(Xa){a[ab>>3]^=Qa<<((ab&7)<<2);continue a}a[Wa>>
3]^=Qa<<((Wa&7)<<2)}}if(0==Sa)break;DEBUG&&console.log("[prun]",Sa)}}function w(a,c,b){this.N_STATES=b.length;this.N_MOVES=a;this.N_POWER=c;this.state_params=b;this.inited=!1}function Va(a){return a}function Za(a,c,b,d){this.solvedStates=a;this.doMove=c;this.movesList=[];for(var f in b)this.movesList.push([f,b[f]]);this.prunHash=d||Va;this.prunTable={};this.toUpdateArr=null;this.prunTableSize=0;this.prunDepth=-1;this.cost=0}function Ya(a){return~~(eb.random()*a)}for(var Ua=[],Wa=[1],Sa=0;32>Sa;++Sa){Ua[Sa]=
[];for(var c=0;32>c;++c)Ua[Sa][c]=0}for(Sa=0;32>Sa;++Sa)for(Ua[Sa][0]=Ua[Sa][Sa]=1,Wa[Sa+1]=Wa[Sa]*(Sa+1),c=1;c<Sa;++c)Ua[Sa][c]=Ua[Sa-1][c-1]+Ua[Sa-1][c];Xa.EdgeMult=function(a,c,b){for(var d=0;12>d;d++)b.ea[d]=a.ea[c.ea[d]>>1]^c.ea[d]&1};Xa.CornMult=function(a,c,b){for(var d=0;8>d;d++)b.ca[d]=a.ca[c.ca[d]&7]&7|((a.ca[c.ca[d]&7]>>3)+(c.ca[d]>>3))%3<<3};Xa.CubeMult=function(a,c,b){Xa.CornMult(a,c,b);Xa.EdgeMult(a,c,b)};Xa.prototype.init=function(a,c){this.ca=a.slice();this.ea=c.slice();return this};
Xa.prototype.isEqual=function(a){for(var c=0;8>c;c++)if(this.ca[c]!=a.ca[c])return!1;for(c=0;12>c;c++)if(this.ea[c]!=a.ea[c])return!1;return!0};var z=[[8,9,20],[6,18,38],[0,36,47],[2,45,11],[29,26,15],[27,44,24],[33,53,42],[35,17,51]],$a=[[5,10],[7,19],[3,37],[1,46],[32,16],[28,25],[30,43],[34,52],[23,12],[21,41],[50,39],[48,14]];Xa.prototype.toFaceCube=function(a,c){a=a||z;c=c||$a;for(var b=[],d=0;54>d;d++)b[d]="URFDLB"[~~(d/9)];for(var f=0;8>f;f++){d=this.ca[f]&7;for(var r=this.ca[f]>>3,h=0;3>h;h++)b[a[f][(h+
r)%3]]="URFDLB"[~~(a[d][h]/9)]}for(f=0;12>f;f++)for(d=this.ea[f]>>1,r=this.ea[f]&1,h=0;2>h;h++)b[c[f][(h+r)%2]]="URFDLB"[~~(c[d][h]/9)];return b.join("")};Xa.prototype.invFrom=function(a){for(var c=0;12>c;c++)this.ea[a.ea[c]>>1]=c<<1|a.ea[c]&1;for(c=0;8>c;c++)this.ca[a.ca[c]&7]=c|32>>(a.ca[c]>>3)&24;return this};Xa.prototype.fromFacelet=function(a,c,b){c=c||z;b=b||$a;for(var d=0,f=[],r=a[4]+a[13]+a[22]+a[31]+a[40]+a[49],h=0;54>h;++h){f[h]=r.indexOf(a[h]);if(-1==f[h])return-1;d+=1<<(f[h]<<2)}if(10066329!=
d)return-1;var w;for(h=0;8>h;++h){for(w=0;3>w&&0!=f[c[h][w]]&&3!=f[c[h][w]];++w);a=f[c[h][(w+1)%3]];d=f[c[h][(w+2)%3]];for(r=0;8>r;++r)if(a==~~(c[r][1]/9)&&d==~~(c[r][2]/9)){this.ca[h]=r|w%3<<3;break}}for(h=0;12>h;++h)for(r=0;12>r;++r){if(f[b[h][0]]==~~(b[r][0]/9)&&f[b[h][1]]==~~(b[r][1]/9)){this.ea[h]=r<<1;break}if(f[b[h][0]]==~~(b[r][1]/9)&&f[b[h][1]]==~~(b[r][0]/9)){this.ea[h]=r<<1|1;break}}return this};c=[];for(Sa=0;18>Sa;Sa++)c[Sa]=new Xa;c[0].init([3,0,1,2,4,5,6,7],[6,0,2,4,8,10,12,14,16,18,
20,22]);c[3].init([20,1,2,8,15,5,6,19],[16,2,4,6,22,10,12,14,8,18,20,0]);c[6].init([9,21,2,3,16,12,6,7],[0,19,4,6,8,17,12,14,3,11,20,22]);c[9].init([0,1,2,3,5,6,7,4],[0,2,4,6,10,12,14,8,16,18,20,22]);c[12].init([0,10,22,3,4,17,13,7],[0,2,20,6,8,10,18,14,16,4,12,22]);c[15].init([0,1,11,23,4,5,18,14],[0,2,4,23,8,10,12,21,16,18,7,15]);for(Sa=0;18>Sa;Sa+=3)for(var f=0;2>f;f++)Xa.EdgeMult(c[Sa+f],c[Sa],c[Sa+f+1]),Xa.CornMult(c[Sa+f],c[Sa],c[Sa+f+1]);Xa.moveCube=c;Xa.prototype.edgeCycles=function(){for(var a=
[],c=[0,0,0],b=0,d=!1,f=0;12>f;++f)if(!a[f]){var r=-1,z=!1,h=f;do a[h]=!0,++r,z^=this.ea[h]&1,h=this.ea[h]>>1;while(h!=f);b+=r>>1;r&1&&(d=!d,++b);z&&(0==r?++c[0]:r&1?c[2]^=1:++c[1])}c[1]+=c[2];b=c[0]<c[1]?b+(c[0]+c[1]>>1):b+(c[1]+[0,2,3,5,6,8,9][c[0]-c[1]>>1]);return b-d};c=w.prototype;c.search=function(a,c,b){b=(b||99)+1;if(!this.inited){this.move=[];this.prun=[];for(var d=0;d<this.N_STATES;d++){var f=this.state_params[d],z=f[0],h=f[1],w=f[2],Sa=f[3];f=f[4];this.move[d]=[];this.prun[d]=[];r(this.move[d],
w,h,this.N_MOVES);Qa(this.prun[d],z,w,Sa,this.move[d],this.N_MOVES,this.N_POWER,f)}this.inited=!0}for(this.sol=[];c<b&&!this.idaSearch(a,c,-1);c++);return c==b?null:this.sol.reverse()};c.toStr=function(a,c,b){for(var d=[],f=0;f<a.length;f++)d.push(c[a[f][0]]+b[a[f][1]]);return d.join(" ").replace(/ +/g," ")};c.idaSearch=function(a,c,b){for(var d=this.N_STATES,f=0;f<d;f++)if(Ra(this.prun[f],a[f])>c)return!1;if(0==c)return!0;for(var r=a[0]+c+b+1,z=0;z<this.N_MOVES;z++){var h=(z+r)%this.N_MOVES;if(h!=
b)for(var w=a.slice(),Sa=0;Sa<this.N_POWER;Sa++){for(f=0;f<d;f++)w[f]=this.move[f][h][w[f]];if(this.idaSearch(w,c-1,h))return this.sol.push([h,Sa]),!0}}return!1};c=Za.prototype;c.updatePrun=function(a){a=void 0===a?this.prunDepth+1:a;for(var c=this.prunDepth+1;c<=a;c++){var b=+new Date;if(1>c)for(var d=this.prevSize=0;d<this.solvedStates.length;d++){var f=this.prunHash(this.solvedStates[d]);f in this.prunTable||(this.prunTable[f]=c,this.prunTableSize++)}else this.updatePrunBFS(c-1);if(0==this.cost)break;
this.prunDepth=c;DEBUG&&console.log(c,this.prunTableSize-this.prevSize,+new Date-b);this.prevSize=this.prunTableSize}};c.updatePrunBFS=function(a){if(null==this.toUpdateArr){this.toUpdateArr=[];for(var c in this.prunTable)this.prunTable[c]==a&&this.toUpdateArr.push(c)}for(;0!=this.toUpdateArr.length;){c=this.toUpdateArr.pop();for(var b=0;b<this.movesList.length;b++){var d=this.doMove(c,this.movesList[b][0]);!d||d in this.prunTable||(this.prunTable[d]=a+1,this.prunTableSize++)}if(0<=this.cost){if(0==
this.cost)return;this.cost--}}this.toUpdateArr=null};c.search=function(a,c,b){this.sol=[];this.subOpt=!1;this.state=a;this.visited={};this.maxl=c||0;return this.searchNext(b)};c.searchNext=function(a,c){a=a+1||99;this.prevSolStr=this.solArr?this.solArr.join(","):null;this.solArr=null;for(this.cost=c||-1;this.maxl<a;this.maxl++){this.updatePrun(Math.ceil(this.maxl/2));if(0==this.cost)return null;if(this.idaSearch(this.state,this.maxl,null,0))break}return this.solArr};c.getPruning=function(a){a=this.prunTable[this.prunHash(a)];
return void 0===a?this.prunDepth+1:a};c.idaSearch=function(a,c,b,d){if(this.getPruning(a)>c)return!1;if(0==c){if(-1==this.solvedStates.indexOf(a))return!1;a=this.getSolArr();this.subOpt=!0;if(a.join(",")==this.prevSolStr)return!1;this.solArr=a;return!0}if(!this.subOpt){if(a in this.visited&&this.visited[a]<d)return!1;this.visited[a]=d}if(0<=this.cost){if(0==this.cost)return!0;this.cost--}var f=null==b?"":this.movesList[b][0];b=null==b?-1:this.movesList[b][1];for(var r=this.sol[d]||0;r<this.movesList.length;r++){var z=
this.movesList[r],h=z[1]^b;z=z[0];if(!(0==h||0==(h&15)&&z<=f)&&(h=this.doMove(a,z))&&h!=a){this.sol[d]=r;if(this.idaSearch(h,c-1,r,d+1))return!0;this.sol.pop()}}return!1};c.getSolArr=function(){for(var a=[],c=0;c<this.sol.length;c++)a.push(this.movesList[this.sol[c]][0]);return a};var eb=function(){function a(a,f){if(f&&(f!=d||b>a)){for(var r=[],z=0;z<f.length;z++)r[z]=f.charCodeAt(z);c=new MersenneTwisterObject(r[0],r);b=0;d=f}for(;b<a;)c(),b++}var c,b,d;a(0,""+(new Date).getTime());return{random:function(){b++;
return c()},getSeed:function(){return[b,d]},setSeed:a}}(),lb=/^\s*(\d+)-(\d+)-(\d+) (\d+):(\d+):(\d+)\s*$/;Math.TAU=2*Math.PI;return{Cnk:Ua,fact:Wa,getPruning:Ra,setNPerm:function(a,c,b){var d,f;a[b-1]=0;for(d=b-2;0<=d;--d)for(a[d]=c%(b-d),c=~~(c/(b-d)),f=d+1;f<b;++f)a[f]>=a[d]&&++a[f]},getNPerm:function(a,c){var b,d,f;for(b=d=0;b<c;++b)for(d*=c-b,f=b+1;f<c;++f)a[f]<a[b]&&++d;return d},getNParity:function(a,c){var b;var d=0;for(b=c-2;0<=b;--b)d^=a%(c-b),a=~~(a/(c-b));return d&1},get8Perm:a,set8Perm:h,
coord:b,createMove:r,edgeMove:function(a,c){0==c?n(a,0,7,8,4,1):1==c?n(a,3,6,11,7,0):2==c?n(a,0,1,2,3,0):3==c?n(a,2,5,10,6,1):4==c?n(a,1,4,9,5,0):5==c&&n(a,11,10,9,8,0)},circle:Ta,circleOri:n,acycle:d,createPrun:Qa,CubieCube:Xa,SOLVED_FACELET:"UUUUUUUUURRRRRRRRRFFFFFFFFFDDDDDDDDDLLLLLLLLLBBBBBBBBB",fillFacelet:function(a,c,b,d,f){for(var r=0;r<a.length;r++)for(var z=0;z<a[r].length;z++)c[a[r][(z+d[r])%a[r].length]]=~~(a[b[r]][z]/f)},rn:Ya,rndEl:function(a){return a[~~(eb.random()*a.length)]},rndProb:function(a){for(var c=
0,b=0,d=0;d<a.length;d++)0!=a[d]&&(eb.random()<a[d]/(c+a[d])&&(b=d),c+=a[d]);return b},time2str:function(a,c){if(!a)return"N/A";var b=new Date(1E3*a);return(c||"%Y-%M-%D %h:%m:%s").replace("%Y",b.getFullYear()).replace("%M",("0"+(b.getMonth()+1)).slice(-2)).replace("%D",("0"+b.getDate()).slice(-2)).replace("%h",("0"+b.getHours()).slice(-2)).replace("%m",("0"+b.getMinutes()).slice(-2)).replace("%s",("0"+b.getSeconds()).slice(-2))},str2time:function(a){a=lb.exec(a);if(!a)return null;var c=new Date(0);
c.setFullYear(~~a[1]);c.setMonth(~~a[2]-1);c.setDate(~~a[3]);c.setHours(~~a[4]);c.setMinutes(~~a[5]);c.setSeconds(~~a[6]);return~~(c.getTime()/1E3)},obj2str:function(a){return"string"==typeof a?a:JSON.stringify(a)},str2obj:function(a){return"string"!=typeof a?a:JSON.parse(a)},valuedArray:function(a,c){for(var b=[],d=0;d<a;d++)b[d]=c;return b},Solver:w,rndPerm:function(a){for(var c=[],b=0;b<a;b++)c[b]=b;for(b=0;b<a-1;b++)Ta(c,b,b+Ya(a-b));return c},gSolver:Za,getSeed:eb.getSeed,setSeed:eb.setSeed}}();var sbtree=function(){function n(a,b){this.k=a;this.v=b;this[0]=null;this[1]=null;this.cnt=1;this.sum=a;this.sk2=Math.pow(a,2)}function Ta(a){this.root=null;this.cmp=a}function d(a){return null==a?0:a.cnt}function Ra(a){return null==a?0:a.sum}function a(a){return null==a?0:a.sk2}function h(a,b,d){return null==a||h(a[d],b,d)&&b(a)&&h(a[d^1],b,d)}function b(b,h){var r=b[h^1];b[h^1]=r[h];r[h]=b;r.cnt=b.cnt;b.cnt=d(b[0])+d(b[1])+1;r.sum=b.sum;b.sum=Ra(b[0])+Ra(b[1])+b.k;r.sk2=b.sk2;b.sk2=a(b[0])+a(b[1])+
Math.pow(b.k,2);return r}Ta.prototype.find=function(a){for(var b=this.root;null!==b;){if(a==b.k)return b.v;b=b[0>this.cmp(b.k,a)^0]}};Ta.prototype.cumSum=function(a){if(a>=d(this.root)||0==d(this.root))return Ra(this.root);for(var b=this.root,h=0;0<a;){var r=d(b[0]);if(a<r)b=b[0];else{h+=Ra(b[0]);if(a==r)break;h+=b.k;a-=r+1;b=b[1]}}return h};Ta.prototype.cumSk2=function(b){if(b>=d(this.root)||0==d(this.root))return a(this.root);for(var h=this.root,r=0;0<b;){var w=d(h[0]);if(b<w)h=h[0];else{r+=a(h[0]);
if(b==w)break;r+=Math.pow(h.k,2);b-=w+1;h=h[1]}}return r};Ta.prototype.rank=function(a){for(var b=this.root;b;){var h=d(b[0]);if(a<h)b=b[0];else{if(a==h)return b.k;a-=h+1;b=b[1]}}return 0>a?-1E300:1E300};Ta.prototype.rankOf=function(a){for(var b=this.root,h=0;b;)0>this.cmp(b.k,a)?(h+=d(b[0])+1,b=b[1]):b=b[0];return h};Ta.prototype.traverse=function(a,b){return h(this.root,a,b^0)};Ta.prototype.insertR=function(a,h,Qa){if(null===a)return new n(h,Qa);a.cnt+=1;a.sum+=h;a.sk2+=Math.pow(h,2);var r=0>this.cmp(a.k,
h)^0;a[r]=this.insertR(a[r],h,Qa);d(a[r][r])>d(a[r^1])?a=b(a,r^1):d(a[r][r^1])>d(a[r^1])&&(r^=1,a[r^1]=b(a[r^1],r^1),a=b(a,r));return a};Ta.prototype.insert=function(a,b){this.root=this.insertR(this.root,a,b);return this};Ta.prototype.remove=function(a){this.root=this.removeR(this.root,a);return this};Ta.prototype.removeR=function(a,b){if(null==a)return null;--a.cnt;a.sum-=b;a.sk2-=Math.pow(b,2);if(a.k==b){if(null==a[0]||null==a[1])return a[null==a[0]^0];for(var d=a[0];null!=d[1];)d=d[1];a.k=d.k;
a.v=d.v;b=d.k}d=0>this.cmp(a.k,b)^0;a[d]=this.removeR(a[d],b);return a};return{tree:function(a){return new Ta(a)}}}();var SQLFile=execMain(function(){function n(d,n,a){var h=0;if(a)for(var b=0;b<a;b++)h=h<<8|d[n[0]++];else{do h=h<<7|d[n[0]]&127;while(128<=d[n[0]++])}return h}function Ta(d,Ra,a){Ra=1==Ra?100:(Ra-1)*n(d,[16],2);var h=d[Ra],b=d[Ra+3]<<8|d[Ra+4],r=[Ra+8],Xa=-1;h&8||(Xa=n(d,r,4));for(var Qa=0;Qa<b;Qa++){var w=[(100==Ra?0:Ra)+n(d,[r[0]+2*Qa],2)];if(2!=h&&10!=h)if(5==h)w=n(d,w,4),Ta(d,w,a);else if(13==h){var Va=n(d,w),Za=d,Ya=w[0],Ua=a,Wa=[Ya],Sa=n(Za,Wa),c=Ya+Sa;Ya=Wa;Wa=[];for(Sa=[];Ya[0]<c;)Wa.push(n(Za,
Ya));for(c=0;c<Wa.length;c++){var z=Wa[c];0==z?Sa[c]=null:1<=z&&4>=z?Sa[c]=n(Za,Ya,z):5==z?(Sa[c]=void 0,n(Za,Ya,6)):6==z?(Sa[c]=void 0,n(Za,Ya,8)):7==z?(Sa[c]=void 0,n(Za,Ya,8)):8==z?Sa[c]=0:9==z?Sa[c]=1:10!=z&&11!=z&&(0==Wa[c]%2?(Sa[c]=Za.slice(Ya[0],Ya[0]+(z-12)/2),Ya[0]+=(z-12)/2):(Sa[c]=String.fromCharCode.apply(null,Za.slice(Ya[0],Ya[0]+(z-13)/2)),Ya[0]+=(z-13)/2))}Ua(Sa);w[0]+=Va}}-1!=Xa&&Ta(d,Xa,a)}return{loadTableList:function(d){var n={};Ta(d,1,function(a){n[a[2]]=[a[3],a[4]]});return n},
loadPage:Ta}});var TimerDataConverter=execMain(function(){function n(a){try{return decodeURIComponent(escape(a))}catch(h){}return a}function Ta(a,d){a=n(a).split(/\r?\n/g);for(var b=[],h=[],Xa=[],Qa=0,w=0;w<a.length;w++){for(var Va=a[w].split(d),Za=0;Za<Va.length;Za++)Xa.push(Va[Za]),Qa+=(Va[Za].match(/"/g)||[]).length,0==Qa%2&&(Xa=Xa.join(","),'"'==Xa[0]&&(Xa=Xa.replace(/""/g,'"').slice(1,-1)),h.push(Xa),Xa=[]);0==Qa%2&&(b.push(h),h=[],Xa=[],Qa=0)}return b}var d=/^(DNF)?\(?(\d*?):?(\d*?):?(\d*\.?\d*?)(\+)?\)?$/,
Ra={csTimer:[/^{"session1"/i,function(a){a=JSON.parse(n(a));var d={};try{d=mathlib.str2obj(mathlib.str2obj(a.properties).sessionData)}catch(Ua){}var b=[],r;for(r in a){var Xa=/^session(\d+)$/.exec(r);if(Xa){var Qa={},w=[];try{w=mathlib.str2obj(a[r])}catch(Ua){}if($.isArray(w)&&0!=w.length){for(var Va=[],Za=0;Za<w.length;Za++){var Ya=w[Za];$.isArray(Ya)&&$.isArray(Ya[0])&&(Ya[0]=$.map(Ya[0],Number),Va.push(Ya))}Qa.times=Va;~~Xa[1]in d?(w=d[~~Xa[1]],Qa.name=w.name||Xa[1],Qa.opt=w.opt||{scrType:w.scr||
"333",phases:w.phases||1},Qa.rank=w.rank):(Qa.name=Xa[1],Qa.opt={},Qa.rank=b.length+1);b.push(Qa)}}}b.sort(function(a,b){return a.rank-b.rank});return b}],csTimerCSV:[/^No\.;Time;Comment;Scramble;Date;P\.1/i,function(a){a=Ta(a,";");for(var h=[],b=a[0].length-5,r=1;r<a.length;r++){var n=a[r],Qa=[],w=d.exec(n[1]);if(w){for(Qa[0]=w[1]?-1:w[5]?2E3:0;""==n[n.length-1];)n.pop();for(var Va=5;Va<n.length;Va++)w=d.exec(n[Va]),w=Math.round(36E5*~~w[2]+6E4*~~w[3]+1E3*parseFloat(w[4])),Qa[n.length-Va]=(Qa[n.length-
Va+1]||0)+w;Qa=[Qa,n[3],n[2],mathlib.str2time(n[4])];h.push(Qa)}else console.log("Invalid data detected")}return[{name:"import",opt:{phases:b},times:h}]}],ZYXTimer:[/^Session: /i,function(a){}],TwistyTimer:[/^Puzzle,Category,Time\(millis\),Date\(millis\),Scramble,Penalty,Comment/i,function(a){a=Ta(a,";");for(var d={333:"333",222:"222so",444:"444wca",555:"555wca",pyra:"pyrso",skewb:"skbso",mega:"mgmp",sq1:"sqrs",clock:"clkwca",666:"666wca",777:"777wca"},b={},r=[],n=1;n<a.length;n++){var Qa=a[n];if(7==
Qa.length){var w=Qa[0]+"-"+Qa[1],Va=[{0:0,1:2E3,2:-1}[Qa[5]],Math.round(Qa[2])];w in b||(b[w]=r.length,r.push({name:w,opt:{scrType:d[Qa[0]]||"333"},times:[]}));r[b[w]].times.push([Va,Qa[4],Qa[6],Math.round(Qa[3]/1E3)])}}return r}],BlockKeeper:[/^{"puzzles":\[{"name":/i,function(a){a=JSON.parse(n(a)).puzzles;var d={"3x3x3":"333","2x2x2":"222so","4x4x4":"444wca","5x5x5":"555wca",Pyraminx:"pyrso",Skewb:"skbso",Megaminx:"mgmp","Square-1":"sqrs",Clock:"clkwca","6x6x6":"666wca","7x7x7":"777wca","3x3x3 BLD":"333ni",
"4x4x4 BLD":"444bld","5x5x5 BLD":"555bld"},b=[];$.each(a,function(a,h){var n=h.name,r=h.scrambler,Va=h.splits;$.each(h.sessions,function(a,h){var w=h.name,Qa=[];$.each(h.records,function(a,c){var b=[{OK:0,"+2":2E3,DNF:-1}[c.result],Math.round(1E3*c.time)];Array.prototype.push.apply(b,$.map(c.split.reverse(),function(a){return Math.round(1E3*a)}));Qa.push([b,c.scramble,c.comment||"",Math.round(c.date/1E3)])});0!=Qa.length&&b.push({name:n+"-"+w,opt:{phases:Va,scrType:d[r]||"333"},times:Qa})})});return b}],
PrismaTimer:[/^[^\t\n]*(\t[^\t\n]*){4}\n/i,function(a){}],"DCTimer.raw":[/^\d+[\r\n]+[^\t\n]*(\t[^\t\n]*){11}[\r\n]+/i,function(a){a=n(a).split(/[\r\n]+/);for(var d={},b=0,r=[],Xa=0;Xa<a.length;Xa++)if(/^\d+$/.exec(a[Xa]))b=~~a[Xa],d[b]=r.length,r.push({name:b,opt:{},times:[]});else{var Qa=a[Xa].split("\t");6>Qa.length||r[d[b]].times.push([["1"==Qa[2]?"1"==Qa[1]?2E3:0:-1,~~Qa[0]],Qa[3],Qa[5],mathlib.str2time(Qa[4])])}return r}],"DCTimer.sqlite":[/^SQLite format 3\0/i,function(a){for(var d=new Uint8Array(a.length),
b=0;b<a.length;b++)d[b]=a.charCodeAt(b);a=SQLFile.loadTableList(d);var r={},Xa=[],Qa=function(a,b){a in r||(r[a]=Xa.length,Xa.push({name:b||a+1,opt:{},times:[]}))};SQLFile.loadPage(d,a.sessiontb[0],function(a){Qa(a[0],n(a[1]))});for(var w in a)if(b=/^result(\d+|tb)$/.exec(w)){var Va=("tb"==b[1]?1:~~b[1])-1;SQLFile.loadPage(d,a[w][0],function(a){Qa(Va);Xa[r[Va]].times.push([["1"==a[3]?"1"==a[2]?2E3:0:-1,~~a[1]],n(a[4]||""),n(a[6]||""),mathlib.str2time(a[5])])})}SQLFile.loadPage(d,a.resultstb[0],function(a){var b=
a[1];Qa(b);Xa[r[b]].times.push([["1"==a[4]?"1"==a[3]?2E3:0:-1,~~a[2]],n(a[5]||""),n(a[7]||""),mathlib.str2time(a[6])])});return Xa}],"mateus.cubetimer":[/^"Category";"Time \(MM:SS\.SSS\)";"Scrambler";"Date";"Penalty \+2 \(yes or no\)";"DNF \(yes or no\)";"Section"\n/i,function(a){a=Ta(a,";");for(var h={"3x3x3":"333","2x2x2":"222so","4x4x4":"444wca","5x5x5":"555wca",Pyraminx:"pyrso",Skewb:"skbso",Megaminx:"mgmp","Square-1":"sqrs","Rubik's Clock":"clkwca","6x6x6":"666wca","7x7x7":"777wca","3x3x3 Blindfolded":"333ni",
"4x4x4 Blindfolded":"444bld","5x5x5 Blindfolded":"555bld","3x3x3 One-Handed":"333oh","3x3x3 Multi-Blindfolded":"r3ni","3x3x3 With Feet":"333ft","3x3x3 Fewest Moves":"333fm"},b={},n=[],Xa=1;Xa<a.length;Xa++){var Qa=a[Xa];if(!(7>Qa.length)){var w=Qa[0]+"-"+Qa[6],Va=d.exec(Qa[1]);if(Va){Va=Math.round(36E5*~~Va[2]+6E4*~~Va[3]+1E3*parseFloat(Va[4]));var Ra=Qa[2],Ya=0;"yes"==Qa[5]?Ya=-1:"yes"==Qa[4]&&(Ya=2E3);w in b||(b[w]=n.length,n.push({name:w,opt:{scrType:h[Qa[0]]||"333"},times:[]}));n[b[w]].times.push([[Ya,
Va],Ra,"",mathlib.str2time(Qa[3]+":00")])}else console.log("Invalid data detected")}}return n}]};return function(a){var d=void 0,b;for(b in Ra)if(Ra[b][0].exec(a)){console.log("try read by "+b);try{d=Ra[b][1](a);break}catch(r){console.log(r)}}return d}});var LZString=function(){function n(a,h){if(!d[a]){d[a]={};for(var b=0;b<a.length;b++)d[a][a.charAt(b)]=b}return d[a][h]}var Ta=String.fromCharCode,d={},Ra={compressToBase64:function(a){if(null==a)return"";a=Ra._compress(a,6,function(a){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)});switch(a.length%4){default:case 0:return a;case 1:return a+"===";case 2:return a+"==";case 3:return a+"="}},decompressFromBase64:function(a){return null==a?"":""==a?null:Ra._decompress(a.length,
32,function(d){return n("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a.charAt(d))})},compressToUTF16:function(a){return null==a?"":Ra._compress(a,15,function(a){return Ta(a+32)})+" "},decompressFromUTF16:function(a){return null==a?"":""==a?null:Ra._decompress(a.length,16384,function(d){return a.charCodeAt(d)-32})},compressToUint8Array:function(a){a=Ra.compress(a);for(var d=new Uint8Array(2*a.length),b=0,n=a.length;b<n;b++){var Xa=a.charCodeAt(b);d[2*b]=Xa>>>8;d[2*b+1]=Xa%256}return d},
decompressFromUint8Array:function(a){if(null===a||void 0===a)return Ra.decompress(a);for(var d=Array(a.length/2),b=0,n=d.length;b<n;b++)d[b]=256*a[2*b]+a[2*b+1];var Xa=[];d.forEach(function(a){Xa.push(Ta(a))});return Ra.decompress(Xa.join(""))},compressToEncodedURIComponent:function(a){return null==a?"":Ra._compress(a,6,function(a){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$".charAt(a)})},decompressFromEncodedURIComponent:function(a){if(null==a)return"";if(""==a)return null;
a=a.replace(/ /g,"+");return Ra._decompress(a.length,32,function(d){return n("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a.charAt(d))})},compress:function(a){return Ra._compress(a,16,function(a){return Ta(a)})},_compress:function(a,d,b){if(null==a)return"";var h,n={},Qa={},w="",Va=2,Ra=3,Ya=2,Ua=[],Wa=0,Sa=0,c;for(c=0;c<a.length;c+=1){var z=a.charAt(c);Object.prototype.hasOwnProperty.call(n,z)||(n[z]=Ra++,Qa[z]=!0);var $a=w+z;if(Object.prototype.hasOwnProperty.call(n,$a))w=
$a;else{if(Object.prototype.hasOwnProperty.call(Qa,w)){if(256>w.charCodeAt(0)){for(h=0;h<Ya;h++)Wa<<=1,Sa==d-1?(Sa=0,Ua.push(b(Wa)),Wa=0):Sa++;var f=w.charCodeAt(0);for(h=0;8>h;h++)Wa=Wa<<1|f&1,Sa==d-1?(Sa=0,Ua.push(b(Wa)),Wa=0):Sa++,f>>=1}else{f=1;for(h=0;h<Ya;h++)Wa=Wa<<1|f,Sa==d-1?(Sa=0,Ua.push(b(Wa)),Wa=0):Sa++,f=0;f=w.charCodeAt(0);for(h=0;16>h;h++)Wa=Wa<<1|f&1,Sa==d-1?(Sa=0,Ua.push(b(Wa)),Wa=0):Sa++,f>>=1}Va--;0==Va&&(Va=Math.pow(2,Ya),Ya++);delete Qa[w]}else for(f=n[w],h=0;h<Ya;h++)Wa=Wa<<
1|f&1,Sa==d-1?(Sa=0,Ua.push(b(Wa)),Wa=0):Sa++,f>>=1;Va--;0==Va&&(Va=Math.pow(2,Ya),Ya++);n[$a]=Ra++;w=String(z)}}if(""!==w){if(Object.prototype.hasOwnProperty.call(Qa,w)){if(256>w.charCodeAt(0)){for(h=0;h<Ya;h++)Wa<<=1,Sa==d-1?(Sa=0,Ua.push(b(Wa)),Wa=0):Sa++;f=w.charCodeAt(0);for(h=0;8>h;h++)Wa=Wa<<1|f&1,Sa==d-1?(Sa=0,Ua.push(b(Wa)),Wa=0):Sa++,f>>=1}else{f=1;for(h=0;h<Ya;h++)Wa=Wa<<1|f,Sa==d-1?(Sa=0,Ua.push(b(Wa)),Wa=0):Sa++,f=0;f=w.charCodeAt(0);for(h=0;16>h;h++)Wa=Wa<<1|f&1,Sa==d-1?(Sa=0,Ua.push(b(Wa)),
Wa=0):Sa++,f>>=1}Va--;0==Va&&(Va=Math.pow(2,Ya),Ya++);delete Qa[w]}else for(f=n[w],h=0;h<Ya;h++)Wa=Wa<<1|f&1,Sa==d-1?(Sa=0,Ua.push(b(Wa)),Wa=0):Sa++,f>>=1;Va--;0==Va&&Ya++}f=2;for(h=0;h<Ya;h++)Wa=Wa<<1|f&1,Sa==d-1?(Sa=0,Ua.push(b(Wa)),Wa=0):Sa++,f>>=1;for(;;)if(Wa<<=1,Sa==d-1){Ua.push(b(Wa));break}else Sa++;return Ua.join("")},decompress:function(a){return null==a?"":""==a?null:Ra._decompress(a.length,32768,function(d){return a.charCodeAt(d)})},_decompress:function(a,d,b){var h=[],n=4,Qa=4,w=3,Va=
[],Ra,Ya,Ua=b(0),Wa=d,Sa=1;for(Ra=0;3>Ra;Ra+=1)h[Ra]=Ra;var c=0;var z=Math.pow(2,2);for(Ya=1;Ya!=z;){var $a=Ua&Wa;Wa>>=1;0==Wa&&(Wa=d,Ua=b(Sa++));c|=(0<$a?1:0)*Ya;Ya<<=1}switch(c){case 0:c=0;z=Math.pow(2,8);for(Ya=1;Ya!=z;)$a=Ua&Wa,Wa>>=1,0==Wa&&(Wa=d,Ua=b(Sa++)),c|=(0<$a?1:0)*Ya,Ya<<=1;var f=Ta(c);break;case 1:c=0;z=Math.pow(2,16);for(Ya=1;Ya!=z;)$a=Ua&Wa,Wa>>=1,0==Wa&&(Wa=d,Ua=b(Sa++)),c|=(0<$a?1:0)*Ya,Ya<<=1;f=Ta(c);break;case 2:return""}Ra=h[3]=f;for(Va.push(f);;){if(Sa>a)return"";c=0;z=Math.pow(2,
w);for(Ya=1;Ya!=z;)$a=Ua&Wa,Wa>>=1,0==Wa&&(Wa=d,Ua=b(Sa++)),c|=(0<$a?1:0)*Ya,Ya<<=1;switch(f=c){case 0:c=0;z=Math.pow(2,8);for(Ya=1;Ya!=z;)$a=Ua&Wa,Wa>>=1,0==Wa&&(Wa=d,Ua=b(Sa++)),c|=(0<$a?1:0)*Ya,Ya<<=1;h[Qa++]=Ta(c);f=Qa-1;n--;break;case 1:c=0;z=Math.pow(2,16);for(Ya=1;Ya!=z;)$a=Ua&Wa,Wa>>=1,0==Wa&&(Wa=d,Ua=b(Sa++)),c|=(0<$a?1:0)*Ya,Ya<<=1;h[Qa++]=Ta(c);f=Qa-1;n--;break;case 2:return Va.join("")}0==n&&(n=Math.pow(2,w),w++);if(h[f])f=h[f];else if(f===Qa)f=Ra+Ra.charAt(0);else return null;Va.push(f);
h[Qa++]=Ra+f.charAt(0);n--;Ra=f;0==n&&(n=Math.pow(2,w),w++)}}};return Ra}();var min2phase=function(){function n(){this.move=[];this.moveSol=[];this.nodeUD=[];this.valid1=0;this.allowShorter=!1;this.cc=new b;this.urfCubieCube=[];this.urfCoordCube=[];this.phase1Cubie=[];this.preMoveCubes=[];this.preMoves=[];this.maxPreMoves=this.preMoveLen=0;this.isRec=!1;for(var a=0;21>a;a++)this.nodeUD[a]=new Ua,this.phase1Cubie[a]=new b;for(a=0;6>a;a++)this.urfCubieCube[a]=new b,this.urfCoordCube[a]=new Ua;for(a=0;20>a;a++)this.preMoveCubes[a+1]=new b}function Ta(a,b,c){return c?b<<1|a&
1:b|a&248}function d(a,b){return b?a>>1:a&7}function Ra(a,b,c){a[b>>3]^=c<<(b<<2)}function a(a,b,c){return Math.min(a,b[c>>3]>>(c<<2)&15)}function h(a,b,c){a=Rb[a];c&&(a^=14540032>>((a&15)<<1)&3);return a&65520|ob[a&15][b]}function b(){this.ca=[0,1,2,3,4,5,6,7];this.ea=[0,2,4,6,8,10,12,14,16,18,20,22]}function r(a,b,c,d){c--;for(var f=1985229328,h=0;h<c;++h){var z=eb[c-h],n=~~(b/z);b%=z;n<<=2;a[h]=Ta(a[h],f>>n&15,d);z=(1<<n)-1;f=(f&z)+(f>>4&~z)}a[c]=Ta(a[c],f&15,d)}function Xa(a,b,c){for(var f=0,
h=1985229328,z=0;z<b-1;++z){var n=d(a[z],c)<<2;f=(b-z)*f+(h>>n&15);h-=286331152<<n}return f}function Qa(a,b,c,f){a[c-1]=Ta(a[c-1],0,f);for(var h=c-2;0<=h;--h){a[h]=Ta(a[h],b%(c-h),f);b=~~(b/(c-h));for(var z=h+1;z<c;++z)d(a[z],f)>=d(a[h],f)&&(a[z]=Ta(a[z],d(a[z],f)+1,f))}}function w(a,b,c){for(var f=0,h=0;h<b;++h){f*=b-h;for(var z=h+1;z<b;++z)d(a[z],c)<d(a[h],c)&&++f}return f}function Va(a,b,c){for(var h=0,z=4,n=a.length-1;0<=n;n--)(d(a[n],c)&12)==b&&(h+=f[n][z--]);return h}function Za(a,b,c,d){for(var h=
a.length-1,z=4,n=h;0<=h;h--)b>=f[h][z]?(b-=f[h][z--],a[h]=Ta(a[h],z|c,d)):((n&12)==c&&(n-=4),a[h]=Ta(a[h],n--,d))}function Ya(a,b){for(var c=0,d=b-2;0<=d;d--)c^=a%(b-d),a=~~(a/(b-d));return c&1}function Ua(){this.flipc=this.twistc=this.prun=this.slice=this.fsym=this.flip=this.tsym=this.twist=0}function Wa(){var a=new b,c=new b,d,f=(new b).initCoord(28783,0,259268407,0),h=(new b).initCoord(15138,0,119765538,7),z=(new b).initCoord(5167,0,83473207,0);for(d=0;8>d;d++)z.ca[d]|=24;for(d=0;16>d;d++)db[d]=
(new b).init(a.ca,a.ea),b.CornMultFull(a,h,c),b.EdgeMult(a,h,c),a.init(c.ca,c.ea),3==d%4&&(b.CornMultFull(a,z,c),b.EdgeMult(a,z,c),a.init(c.ca,c.ea)),7==d%8&&(b.CornMultFull(a,f,c),b.EdgeMult(a,f,c),a.init(c.ca,c.ea));for(d=0;16>d;d++)ob[d]=[],hb[d]=[],ub[d]=[],Cb[d]=[],ab[d]=[];for(d=0;16>d;d++)for(f=0;16>f;f++)ob[d][f]=d^f^84660>>f&d<<1&2,hb[ob[d][f]][f]=d;a=new b;for(h=0;16>h;h++)for(f=0;18>f;f++){b.CornConjugate(fb[f],hb[0][h],a);z=0;a:for(;18>z;z++){for(d=0;8>d;d++)if(fb[z].ca[d]!=a.ca[d])continue a;
ub[h][f]=z;ab[h][mb[f]]=mb[z];break}0==h%2&&(Cb[f<<3|h>>1]=ub[h][f])}d=function(a,c,d,f,h,z,n){for(var Sa=new b,w=new b,$a=0,ab=2<=h?1:2,r=1!=h?b.EdgeConjugate:b.CornConjugate,Qa=0;Qa<a;Qa++)if(void 0===d[Qa]){z.call(Sa,Qa);for(var Ua=0;16>Ua;Ua+=ab){r(Sa,Ua,w);var Wa=n.call(w);0==h&&(Db[$a<<3|Ua>>1]=Wa);Wa==Qa&&(f[$a]|=1<<Ua/ab);d[Wa]=($a<<4|Ua)/ab}c[$a++]=Qa}return $a};d(2048,yb,Bb,vb,0,b.prototype.setFlip,b.prototype.getFlip);d(2187,zb,tb,Mb,1,b.prototype.setTwist,b.prototype.getTwist);d(40320,
rb,xb,Ib,2,b.prototype.setEPerm,b.prototype.getEPerm);f=new b;for(d=0;2768>d;d++)r(f.ea,rb[d],8,!0),Fb[d]=Va(f.ea,0,!0)+70*Ya(rb[d],8),a.invFrom(f),Rb[d]=xb[a.getEPerm()];d=function(b,d,f,h,z,n,Sa,w){for(var $a=0;$a<f;$a++){b[$a]=[];z.call(a,d[$a]);for(var ab=0;ab<h;ab++)Sa(a,fb[w?w[ab]:ab],c),b[$a][ab]=n.call(c)}};a=new b;c=new b;d(Ob,yb,336,18,b.prototype.setFlip,b.prototype.getFlipSym,b.EdgeMult);d(Qb,zb,324,18,b.prototype.setTwist,b.prototype.getTwistSym,b.CornMult);d(Jb,rb,2768,10,b.prototype.setEPerm,
b.prototype.getEPermSym,b.EdgeMult,cb);d(Kb,rb,2768,10,b.prototype.setCPerm,b.prototype.getCPermSym,b.CornMult,cb);for(d=0;495>d;d++){Eb[d]=[];Hb[d]=[];a.setUDSlice(d);for(f=0;18>f;f++)b.EdgeMult(a,fb[f],c),Eb[d][f]=c.getUDSlice();for(f=0;16>f;f+=2)b.EdgeConjugate(a,hb[0][f],c),Hb[d][f>>1]=c.getUDSlice()}for(d=0;24>d;d++){Zb[d]=[];Sb[d]=[];a.setMPerm(d);for(f=0;10>f;f++)b.EdgeMult(a,fb[cb[f]],c),Zb[d][f]=c.getMPerm();for(f=0;16>f;f++)b.EdgeConjugate(a,hb[0][f],c),Sb[d][f]=c.getMPerm()}for(d=0;140>
d;d++){hc[d]=[];$b[d]=[];a.setCComb(d%70);for(f=0;10>f;f++)b.CornMult(a,fb[cb[f]],c),hc[d][f]=c.getCComb()+70*(165>>f&1^~~(d/70));for(f=0;16>f;f++)b.CornConjugate(a,hb[0][f],c),$b[d][f]=c.getCComb()+70*~~(d/70)}}function Sa(a,c,b,d,f,h,z,n){var Sa=n&15,w=1==(n>>4&1)?14540032:0,ab=n>>8&15,r=n>>12&15,Qa=n>>16&15,Ua=(1<<Sa)-1,Wa=null==d;b*=c;n=1==(n>>5&1)?10:18;var Ya=10==n?66:599186,Va=(a[b>>3]>>(b<<2)&15)-1;if(-1==Va){for(var db=0;db<(b>>3)+1;db++)a[db]=4294967295;Ra(a,0,15);Va=0}else Ra(a,b,15^Va+
1);for(r=0<$a?Math.min(Math.max(Va+1,Qa),r):r;Va<r;){var Xa=(Qa=Va>ab)?15:Va,fb=286331153*Xa,cb=Qa?Va:15;Va++;Nb++;var eb=Va^15,Za=0,pb=0;for(db=0;db<b;db++,pb>>=4){if(0==(db&7)){pb=a[db>>3];var Ta=pb^fb;if(0==(Ta-286331153&~Ta&2290649224)){db+=7;continue}}if((pb&15)==Xa){Ta=db%c;var bb=~~(db/c),tb=0,ob=0;Wa&&(tb=Bb[Ta],ob=tb&7,tb>>=3);for(var rb=0;rb<n;rb++){var yb=h[bb][rb];var lb=Wa?Db[Ob[tb][Cb[rb<<3|ob]]^ob^yb&Ua]:f[d[Ta][rb]][yb&Ua];yb>>=Sa;var hb=yb*c+lb,mb=a[hb>>3]>>(hb<<2)&15;if(mb!=cb)mb<
Va-1&&(rb+=Ya>>rb&3);else{Za++;if(Qa){Ra(a,db,eb);break}Ra(a,hb,eb);hb=1;for(mb=z[yb];0!=(mb>>=1);hb++)if(1==(mb&1)){var ub=yb*c;ub=Wa?ub+Db[Bb[lb]^hb]:ub+f[lb][hb^w>>(hb<<1)&3];(a[ub>>3]>>(ub<<2)&15)==cb&&(Ra(a,ub,eb),Za++)}}}}}}Ra(a,b,Va+1^15);return Va+1}function c(a){ac=Sa(wb,2048,324,null,null,Qb,Mb,103939);Nb>a||(ec=Sa(Lb,495,324,Eb,Hb,Qb,Mb,431619),Nb>a||(Wb=Sa(Gb,495,336,Eb,Hb,Ob,vb,431619),Nb>a||(Tb=Sa(jc,24,2768,Zb,Sb,Kb,Ib,584244),Nb>a||(fc=Sa(bc,140,2768,hc,$b,Jb,Ib,514084)))))}function z(){0>
Nb&&(Wa(),Nb=0);if(0==Nb)c(99);else if(54>Nb)c(Nb);else return!0;return!1}for(var $a=2,f=[],eb=[1],lb="U ;U2;U';R ;R2;R';F ;F2;F';D ;D2;D';L ;L2;L';B ;B2;B'".split(";"),cb=[0,1,2,4,7,9,10,11,13,16,3,5,6,8,12,14,15,17],mb=[],nb=[],jb=[[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],[6,7,8,0,1,2,3,4,5,15,16,17,9,10,11,12,13,14],[3,4,5,6,7,8,0,1,2,12,13,14,15,16,17,9,10,11],[2,1,0,5,4,3,8,7,6,11,10,9,14,13,12,17,16,15],[8,7,6,2,1,0,5,4,3,17,16,15,11,10,9,14,13,12],[5,4,3,8,7,6,2,1,0,14,13,12,17,16,15,
11,10,9]],ib=0;18>ib;ib++)mb[cb[ib]]=ib;for(ib=0;10>ib;ib++)for(var bb=~~(cb[ib]/3),kb=nb[ib]=0;10>kb;kb++){var sb=~~(cb[kb]/3);nb[ib]|=(bb==sb||bb%3==sb%3&&bb>=sb?1:0)<<kb}for(ib=nb[10]=0;13>ib;ib++)for(f[ib]=[],eb[ib+1]=eb[ib]*(ib+1),kb=f[ib][0]=f[ib][ib]=1;13>kb;kb++)f[ib][kb]=kb<=ib?f[ib-1][kb-1]+f[ib-1][kb]:0;b.EdgeMult=function(a,c,b){for(var d=0;12>d;d++)b.ea[d]=a.ea[c.ea[d]>>1]^c.ea[d]&1};b.CornMult=function(a,c,b){for(var d=0;8>d;d++)b.ca[d]=a.ca[c.ca[d]&7]&7|((a.ca[c.ca[d]&7]>>3)+(c.ca[d]>>
3))%3<<3};b.CornMultFull=function(a,c,d){for(var b=0;8>b;b++){var f=a.ca[c.ca[b]&7]>>3,h=c.ca[b]>>3,z=f+(3>f?h:6-h);z=z%3+(3>f==3>h?0:3);d.ca[b]=a.ca[c.ca[b]&7]&7|z<<3}};b.CornConjugate=function(a,c,b){var d=db[hb[0][c]];c=db[c];for(var f=0;8>f;f++){var h=a.ca[c.ca[f]&7]>>3;b.ca[f]=d.ca[a.ca[c.ca[f]&7]&7]&7|(3>d.ca[a.ca[c.ca[f]&7]&7]>>3?h:(3-h)%3)<<3}};b.EdgeConjugate=function(a,c,b){var d=db[hb[0][c]];c=db[c];for(var f=0;12>f;f++)b.ea[f]=d.ea[a.ea[c.ea[f]>>1]>>1]^a.ea[c.ea[f]>>1]&1^c.ea[f]&1};b.prototype.init=
function(a,c){this.ca=a.slice();this.ea=c.slice();return this};b.prototype.initCoord=function(a,c,b,d){r(this.ca,a,8,!1);this.setTwist(c);Qa(this.ea,b,12,!0);this.setFlip(d);return this};b.prototype.isEqual=function(a){for(var c=0;8>c;c++)if(this.ca[c]!=a.ca[c])return!1;for(c=0;12>c;c++)if(this.ea[c]!=a.ea[c])return!1;return!0};b.prototype.setFlip=function(a){for(var c=0,b,d=10;0<=d;d--,a>>=1)c^=b=a&1,this.ea[d]=this.ea[d]&254|b;this.ea[11]=this.ea[11]&254|c};b.prototype.getFlip=function(){for(var a=
0,c=0;11>c;c++)a=a<<1|this.ea[c]&1;return a};b.prototype.getFlipSym=function(){return Bb[this.getFlip()]};b.prototype.setTwist=function(a){for(var c=15,b,d=6;0<=d;d--,a=~~(a/3))c-=b=a%3,this.ca[d]=this.ca[d]&7|b<<3;this.ca[7]=this.ca[7]&7|c%3<<3};b.prototype.getTwist=function(){for(var a=0,c=0;7>c;c++)a+=(a<<1)+(this.ca[c]>>3);return a};b.prototype.getTwistSym=function(){return tb[this.getTwist()]};b.prototype.setCPerm=function(a){r(this.ca,a,8,!1)};b.prototype.getCPerm=function(){return Xa(this.ca,
8,!1)};b.prototype.getCPermSym=function(){var a=xb[Xa(this.ca,8,!1)];return a^14540032>>((a&15)<<1)&3};b.prototype.setEPerm=function(a){r(this.ea,a,8,!0)};b.prototype.getEPerm=function(){return Xa(this.ea,8,!0)};b.prototype.getEPermSym=function(){return xb[Xa(this.ea,8,!0)]};b.prototype.getUDSlice=function(){return 494-Va(this.ea,8,!0)};b.prototype.setUDSlice=function(a){Za(this.ea,494-a,8,!0)};b.prototype.getMPerm=function(){return w(this.ea,12,!0)%24};b.prototype.setMPerm=function(a){Qa(this.ea,
a,12,!0)};b.prototype.getCComb=function(){return Va(this.ca,0,!1)};b.prototype.setCComb=function(a){Za(this.ca,a,0,!1)};b.prototype.URFConjugate=function(){var a=new b;b.CornMult(b.urf2,this,a);b.CornMult(a,b.urf1,this);b.EdgeMult(b.urf2,this,a);b.EdgeMult(a,b.urf1,this)};var qb=[[8,9,20],[6,18,38],[0,36,47],[2,45,11],[29,26,15],[27,44,24],[33,53,42],[35,17,51]],pb=[[5,10],[7,19],[3,37],[1,46],[32,16],[28,25],[30,43],[34,52],[23,12],[21,41],[50,39],[48,14]];b.prototype.toFaceCube=function(a,c){a=
a||qb;c=c||pb;for(var d=[],b=0;54>b;b++)d[b]="URFDLB"[~~(b/9)];for(var f=0;8>f;f++){b=this.ca[f]&7;for(var h=this.ca[f]>>3,z=0;3>z;z++)d[a[f][(z+h)%3]]="URFDLB"[~~(a[b][z]/9)]}for(f=0;12>f;f++)for(b=this.ea[f]>>1,h=this.ea[f]&1,z=0;2>z;z++)d[c[f][(z+h)%2]]="URFDLB"[~~(c[b][z]/9)];return d.join("")};b.prototype.invFrom=function(a){for(var c=0;12>c;c++)this.ea[a.ea[c]>>1]=c<<1|a.ea[c]&1;for(c=0;8>c;c++)this.ca[a.ca[c]&7]=c|32>>(a.ca[c]>>3)&24;return this};b.prototype.fromFacelet=function(a,c,b){c=c||
qb;b=b||pb;for(var d=0,f=[],h=a[4]+a[13]+a[22]+a[31]+a[40]+a[49],z=0;54>z;++z){f[z]=h.indexOf(a[z]);if(-1==f[z])return-1;d+=1<<(f[z]<<2)}if(10066329!=d)return-1;var n;for(z=0;8>z;++z){for(n=0;3>n&&0!=f[c[z][n]]&&3!=f[c[z][n]];++n);a=f[c[z][(n+1)%3]];d=f[c[z][(n+2)%3]];for(h=0;8>h;++h)if(a==~~(c[h][1]/9)&&d==~~(c[h][2]/9)){this.ca[z]=h|n%3<<3;break}}for(z=0;12>z;++z)for(h=0;12>h;++h){if(f[b[z][0]]==~~(b[h][0]/9)&&f[b[z][1]]==~~(b[h][1]/9)){this.ea[z]=h<<1;break}if(f[b[z][0]]==~~(b[h][1]/9)&&f[b[z][1]]==
~~(b[h][0]/9)){this.ea[z]=h<<1|1;break}}};Ua.prototype.set=function(a){this.twist=a.twist;this.tsym=a.tsym;this.flip=a.flip;this.fsym=a.fsym;this.slice=a.slice;this.prun=a.prun;this.twistc=a.twistc;this.flipc=a.flipc};Ua.prototype.calcPruning=function(c){this.prun=Math.max(Math.max(a(ec,Lb,495*this.twist+Hb[this.slice][this.tsym]),a(Wb,Gb,495*this.flip+Hb[this.slice][this.fsym])),Math.max(a(ac,wb,this.twistc>>3<<11|Db[this.flipc^this.twistc&7]),a(ac,wb,this.twist<<11|Db[this.flip<<3|this.fsym^this.tsym])))};
Ua.prototype.setWithPrun=function(c,d){this.twist=c.getTwistSym();this.flip=c.getFlipSym();this.tsym=this.twist&7;this.twist>>=3;this.prun=a(ac,wb,this.twist<<11|Db[this.flip^this.tsym]);if(this.prun>d)return!1;this.fsym=this.flip&7;this.flip>>=3;this.slice=c.getUDSlice();this.prun=Math.max(this.prun,Math.max(a(ec,Lb,495*this.twist+Hb[this.slice][this.tsym]),a(Wb,Gb,495*this.flip+Hb[this.slice][this.fsym])));if(this.prun>d)return!1;var f=new b;b.CornConjugate(c,1,f);b.EdgeConjugate(c,1,f);this.twistc=
f.getTwistSym();this.flipc=f.getFlipSym();this.prun=Math.max(this.prun,a(ac,wb,this.twistc>>3<<11|Db[this.flipc^this.twistc&7]));return this.prun<=d};Ua.prototype.doMovePrun=function(c,b,d){this.slice=Eb[c.slice][b];this.flip=Ob[c.flip][Cb[b<<3|c.fsym]];this.fsym=this.flip&7^c.fsym;this.flip>>=3;this.twist=Qb[c.twist][Cb[b<<3|c.tsym]];this.tsym=this.twist&7^c.tsym;this.twist>>=3;return this.prun=Math.max(Math.max(a(ec,Lb,495*this.twist+Hb[this.slice][this.tsym]),a(Wb,Gb,495*this.flip+Hb[this.slice][this.fsym])),
a(ac,wb,this.twist<<11|Db[this.flip<<3|this.fsym^this.tsym]))};Ua.prototype.doMovePrunConj=function(c,b){b=ub[3][b];this.flipc=Ob[c.flipc>>3][Cb[b<<3|c.flipc&7]]^c.flipc&7;this.twistc=Qb[c.twistc>>3][Cb[b<<3|c.twistc&7]]^c.twistc&7;return a(ac,wb,this.twistc>>3<<11|Db[this.flipc^this.twistc&7])};n.prototype.solution=function(a,c,b,d,f){z();a=this.verify(a);if(0!=a)return"Error "+Math.abs(a);void 0===c&&(c=21);void 0===b&&(b=1E9);void 0===d&&(d=0);void 0===f&&(f=0);this.sol=c+1;this.probe=0;this.probeMax=
b;this.probeMin=Math.min(d,b);this.verbose=f;this.moveSol=null;this.isRec=!1;this.initSearch();return this.search()};n.prototype.initSearch=function(){this.conjMask=0;this.maxPreMoves=7<this.conjMask?0:20;for(var a=0;6>a;a++)if(this.urfCubieCube[a].init(this.cc.ca,this.cc.ea),this.urfCoordCube[a].setWithPrun(this.urfCubieCube[a],20),this.cc.URFConjugate(),2==a%3){var c=(new b).invFrom(this.cc);this.cc.init(c.ca,c.ea)}};n.prototype.next=function(a,c,b){this.probe=0;this.probeMax=a;this.probeMin=Math.min(c,
a);this.moveSol=null;this.isRec=!0;this.verbose=b;return search()};n.prototype.verify=function(a){if(-1==this.cc.fromFacelet(a))return-1;for(var c=a=0,b=0;12>b;b++)c|=1<<(this.cc.ea[b]>>1),a^=this.cc.ea[b]&1;if(4095!=c)return-2;if(0!=a)return-3;for(b=a=c=0;8>b;b++)c|=1<<(this.cc.ca[b]&7),a+=this.cc.ca[b]>>3;return 255!=c?-4:0!=a%3?-5:0!=(Ya(w(this.cc.ea,12,!0),12)^Ya(this.cc.getCPerm(),8))?-6:0};n.prototype.phase1PreMoves=function(a,c,d){this.preMoveLen=this.maxPreMoves-a;if(this.isRec?this.depth1==
this.length1-this.preMoveLen:0==this.preMoveLen||0==(225207>>c&1))if(this.depth1=this.length1-this.preMoveLen,this.phase1Cubie[0].init(d.ca,d.ea),this.allowShorter=7==this.depth1&&0!=this.preMoveLen,this.nodeUD[this.depth1+1].setWithPrun(d,this.depth1)&&0==this.phase1(this.nodeUD[this.depth1+1],this.depth1,-1))return 0;if(0==a||this.preMoveLen+7>=this.length1)return 1;var f=0;if(1==a||this.preMoveLen+1+7>=this.length1)f|=225207;c=3*~~(c/3);for(var h=0;18>h;h++)if(h==c||h==c-9||h==c+9)h+=2;else if(!(this.isRec&&
h!=this.preMoves[this.maxPreMoves-a]||0!=(f&1<<h))&&(b.CornMult(fb[h],d,this.preMoveCubes[a]),b.EdgeMult(fb[h],d,this.preMoveCubes[a]),this.preMoves[this.maxPreMoves-a]=h,0==this.phase1PreMoves(a-1,h,this.preMoveCubes[a])))return 0;return 1};n.prototype.search=function(){for(this.length1=this.isRec?this.length1:0;this.length1<this.sol;this.length1++)for(this.urfIdx=this.isRec?this.urfIdx:0;6>this.urfIdx;this.urfIdx++)if(0==(this.conjMask&1<<this.urfIdx)&&0==this.phase1PreMoves(this.maxPreMoves,-30,
this.urfCubieCube[this.urfIdx],0))return null==this.moveSol?"Error 8":this.moveSol;return null==this.moveSol?"Error 7":this.moveSol};n.prototype.initPhase2Pre=function(){this.isRec=!1;if(this.probe>=(null==this.moveSol?this.probeMax:this.probeMin))return 0;++this.probe;for(var a=this.valid1;a<this.depth1;a++)b.CornMult(this.phase1Cubie[a],fb[this.move[a]],this.phase1Cubie[a+1]),b.EdgeMult(this.phase1Cubie[a],fb[this.move[a]],this.phase1Cubie[a+1]);this.valid1=this.depth1;a=this.initPhase2(this.phase1Cubie[this.depth1]);
if(0==a||0==this.preMoveLen||2==a)return a;a=3*~~(this.preMoves[this.preMoveLen-1]/3)+1;b.CornMult(fb[a],this.phase1Cubie[this.depth1],this.phase1Cubie[this.depth1+1]);b.EdgeMult(fb[a],this.phase1Cubie[this.depth1],this.phase1Cubie[this.depth1+1]);this.preMoves[this.preMoveLen-1]+=2-this.preMoves[this.preMoveLen-1]%3*2;a=this.initPhase2(this.phase1Cubie[this.depth1+1]);this.preMoves[this.preMoveLen-1]+=2-this.preMoves[this.preMoveLen-1]%3*2;return a};n.prototype.initPhase2=function(c){var b=c.getCPermSym(),
d=b&15;b>>=4;var f=c.getEPermSym(),h=f&15;f>>=4;c=c.getMPerm();var z=Math.max(a(fc,bc,140*f+$b[Fb[b]&255][hb[h][d]]),a(Tb,jc,24*b+Sb[c][d])),n=Math.min(13,this.sol-this.length1);if(z>=n)return z>n?2:1;var Sa;for(Sa=n-1;Sa>=z;Sa--){var w=this.phase2(f,h,b,d,c,Sa,this.depth1,10);if(0>w)break;Sa-=w;this.moveSol=[];for(w=0;w<this.depth1+Sa;w++)this.appendSolMove(this.move[w]);for(w=this.preMoveLen-1;0<=w;w--)this.appendSolMove(this.preMoves[w]);this.sol=this.moveSol.length;this.moveSol=this.solutionToString()}return Sa!=
n-1?this.probe>=this.probeMin?0:1:1};n.prototype.phase1=function(a,c,b){if(0==a.prun&&5>c){if(this.allowShorter||0==c){this.depth1-=c;var d=this.initPhase2Pre();this.depth1+=c;return d}return 1}for(var f=0;18>f;f+=3)if(f!=b&&f!=b-9)for(var h=0;3>h;h++)if(d=f+h,!this.isRec||d==this.move[this.depth1-c]){var z=this.nodeUD[c].doMovePrun(a,d,!0);if(z>c)break;else if(z==c)continue;z=this.nodeUD[c].doMovePrunConj(a,d);if(z>c)break;else if(z==c)continue;this.move[this.depth1-c]=d;this.valid1=Math.min(this.valid1,
this.depth1-c);d=this.phase1(this.nodeUD[c],c-1,f);if(0==d)return 0;if(2==d)break}return 1};n.prototype.appendSolMove=function(a){if(0==this.moveSol.length)this.moveSol.push(a);else{var c=~~(a/3),b=~~(this.moveSol[this.moveSol.length-1]/3);c==b?(a=(a%3+this.moveSol[this.moveSol.length-1]%3+1)%4,3==a?this.moveSol.pop():this.moveSol[this.moveSol.length-1]=3*c+a):1<this.moveSol.length&&c%3==b%3&&c==~~(this.moveSol[this.moveSol.length-2]/3)?(a=(a%3+this.moveSol[this.moveSol.length-2]%3+1)%4,3==a?(this.moveSol[this.moveSol.length-
2]=this.moveSol[this.moveSol.length-1],this.moveSol.pop()):this.moveSol[this.moveSol.length-2]=3*c+a):this.moveSol.push(a)}};n.prototype.phase2=function(c,b,d,f,z,n,w,Sa){if(0==c&&0==d&&0==z)return n;Sa=nb[Sa];for(var $a=0;10>$a;$a++)if(0!=(Sa>>$a&1))$a+=66>>$a&3;else{var r=Zb[z][$a],Qa=Kb[d][ab[f][$a]],Ua=ob[Qa&15][f];Qa>>=4;if(!(a(Tb,jc,24*Qa+Sb[r][Ua])>=n)){var Wa=Jb[c][ab[b][$a]],Ya=ob[Wa&15][b];Wa>>=4;if(!(a(fc,bc,140*Wa+$b[Fb[Qa]&255][hb[Ya][Ua]])>=n)){var Va=h(Wa,Ya,!1),db=h(Qa,Ua,!0);if(!(a(fc,
bc,140*(Va>>4)+$b[Fb[db>>4]&255][hb[Va&15][db&15]])>=n)&&(r=this.phase2(Wa,Ya,Qa,Ua,r,n-1,w+1,$a),0<=r))return this.move[w]=cb[$a],r}}}return-1};n.prototype.solutionToString=function(){var a="",c=0!=(this.verbose&2)?(this.urfIdx+3)%6:this.urfIdx;if(3>c)for(var b=0;b<this.moveSol.length;++b)a+=lb[jb[c][this.moveSol[b]]]+" ";else for(b=this.moveSol.length-1;0<=b;--b)a+=lb[jb[c][this.moveSol[b]]]+" ";return a};var fb=[],db=[],ob=[],hb=[],ub=[],ab=[],Cb=[],yb=[],Bb=[],zb=[],tb=[],rb=[],xb=[],vb=[],Mb=
[],Ib=[],Db=[],Fb=[],Rb=[],Eb=[],Qb=[],Ob=[],Hb=[],Lb=[],Gb=[],wb=[],Kb=[],Jb=[],Zb=[],Sb=[],hc=[],$b=[],jc=[],bc=[],ac=15,ec=15,Wb=15,Tb=15,fc=15;for(ib=0;18>ib;ib++)fb[ib]=new b;fb[0].initCoord(15120,0,119750400,0);fb[3].initCoord(21021,1494,323403417,0);fb[6].initCoord(8064,1236,29441808,550);fb[9].initCoord(9,0,5880,0);fb[12].initCoord(1230,412,2949660,0);fb[15].initCoord(224,137,328552,137);for(ib=0;18>ib;ib+=3)for(bb=0;2>bb;bb++)b.EdgeMult(fb[ib+bb],fb[ib],fb[ib+bb+1]),b.CornMult(fb[ib+bb],
fb[ib],fb[ib+bb+1]);b.urf1=(new b).initCoord(2531,1373,67026819,1367);b.urf2=(new b).initCoord(2089,1906,322752913,2040);var Nb=-1;return{Search:n,solve:function(a){return(new n).solution(a)},randomCube:function(){var a=~~(2048*Math.random()),c=~~(2187*Math.random());do{var d=~~(Math.random()*eb[12]);var f=~~(Math.random()*eb[8])}while(Ya(f,8)!=Ya(d,12));return(new b).initCoord(f,c,d,a).toFaceCube()},initFull:function(){$a=0;z()}}}();
"undefined"!==typeof module&&"undefined"!==typeof module.exports&&(module.exports=min2phase);var cubeutil=function(){function n(a,b){for(var d=[],h=0;54>h;h++)d[b[h]]=a[h];return d.join("")}function Ta(a,b){b=b||mathlib.SOLVED_FACELET;for(var d={},h=0;54>h;h++)if("-"!=b[h]){if(b[h]in d&&d[b[h]]!=a[h])return 1;d[b[h]]=a[h]}return 0}function d(a){return Ta(a,"----U--------R--R-----F--F--D-DDD-D-----L--L-----B--B-")?9:Ta(a,"----U-------RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?4+Ta(a,"----U-------RR-RR-----FF-FF-DDDDD-D-----L--L-----B--B-")+Ta(a,"----U--------R--R----FF-FF-DD-DDD-D-----LL-LL----B--B-")+
Ta(a,"----U--------RR-RR----F--F--D-DDD-DD----L--L----BB-BB-")+Ta(a,"----U--------R--R-----F--F--D-DDDDD----LL-LL-----BB-BB"):Ta(a,"-U-UUU-U----RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?4:Ta(a,"UUUUUUUUU---RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?3:Ta(a,"UUUUUUUUUr-rRRRRRRf-fFFFFFFDDDDDDDDDl-lLLLLLLb-bBBBBBB")?2:Ta(a)?1:0}function Ra(a){return Ta(a,"----U--------R--R-----F--F--D-DDD-D-----L--L-----B--B-")?7:Ta(a,"----U-------RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?2+Ta(a,"----U-------RR-RR-----FF-FF-DDDDD-D-----L--L-----B--B-")+
Ta(a,"----U--------R--R----FF-FF-DD-DDD-D-----LL-LL----B--B-")+Ta(a,"----U--------RR-RR----F--F--D-DDD-DD----L--L----BB-BB-")+Ta(a,"----U--------R--R-----F--F--D-DDDDD----LL-LL-----BB-BB"):Ta(a,"UUUUUUUUU---RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?2:Ta(a)?1:0}function a(a){return Ta(a,"----U--------R--R-----F--F--D-DDD-D-----L--L-----B--B-")?4:Ta(a,"----U-------RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?3:Ta(a,"UUUUUUUUU---RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?2:Ta(a)?1:0}function h(a){return Ta(a,
"----U-------RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB")?2:Ta(a)?1:0}function b(a){return Ta(a,"---------------------F--F--D--D--D-----LLLLLL-----B--B")?4:Ta(a,"------------RRRRRR---F-FF-FD-DD-DD-D---LLLLLL---B-BB-B")?3:Ta(a,"U-U---U-Ur-rRRRRRRf-fF-FF-FD-DD-DD-Dl-lLLLLLLb-bB-BB-B")?2:Ta(a)?1:0}function r(a,b,d){for(var h=99,Sa=0;Sa<d;Sa++)h=Math.min(h,b(a)),a=n(a,Sa&1?Qa:w),5==Sa%6&&(a=n(a,w),a=n(a,w)),11==Sa%12&&(a=n(a,Xa),a=n(a,Xa));return h}var Xa=[2,5,8,1,4,7,0,3,6,18,19,20,21,22,23,24,25,26,
36,37,38,39,40,41,42,43,44,33,30,27,34,31,28,35,32,29,45,46,47,48,49,50,51,52,53,9,10,11,12,13,14,15,16,17],Qa=[53,52,51,50,49,48,47,46,45,11,14,17,10,13,16,9,12,15,0,1,2,3,4,5,6,7,8,18,19,20,21,22,23,24,25,26,42,39,36,43,40,37,44,41,38,35,34,33,32,31,30,29,28,27],w=[11,14,17,10,13,16,9,12,15,29,32,35,28,31,34,27,30,33,20,23,26,19,22,25,18,21,24,38,41,44,37,40,43,36,39,42,2,5,8,1,4,7,0,3,6,51,48,45,52,49,46,53,50,47],Va=[[0,2,4,3,5,1],[5,1,0,2,4,3],[4,0,2,1,3,5]];return{getProgress:function(n,w){switch(w){case "cfop":return r(n,
a,6);case "fp":return r(n,h,6);case "cf4op":return r(n,Ra,6);case "roux":return r(n,b,24);case "cf4o2p2":return r(n,d,6);case "n":return r(n,Ta,1)}},getPrettyMoves:function(a){var b=[0,1,2,3,4,5];return $.map(a,function(a,d){function h(a,b){0==c.length||~~(c[c.length-1]/3)!=a?c.push(3*a+b):(b=(b+c[c.length-1]%3+1)%4,3==b?c.pop():c[c.length-1]=3*a+b)}for(var c=[],z=0;z<a.length;z++){var n=b.indexOf("URFDLB".indexOf(a[z][0][0])),f=" 2'".indexOf(a[z][0][1])%3;if(z==a.length-1||100<a[z+1][1]-a[z][1])h(n,
f);else{var w=b.indexOf("URFDLB".indexOf(a[z+1][0][0])),r=" 2'".indexOf(a[z+1][0][1])%3;if(n!=w&&n%3==w%3&&2==f+r){w=n%3;n=(f-1)*[1,1,-1,-1,-1,1][n]+1;h(w+6,n);for(f=0;f<n+1;f++){r=[];for(var Qa=0;6>Qa;Qa++)r[Qa]=b[Va[w][Qa]];b=r}z++}else h(n,f)}}return[[$.map(c,function(a){return"URFDLBEMS".charAt(~~(a/3))+" 2'".charAt(a%3)}).join(""),c.length]]})},moveSeq2str:function(a){return $.map(a,function(a){return a[0].trim()+"@"+a[1]}).join(" ")}}}();var JSON;JSON||(JSON={});
(function(){function n(a){return 10>a?"0"+a:a}function Ta(b){a.lastIndex=0;return a.test(b)?'"'+b.replace(a,function(a){var b=r[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function d(a,n){var w,r,Qa=h,Ua=n[a];Ua&&"object"===typeof Ua&&"function"===typeof Ua.toJSON&&(Ua=Ua.toJSON(a));"function"===typeof Xa&&(Ua=Xa.call(n,a,Ua));switch(typeof Ua){case "string":return Ta(Ua);case "number":return isFinite(Ua)?""+Ua:"null";case "boolean":case "null":return""+
Ua;case "object":if(!Ua)return"null";h+=b;var Wa=[];if("[object Array]"===Object.prototype.toString.apply(Ua)){var Sa=Ua.length;for(w=0;w<Sa;w+=1)Wa[w]=d(w,Ua)||"null";var c=0===Wa.length?"[]":h?"[\n"+h+Wa.join(",\n"+h)+"\n"+Qa+"]":"["+Wa.join(",")+"]";h=Qa;return c}if(Xa&&"object"===typeof Xa)for(Sa=Xa.length,w=0;w<Sa;w+=1)"string"===typeof Xa[w]&&(r=Xa[w],(c=d(r,Ua))&&Wa.push(Ta(r)+(h?": ":":")+c));else for(r in Ua)Object.prototype.hasOwnProperty.call(Ua,r)&&(c=d(r,Ua))&&Wa.push(Ta(r)+(h?": ":":")+
c);c=0===Wa.length?"{}":h?"{\n"+h+Wa.join(",\n"+h)+"\n"+Qa+"}":"{"+Wa.join(",")+"}";h=Qa;return c}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+n(this.getUTCMonth()+1)+"-"+n(this.getUTCDate())+"T"+n(this.getUTCHours())+":"+n(this.getUTCMinutes())+":"+n(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var Ra=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
a=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h,b,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},Xa;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,n,r){var w;b=h="";if("number"===typeof r)for(w=0;w<r;w+=1)b+=" ";else"string"===typeof r&&(b=r);if((Xa=n)&&"function"!==typeof n&&("object"!==typeof n||"number"!==typeof n.length))throw Error("JSON.stringify");return d("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function d(a,h){var n,w,c=a[h];if(c&&"object"===typeof c)for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(w=d(c,n),void 0!==w?c[n]=w:delete c[n]);return b.call(a,h,c)}var h;a=""+a;Ra.lastIndex=0;Ra.test(a)&&(a=a.replace(Ra,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return h=eval("("+a+")"),"function"===typeof b?d({"":h},""):h;throw new SyntaxError("JSON.parse");})})();var kernel=execMain(function(){function n(a,c){DEBUG&&console.log("[signal]",a,c);if(void 0!=r[a])for(var b in r[a])if(void 0===r[a][b][1]||r[a][b][1].exec(c[0]))r[a][b][0](a,c)}function Ta(a,c,b,d){void 0==r[c]&&(r[c]={});r[c][a]=[b,d]}function d(a,c){if(0>a)return"DNF";var b=Qa("useMilli");a=Math.floor(a/(b?1:10));var d=a%(b?1E3:100);a=Math.floor(a/(b?1E3:100));var f=Qa("timeFormat"),h=0,n=0;"h"==f?(f=a%60,h=Math.floor(a/60)%60,n=Math.floor(a/3600)):"m"==f?(f=a%60,h=Math.floor(a/60)):f=a;var w=
(c=c&&Qa("smallADP"))?["</span>"]:[];w.push(d);10>d&&w.push("0");100>d&&b&&w.push("0");w.push(f+"."+(c?'<span style="font-size:0.75em;">':""));10>f&&0<h+n&&w.push("0");0<h+n&&w.push(h+":");10>h&&0<n&&w.push("0");0<n&&w.push(n+":");return w.reverse().join("")}function Ra(a){if(0>=a)return a;var c=Qa("useMilli")?1:10;return Math.round(a/c)*c}function a(){timer.refocus()}$.ajaxSetup({cache:!0});var h=$("<div />").css("visibility","hidden"),b=$('<div id="wndctn" />'),r={},Xa=function(){function a(){var a=
$(this).data("module");c(a);b(a)}function c(a){if(!Xa[a][0].hasClass("enable")){for(var c in Xa)Xa[c][0].removeClass("enable");Xa[a][0].addClass("enable");ub=a}}function b(a){setTimeout(function(){pb.scrollTop(a?pb.scrollTop()+Xa[a][1].position().top-3:ab)},0)}function d(){ab=pb.scrollTop();var a="kernel",b;for(b in Xa)50<Xa[b][1].position().top||(a=b);c(a)}function f(a){a=$(this);var c=a.prop("name");if(a.is(".opthelp"))" [?] "==a.html()?a.html("<br> [?] "+$('strong[data="opt_'+a.attr("data")+'"]').parent().html().split("</strong>. ")[1]):
a.html(" [?] ");else if(a.is("select"))Qa(c,a.val());else switch(a.prop("type")){case "checkbox":Qa(c,a.prop("checked"));break;case "color":if(a.attr("data")){var b=4*~~a.attr("data")-4,d=r(c);Qa(c,[d.slice(0,b),Za.nearColor(a.val()),d.slice(b+4)].join(""))}else Qa(c,a.val());break;case "text":case "button":for(b in Ra)if(c in Ra[b]){b=Ra[b][c];d=r(c);switch(a.val()){case "+":d=Math.min(d+1,b[3][2]);break;case "-":d=Math.max(d-1,b[3][1]);break;default:a.val().match(/^\d+$/)&&(d=+a.val().match(/^0*(.+)$/)[1],
d=Math.max(Math.min(d,b[3][2]),b[3][1]))}b[0].val(d);Qa(c,d);break}}}function h(){Xa={};ob.empty();fb.empty();pb.unbind("scroll").scroll(d);for(var c in MODULE_NAMES){0===ub&&(ub=c);var b=Xa[c]=[$("<div>"),$("<tr>")];b[0].html('<span class="icon" style="font-size:1em;">'+Cb[c]+"</span><span>"+MODULE_NAMES[c]+"</span>").addClass("tab").data("module",c).click(a).appendTo(ob);b[1].append($("<th>").html('<span class="icon">'+Cb[c]+"</span> "+MODULE_NAMES[c].replace(/<br>-?/g,"")),$('<th class="sr">').html(PROPERTY_SR),
$('<th class="sr">').html('<span class="icon"></span>'));fb.append(b[1]);for(var h in Ra[c]){b=Ra[c][h];var z=r(h),n=b[1],w=r("sr_"+h),$a=$('<td class="sr">');b[4]&1&&$a.append($('<input type="checkbox" name="sr_'+h+'"'+(w?" checked":"")+">").click(f));w=$("<td colspan=2>");if(0>n)if($.urlParam("debug"))n=~n;else continue;if(0==n)b[0]=$('<input type="checkbox" name="'+h+'">').prop("checked",z).click(f),w.append($("<label>").append(b[0],b[2]));else if(1==n){b[0]=$('<select name="'+h+'">');var Sa=
b[3][1],ab=b[3][2];for(n=0;n<Sa.length;n++)b[0].append($("<option />").val(Sa[n]).html(ab[n]));b[0].val(z);b[0].change(f);w.append(b[2],": ",b[0])}else if(2==n)b[0]=$('<input type="text" maxlength="4" name="'+h+'">').val(z).change(f),z=$('<input type="button" style="width: 1.5em;" value="+" name="'+h+'">').click(f),n=$('<input type="button" style="width: 1.5em;" value="-" name="'+h+'">').click(f),w.append(b[2]+"("+b[3][1]+"~"+b[3][2]+")",$("<span>").css("white-space","nowrap").append(n,b[0],z));else if(3==
n)b[0]=$('<input type="color" name="'+h+'">').val(z).change(f),w.append(b[2],": ",b[0]);else if(4==n){Sa=z.match(/#[0-9a-fA-F]{3}/g);b[0]=$('<input type="text" name="'+h+'" style="display:none">').val(z);z=[];for(n=0;n<Sa.length;n++)z.push($('<input type="color" name="'+h+'" data="'+(n+1)+'" class="mulcolor">').val(Za.nearColor(Sa[n],0,!0)).change(f));w.append(b[2],": ",b[0],z)}else 5==n&&($.urlParam("debug")?(b[0]=$('<input type="text" name="'+h+'" readonly>').val(z),w.append(b[2]+" ("+h+"): ",b[0])):
(b[0]=$('<input type="text" name="'+h+'" style="display:none">').val(z),w.append(b[2],b[0])));0<$('strong[data="opt_'+h+'"]').length&&w.append($('<span class="click opthelp" data="'+h+'"/>').html(" [?] ").click(f));fb.append($("<tr>").append(w,$a))}}fb.append($('<tr style="height: 10em;">'));Xa[ub][0].click()}function w(){qb&&(h(),qb=!1);$(".opthelp").html(" [?] ");b();Za.showDialog([db,$.noop,void 0,$.noop,[RESET_LANG,function(){for(var a in Ya){var c=Ya[a];void 0===c||r(a)===c||a.startsWith("session")||
(delete Va[a],n("property",[a,c,"reset"]))}h();return!1}],[BUTTON_EXPORT.replace("-<br>",""),exportFunc.exportProperties]],"option",BUTTON_OPTIONS.replace("-<br>",""),function(){hb.find('select[name="lang"]').focus().blur();b()})}function r(a,c){void 0!=c&&void 0==Ya[a]&&(Ya[a]=c,n("property",[a,r(a),"set"]));Va[a]===Ya[a]&&delete Va[a];return a in Va?Va[a]:Ya[a]}function Qa(a,c,b){for(var d in Ra)if(a in Ra[d]&&void 0!==Ra[d][a][0]&&Ra[d][a][0].val()!=c){Ra[d][a][0].val(c);break}r(a)!==c&&(Va[a]=
c,n("property",[a,r(a),b||"modify"]))}function Ua(){localStorage.properties=JSON.stringify(Va)}function Wa(){var a=localStorage.properties;void 0!=a&&""!=a&&(Va=JSON.parse(a))}var Va={},Ya={},Ra={},Xa={},qb=!0,pb=$('<div class="noScrollBar">'),fb=$('<table class="opttable">'),db=$('<table class="options" />'),ob=$("<td />"),hb=$("<td />").addClass("tabValue");db.append($("<tr />").append(ob,hb.append(pb.append(fb))));var ub=0,ab=0,Cb={kernel:"",ui:"",color:"",timer:"",scramble:"",stats:"",tools:"",
vrc:""};$(function(){Wa();Za.addButton("property",BUTTON_OPTIONS,w,1);Ta("property","property",Ua)});return{get:r,set:Qa,reg:function(a,c,b,d,f,h){qb=!0;void 0==Ra[a]&&(Ra[a]={});Ra[a][c]=[void 0,b,d,f,h];Ya[c]=f[0];Ya["sr_"+c]=2==(h&2);n("property",[c,r(c),"set"])},getSProps:function(){var a={},c;for(c in Va)0!=c.indexOf("sr_")&&r("sr_"+c,!1)&&(a[c]=r(c));return a},setSProps:function(a){for(var c in Ya)0!=c.indexOf("sr_")&&r("sr_"+c,!1)&&(c in a?Qa(c,a[c],"session"):Qa(c,Ya[c],"session"))},load:Wa,
reload:h}}(),Qa=Xa.get,w=Xa.set,Va=Xa.reg;$(function(){var a=LANG_CUR||"en-us";Va("kernel","lang",1,"Language",[a,(LANG_SET+"|h").split("|").slice(1),(LANG_STR+"|help translation").split("|")]);w("lang",a);Ta("kernel","property",function(c,b){b[1]!=a&&"modify"==b[2]&&("h"==b[1]?confirm("Press OK to redirect to crowdin for translating cstimer")&&(window.location.href="https://crowdin.com/project/cstimer"):window.location.href="?lang="+b[1],w("lang",a))},/^lang$/);if($.urlParam("lang")){var c="lang="+
$.urlParam("lang");document.cookie=c+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/";$.clearUrl("lang")}});var Za=function(){function d(a,c,b,d){ab=ab||$("#leftbar");ab.children(".c"+d).click(b).find("span:first").html(c)}function c(){var a=$(this),c=a.data("module");db[c].button?(a.removeClass("enable"),ob&&db[c].auto||db[c].div.stop(!0,!0).fadeOut(200,function(a){return function(){n("button",[a,!1])}}(c))):(a.addClass("enable"),n("button",[c,!0]),db[c].div.stop(!0,!0).fadeIn(200),ob&&db[c].auto&&
db[c].div.hide());db[c].button=!db[c].button;w(c,db[c].button)}function z(){var a=$(this).attr("data");w(a,!Qa(a,!1))}function r(a,c,b,d){hb=!0;Bb.removeClass().addClass("dialog").addClass("dialog"+c);zb.html(b);tb.children().appendTo(h);a[0].appendTo(tb.empty());rb.empty();2>a.length?tb.css("bottom","0"):tb.css("bottom","2.5em");void 0!=a[1]&&rb.append(xb.unbind("click").click(function(){a[1]&&a[1]();f()}));void 0!=a[2]&&rb.append(vb.unbind("click").click(function(){a[2]&&a[2]();f()}));ub.unbind("click");
void 0!=a[3]&&ub.click(function(){a[3]&&a[3]();f()});for(c=4;c<a.length;c++)rb.append($('<input type="button" class="buttonOK">').val(a[c][0]).unbind("click").click(function(a){return function(){a()&&f()}}(a[c][1])));Bb.stop(!0,!0).fadeTo(100,.98,function(){a[0].focus();d&&d()});ub.stop(!0,!0).fadeTo(100,.25)}function f(){Bb.stop(!0,!0).fadeOut(100,function(){hb||(tb.children().appendTo(h),Bb.removeClass(),a())});ub.hide();hb=!1}function Ua(){if(!ob){ob=!0;Ya();for(var a in db)db[a].auto&&db[a].button&&
db[a].div.stop(!0,!0).fadeOut(100);n("ashow",!1)}}function Wa(){if(ob){ob=!1;Ya();for(var a in db)db[a].auto&&db[a].button&&db[a].div.stop(!0,!0).fadeIn(100);n("ashow",!0)}}function Ya(a){var c=!1,b;for(b in db)if(db[b].button){c=!0;break}c&&!ob||a||jQuery.fx.off?ab.stop(!0,!0).fadeTo(200,1):ab.stop(!0,!0).fadeTo(200,.01)}function Ra(a){for(var c=0;7>c;c++)Fb[c]=jb(a.substr(4*c,4));w("col-font",jb(Fb[0],0,!0));w("col-back",jb(Fb[1],0,!0));w("col-board",jb(Fb[2],0,!0));w("col-button",jb(Fb[3],0,!0));
w("col-link",jb(Fb[4],0,!0));w("col-logo",jb(Fb[5],0,!0));w("col-logoback",jb(Fb[6],0,!0));Za()}function Za(){for(var a="ns"==Qa("uidesign")||"mtns"==Qa("uidesign")?Ib[1]:Ib[0],c="#000"==jb(Fb[0])?-1:1,b=0;b<Rb.length;b++)a=a.replace("?",jb(Fb[Rb[b]&15],(Rb[b]<<20>>24)*c));Mb[0].styleSheet?Mb[0].styleSheet.cssText=a:Mb[0].innerHTML=a}function jb(a,c,b){var d,f;c=c||0;(f=/^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/.exec(a))&&(d=[f[1]+f[1],f[2]+f[2],f[3]+f[3]]);(f=/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/.exec(a))&&
(d=[f[1],f[2],f[3]]);for(a=0;3>a;a++)d[a]=parseInt(d[a],16),d[a]+=c,d[a]=Math.min(Math.max(d[a],0),255),d[a]=Math.round(d[a]/17).toString(16);return"#"+(b?d[0]+d[0]+d[1]+d[1]+d[2]+d[2]:d[0]+d[1]+d[2])}function ib(a){return(a=/^\s*((#[0-9a-fA-F]{3}){7})\s*$/.exec(a))?(Ra(a[1]),!0):!1}function bb(){return Fb.join("")}function kb(){"mt"==Qa("uidesign")||"mtns"==Qa("uidesign")?$("html").addClass("mtds"):$("html").removeClass("mtds")}function sb(){var a=$(window).width(),c=$(window).height(),b=Qa("view");
(Qb="m"==b?!0:"d"==b?!1:1.2>a/c)?$("html").addClass("m"):$("html").removeClass("m")}function qb(a,c){if("property"==a)switch(c[0]){case "color":if("u"!=c[1])if("i"==c[1]||"e"==c[1]){var b=bb(),d=prompt(EXPORT_CODEPROMPT,b);d&&d!=b&&!ib(d)&&alert(COLOR_FAIL);Xa.set("color","u")}else Ra(Db["r"==c[1]?~~(Math.random()*Db.length):c[1]-1]);break;case "font":"r"==c[1]?$("#container, #multiphase").css("font-family",["lcd","lcd2","lcd3","lcd4","lcd5"][~~(5*Math.random())]):$("#container, #multiphase").css("font-family",
c[1]);break;case "col-font":case "col-back":case "col-board":case "col-button":case "col-link":case "col-logo":case "col-logoback":b=Eb.indexOf(c[0].substring(4,c[0].length));d=c[1];d=jb(d);Fb[b]!=d&&(Fb[b]=d,w("color","u"),Za());break;case "zoom":$("html").attr("class","p"+~~(100*c[1])),$(window).trigger("resize"),kb();case "view":sb();break;case "uidesign":kb();Za();break;case "wndScr":pb("scramble","f"==c[1]);break;case "wndStat":pb("stats","f"==c[1]);break;case "wndTool":pb("tools","f"==c[1])}}
function pb(a,c){db[a]?c?db[a].div.addClass("fixed"):db[a].div.removeClass("fixed"):$(pb.bind(void 0,a,c))}function fb(){ib(window.location.hash)&&(Xa.set("color","u"),$.clearHash())}var db={},ob=!1,hb=!1,ub,ab,Cb=$("<div />"),yb={scramble:"scrHide",tools:"toolHide",stats:"statHide"},Bb=$("<div />").addClass("dialog"),zb=$("<div />").addClass("title"),tb=$("<div />").addClass("value"),rb=$("<div />").addClass("button"),xb=$('<input type="button" class="buttonOK">').val(OK_LANG),vb=$('<input type="button" class="buttonOK">').val(CANCEL_LANG);
Bb.append(zb,tb,rb);var Mb=$("<style>").appendTo("head"),Ib="html,body,textarea,#leftbar{color:?;background-color:?}#leftbar{border-color:?}#logo{color:?;border-color:?;background-color:?}.mybutton,.tab,.cntbar{border-color:?}html:not(.m) .mybutton:hover,.mybutton:active,.tab:active,.mywindow,.popup,.dialog{background-color:?}.mybutton.enable,.tab.enable,.cntbar,.selected,table.opttable tr th:first-child,div.helptable h2,div.helptable h3{background-color:?}#gray{background-color:?}html:not(.m) .times:hover,html:not(.m) .click:hover,.times:active,.click:active,textarea{background-color:?}.click{color:?}.mywindow,.popup,.dialog,.table,.table td,.table th,textarea,.tabValue,.opttable td.sr{border-color:?}html:not(.m) #avgstr .click:hover,#avgstr .click:active{background-color:?}select,input[type='button'],input[type='text']{color:?;background:?;border-color:?}input:disabled,table.opttable tr:nth-child(odd) td:first-child,div.helptable li:nth-child(odd){background:?}.mywindow::before,.popup,.dialog,#leftbar::before";
Ib=[Ib+"{box-shadow:0 0 .6em ?}",Ib+"{box-shadow:none}"];var Db="#000#efc#fdd#fbb#00f#ff0#000 #000#ffe#ff9#ff0#00f#fa0#000 #fff#600#668#408#ccf#0ff#000 #fff#000#555#888#aaa#000#aaa #000#fff#ccc#ddd#555#fff#888 #fff#227#9c3#563#580#dad#000 #9aa#023#034#b80#28d#678#034 #678#ffe#eed#ffe#28d#678#eed".split(" "),Fb="#000 #efc #fdd #fbb #dbb #ff0 #000".split(" "),Rb=[0,1,545,5,549,6,546,2,3,0,546,4,546,545,0,3826,546,274,0],Eb="font back board button link logo logoback".split(" "),Qb=!1;$(function(){Ta("ui",
"property",qb,/^(?:color|font|col-.+|zoom|view|uidesign|wnd(?:Scr|Stat|Tool))/);Va("ui","zoom",1,ZOOM_LANG,["1","0.7 0.8 0.9 1 1.1 1.25 1.5".split(" "),"70% 80% 90% 100% 110% 125% 150%".split(" ")]);Va("ui","font",1,PROPERTY_FONT,["lcd","r Arial lcd lcd2 lcd3 lcd4 lcd5 Roboto".split(" "),PROPERTY_FONT_STR.split("|").concat("Roboto")]);Va("kernel","ahide",0,PROPERTY_AHIDE,[!0]);Va("ui","uidesign",1,PROPERTY_UIDESIGN,["mtns",["n","mt","ns","mtns"],PROPERTY_UIDESIGN_STR.split("|")]);Va("ui","view",1,
PROPERTY_VIEW,["a",["a","m","d"],PROPERTY_VIEW_STR.split("|")]);Va("color","color",1,PROPERTY_COLOR,["4","uer12345678".split(""),PROPERTY_COLOR_STR.split("|")]);var a=PROPERTY_COLORS.split("|");Va("color","col-font",3,a[0],["#000000"]);Va("color","col-back",3,a[1],["#eeffcc"]);Va("color","col-board",3,a[2],["#ffdddd"]);Va("color","col-button",3,a[3],["#ffbbbb"]);Va("color","col-link",3,a[4],["#0000ff"]);Va("color","col-logo",3,a[5],["#ffff00"]);Va("color","col-logoback",3,a[6],["#000000"]);Va("color",
"colcube",4,"Cube",["#ff0#fa0#00f#fff#f00#0d0"]);Va("color","colpyr",4,"Pyraminx",["#0f0#f00#00f#ff0"]);Va("color","colskb",4,"Skewb",["#fff#00f#f00#ff0#0f0#f80"]);Va("color","colmgm",4,"Megaminx",["#fff#d00#060#81f#fc0#00b#ffb#8df#f83#7e0#f9f#999"]);Va("color","colsq1",4,"SQ1",["#ff0#f80#0f0#fff#f00#00f"]);Va("color","col15p",4,"15 Puzzle",["#f99#9f9#99f#fff"]);Va("ui","wndScr",1,PROPERTY_WNDSCR,["n",["n","f"],PROPERTY_WND_STR.split("|")]);Va("ui","wndStat",1,PROPERTY_WNDSTAT,["n",["n","f"],PROPERTY_WND_STR.split("|")]);
Va("ui","wndTool",1,PROPERTY_WNDTOOL,["n",["n","f"],PROPERTY_WND_STR.split("|")]);ub=$("#gray");$(".donate").appendTo(Cb);d("donate",BUTTON_DONATE,function(){r([Cb,0,void 0,0],"stats",BUTTON_DONATE.replace("<br>",""))},5);ab.appendTo(b).mouseenter(function(){Ya(!0)}).mouseleave(function(){Ya()});setTimeout(Ya,3E3);Bb.appendTo("body");$(window).resize(sb);$(window).bind("hashchange",fb);fb();"https:"!=location.protocol&&(document.title="[UNSAFE] "+document.title)});return{addWindow:function(a,d,f,
h,w,r){f.appendTo(b);f.addClass("mywindow");f.append($('<span class="chide" data="'+yb[a]+'"></span>').click(z));h=Qa(a,h);ab=ab||$("#leftbar");ab.children(".c"+r).addClass(h?"enable":"").data("module",a).click(c).find("span:first").html(d);db[a]={button:h,div:f,auto:w};h?f.show():f.hide();n("button",[a,h])},addButton:d,showDialog:r,hideDialog:f,isDialogShown:function(a){return Bb.hasClass("dialog"+a)},exportColor:bb,nearColor:jb,setAutoShow:function(a){(a=a||!Qa("ahide"))?Wa():Ua();timer.showAvgDiv(a)},
hide:Ua,show:Wa,isPop:function(){return hb},toggleLeftBar:Ya}}(),Ya=function(){function b(a,c,b,d,h){this.data=a;this.callback=c;this.select1=b;this.select2=d;this.reset(h)}function c(a,c,b){for(var d=0;d<a.length;d++)if($.isArray(a[d][1]))for(var f=0;f<a[d][1].length;f++){if(a[d][1][f][1]==c){b(d,f);return}}else if(a[d][1]==c){b(d,null);break}}var d=b.prototype;d.loadSelect2=function(c){a();c=c||0;var b=~~this.select1.prop("selectedIndex");b=(this.data[b]||[])[1];this.select2.empty();if($.isArray(b)){this.select2.show();
for(var d=0;d<b.length;d++)this.select2.append($("<option>").html(b[d][0]).val(b[d][1]));this.select2.prop("selectedIndex",c)}else this.select2.hide();this.onSelect2Change()};d.onSelect1Change=function(){this.loadSelect2()};d.onSelect2Change=function(){this.callback&&this.callback(this.getSelected())};d.getSelIdx=function(){var a=~~this.select1.prop("selectedIndex");if(!$.isArray((this.data[a]||[])[1]))return[a];var c=~~this.select2.prop("selectedIndex");return[a,c]};d.getSelected=function(){var a=
this.getSelIdx();return 1==a.length?(this.data[a[0]]||[])[1]:this.data[a[0]][1][a[1]][1]};d.reset=function(a){a=a||this.getSelected();this.select1.empty();for(var c=0;c<this.data.length;c++)this.select1.append($("<option>").html(this.data[c][0]).val($.isArray(this.data[c][1])?c:this.data[c][1]));this.select1.unbind("change").change(this.onSelect1Change.bind(this));this.select2.unbind("change").change(this.onSelect2Change.bind(this));a&&this.loadVal(a)};d.loadVal=function(a){var b=this.callback;this.callback=
null;c(this.data,a,function(a,c){this.select1.prop("selectedIndex",a);this.loadSelect2(c)}.bind(this));this.callback=b};d.getValName=function(a){var b=null;c(this.data,a,function(a,c){b=this.data[a][0];null!=c&&(b+=">"+this.data[a][1][c][0])}.bind(this));return b};d.getValIdx=function(a){var b=null;c(this.data,a,function(a,c){b=100*a+(null==c?c:99)});return b};return b}();(function(){function a(a,z){if("bgImgO"==z[0])d.stop(!0,!0).fadeTo(0,z[1]/100);else if("bgImgS"==z[0])if("n"==z[1])d.hide(),f=
"n";else if(d.show(),"u"==z[1])if("modify"==z[2]){var n=prompt(BGIMAGE_URL,c);h.exec(n)?(c=n,d.attr("src",c),w("bgImgSrc",c)):(alert(BGIMAGE_INVALID),w("bgImgS",f),Xa.reload())}else c=Qa("bgImgSrc",c),d.attr("src",c);else f=z[1],d.attr("src",b[z[1]])}var c="",b=["https://i.imgur.com/X7Xi7D1.png","https://i.imgur.com/K4zbMsu.png","https://i.imgur.com/Fsh6MaM.png"],d,f=0,h=/^((http|https|ftp):\/\/)?(\w(:\w)?@)?([0-9a-z_-]+\.)*?([a-z0-9-]+\.[a-z]{2,6}(\.[a-z]{2})?(:[0-9]{2,6})?)((\/[^?#<>\/\\*":]*)+(\?[^#]*)?(#.*)?)?$/i;
$(function(){d=$("#bgImage");Ta("bgImage","property",a,/^bgImg[OS]$/);Va("ui","bgImgO",2,BGIMAGE_OPACITY,[25,0,100]);Va("ui","bgImgS",1,BGIMAGE_IMAGE,["n",["n","u",0,1,2],BGIMAGE_IMAGE_STR.split("|").slice(0,-1).concat(1,2,3)])})})();var Ua=/^([\d]+)?([FRUBLDfrubldzxySME])(?:([w])|&sup([\d]);)?([2'])?$/,Wa=!0;$(function(){Va("kernel","useMilli",0,PROPERTY_USEMILLI,[!1],1);Va("kernel","timeFormat",1,PROPERTY_FORMAT,["h",["h","m","s"],["hh:mm:ss.XX(X)","mm:ss.XX(X)","ss.XX(X)"]],1);h.appendTo("body");
b.appendTo("body");$(document).keydown(function(a){Wa=!0;n("keydown",a);timer.onkeydown(a);return Wa});$(document).keyup(function(a){Wa=!0;n("keyup",a);timer.onkeyup(a);return Wa});$("#container").bind("touchstart",function(b){$(b.target).is(".click")||(a(),timer.onkeydown({which:32}),b.preventDefault&&b.preventDefault())});$("#container").bind("touchend",function(b){$(b.target).is(".click")||(a(),timer.onkeyup({which:32}),b.preventDefault&&b.preventDefault())});$("#container").bind("touch",function(a){$(a.target).is(".click")||
a.preventDefault&&a.preventDefault()});$("#touch").remove();$("#container").mousedown(function(a){!$(a.target).is(".click")&&1==a.which&&Qa("useMouse")&&(timer.onkeydown({which:32}),a.preventDefault&&a.preventDefault())});$("#container").mouseup(function(a){!$(a.target).is(".click")&&1==a.which&&Qa("useMouse")&&(timer.onkeyup({which:32}),a.preventDefault&&a.preventDefault())});try{document.cookie="fp="+$.fingerprint()+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/"}catch(Sa){}});$(function(){for(var a=
"properties cachedScr devData wcaData gglData locData".split(" "),c=0;c<a.length;c++)try{JSON.parse(localStorage[a[c]]||"{}")}catch(f){delete localStorage[a[c]]}var b=[];for(c=1;c<=~~Qa("sessionN",15);c++)a.push("session"+c);for(c=0;c<localStorage.length;c++){var d=localStorage.key(c);-1==a.indexOf(d)&&b.push(d)}for(c=0;c<b.length;c++)delete localStorage[b[c]]});return{pretty:d,getProp:Qa,setProp:w,regProp:Va,getSProps:Xa.getSProps,setSProps:Xa.setSProps,regListener:Ta,addWindow:Za.addWindow,addButton:Za.addButton,
pushSignal:n,showDialog:Za.showDialog,hideDialog:Za.hideDialog,isDialogShown:Za.isDialogShown,exportColor:Za.exportColor,clrKey:function(){Wa=!1},temp:h,reprop:Xa.reload,loadProp:Xa.load,parseScramble:function(a,c){for(var b=[],d=(Qa("preScr")+" "+a).split(" "),f,h,n,w=0;w<d.length;w++)f=Ua.exec(d[w]),null!=f&&(n="FRUBLDfrubldzxySME".indexOf(f[2]),14<n?(f="2'".indexOf(f[5]||"X")+2,n=[0,4,5][n%3],b.push([c.indexOf("FRUBLD".charAt(n)),2,f]),b.push([c.indexOf("FRUBLD".charAt(n)),1,4-f])):(h=12>n?~~f[1]||
~~f[4]||("w"==f[3]||5<n)&&2||1:-1,f=(12>n?1:-1)*("2'".indexOf(f[5]||"X")+2),b.push([c.indexOf("FRUBLD".charAt(n%6)),h,f])));return b},blur:a,ui:Za,TwoLvMenu:Ya,pround:function(a,c){return d(Ra(a),c)},round:Ra}});var exportFunc=execMain(function(){function n(){return storage.exportAll().then(function(a){a.properties=mathlib.str2obj(localStorage.properties);yb=JSON.stringify(a)})}function Ta(){var a=null;try{a=JSON.parse(this.result)}catch(rb){logohint.push("Invalid Data");return}d(a)}function d(a){var c=0,b=0,d=0;storage.exportAll().then(function(f){for(var h=1;h<=~~kernel.getProp("sessionN");h++){var z=mathlib.str2obj(f["session"+h]||[]),n=mathlib.str2obj(a["session"+h]||[]);z.length!=n.length&&(c++,b+=Math.max(n.length-
z.length,0),d+=Math.max(z.length-n.length,0))}return confirm(IMPORT_FINAL_CONFIRM.replace("%d",c).replace("%a",b).replace("%r",d))?Promise.resolve():Promise.reject()}).then(function(){if("properties"in a){var c=localStorage.devData||"{}",b=localStorage.wcaData||"{}",d=localStorage.gglData||"{}",f=localStorage.locData||"{}";localStorage.clear();localStorage.devData=c;localStorage.wcaData=b;localStorage.gglData=d;localStorage.locData=f;localStorage.properties=mathlib.obj2str(a.properties);kernel.loadProp()}storage.importAll(a).then(function(){location.reload()})},
$.noop)}function Ra(a){this.files.length&&a.readAsBinaryString(this.files[0])}function a(a){return a&&/^[A-Za-z0-9]+$/.exec(a)}function h(a,c){try{return JSON.parse(localStorage[a])[c]||""}catch(xb){return""}}function b(c){if(c.target===sb[0]||c.target===kb[0])c=h("wcaData","cstimer_token");else{c=prompt(EXPORT_USERID,h("locData","id"));if(null==c)return;localStorage.locData=JSON.stringify({id:c,compid:h("locData","compid")});kernel.pushSignal("export",["account","locData"])}if(a(c))return c;alert(EXPORT_INVID)}
function r(a){return new Promise(function(c,b){var d=LZString.compressToEncodedURIComponent(yb);$.post("https://cstimer.net/userdata.php",{id:a,data:d},function(a){0==a.retcode?c(a):b(a)},"json").error(b)})}function Xa(a){var c=b(a);if(c){var d=$(a.target),f=d.html();d.html("...");r(c).then(function(){alert(EXPORT_UPLOADED)},function(){alert(EXPORT_ERROR)}).then(function(){d.html(f)})}}function Qa(a){var c=b(a);if(c){var f=$(a.target),h=f.html();f.html("Check File List...");var z=function(){alert(EXPORT_ERROR)},
n=function(){f.html(h)};a=function(a){a=~~a.data;if(0==a)return alert("No Data Found"),n();var b=1;if(kernel.getProp("expp")&&(b=~~prompt("You have %d file(s), load (1 - lastest one, 2 - lastest but one, etc) ?".replace("%d",a),"1"),0>=b||b>a))return n();f.html("Import Data...");$.post("https://cstimer.net/userdata.php",{id:c,offset:b-1},w,"json").error(z).always(n)};var w=function(a){var c=a.retcode;if(0==c)try{d(JSON.parse(LZString.decompressFromEncodedURIComponent(a.data)))}catch(Eb){alert(EXPORT_ERROR)}else 404==
c?alert(EXPORT_NODATA):alert(EXPORT_ERROR);n()};kernel.getProp("expp")?$.post("https://cstimer.net/userdata.php",{id:c,cnt:1},a,"json").error(z).always(n):a({data:1})}}function w(){var a=h("gglData","access_token");a&&(fb.html("Check File List..."),$.ajax("https://www.googleapis.com/drive/v3/files?spaces=appDataFolder&orderBy=modifiedTime desc&q=name%3D%27cstimer.txt%27",{type:"GET",beforeSend:function(c){c.setRequestHeader("Authorization","Bearer "+a)}}).success(function(b,f,h){b=b.files;if(0==b.length)return alert("No Data Found"),
c();f=1;if(kernel.getProp("expp")&&(f=~~prompt("You have %d file(s), load (1 - lastest one, 2 - lastest but one, etc) ?".replace("%d",b.length),"1"),0>=f||f>b.length))return c();fb.html("Import Data...");$.ajax("https://www.googleapis.com/drive/v3/files/"+b[f-1].id+"?alt=media",{type:"GET",beforeSend:function(c){c.setRequestHeader("Authorization","Bearer "+a)}}).success(function(a){try{a=JSON.parse(LZString.decompressFromEncodedURIComponent(a))}catch(Ib){return alert("No Valid Data Found"),c()}c();
d(a)}).error(function(){alert(EXPORT_ERROR+"\nPlease Re-login");$a()});for(f=10;f<b.length;f++)$.ajax("https://www.googleapis.com/drive/v3/files/"+b[f].id,{type:"DELETE",beforeSend:function(c){c.setRequestHeader("Authorization","Bearer "+a)}})}).error(function(){alert(EXPORT_ERROR+"\nPlease Re-login");$a()}))}function Va(){var a=h("gglData","access_token");a&&(db.html("Create File..."),$.ajax("https://www.googleapis.com/upload/drive/v3/files?uploadType=resumable",{type:"POST",contentType:"application/json",
data:JSON.stringify({parents:["appDataFolder"],name:"cstimer.txt"}),beforeSend:function(c){c.setRequestHeader("Authorization","Bearer "+a)}}).success(function(a,b,d){a=d.getResponseHeader("location");db.html("Uploading Data...");$.ajax(a,{type:"PUT",contentType:"text/plain",data:LZString.compressToEncodedURIComponent(yb)}).success(function(a,b,d){alert("Export Success");c()}).error(function(a,c,b){alert(EXPORT_ERROR);$a()})}).error(function(a,c,b){401==a.status?alert("Timeout, Please Re-login"):alert(EXPORT_ERROR);
$a()}))}function Za(){n().then(function(){if(window.Blob){var a=new Blob([yb],{type:"text/plain"});ub.attr("href",URL.createObjectURL(a));ub.attr("download","cstimer_"+mathlib.time2str(new Date/1E3,"%Y%M%D_%h%m%s")+".txt")}kernel.showDialog([nb,0,void 0,0,[EXPORT_ONLYOPT,Ua],[EXPORT_ACCOUNT,Wa]],"export",EXPORT_DATAEXPORT)})}function Ya(a){a=LZString.compressToEncodedURIComponent(JSON.stringify(a));var c=prompt(EXPORT_CODEPROMPT,a);if(c&&c!=a){try{c=JSON.parse(LZString.decompressFromEncodedURIComponent(c))}catch(xb){return}return c}}
function Ua(){var a=JSON.parse(localStorage.properties),c={},b;for(b in a)b.startsWith("session")||(c[b]=a[b]);c=Ya(c);if(!c)return!1;a=JSON.parse(localStorage.properties);for(b in a)b.startsWith("session")&&(c[b]=a[b]);localStorage.properties=mathlib.obj2str(c);location.reload();return!1}function Wa(){var a={wcaData:localStorage.wcaData,gglData:localStorage.gglData,locData:localStorage.locData},c=Ya(a);if(!c)return!1;for(var b in a)c[b]&&(localStorage[b]=c[b],kernel.pushSignal("export",["account",
b]));location.reload();return!1}function Sa(){var a=JSON.parse(localStorage.wcaData||"{}");bb.unbind("click");kb.unbind("click").removeClass("click");sb.unbind("click").removeClass("click");a.access_token?(a=a.wca_me,ib.html("WCAID: "+a.wca_id+"<br>Name: "+a.name),bb.click(z.bind(void 0,!0)).addClass("click"),kb.addClass("click").click(Qa),sb.addClass("click").click(Xa)):(ib.html(EXPORT_LOGINWCA),bb.click(function(){location.href=cb}).addClass("click"))}function c(){var a=JSON.parse(localStorage.gglData||
"{}");pb.unbind("click");fb.unbind("click").removeClass("click").html(EXPORT_FROMSERV+" (Google)");db.unbind("click").removeClass("click").html(EXPORT_TOSERV+" (Google)");a.access_token?(a=a.ggl_me,qb.html("Name: "+a.displayName+"<br>Email: "+a.emailAddress),pb.click($a.bind(void 0,!0)).addClass("click"),fb.addClass("click").click(w),db.addClass("click").click(Va)):(qb.html(EXPORT_LOGINGGL),pb.click(function(){location.href=mb}).addClass("click"))}function z(a){if(!a||confirm(EXPORT_LOGOUTCFM))delete localStorage.wcaData,
kernel.pushSignal("export",["account","wcaData"])}function $a(a){if(!a||confirm(EXPORT_LOGOUTCFM))delete localStorage.gglData,kernel.pushSignal("export",["account","gglData"])}function f(b,d){if("atexpa"==b)if("id"==d[1]){var f=h("locData","id");a(f)&&"modify"!=d[2]||(f=prompt(EXPORT_USERID,f),a(f)?(localStorage.locData=JSON.stringify({id:f,compid:h("locData","compid")}),kernel.pushSignal("export",["account","locData"])):(null!=f&&alert(EXPORT_INVID),kernel.setProp("atexpa","n")))}else"wca"!=d[1]||
a(h("wcaData","cstimer_token"))||(alert("Please Login with WCA Account in Export Panel First"),kernel.setProp("atexpa","n"));else"export"==b&&("wcaData"==d[1]?Sa():"gglData"==d[1]&&c())}function eb(){var c=kernel.getProp("atexpa","n");"n"!=c&&(n().then(function(){if("id"==c||"wca"==c){var b="id"==c?h("locData","id"):h("wcaData","cstimer_token");a(b)?r(b).then(function(){logohint.push("Auto Export Success")},function(){logohint.push("Auto Export Failed")}):(logohint.push("Auto Export Abort"),kernel.setProp("atexpa",
"n"))}else if("f"==c&&window.Blob){b=new Blob([yb],{type:"text/plain"});var d=$('<a class="click"/>');d.attr("href",URL.createObjectURL(b));d.attr("download","cstimer_"+mathlib.time2str(new Date/1E3,"%Y%M%D_%h%m%s")+".txt");d.appendTo("body");d[0].click();d.remove()}}),zb=Bb=0)}function lb(){"n"!=kernel.getProp("atexpa","n")&&(zb+=1,zb>=kernel.getProp("atexpi",100)&&(Bb&&clearTimeout(Bb),Bb=setTimeout(eb,1E3)))}var cb="https://www.worldcubeassociation.org/oauth/authorize?client_id=63a89d6694b1ea2d7b7cbbe174939a4d2adf8dd26e69acacd1280af7e7727554&response_type=code&scope=public&redirect_uri="+
encodeURI(location.href.split("?")[0]),mb="https://accounts.google.com/o/oauth2/v2/auth?client_id=738060786798-octf9tngnn8ibd6kau587k34au263485.apps.googleusercontent.com&response_type=token&scope=https://www.googleapis.com/auth/drive.appdata&redirect_uri="+encodeURI(location.href.split("?")[0]),nb=$("<div />"),jb=$('<table class="expOauth expUpDown">'),ib=$("<td></td>"),bb=$("<tr>").append('<td class="img"/>',ib),kb=$('<a class="click"/>').html(EXPORT_FROMSERV+" (csTimer)").click(Qa),sb=$('<a class="click"/>').html(EXPORT_TOSERV+
" (csTimer)").click(Xa),qb=$("<td></td>"),pb=$("<tr>").append('<td class="img"/>',qb),fb=$('<a class="click"/>'),db=$('<a class="click"/>'),ob=$('<input type="file" id="file" accept="text/*"/>'),hb=$('<input type="file" id="file" accept="text/*"/>'),ub=$('<a class="click"/>').html(EXPORT_TOFILE),ab=$('<a class="click"/>').html(EXPORT_FROMSERV+" (csTimer)").click(Qa),Cb=$('<a class="click"/>').html(EXPORT_TOSERV+" (csTimer)").click(Xa),yb;jb.append($("<tr>").append($("<td>").append($('<a class="click"/>').html(EXPORT_FROMFILE).click(function(){ob.click()})),
$("<td>").append(ub)),$("<tr>").append($("<td>").append(ab),$("<td>").append(Cb)),$("<tr>").append($("<td colspan=2>").append($('<a class="click"/>').html(EXPORT_FROMOTHER).click(function(){hb.click()}))));var Bb,zb=0;$(function(){kernel.regListener("export","time",lb);kernel.regListener("export","property",f,/^atexpa$/);kernel.regListener("export","export",f,/^account$/);kernel.regProp("kernel","atexpa",1,PROPERTY_AUTOEXP,["n",["n","f","id","wca"],PROPERTY_AUTOEXP_OPT.split("|")]);kernel.regProp("kernel",
"atexpi",-2,"Auto Export Interval (Solves)",[100,[50,100,200,500],["50","100","200","500"]]);kernel.regProp("kernel","expp",0,PROPERTY_IMPPREV,[!1]);kernel.addButton("export",BUTTON_EXPORT,Za,2);nb.append("<br>",$('<div class="expOauth">').append($('<table id="wcaLogin">').append(bb),$('<table class="expUpDown">').append($("<tr>").append($("<td>").append(kb),$("<td>").append(sb)))),$('<div class="expOauth">').append($('<table id="gglLogin">').append(pb),$('<table class="expUpDown">').append($("<tr>").append($("<td>").append(fb),
$("<td>").append(db)))),jb);if(window.FileReader&&window.Blob){var a=new FileReader;a.onload=Ta;var b=new FileReader;b.onload=function(){0==stats.importSessions(TimerDataConverter(this.result))&&logohint.push("No session imported")};ob.change(Ra.bind(ob[0],a));hb.change(Ra.bind(hb[0],b))}$.urlParam("code")?(ib.html(EXPORT_LOGINAUTHED),$.post("oauthwca.php",{code:$.urlParam("code")},function(a){"access_token"in a?(localStorage.wcaData=JSON.stringify(a),kernel.pushSignal("export",["account","wcaData"])):
(alert(EXPORT_ERROR),z())},"json").error(function(){alert(EXPORT_ERROR);z()}).always(function(){Sa();$.clearUrl("code")}),Za()):Sa();if($.hashParam("access_token")){var d=$.hashParam("access_token");qb.html(EXPORT_LOGINAUTHED);$.get("https://www.googleapis.com/drive/v3/about",{fields:"user",access_token:d},function(a){"user"in a?(localStorage.gglData=JSON.stringify({access_token:d,ggl_me:a.user}),kernel.pushSignal("export",["account","gglData"])):(alert(EXPORT_ERROR),$a())},"json").error(function(a,
c,b){401==a.status?alert("Timeout, Please Re-login"):alert(EXPORT_ERROR);$a()}).always(function(){c();$.clearHash()});Za()}else c()});return{exportProperties:Ua,isValidId:a,getDataId:h,logoutFromWCA:z,wcaLoginUrl:cb}});var logohint=execMain(function(){function n(){a=void 0;Ta()}function Ta(){if(r)b.removeClass("hint"),b.html("ABOUT"),a=void 0;else if(void 0==a)if(a=Ra.shift(),void 0==a)b.removeClass("hint"),b.html("csTimer");else{b.html('<div class="pad" style="width: '+h.width()+'px; ">csTimer</div><span style="font-family: sans-serif; margin: 0 1em 0 1em;">'+a+'</span><div class="pad" style="width: '+h.width()+'px; position: absolute;">csTimer</div>');b.removeClass("hint");var d=.1*(a.length+15)+"s";b.css({"-webkit-animation-duration":d,
"-moz-animation-duration":d,"animation-duration":d});setTimeout(function(){b.addClass("hint")})}}function d(){var a=["Webkit","Moz","O","ms","Khtml"],b=document.createElement("div");if(void 0!==b.style.animationName)return!0;for(var d=0;d<a.length;d++)if(void 0!==b.style[a[d]+"AnimationName"])return!0;return!1}var Ra=[],a,h,b,r=!1,Xa=!1;$(function(){h=$("#logo");b=h.children().children();b.bind("oanimationend animationend webkitAnimationEnd",n);var a=$("#about"),w=a.children("h1").appendTo(kernel.temp).html();
h.mouseenter(function(){r=!0;Ta()});h.mouseleave(function(){r=!1;Ta()});h.click(function(){"https:"!=location.protocol&&confirm("Your access to csTimer is unsafe. Press OK for safe access.")&&(location.protocol="https:");a.show();kernel.showDialog([a,0,void 0,0],"logo",w)});a.hide();kernel.regProp("kernel","useLogo",0,USE_LOGOHINT,[!0],1);Xa=d()});return{push:function(a){Xa&&kernel.getProp("useLogo",!0)&&(Ra.push(a),Ta())}}});var timer=execMain(function(n,Ta,d,Ra,a,h){function b(){var a=d("useIns");if(!0===a||"a"==a)return!0;if(!1===a||"n"==a)return!1;if("b"==a)return null==/^(333ni|444bld|555bld|r3ni)$/.exec(d("scrType"))}function r(a,c){var b=[];a=(a||"").match(/#[0-9a-fA-F]{3}/g)||[];for(var d=0;d<a.length;d++)b.push(~~kernel.ui.nearColor(a[c[d]],0,!0).replace("#","0x"));return b}function Xa(a){var c=a.which;if(17==c)if(a=a.originalEvent,1==a.location||1==a.keyLocation)c=256;else if(2==a.location||2==a.keyLocation)c=
257;return c}var Qa,w=-1,Va=[],Za,Ya=[],Ua={play:$.noop},Wa=Ua,Sa=Ua,c=Ua,z=Ua;void 0!==window.Audio&&(Wa=new Audio("data:audio/mp3;base64,//M4xAATSYYMAUxAAFnLyWJYln7RIAmBMD5PP7MLFh+v9gwMDBZyIn6JW5Ydg3AXBeH59S7vomiV+iILi7veiV///6In/wgoKGI7/+CbwQDH/gg7/5QEP5QMKs/q0cGlVL/ljQ06DnN/5yXn//M4xBEYsl6gAZmQASxhYji4zI0B9iVDm+gt1kQHSPZI/sgyZbMyXMRcn6bsgzk2M2J3LBLCgP5fSQQW7ikxUiqM2RpJiFP/f+Sw5hE80QQb//qbbzpPigBWhVKI71IfgLsD/GxF3etnsPVA//M4xA0YQhbUVc9IAYJsgBw94rEX5Zn32GB9ZJjM7WRsZByUJeG5tRzP///Pf5e/fnvj/6fnaROkqmWIVzyANulyUmy0y1+SM9qVIYeNThdSTt+Mr1dybYemoxoARO2BkwVpYBgP+hht2G3h//M4xAsXug7E9VgwA7hYwgWS6ksd1YZlz3SGJu9Tf9Nnh/QES1GjUas4DDPRsz6mUfOZ3RfFmnfdROWbCX//9enmoPCRJo0UuSOVVU+V6fM7/5rt///nr+Ei8PQumSH7twFhltkx/BAAAFsm//M4xAsYCnKY95k4ABXvCvTG+ZhpjLmGBPUOxY3uVbnhYC4i/qKgAl+s8ajiCcam+fG70NEYoMjT/vwWlhsMgsAjmx1l/gwsIok2JGjyp+n9yZUajYIgaaj///UfPJqlScmqAFAtFAtFottF//M4xAkXS38GX4EoArXUKwIPwD8ku8n7kImb5JCZqG+RnJ9PnezvO6//xA8+8g+tVcRFjauathAUMIAg8OCgodAezJxwoKOn/djpbbVGFFOQUZkIuqDVK7HdP6bt///jx1VoiZeQAK3+k2aJ//M4xAoX40MLHcg4AlCJVEGgLifPIFMGlO////2X6/6SbmA9JMKweDx2qhCSf/1Pfi1TVnqpD/55tUNLr/1qk5p6O2utkSc8w0003od7sk9roq6oceebQ46drqNR5yw+xpV1WIZlWJqoxBjD//M4xAkXIOsTGs4GXjzGCDgkBTJvzm+iZZL5OW2BQRQBdEfi9JG599JMa2qxISC8DMToZwZIgjTOMAiYj/MZDgIJ2fNmfZFBebWkAANCaSsG/c0cwBRxz//sPu///i3+hZvpd//JGObwoVXH//M4xAsXCPseWMMRI8KLBT5VTQZUaR+psYbbV0pcQAUJGtAxqeZjEEUMqUIQMQiIkmrChKdhgrzxluLhsqa6EwWtCAvBcUQPulnoHANyQxiijuwFEl1g/ilr/3+2/SqCVmRApRzgVEsmKcqa//M4xA0S+KLxv0lIAhehSRNXiyJCQgBBEhJYImmHiEERSGUIpCoBh7FgaUDLuoeCsFgayolLVHg0VO6w1LAXLfrLD8l9n2Tv//iIO5R88yRoxfLP60GESF0/nDMiacux54YAujYBIUHPuRFR//M4xCAcMsawAZhQAODgtEJMKyu88L8FgVhXC4IU1e74kCDGBMhIcWIyMSDf3GotCEFUPwGBgxceEQvKHf88kHCckfod///7Hj8w8uSD99yMyQyY3+Z/2c40nLu+VQKFvTbkoA8CijpNUkRQ//M4xA4UohrVn8YoAhQVpc+iJgUeAYryHnlIYPHDplFSoYxSxEVp6loHgsMDxxIWyzGo6lMY0vyiI4xUMpfvZ9v+WVkMpBIPIZyoJCTyKYKh1QEk3DdbkAgLmdaIAcZrvsZeRo1qN88WJe2b//M4xBoU0nq1t08oAkWHSapRERYpS1ZNEOpyCp0Z++Uhjcm/mvnRL9Dv6nRT3br/9a/daqivOpyT8pTzgdIm56oH3p//+tVpyS2yWSSWyWi261igBtlcTNuVMBDryxNmQvt1gMnh+q60Ycbs//M4xCUeAybGX5g4AkzzRWNhIP6tk+xpFjEOmsZHS80mXQ8xH5r/NJFqHl6Hdf4nJElTqabU3/uYY4PRuJghEUkNweCKPgJKVRTen+aNyZDdP////zFJsJA0nEDxuhAcDEgkEYjEkkgkjUJZ//M4xAwXgx7yX4IoAgCeXYgZ9oovHihUXv7Ob1OeQaRxi+hFflYXMXqt/92vlci/8+rttZXrai+ScQFMgn+Zv+1DvnPJDjTnnTd2UUIKCjyD55GfPCQixBcxX/z//BO33bDbW2PRBjsKUcCg//M4xA0UGqL2W8gQAtSYFFPQa5Z7v//KBhBHkIrkVz/oxFc4s7//5SlKvXuV35So77I900dv1///09f/SoslqKxA4cB8FoiEsBLGq7ksGoGKm+utulrklKqGKg0DDy3oNQvNH1uL2O9JZx/n//M4xBsUYQLiWsCMqo2CtyElAU930DGtGeUSEkYJXP///9Mk4BAkwIKORLN/LB2eh3K2nip0RZW3/DX/+HSxP/+s7spJrvAhfRAKXHSVTp/qR1yZwT//SsEOql7ChW9Q/OMbWcqTwk5mHqx3//M4xCgVUiJ0VEjKfJvMY0oqpWoY8RDupfzZhIqlN///0EmUDU9LHg0HOCodwVU8AnQaBUFfrKkt5CppLbfCQZI1EFRdF8qqmnnCQw/NfiYYhS57l/GgCLKyId/5H+VALvUe/75r5Xyx5n8e//M4xDENOQJoHjBKtLM67iEbxmn4ZnCdCLoqFQ9kxWiedXM7lVzLTKYul04P0UbpIFFAR5lxub6eFzRpwGWZebNGnFXF5s0//7s7O+bm5RpxRYJhmKEv//5UKiwtrUxBTUUzLjk5LjVVVVVV//M4xFsTMXHgAHsMHFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV"),
Sa=new Audio("data:audio/mp3;base64,//M4xAASgV4kFUwQACCAxs7JZPjOBIJicEBEdOxLJ6/6P3mlKTvt5zn5CBCEbI2c7oc57qf/XyEZTnQOBgYGLP/5c/1ygICQEP//EYPh+XBAMQ+Xf/wfbFqFNoEQoEFQEAoFAB+AVB4IMjon//M4xBUaKkrKX48oAFfHUmf89zpuUPoIoH/EBQgAD2Doh8EcCEYrHQOfg5IqAYuEADFAFIHufiYfOwfFyFFBYcHRAO/9XIRpJyy1dxT/+MFHac/xYuZar/fl+6pO7///UgWBacsstohOUoCw//M4xAsYGUbNn8wwAAMnmZ+cDu8djuSCYwYOmCwwdXtktWsTP35ZVoIgRJ5bXk6qf1VUR/f45seXnP2/2UZaUqN4JCMUOZ/QXBZBJxhp0akGam/eSOtFNysFTrfvaRb86SJV/8UPUrp+zSj1//M4xAkWefLEAMMG6O9KX1ERIatSpfyIuESQIBoKtVAipJxzbQQL48CaGZwhwiYAxOflcSz+973gNziP9c/v5/0/PsIzp/FcDcOP1BFm4cWZOejhzT30AwOIEAKnIInmpCW45KAB9YbUZ/KO//M4xA4XWgcGXnnS9wSLgdo+4uIZd65P8BmAVW7Y7RdHPK0MI1NPaSAaisaW6PReado2a3tr53Z8shskyFmpyIk2z3asoILchTb6As0mgosPDodNkqQyWtyzkN9VAOkEPxM62BmWyoOLzh2U//M4xA8Wo0bYVmBTPhU4VyIfetOVNubJtJwyjshE7b2ZpJtlITxc1n/J8XP///PMvDxcXPIwoA2s1hyf////4epZ4XqCenBIuF2M//9QvWE0dqBj/xLGEsUPE0jEFdMCsIqJSpRLJos62sp0//M4xBMZMz68BGoN5Wl11LRQpL29v/6e3///639n///10zdl8ltVyki9kGU76S73MSKDiwVgLnoYqS8dkGQxmRWYCIdkDyemBEJt8sECJ2ygAEKBwu6AY8ogACBZO52rx//7v/////6///////M4xA0WszrIAAhS/P6/8eVUMxJ6xGbUUV4y5GK2pLIUAIUTHlEKNVUUhYRFAMCkbC4YGRWQHAYoRJsg2ygsiFIlCSHN7VkjS8W1rJ2LYOTYG2bOm0LajK9swZdtrdttoNb7LQuMMOlQ3VRo//M4xBEZGU8SWMPS0tIV9Mkfd/1pqxzFRKswhSTgwWwQgQwhCwHACoEwdQyVi3qp5kt5l4gufzHb1ftPqNOHREJQLGOQMB6sJEcosEZvF0clGJo0hQoSQm2gQNrHxOBCKpL/dt/t4P83PyNq//M4xAsWcU8uWU9gA8fiEqmxOxkCxR4akYDKVhCQ5ihISWhdx7Aacl4qxKysejiaMq0RKVKjw1EIlXx7kNyh+YhTYQTIuJ6qH1XMejdTtLLsn1CrEeL7987UtHZP8DNiNI+8XNT2ZP9/uW15//M4xBAYwl6sAZhQAFu1p+7QEoFEBV6g1nEhETM/vMKP1RNwuAaAayAeGj0oc6q/i2hhO+PSRjjjX/FwXAsFAWAaAQzeahzov+TmOYx/5pqev7f9jx4WAgbOC3//B9weLoMQSAOtHnOtlwEc//M4xAwYUX64AY94ADqMNCC4LhWjHbCcscWKI+gkIRT5wve2X0GfevrOLVi2pfW/m3v4L2Die0CG/rPiJDe/fhRLzvp9YpesOBPrWKfGcRgVO0IKLecj34HDowGogX0kfwaqGKkalAB07DTR//M4xAkVUXa4988oA96hJKmadYbXjLDpmV8xPo1k6wuL0PCxnMJGMhSyrzFKVW7Sh0OgUtEsVmKxerFKpf0Q4iHg87wUFGhQV/pgoKCjcgoKahBS/0L/v/XqRrkvl1uuAHPRw8YD6obbAZWC//M4xBIUulrVv0YYAsy5WpzC/FjkoESgR4UTt+wwhRQCEFLAKVdjpuarL+uveMFSGZM6nmZMaEOIWDlW/5/+0r5//SO+5f3a+jXFKZxDY3GQ/s1JvAR00Bwm8O7JGQqoMUFo+y7mpgYG2r2Z//M4xB4bcyaYAY+AANJE6Zpfv7lAmES+t//rfSMzhikn//v2djA6YGqX//rdb6ponW8jSfJ8ibkXHX//3y4gabqQ8Zw1DEgm8QXFPFzCAAEwcY4A9QdIpc9///iBPL////////3//6M9cxlS//M4xA8XA0bMC8A4AsjHnuerv7VVCh9rmHodKIIiiUY7mD6VLmXU0bsJZcfcyYaPisRxwBgOwHnjQeMG4TgVGQhDhUTEwinA9B6g6NmFprmIhYajYcHygjk2V4VncGh/pRDV74GwDcP0CGGr//M4xBITSQr3GHgSwgw5n97yKxUMaHpRn1/7kgiEwoT78OtpAEDCCkDp+fpVl4UQo5o98MXf/aeWXBfInf////X4SBp//7b0qgCIGi9cuqFSVYVE2qotihQ5KWrE2fOIiAMVuhpaCTI7/0Dw//M4xCMUaO6dskgKwLA0WAQe/sCeCz8RJOxE10qrOhphGAQkGn1nexseGgoPBWMWAhKWWRDTIK5UA5ZtAroFgVAmNWRLlixNLy/xbJKikZ29gwqyerczBhX/o6Kibf/0+/1bYxSlaitzCKf3//M4xDAVGx5cFEiKzEdAiCD1rIHqlm6GpKZeWj6Gh46mGkVqGKVhIPHby1Zy8pfCQqpAWOqAYgcSGJhoGRGZHsMxdJkWFmegGRWgKiMBC6xUMgJn8e2aBkUDxrjxVMCirFixoKioo3FW/4sS//M4xDoR2CIEAkiEADQVFG4q38BBIRhkyEm1TEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV"),
c=new Audio("data:audio/mp3;base64,//M4xAATEZoICUEQACAAAAAAVjGPIABjGMYxjGQhG/qc7znAAAQQhCEIBgZzn//nfIT///OACCAgCAIA+D4f1AgCDu/4Pg//BAEAQBD+D4Pg4CDogB8PlAQV/lyZtCAp/v2yc4zIHc/+UWAK//M4xBIZMvKIAZqQAQy6fRSNAxgABQc3y4i7ilB2l4t/20mIGbn//xmCKEgXDEr/+2w43WSBgVCJ/+mtTILdRIHCXMRzx3kQZD/9uympqz5UM0lui5eOEQNP/+r//N5Z/e8LkFm0AKioK/UN//M4xAwX0eawAdhAAUrHCF0Xyt8mH+FmJNO7GaWW0L6MPJXkR+2bc26/iL/uuZmIOmYGTZtbRo0aTfrOMMts4YKnqUUfYjnHGhktCIExYjMNlU6UuxpZy0mb/nM+giFCFaQQgI7LAFMBlv/y//M4xAsX4mbGXsIKnHpCwXElk/qwtoiMigBBRYYAMG6v9geFWqiha0rlTWVobWLi5m11Vmyl9ZVVaWYqKvf+yGsipuxhoULRZkKJGs9SX4wt/f67oUPCYo0ih1Et/Of4NOUpySxlRsf7ZHkf//M4xAoXSl68flmEulpKJzj4HRAjce2at13fUYlVa81Ao7xm5DvuRGYrbf1B1ZtrXZqLSczrZVqtDG85ZwpvKJarJLMnQxnUvK2//CiRQaXEHfWHyDUPGvKdAnuygnfJqiqqAaP/y5zeISIf//M4xAsWMzKwVBhTraE4JQMQ82CUXHSsAKLmIWCKLSuDZK6KLh/93cGBwg5oV5fy3/////5f/cqr14yU5IbSzejWjcl3qChaEaQIIGKuYrKMJvAILCg9DdUmbiO/5EAFgTgHV3kXGB5LzZhY//M4xBEXU0K8CkCTPLCnbWj/8LVfenb+v/9lMdhLkuZ////+h1e0////ZWuiu25JXU4gIdVOhgZI5auESAnYXYPtGLUVNkw7AZqT2UR1DRMOtEiMdJ1sojbqlksl0lij/vaaaWCAoUoOsOYj//M4xBIZWW7yWNMHKgmVLqEkBMvdl3bkthguWpAMJL5dmCBEMMvMFyiijcL0EPwsO/78WKl4Qx4ODxz9SJW37VEMH3l3Vxg5RrFjA8GI/soju6ZTz88GLg1nCLfLsQODdZMRym1ANb0zCehG//M4xAsU4SrBjgvMHF48ZpdH8XJp18bP0yXW60P4TU4WFxtISSN2WosJZ57tW1Wz5kjP9f1uU8oycSAssqs7rDT4iJCUaBn01bMlSOf1AZ5D3f4l4hWAC+VSUH1YSABA8DgzLD94INFxHhUG//M4xBYUgzq09kBFXhnywvc/I/749Tqi5YJPyMGAtWO9FRGXONgyKILofPtDMho9WsaEq/9P/9eZGWRgyPkdzI/V9NCXBB+oZTwx/5ZkohiZfFYWGUnhLK43nk8bR3byGp2OQCms4M5k3dYz//M4xCMUYUqgKsFNDAaLS6pDeQeM4oGqVgmMfV/0df0+e75mZaYIerAmcBUFUJFXNty0TEQM06bMf/jVoBMla1FwGt16zGA8NQefkpVAN0tnbzz1C06KzuUensbO9SV2RyYMOpFsarqJI2lK//M4xDAVQXalH1kYAK/2GsnDmUuZ6l+FJuXQlnlBR08KxEVjwEKmGf/rKgLDpVyG/5QgguSRiMOCQQOSyqMhGmSI0qtdpYGVsYNfgCHScsHWrAQqDrQckoEi/yCXUjSk/79aKf+tajBVaCz7//M4xDojc86+X5loAn+t02X//f7r9bplxtM2HeRmHqp0/93U2b3TlQ8xzl8e6kEFIG6mMEDI31/TTdvYvpM7oJjHGDJURsphZqqLhgSBcUZnkhwkoPw/f//5IHv//x5CJQBtaN/99owR/who//M4xAsVOd7mX8FAAsYFIH97r8ivyxIagvaf/+l6J/+44QAExgoMmpeCDHv///WmHpMo1Q7I9pQ4RgqFjCyGND0Wg0tx4RPLWFfkXvhVMOs//yhIeIwEkmhE332M1sAGU0ua+qxgESxhRLOA//M4xBUTyKKa/ghGBJqX1Y3AokRAV3UCp3w6dBqJRj/wKWbIhICjGB0iGjxLKlfqCvJMO5ICkg6GvhUSkQkBSAFIgsEgyk7VBP1OmAhQMBDCArw0eOsDoSPFSowOkiEYBe0CkAqAkUCIkggI//M4xCQSKB4U0hiCALz3UDICqAtg0sVLFSXCj0ZEJAXrLLHu3niRH8e4iSlS06dh0NJMQU1FMy45OS41qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"),
z=new Audio("data:audio/mp3;base64,//M4xAASgSo1hUMQAIAgkWD33c9AN9ELeOf9d85/5CanO6HOhCNO//+hGUIQ5lw/EDogh8uH9YYLg+/UCEoCCwfLh/5Q4JDgPwQD6gQcDhwT/WDjidYYH41Hok//1+vs9vT8Aq1dS2NBQo9g//M4xBUaQmL2X4dAALQ2Nv44Xi2W/qxHUQblV/6FjBgoCtYppT/xUXgeJR7XVZl//o6MtmtX//9V+PR4UurefhUiY9P/v+HYURyEZPn2FUyg0IfGvlAQE4nuPo+d//Of6skEArDfvp+iADgm//M4xAsWqQbBZ88wAI8Z4TAwlzUxOFRqMwLkt7PBjyPCAzN57EJBCEQ7AhBUQ9J+MoqjYeqLUyR06dGBVigkZSuiSkjqVA08t/50tzOeqOg0HZglErtv+wsDIx9qsCCVRS8ugA0eMpdgLnQG//M4xA8Y+N7OVg4eHLkxaawiYEAmMzp+pVi0QgyWuSbfaLu2JCPMS48djN2OjQPo8Gm+1MTkQMvbWocLgBnJur3ebwmcLuKCc5bAgWU5jkzRmh7dVJw5hgQGKdTD4rLwfD/TApD6T3GsZ+jo//M4xAoVsMbllgvSOoaajtekUtnRNv4yigtZDycK1KCSjIEDHoXy5yCw8KkJoEIdZuEOmhM5IuAjwKlxUSmGXpCh5P7V0accB0u6n2KTHs/+J5P4YiA5EjpdEQKAAbh9B4FwOix3NYbHKio4//M4xBIWU0bg9jgfcoo1b0Gx3zTUfScea3RH////////j/////6huEM0ydj1nWzrgtgR8MM7g1AmhYF2q9N5b1G5qxk0wODIi0UWAfZJ4g3yTn+q1Q5KzlECQfkaxWsgj0I/RRb/2/v//9Vn//M4xBcaw0rBl0FoAHpf////sy1rrb///X//9kzydJBKkiipmY6O8Yom4cw0Lw+HguQW4KkIodoUAHsGwDYC1iJEUSQl5CFMcBNJIqCiC8hVRGw6AP4LeBlCxD0BcBVDFxaPvr/f9//9/t/L//M4xAsX2j8eX404AtuxjqjEzRIDwC51mFMl6MqmiWPEEbHnxoe62msPLMPPJsxnnBRvKtc+e6/LDrecjN+Y6DpnoPkzmXvmkjvb8z+hpR/FQ0fVKkELosVELRvtIqHf8qqbyaTMDIgnGhw1//M4xAoXiV7Yy494AId4yhnCcPiNF1KghyHyKgIIj2VKqcJqpPDrepyth2GrAcR63Fmhap8aeZtrEPE1J7TUjYiapaTTJjUCZuxLP8534sKLvX6+C4hRnyd0DLYhIa//DdW4SwYlwqtK1Zk1//M4xAoWEa64AZloABtJuengjtCaHvhxARYZEw5I8VtBIRvIKJJF4vLXxLjIzQLyKNFvpHx3Eqo7UmkZGX47RhB7ukbKMdnZt/cwmKNFmSQRnale8WIoQL1XARX18OEI5r/AaBcP1ehjqz4B//M4xBAXUuasAY84AAD8RB4wufax6mmJf3WY046i/zjS3OU//PQ0uPKg3dB48anHo0z5NmGhojnMTOHWGhxU1f/5U51m2tOpr+v//PtY2etxwtYLAVa3Fv/kFQpAY3wDgA//5BYdMtqpa7qi//M4xBEVET7Bt9iAAKTOTxnaPGEt9Kbeq7T3to8ZWvAPiGSMzEig4TiSjIqpKYpmyNlq9dSq+kg99n99MvhEXLFp27/U0OmrQK7fT6LGtJPVSABDsRjmAGH14mKnQlMUeVmib52Ev1vKSCGb//M4xBsU6MK5v1gYAMWnvrRa/zK6+rut4USRcWHkoCREFWw8SVVdAQdBo8HRLeCsc4JPLfaeI5aSK/4dEqVAwHyIVGvtUgAIKPKv/z/gAHxAkOJGEARIEghZOYmCTCxgEhs/SVqNzJ2S2uDz//M4xCYei86plZpoAGGcep4x54vonz6NvVVur6+YKXNqmQSPaS0UEqnQ7amo+j//Q01ejW3/6v+7et+gTDpTX//9PU03WmbvtQLhoMASZsSR0iCmE8GACQf//7f//xwgr9UCSgS2iC2oEfkI//M4xAoUC0LuX8EoAkdUf8b5/89Cd0///qqi5G///yodv50YXKLlExcABN0KYgoJoVxgmKkDpSOAwmKCwFDrGPRuzt6/00Zyr///1+jWOR0U0WKqEAls1wn0iBHCH/MIKAQktE4BU5EiRASW//M4xBgTIbrOXgmKlv/7y8scFEknl8///NZQ6KwiKiQecrf//5qVYxpQ64iCRKFDQVT88VBU7/1Q7/9raCJGRCTaAkYG01QNZFtww1LYo1EwKhNwSArlhI8Ej0OiURAIed1FQEPksJu8qIiS//M4xCoSsGIcFDBGQIqWW7wCAvkbSQiKjDp5YSDgdyxYe4986HQ0HdodEpUiSkxBTUUzLjk5LjWqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"));
var $a={n:1,cfop:4,fp:2,roux:4,cf4op:7,cf4o2p2:9},f={n:[],cfop:["cross","F2L","OLL","PLL"],fp:["F2L","LL"],roux:["1st block","2nd block","CMLL","L6E"],cf4op:"cross;1st F2L;2nd F2L;3rd F2L;4th F2L;OLL;PLL".split(";"),cf4o2p2:"cross;1st F2L;2nd F2L;3rd F2L;4th F2L;EOLL;COLL;CPLL;EPLL".split(";")},eb=function(){function f(a,c){a&&void 0==Xa?(requestAnimFrame(h),Xa=1,bb=0):a||void 0==Xa||(Xa=void 0);Ya=c?ab:$a}function h(a){if(0!=w&&-1!=w&&-4!=w&&void 0!=Xa){a=$.now()-Za;var f=Ya===ab?Ta:"";if(-3==w||
-2==w&&b())Qa(Ya,("n"!=d("timeU")?17E3<a?"DNF":15E3<a?"+2":15-~~(a/1E3):TIMER_INSPECT)+f);else{var n=Ra(a,!0);Qa(Ya,{u:n,c:n.replace(/([.>])(\d)\d+(<|$)/,"$1$2$3"),s:n.split(".")[0],n:TIMER_SOLVE,i:TIMER_SOLVE}[d("timeU")]+f)}if(-3==w||-2==w)Ya!==ab&&(12E3<=a?Qa(ab,'<div style="font-family: Arial;">Go!!!&nbsp;&nbsp;</div>'):8E3<=a&&Qa(ab,'<div style="font-family: Arial;">8s!&nbsp;&nbsp;</div>')),"n"!=d("voiceIns")&&(f=Ua,7900<=a&&7900>bb&&(f="1"==d("voiceIns")?Wa:c),11900<=a&&11900>bb&&(f="1"==d("voiceIns")?
Sa:z),f.volume=~~d("voiceVol")/100,f.play());bb=a;requestAnimFrame(h)}}function n(a){$a.css("color",a);ab.css("color",a)}function r(a,c){Qa(c?ab:$a,void 0!=a?Ra(a,!0):"--:--")}function Qa(a,c){var b=a===ab?1:0;cb[b]!==c&&(cb[b]=c,a.html(c))}var $a,ab=$("<div />"),Ya,Xa,Ta="",cb=["",""],bb=0;$(function(){$a=$("#lcd");$("#multiphase").append(ab)});return{setRunning:f,color:n,val:r,setEnable:function(a){a?$a.show():$a.hide()},append:function(a){Qa(ab,ab.html()+a)},setStaticAppend:function(a,c){Ta=c?
Ta+a:a},fixDisplay:function(c,d){var h=!1;0==w?eb.color("red"):-1==w||-4==w?n(c&&d?b()?"#0d0":"#f00":""):-2==w?(n(c&&d?"#0d0":""),h=b()):(-3==w?n(c&&d?"#dd0":"#f00"):n(c?"#0d0":""),h=!0);a.setAutoShow(0==w||-1==w);f(h)},getMulPhaseAppend:function(a,c){for(var b=[],d=c;d>a;d--)b.push(Ra(Va[d]-~~Va[d+1],!0));return a==c||1==c?"":'<div style="font-size: 0.65em">='+b.join("<br>+")+"</div>"},reset:function(a){$a.empty();ab.empty();cb[0]="";cb[1]="";r(0,a);f(!1);Ta=""}}}(),lb=function(){function a(a,c){b.html(c[0]).unbind("click");
void 0!=c[2]?b.addClass("click").click(function(){c[4](c[2][0],c[2][1],c[2][2],c[2][3])}):b.removeClass("click");f.html(c[1]).unbind("click");void 0!=c[3]?f.addClass("click").click(function(){c[4](c[3][0],c[3][1],c[3][2],c[3][3])}):f.removeClass("click")}var c,b=$('<span class="click">'),f=$('<span class="click">'),h=!0;$(function(){c=$("#avgstr").append(b,"<br>",f);n("timer","avg",a)});return{showAvgDiv:function(a){a&&d("showAvg")&&-1!=$.inArray(d("input"),["s","m","t","i","b"])?h||(c.show(),h=!0):
h&&(c.hide(),h=!1)}}}(),cb=function(){function c(){void 0!=Qa&&(clearTimeout(Qa),Qa=void 0)}function f(){if(-1==w||-3==w)-1==w&&eb.reset(),w=-2,Qa=void 0,eb.fixDisplay(!0,!0)}function n(a,c,b){var d=ab;255<a?ab=c?ab&~(1<<a):ab|1<<a:b.ctrlKey||(ab=0);return 32==a||3==d&&255<a||3==ab}var z=0,r=0,Qa=void 0,ab=0;return{onkeydown:function(ab,$a){var Ua=n(ab,0,$a),Sa=$.now();if(!(200>Sa-z)){if(0<w){z=Sa;Va[w]=z-Za;d("phases")!=w&&eb.append("+");1!=d("phases")&&eb.append(Ra(Va[w]-~~Va[w+1],!0)+"&nbsp;<br>");
if(27==ab){Sa=[-1];for(var Wa=1;w<Va.length;)Sa[Wa++]=Va[w++];w=1;Va=Sa}0==--w&&(r=z,eb.val(Va[1]),a.setAutoShow(!0),h("time",Va),32!=ab&&(w=-1))}else Ua?w==(b()?-3:-1)&&void 0==Qa?Qa=setTimeout(f,d("preTime")):-1==w&&b()&&(w=-4):27==ab&&-1>=w&&(c(),w=-1,eb.val(0),a.setAutoShow(!0));eb.fixDisplay(!0,Ua);Ua&&kernel.clrKey()}},onkeyup:function(a,f){a:{var h=n(a,1,f);var z=$.now();if(h)if(0==w)w=-1;else if(-1==w||-3==w){if(c(),500>z-r){eb.fixDisplay(!1,h);h=void 0;break a}}else if(-2==w){w=d("phases");
var Qa=b()?z-Za:0;Va=[17E3<Qa?-1:15E3<Qa?2E3:0];Za=z;eb.reset()}else-4==w&&(w=-3,eb.reset(),Za=z);eb.fixDisplay(!1,h);h&&kernel.clrKey();h=void 0}return h},reset:function(){void 0!=Qa&&(clearTimeout(Qa),Qa=void 0);z=r=0}}}(),mb=function(){var a=$('<textarea id="inputTimer" rows="1" />'),c=0;$(function(){$("#lcd").after(a)});return{setEnable:function(c){c?a.show():a.hide();c?(qb=a,a[0].select(),a.unbind("click").click(function(){a[0].select()})):qb=void 0},parseInput:function(){var b=/^(?:[\d]+\. )?\(?(DNF)?\(?(\d*?):?(\d*?):?(\d*\.?\d*?)(\+)?\)?(?:=([\d:.+]+?))?(?:\[([^\]]+)\])?\)?\s*(?:   ([^@].*?))?(?:   @(.*?))?$/,
d=/^(\d*?):?(\d*?):?(\d*\.?\d*?)$/,f=a.val(),z=$.now();if(/^[\s\n]*$/.exec(f)&&z>c+500)kernel.pushSignal("ctrl",["scramble","next"]),c=z;else for(f=f.split(/\s*[,\n]\s*/),z=0;z<f.length;z++){var n=b.exec(f[z]);if(null!=n&&""!=n[4]){var w=Math.round(36E5*Math.floor(n[2])+6E4*Math.floor(n[3])+1E3*parseFloat(n[4]));if(0!=w){if(""==n[2]&&""==n[3]&&/^\d+$/.exec(n[4])){var r=kernel.getProp("intUN")||20100;w=Math.floor(w/(r%1E4));var Qa=Math.floor(w/1E7);var Ua=Math.floor(w/1E5)%100;var Sa=w%1E5;2E4<r?w=
6E4*(60*Qa+Ua)+Sa:1E4<r&&(w=6E4*(100*Qa+Ua)+Sa)}"DNF"==n[1]?r=-1:"+"==n[5]&&2E3<w?(r=2E3,w-=2E3):r=0;Qa=[];if(n[6]){Qa=n[6].split("+").reverse();Ua=w;for(Sa=0;Sa<Qa.length;Sa++){var $a=d.exec(Qa[Sa]);if(null==$a){Ua=1E8;break}Ua-=Math.round(36E5*Math.floor($a[1])+6E4*Math.floor($a[2])+1E3*parseFloat($a[3]));Qa[Sa]=Math.max(0,Ua)}Math.abs(Ua)>10*Qa.length?Qa=[]:Qa.pop()}Ua=n[7]||"";Sa=n[8];Va=[Ua,Sa,[r,w].concat(Qa)];(w=mathlib.str2time(n[9]))&&Va.push(w);h("time",Va);kernel.clrKey()}}}a.val("")},
clear:function(){a.val("")}}}(),nb=function(){function c(c){if(d){var z=$.now();if(c.on){var r=c.time_milli;if(c.running){if(-3==w||-4==w)n=z-Za-r,eb.reset();w=1;Za=z-r;a.setAutoShow(!1)}else-1==w&&b()&&0==r&&(c.rightHand||c.leftHand)?(w=-3,a.setAutoShow(!1),Za=z):-3!=w&&-4!=w&&(w=-1,eb.val(r),a.setAutoShow(!0));f.running&&!c.running&&0!=c.time_milli&&(n=b()?17E3<n?-1:15E3<n?2E3:0:0,h("time",[n,~~r]));c.greenLight?eb.color("#0d0"):c.rightHand&&c.leftHand?eb.color("#f00"):-4==w?eb.color("#0d0"):eb.color("");
eb.setRunning(-3==w||c.running&&67!=c.signalHeader)}else w=-1,eb.val(),eb.setRunning(!1),eb.color(""),a.setAutoShow(!0);f=c}}var d=!1,f={},n;return{setEnable:function(a){(d="s"==a||"m"==a)?(stackmatutil.setCallBack(c),stackmatutil.init(a,!1).then($.noop,function(){kernel.showDialog([$("<div>Press OK To Connect To Stackmat</div>"),function(){stackmatutil.init(a,!0).then($.noop,console.log)},0,0],"share","Stackmat Connect")})):stackmatutil.stop()},onkeyup:function(a){var c=$.now();32==a&&-4==w&&(w=
-3,eb.reset(),Za=c,eb.fixDisplay(!1,32==a));32==a&&kernel.clrKey()},onkeydown:function(a){var c=$.now();32==a&&-1==w&&b()&&f.on&&0==f.time_milli?(w=-4,Za=c,eb.fixDisplay(!0,!0)):27==a&&-1>=w&&(w=-1,eb.val(0),eb.fixDisplay(!0,!1));32==a&&kernel.clrKey()}}}(),jb=function(){function c(c){if(d)switch(c.state){case GanTimerState.HANDS_ON:eb.color("#f00");break;case GanTimerState.HANDS_OFF:eb.color("");break;case GanTimerState.GET_SET:eb.color("#0d0");break;case GanTimerState.IDLE:switch(w){case -1:b()&&
(w=-3,eb.setRunning(!0),Za=$.now(),a.setAutoShow(!1));break;default:w=-1,eb.reset(),a.setAutoShow(!0)}break;case GanTimerState.RUNNING:-3==w&&(f=$.now()-Za,f=b()?17E3<f?-1:15E3<f?2E3:0:0);Za=$.now();eb.reset();eb.color("");w=1;eb.setRunning(!0);a.setAutoShow(!1);break;case GanTimerState.STOPPED:eb.setRunning(!1);eb.val(c.recordedTime.asTimestamp);a.setAutoShow(!0);h("time",[f,c.recordedTime.asTimestamp]);break;case GanTimerState.DISCONNECT:w=-1,eb.val(),eb.setRunning(!1),eb.color(""),a.setAutoShow(!0)}}
var d=!1,f=0;return{setEnable:function(a){(d="b"==a)?(setTimeout(eb.val,100),kernel.showDialog([$("<div><br><br><b>Press OK to connect to GAN Smart Timer</b><br><br>If you have enabled WCA inspections in settings, use GAN Smart Timer RESET button to start/cancel inspection timer.</div>"),function(){GanTimerDriver.connect().then(function(){GanTimerDriver.setStateUpdateCallback(c);eb.reset(0)})["catch"](function(a){alert(a)})},0,0],"share","GAN Smart Timer")):GanTimerDriver.disconnect()},onkeyup:$.noop,
onkeydown:$.noop}}(),ib=function(){function a(z,w,r,Qa){if(void 0==window.twistyjs)!c&&document.createElement("canvas").getContext?(c=!0,$.getScript("js/twisty.js",a.bind(null,z,w,r,Qa))):Qa(void 0,!0);else if("q"!=d("input")){var Ua=void 0==b;Ua&&(b=new twistyjs.TwistyScene,b.addMoveListener(w),r.empty().append(b.getDomElement()),h=null);b.initializeTwisty(z);f=b.getTwisty();Qa(n,Ua)}else{if(Ua=void 0==h)h=twistyjs.qcube,h.addMoveListener(w),r.empty().append(h.getDomElement()),h.resize(),b=null;
h.init(z);Qa(h,Ua)}}var c=!1,b,f,h,n={keydown:function(a){return b.keydown(a)},resize:function(){return b.resize()},addMoves:function(a){return b.addMoves(a)},applyMoves:function(a){return b.applyMoves(a)},isRotation:function(a){return f.isInspectionLegalMove(f,a)},move2str:function(a){return f.move2str(a)},toggleColorVisible:function(a){return f.toggleColorVisible(f,a)},isSolved:function(a){return f.isSolved(f,a)},moveCnt:function(a){return f.moveCnt(a)},parseScramble:function(a){return f.parseScramble(a)}};
return{init:a}}(),bb=function(){function c(c,n){if(1!=n){var r=$.now();if(-3==w||-2==w){if(Sa.isRotation(c)&&!/^(333ni|444bld|555bld)$/.exec(bb)){0==n&&Ya[0].push([Sa.move2str(c),0]);return}Ra=b()?r-Za:0;Za=r;Xa=0;w=3==mb&&"r3"!=bb?$a[d("vrcMP","n")]:1;var Qa=Ya[0];Ya=[];for(var Ua=0;Ua<w;Ua++)Ya[Ua]=[];Ya[w]=Qa;Ta=w;Va=[17E3<Ra?-1:15E3<Ra?2E3:0];eb.setRunning(!0,!0);a.setAutoShow(!1)}if(1<=w){/^(333ni|444bld|555bld)$/.exec(bb)&&!Sa.isRotation(c)&&Sa.toggleColorVisible(0==Sa.isSolved(d("vrcMP","n")));
0==n&&Ya[w-1].push([Sa.move2str(c),r-Za]);if(2==n){var Wa=Sa.isSolved(d("vrcMP","n"));if(Wa<w)for(Ua=w;Ua>Wa;Ua--)Va[Ua]=r-Za;w=Math.min(Wa,w)||1;1<Ta&&eb.setStaticAppend(eb.getMulPhaseAppend(w,Ta))}0==Wa&&2==n&&(Xa+=Sa.moveCnt(),bb.match(/^r\d+$/)&&0!=cb.length?("r3"!=bb&&mb++,f(!0),z()):(a.setAutoShow(!0),w=-1,eb.setRunning(!1),eb.setStaticAppend(""),eb.val(Va[1],!0),eb.append(eb.getMulPhaseAppend(0,Ta)),eb.append('<div style="font-family: Arial; font-size: 0.5em">'+Xa+" moves<br>"+~~(1E5*Xa/Va[1])/
100+" tps</div>"),Ya.reverse(),h("time",["",0,Va,0,[$.map(Ya,cubeutil.moveSeq2str).join(" ")]])))}}}function f(a){if((!nb||d("input")!=Wa)&&kb){nb=!0;Wa=d("input");var b=mb;b||(b=3);b={type:"cube",faceColors:r(kernel.getProp("colcube"),[3,4,5,0,1,2]),dimension:b,stickerWidth:1.7,scale:.9};"skb"==lb?b={type:"skewb",faceColors:r(kernel.getProp("colskb"),[0,5,4,2,1,3]),scale:.9}:"mgm"==lb?b={type:"mgm",faceColors:r(kernel.getProp("colmgm"),[0,2,1,5,4,3,11,9,8,7,6,10]),scale:.9}:"pyr"==lb?b={type:"pyr",
faceColors:r(kernel.getProp("colpyr"),[3,1,2,0]),scale:.9}:"sq1"==lb&&(b={type:"sq1",faceColors:r(kernel.getProp("colsq1"),[0,5,4,2,1,3]),scale:.9});ib.init(b,c,jb,function(c,b){Sa=c;b&&!Sa&&(jb.css("height",""),jb.html("--:--"));a||(eb.setRunning(!1,!0),eb.setStaticAppend(""),Ua(d("timerSize")))})}}function z(){f();var a=cb;bb.match(/^r\d+$/)&&(a=cb.shift().match(/\d+\) (.*)$/)[1],eb.setStaticAppend("<br>"+(cb.length+1)+"/"+cb.len));a=Sa.parseScramble(a);nb=!1;Sa.applyMoves(a);Sa.moveCnt(!0);Ya=
[[]]}function Qa(a,c){if("scramble"==a){bb=c[0];cb=c[1];var b=tools.puzzleType(bb),d=sb.indexOf(b);"cubennn"==b&&(d=c[2]);-1==d||mb==d&&lb==b||(mb=d,lb=b,nb=!1,f());if(b=c[0].match(/^r(\d)\d*$/))cb=cb.split("\n"),cb.len=cb.length,mb!=~~b[1]&&(mb=~~b[1],nb=!1,f())}}function Ua(a){jb.css("height",a*$("#logo").width()/9+"px");Sa&&Sa.resize()}var Sa,Wa="",Ra=0,Xa=0,Ta=1,cb,bb,mb,lb,sb=" sq1 222 333 444 555 666 777 888 999 101010 111111 skb mgm pyr".split(" "),nb=!1,jb=$("<div />"),kb=!1;$(function(){n("timer",
"scramble",Qa);jb.appendTo("#container")});return{onkeydown:function(c){if(void 0!=Sa){var d=$.now();if(-1==w)32==c&&(z(),b()?(w=-3,Za=d,eb.setRunning(!0,!0)):(eb.setRunning(!1,!0),eb.val(0,!0),w=-2),a.setAutoShow(!1));else if(-3==w||-2==w||1<=w)27==c?(a.setAutoShow(!0),1<=w&&h("time",["",0,[-1,d-Za],0,[$.map(Ya,cubeutil.moveSeq2str).join(" ")]]),f(),w=-1):Sa.keydown({keyCode:c});27!=c&&32!=c||kernel.clrKey()}},setEnable:function(a){(kb=a)?jb.show():jb.hide()},setSize:Ua,reset:f}}(),kb=function(){function c(){Wa&&
(clearTimeout(Wa),Wa=0);Ra&&(clearTimeout(Ra),Ra=0)}function n(n,r,Qa){bb=n;if(Sa){Ua&&mb.setState(n,r,!1);c();if(-1==w){if(n!=mathlib.SOLVED_FACELET){var ab=d("giiSD");"s"==ab?giikerutil.checkScramble()&&z(Qa):"n"!=ab&&(Wa=setTimeout(function(){z(Qa)},1E3*~~ab));ab=d("giiSM");"n"!=ab&&{x4:/^([URFDLB][ '])\1\1\1$/,xi2:/^([URFDLB])( \1'\1 \1'|'\1 \1'\1 )$/}[ab].exec(r.join(""))&&(Ra=setTimeout(function(){z(Qa)},1E3))}}else if(-3==w||-2==w){Xa=b()?Qa-Za:0;Za=Qa;w=$a[d("vrcMP","n")];Ya=[];for(ab=0;ab<
w;ab++)Ya[ab]=[];cb=w;Va=[17E3<Xa?-1:15E3<Xa?2E3:0];eb.fixDisplay(!1,!0);eb.setRunning(!0,Ua);a.setAutoShow(!1)}if(1<=w){Ya[w-1].push([r[0],Qa-Za]);r=cubeutil.getProgress(n,kernel.getProp("vrcMP","n"));if(r<w)for(ab=w;ab>r;ab--)Va[ab]=Qa-Za;w=Math.min(r,w)||1;eb.setStaticAppend(eb.getMulPhaseAppend(w,cb));if(n==mathlib.SOLVED_FACELET){Ya.reverse();n=cubeutil.getPrettyMoves(Ya);r="";var db=f[kernel.getProp("vrcMP","n")],Ta=0;for(ab=0;ab<n.length;ab++)Ta+=n[ab][1],r+=n[ab][0]+(db[ab]?" //"+db[ab]+" "+
n[ab][1]+" move(s)%0A":"");giikerutil.setLastSolve(r);w=-1;Va[1]=Qa-Za;a.setAutoShow(!0);eb.setRunning(!1,Ua);eb.setStaticAppend("");eb.fixDisplay(!1,!0);eb.val(Va[1],Ua);eb.append(eb.getMulPhaseAppend(0,cb));eb.append('<div style="font-family: Arial; font-size: 0.5em">'+Ta+" moves<br>"+~~(1E5*Ta/Va[1])/100+" tps</div>");if(0!=Va[1]){r=[$.map(Ya,cubeutil.moveSeq2str).join(" ")];r[n.length]=n[0][1];for(ab=1;ab<n.length;ab++)r[n.length-ab]=r[n.length-ab+1]+n[ab][1];h("time",["",0,Va,0,r])}}}}}function z(f){c();
-1==w&&(giikerutil.markScrambled(),giikerutil.checkScramble()||h("scramble",["333",scramble_333.genFacelet(bb),0]),w=-2,Za=f,eb.fixDisplay(!0,!0),b()&&eb.setRunning(!0,Ua),a.setAutoShow(!1),d("giiBS")&&metronome.playTick())}function Qa(a){(Ua=a)?Ta.show():Ta.hide();a&&mb.initVRC()}var Sa=!1,Ua=!1,Wa=0,Ra=0,Xa=0,Ta=$("<div />"),cb=1,bb=mathlib.SOLVED_FACELET,mb=function(){function a(a){void 0!=f&&!n&&Ua&&(n=!0,f.initializeTwisty({type:"cube",faceColors:r(kernel.getProp("colcube"),[3,4,5,0,1,2]),dimension:3,
stickerWidth:1.7,scale:.9}),w.fromFacelet(mathlib.SOLVED_FACELET),h=f.getTwisty(),a||c(d("timerSize")))}function c(a){Ta.css("height",a*$("#logo").width()/9+"px");f&&f.resize()}function b(){void 0==f&&(void 0!=window.twistyjs?(f=new twistyjs.TwistyScene,Ta.empty().append(f.getDomElement()),a(),f.resize(),z=!1):!z&&document.createElement("canvas").getContext?($.getScript("js/twisty.js",b),z=!0):(Ta.css("height",""),Ta.html("--:--")))}var f,h,n=!1,z=!1,w=new mathlib.CubieCube,Qa=new mathlib.CubieCube,
Sa=new mathlib.CubieCube;return{resetVRC:a,initVRC:b,setState:function(c,b,d){Qa.fromFacelet(c);d=[];for(var z=!0,r=0;r<b.length;r++){d.push(b[r]);var Ua=3*"URFDLB".indexOf(b[r][0])+"'2 ".indexOf(b[r][1]);if(0<=Ua&&18>Ua&&(mathlib.CubieCube.EdgeMult(Qa,mathlib.CubieCube.moveCube[Ua],Sa),mathlib.CubieCube.CornMult(Qa,mathlib.CubieCube.moveCube[Ua],Sa),Ua=Qa,Qa=Sa,Sa=Ua,Qa.isEqual(w))){z=!1;break}}z?(a(!1),w.fromFacelet(mathlib.SOLVED_FACELET),d=scramble_333.genFacelet(c)):d=d.reverse().join(" ");b=
d.match(/^\s*$/)?[]:h.parseScramble(d);5>b.length?f.addMoves(b):f.applyMoves(b);n=!1;w.fromFacelet(c)},setSize:c}}();$(function(){Ta.appendTo("#container")});return{setEnable:function(a){(Sa="g"==a)?(giikerutil.setCallBack(n),(a=giikerutil.init())&&a.then($.noop,function(a){a.code==a.SECURITY_ERR&&kernel.showDialog([$("<div>Press OK To Connect To Giiker Cube</div>"),function(){giikerutil.init().then($.noop,console.log)},0,0],"share","Giiker Connect")})):GiikerCube.stop();Qa(Sa&&d("giiVRC"))},onkeydown:function(b){27==
b?(c(),w=-1,a.setAutoShow(!0),eb.val(0,Ua),eb.setRunning(!1,Ua),eb.fixDisplay(!1,!0)):32==b&&d("giiSK")&&bb!=mathlib.SOLVED_FACELET&&-1==w&&z($.now())},setVRC:Qa,setSize:mb.setSize}}(),sb="input phases preScr useMilli smallADP giiVRC".split(" ");$(function(){Qa=$("#container");n("timer","property",function(c,b){"timerSize"==b[0]&&(Qa.css("font-size",b[1]+"em"),bb.setSize(b[1]),kb.setSize(b[1]));"timerSize"!=b[0]&&"phases"!=b[0]||$("#multiphase").css("font-size",d("timerSize")/Math.max(d("phases"),
4)+"em");"input"==b[0]&&(nb.setEnable(b[1]),kb.setEnable(b[1]),jb.setEnable(b[1]));"showAvg"==b[0]&&lb.showAvgDiv(b[1]);"giiVRC"==b[0]&&"set"!=b[2]&&kb.setEnable(d("input"));if(-1!=$.inArray(b[0],sb)){var f=d("input");w=-1;bb.setEnable("v"==f||"q"==f);bb.reset();eb.setEnable("i"!=f);eb.reset("v"==f||"q"==f||"g"==f&&d("giiVRC"));cb.reset();mb.setEnable("i"==f);a.setAutoShow(!0)}},/^(?:input|phases|scrType|preScr|timerSize|showAvg|useMilli|smallADP|giiVRC)$/);Ta("vrc","vrcSpeed",1,PROPERTY_VRCSPEED,
[100,[0,50,100,200,500,1E3]," 20 10 5 2 1".split(" ")],1);Ta("vrc","vrcMP",1,PROPERTY_VRCMP,["n","n cfop fp cf4op cf4o2p2 roux".split(" "),PROPERTY_VRCMPS.split("|")],1);Ta("vrc","vrcAH",1,"Useless pieces in huge cube",["01",["00","01","10","11"],["Hide","Border","Color","Show"]],1);Ta("vrc","giiVRC",0,PROPERTY_GIIKERVRC,[!0],1);Ta("vrc","giiSD",1,PROPERTY_GIISOK_DELAY,["s","2345ns".split(""),PROPERTY_GIISOK_DELAYS.split("|")],1);Ta("vrc","giiSK",0,PROPERTY_GIISOK_KEY,[!0],1);Ta("vrc","giiSM",1,
PROPERTY_GIISOK_MOVE,["n",["x4","xi2","n"],PROPERTY_GIISOK_MOVES.split("|")],1);Ta("vrc","giiBS",0,PROPERTY_GIISBEEP,[!0],1);Ta("vrc","giiRST",1,PROPERTY_GIIRST,["p",["a","p","n"],PROPERTY_GIIRSTS.split("|")]);Ta("vrc","giiAED",0,PROPERTY_GIIAED,[!1]);Ta("timer","useMouse",0,PROPERTY_USEMOUSE,[!1],1);Ta("timer","useIns",1,PROPERTY_USEINS,["n",["a","b","n"],PROPERTY_USEINS_STR.split("|")],1);Ta("timer","voiceIns",1,PROPERTY_VOICEINS,["1",["n","1","2"],PROPERTY_VOICEINS_STR.split("|")],1);Ta("timer",
"voiceVol",2,PROPERTY_VOICEVOL,[100,1,100],1);Ta("timer","input",1,PROPERTY_ENTERING,["t","tismvgqb".split(""),PROPERTY_ENTERING_STR.split("|")],1);Ta("timer","intUN",1,PROPERTY_INTUNIT,[20100,[1,100,1E3,10001,10100,11E3,20001,20100,21E3],"X X.XX X.XXX X:XX X:XX.XX X:XX.XXX X:XX:XX X:XX:XX.XX X:XX:XX.XXX".split(" ")],1);Ta("timer","timeU",1,PROPERTY_TIMEU,["c",["u","c","s","i","n"],PROPERTY_TIMEU_STR.split("|")],1);Ta("timer","preTime",1,PROPERTY_PRETIME,[300,[0,300,550,1E3],["0","0.3","0.55","1"]],
1);Ta("timer","phases",2,PROPERTY_PHASES,[1,1,10],3);Ta("kernel","showAvg",0,SHOW_AVG_LABEL,[!0],1);Ta("ui","timerSize",2,PROPERTY_TIMERSIZE,[20,1,100],1);Ta("ui","smallADP",0,PROPERTY_SMALLADP,[!0],1)});var qb;return{onkeydown:function(c){if(!a.isPop()){var b=Xa(c),f=$(document.activeElement);if(f.is("input, textarea, select"))"i"==d("input")&&"inputTimer"==f.prop("id")&&13==b&&mb.parseInput();else switch(f.blur(),d("input")){case "t":cb.onkeydown(b,c);break;case "s":nb.onkeydown(b,c);break;case "b":jb.onkeydown(b,
c);break;case "v":case "q":bb.onkeydown(b,c);break;case "g":kb.onkeydown(b,c)}}},onkeyup:function(c){if(!a.isPop()){var b=Xa(c),f=$(document.activeElement);if(f.is("input, textarea, select"))"i"==d("input")&&"inputTimer"==f.prop("id")&&13==b&&mb.clear();else switch(f.blur(),d("input")){case "t":cb.onkeyup(b,c);break;case "s":nb.onkeyup(b,c);break;case "b":jb.onkeyup(b,c)}}},showAvgDiv:lb.showAvgDiv,refocus:function(){void 0!=qb?qb.focus():document.activeElement&&document.activeElement.blur&&document.activeElement.blur()},
getCurTime:function(a){return 0<w?(a||$.now())-Za:0}}},[kernel.regListener,kernel.regProp,kernel.getProp,kernel.pretty,kernel.ui,kernel.pushSignal]);var scrMgr=function(n,Ta){function d(a,b,d){a=a||[[""]];b=b||[""];d=d||0;for(var h=0,r=-1,Qa=[],Ya,Ua,Wa=0;Wa<d;Wa++){do Ya=n(a.length),Ua=n(a[Ya].length),Ya!=r&&(h=0,r=Ya);while(0!=(h>>Ua&1));h|=1<<Ua;a[Ya][Ua].constructor==Array?Qa.push(Ta(a[Ya][Ua])+Ta(b)):Qa.push(a[Ya][Ua]+Ta(b))}return Qa.join(" ")}function Ra(d,n,Qa){DEBUG&&console.log("[regscr]",d);if($.isArray(d))for(Qa=0;Qa<d.length;Qa++)a[d[Qa]]=n;else a[d]=n,void 0!=Qa&&(h[d]=Qa[0],b[d]=Qa[1]);return Ra}var a={blank:function(){return"N/A"}},
h={},b={};return{reg:Ra,scramblers:a,filters:h,probs:b,mega:d,formatScramble:function(b){return b.replace(/[$#]\{([^\}]+)\}/g,function(b,h){if("$"==b[0]){var n=[h];"["==h[0]&&(n=JSON.parse(h));return a[n[0]].apply(this,n)}return"#"==b[0]?d.apply(this,JSON.parse("["+h+"]")):""})},rndState:function(a,b){if(void 0!=b){var d=b.slice();void 0==a&&(a=d);for(var h=0;h<a.length;h++)a[h]||(d[h]=0);return mathlib.rndProb(d)}},fixCase:function(a,b){return void 0==a?mathlib.rndProb(b):a}}}(mathlib.rn,mathlib.rndEl),
scramble=execMain(function(n,Ta){function d(){kernel.blur();kb.html("Scrambling...");yb=!db||/^(remote|input$)/.exec(db)?yb:db;Bb||(ub=db,ab=ob,Cb=hb);Bb=!1;ab&&zb.addClass("click").unbind("click").click(Ra);db=lb.getSelected();hb=~~bb.val();ub!=db&&kernel.setProp("scrType",db);ob="";requestAnimFrame(r)}function Ra(){Bb=!0;kb.html(b(ub,ab,Cb,!0));zb.removeClass("click").unbind("click");void 0!=ab&&kernel.pushSignal("scrambleX",b(ub,ab,Cb))}function a(){Bb?(Bb=!1,kb.html(b(db,ob,hb,!0)),zb.addClass("click").unbind("click").click(Ra),
kernel.pushSignal("scrambleX",b(db,ob,hb))):d()}function h(){if(ob){var c=kernel.getProp("scrClk","n");"c"==c?$.clipboardCopy(kb.text())&&logohint.push("scramble copied"):"+"==c&&a()}}function b(a,c,b,d){c=c||"";b=b||0;var f=/^\$T([a-zA-Z0-9]+)(-[0-9]+)?\$\s*(.*)$/.exec(c);f&&(a=f[1],c=f[3],b=~~f[2]);return d?(a=kernel.getProp("scrASize")?Math.max(.25,Math.round(20*Math.pow(50/Math.max(c.length,10),.3))/20):1,kb.css("font-size",a+"em"),DEBUG&&console.log("[scrFontSize]",a),c.replace(/~/g,"&nbsp;").replace(/\\n/g,
"\n").replace(/`([^']*)`/g,kernel.getProp("scrKeyM",!1)?"<u>$1</u>":"$1")):[a,c.replace(/~/g,"").replace(/\\n/g,"\n").replace(/`([^']*)`/g,"$1"),b]}function r(){w();ob?(ob=ob.replace(/(\s*)$/,""),kb.html(b(db,ob,hb,!0)),kernel.pushSignal("scramble",b(db,ob,hb))):kb.html("Scrambling... ")}function Xa(a,c,b){rb&&(csTimerWorker&&csTimerWorker.getScramble?xb=xb||csTimerWorker.getScramble(a,function(a,c){DEBUG&&console.log("[scrcache]",a+" cached by csTimerWorker");Qa(a,c)}.bind(void 0,c)):b||(xb=xb||
setTimeout(function(a,c){var b=Sa[c[0]];Qa(a,b.apply(b,c))}.bind(void 0,c,a),500)))}function Qa(a,c){var b=JSON.parse(localStorage.cachedScr||null)||{};$.isArray(b)&&(b={});b[a]=c;localStorage.cachedScr=JSON.stringify(b);xb=0}function w(){if(db){ob="";var a=qb[db]||db;if("input"==a)ob=Mb.next();else if(Mb.clear(),a.startsWith("remote"))ob=vb.next(a);else if(vb.clear(),a in Sa){var c=JSON.parse(localStorage.cachedScr||null)||{},b=JSON.stringify([a,hb,pb[1]]);rb&&b in c?(ob=c[b],delete c[b],localStorage.cachedScr=
JSON.stringify(c)):ob=Sa[a](a,hb,Fb(pb[1],z[a]));Xa([a,hb,Fb(pb[1],z[a])],b)}else requestAnimFrame(r)}}function Va(){kernel.blur();var a=lb.getSelIdx();a=scrdata[a[0]][1][a[1]][2];bb.val(Math.abs(a));bb[0].disabled=0>=a;a=lb.getSelected();pb=JSON.parse(kernel.getProp("scrFlt",JSON.stringify([a,c[a]])));cb[0].disabled=bb[0].disabled&&!(a in c);pb[0]!=a&&(pb=[a,c[a]&&mathlib.valuedArray(c[a].length,1)],kernel.setProp("scrFlt",JSON.stringify(pb),"session"))}function Za(){Va();d()}function Ya(){function a(){if(db in
c){for(var a=mathlib.valuedArray(c[db].length,1),f=!1,n=0;n<b.length;n++)b[n][0].checked?f=!0:a[n]=0;f?(pb=[db,a],a=JSON.stringify(pb),kernel.getProp("scrFlt")!=a&&(h=!0,kernel.setProp("scrFlt",a))):alert("Should Select At Least One Case");h&&d()}}nb.empty();var b=[],f=[],h=!1;if(db in c){var n=c[db],z=n;pb[0]==db&&(z=pb[1]||n);nb.append("<br>",jb,ib,"<br><br>");for(var w={},r=0;r<n.length;r++){var Qa=n[r].indexOf("-");-1==Qa?w[n[r]]=[r]:(Qa=n[r].slice(0,Qa),w[Qa]=w[Qa]||[],w[Qa].push(r))}for(r=0;r<
n.length;r++)Qa=$('<input type="checkbox">').val(r),z[r]&&(Qa[0].checked=!0),b.push(Qa),f.push($("<label>").append(Qa,n[r]));var Ua=function(a){var c=0;$.each(w[a],function(a,d){c+=b[d][0].checked?1:0});return c+"/"+w[a].length},Sa;for(Sa in w)1==w[Sa].length&&nb.append(f[w[Sa][0]]);for(Sa in w)1!=w[Sa].length&&nb.append($("<div>").attr("data",Sa).append($("<span>").html(Sa+" "+Ua(Sa))," | ",$('<span class="click">').html("All").click(function(){var a=$(this).parent().attr("data");$.each(w[a],function(a,
c){b[c][0].checked=!0});$(this).parent().children().first().html(a+" "+Ua(a))})," | ",$('<span class="click">').html("None").click(function(){var a=$(this).parent().attr("data");$.each(w[a],function(a,c){b[c][0].checked=!1});$(this).parent().children().first().html(a+" "+Ua(a))})," | ",$('<span class="click">[+]</span>').click(function(){$(this).next().toggle()}),$("<div>").append($.map(w[Sa],function(a){b[a].change(function(){var a=$(this).parent().parent().parent().attr("data");$(this).parent().parent().parent().children().first().html(a+
" "+Ua(a))});return f[a]})).hide()));jb.unbind("click").click(function(){for(var a=0;a<b.length;a++)b[a][0].checked||(b[a][0].checked=!0),b[a].change()});ib.unbind("click").click(function(){for(var a=0;a<b.length;a++)b[a][0].checked&&(b[a][0].checked=!1),b[a].change()})}kernel.showDialog([mb,a,null,a],"scropt","Scramble Options")}function Ua(c,h){"time"==c?Ib?d():(kb.empty(),kernel.pushSignal("scramble",["-","",0])):"property"==c?"scrSize"==h[0]?sb.css("font-size",h[1]/7+"em"):"scrMono"==h[0]?$a.css("font-family",
h[1]?"SimHei, Monospace":"Arial"):"scrType"==h[0]?h[1]!=lb.getSelected()&&(lb.loadVal(h[1]),Za()):"scrLim"==h[0]?h[1]?sb.addClass("limit"):sb.removeClass("limit"):"scrAlign"==h[0]?"c"==h[1]?$a.css("text-align","center"):"l"==h[1]?$a.css("text-align","left"):"r"==h[1]&&$a.css("text-align","right"):"scrFast"==h[0]?(qb["444wca"]=h[1]?"444m":"444wca","444wca"==db&&d()):"scrKeyM"==h[0]?kb.html(Bb?b(ub,ab||"",Cb||0,!0):b(db,ob||"",hb,!0)):"scrHide"==h[0]&&(h[1]?f.hide():f.show()):"button"==c&&"scramble"==
h[0]?(Ib=h[1])&&""==kb.html()&&d():"ctrl"==c&&"scramble"==h[0]&&("last"==h[1]?Ra():"next"==h[1]&&a())}function Wa(a,c){for(var b=0;b<scrdata.length;b++)for(var d=0;d<scrdata[b][1].length;d++)if(scrdata[b][1][d][1]==a){c(b,d);return}}var Sa=scrMgr.scramblers,c=scrMgr.filters,z=scrMgr.probs,$a=$('<div id="scrambleDiv"/>'),f=$("<div />").addClass("title"),eb=[$("<select />"),$("<select />")],lb=new kernel.TwoLvMenu(scrdata,Za,eb[0],eb[1],"333"),cb=$('<input type="button" class="icon">').val(""),mb=
$("<div>"),nb=$('<div class="sflt">'),jb=$('<input type="button">').val("Select All"),ib=$('<input type="button">').val("Select None"),bb=$('<input type="text" maxlength="3">'),kb=$("<div>"),sb=$('<div id="scrambleTxt"/>'),qb={"333oh":"333","333ft":"333"},pb="",fb=$("<textarea />"),db,ob,hb=0,ub,ab,Cb=0,yb="333",Bb=!1,zb=$("<span />").html(SCRAMBLE_LAST),tb=$("<span />").addClass("click").html(SCRAMBLE_NEXT).click(a),rb=!0,xb=0;$(function(){if(csTimerWorker&&csTimerWorker.getScramble){var a=['["444wca",40,null]'],
c=JSON.parse(localStorage.cachedScr||null)||{};$.isArray(c)&&(c={});for(var b=0;b<a.length;b++)a[b]in c||setTimeout(Xa.bind(void 0,JSON.parse(a[b]),a[b],!0),2500+~~(5E3*Math.random()))}});var vb=function(){function a(){kernel.setProp("scrType",yb)}function c(a){if(!$.isArray(a))return!1;b=a;return 0!=b.length}var b=[];return{next:function(d){for(var f=null;!f&&0!=b.length;)f=b.shift();if(f)return f;"remoteComp"==d?(onlinecomp||a(),f=onlinecomp.getScrambles(),c(f)?requestAnimFrame(r):a()):"remoteURL"==
d&&$.getJSON("https://cstimer.net/testRemoteScramble.php",function(b){c(b)?requestAnimFrame(r):a()}).error(a);return""},clear:function(){b=[]}}}(),Mb=function(){function a(){var a=fb.val();if(a.match(/^\s*$/))a=!1;else{b=[];a=a.split("\n");for(var c=0;c<a.length;c++){var d=a[c];null==d.match(/^\s*$/)&&b.push(d.replace(/^\d+[\.\),]\s*/,""))}a=0!=b.length}a?r():kernel.setProp("scrType",yb)}function c(){kernel.setProp("scrType",yb)}var b=[];return{next:function(){for(var d=null;!d&&0!=b.length;)d=b.shift();
if(d)return d;fb.val("");kernel.showDialog([fb,a,c],"input",SCRAMBLE_INPUT);return""},clear:function(){b=[]}}}(),Ib=!1,Db=function(){function a(){for(var a=~~d.val(),c="",b=ob,n=h.val(),z=0;z<a;z++)w(),c+=n.replace("1",z+1)+ob+"\n";ob=b;f.text(c);f.select()}var c=$("<div />").css("text-align","center").css("font-size","0.7em"),b=$("<span />").addClass("click").html(SCRGEN_GEN),d=$('<input type="text" maxlength="3">').val(5),f=$('<textarea rows="10" style="width: 100%" readonly />'),h=$('<select><option value="1. ">1. </option><option value="1) ">1) </option><option value="(1) ">(1) </option><option value=""></option></select>');
c.append(SCRGEN_NSCR,d,"&nbsp;",SCRGEN_PRE).append(h,"<br>",b,"<br>",f);return function(d){d&&(d.empty().append(c.width($a.width()/2)),h.unbind("change").change(kernel.blur),b.unbind("click").click(a))}}(),Fb=scrMgr.rndState;$(function(){kernel.regListener("scramble","time",Ua);kernel.regListener("scramble","property",Ua,/^scr(?:Size|Mono|Type|Lim|Align|Fast|KeyM|Hide)$/);kernel.regListener("scramble","button",Ua,/^scramble$/);kernel.regListener("scramble","ctrl",Ua,/^scramble$/);kernel.regProp("scramble",
"scrSize",2,PROPERTY_SCRSIZE,[15,5,50],1);kernel.regProp("scramble","scrASize",0,PROPERTY_SCRASIZE,[!0],1);kernel.regProp("scramble","scrMono",0,PROPERTY_SCRMONO,[!0],1);kernel.regProp("scramble","scrLim",0,PROPERTY_SCRLIM,[!1],1);kernel.regProp("scramble","scrAlign",1,PROPERTY_SCRALIGN,["c",["c","l","r"],PROPERTY_SCRALIGN_STR.split("|")],1);kernel.regProp("scramble","preScr",1,"pre-scramble",[""," z2 z' z x' x".split(" ")," z2 z' z x' x".split(" ")],1);kernel.regProp("scramble","scrFast",0,PROPERTY_SCRFAST,
[!1]);kernel.regProp("scramble","scrKeyM",0,PROPERTY_SCRKEYM,[!1],1);kernel.regProp("scramble","scrClk",1,PROPERTY_SCRCLK,["n",["n","c","+"],PROPERTY_SCRCLK_STR.split("|")],1);kernel.regProp("scramble","scrType",-6,"Scramble Type",["333"],3);bb.change(d);cb.click(Ya);mb.append($("<div>").append(SCRAMBLE_LENGTH+": ",bb),nb);f.append($("<nobr>").append(eb[0]," ",eb[1]," ",cb)," <wbr>");f.append($("<nobr>").append(zb,"/",tb,SCRAMBLE_SCRAMBLE));$a.append(f,sb.append(kb).click(h));tools.regTool("scrgen",
TOOLS_SCRGEN,Db);sb.click(function(){f.show();kernel.blur();kernel.setProp("scrHide",!1)});kernel.regProp("ui","scrHide",-1,"Hide Scramble Selector",[!1]);kernel.addWindow("scramble",BUTTON_SCRAMBLE,$a,!0,!0,3);Va()});return{getTypeName:function(a){var c="";Wa(a,function(a,b){c=scrdata[a][0]+">"+scrdata[a][1][b][0]});return c},getTypeIdx:function(a){var c=1E300;Wa(a,function(a,b){c=100*a+b});return c},scrStd:b,setCacheEnable:function(a){rb=a}}},[mathlib.rn,mathlib.rndEl]);(function(n,Ta,d){function Ra(a,b){var d=Xa[a];switch(d.length){case 1:return n(d[0],[""],b);case 2:return n(d[0],d[1],b);case 3:return n(d[0],d[1],d[2])}}function a(a,h){var n=w[a],r=n[1],Qa=n[2],c=0,z=0,$a=[],f=[["R","R'"],["R'","R"],["L","L'"],["L'","L"],["F'","F"],["F","F'"],["B","B'"],["B'","B"]],Ra=["U","D"];n=n[0];for(var Ya=0;Ya<Qa.length;Ya++)$a[Ya]=0;for(Ya=0;Ya<h;Ya++){for(var Va=!1;!Va;)for(var Xa="",Za=0;Za<Qa.length;Za++){var jb=Ta(4);$a[Za]+=jb;0!=jb&&(Va=!0,Xa+=" "+Qa[Za]+b[jb-1])}Va=
Ta(8);Za=Ta(2);jb=Ta(3);n+=Xa+" "+f[Va][0]+" "+Ra[Za]+b[jb]+" "+f[Va][1];0==Za&&(c+=jb+1);1==Za&&(z+=jb+1)}for(Ya=0;Ya<Qa.length;Ya++)jb=4-$a[Ya]%4,4>jb&&(n+=" "+Qa[Ya]+b[jb-1]);c=4-c%4;z=4-z%4;4>c&&(n+=" U"+b[c-1]);4>z&&(n+=" D"+b[z-1]);return n+=" "+d(r)}function h(a,b){var d=Qa[a].replace(/%l/g,b).replace(/%c/g,'["","2","\'"]');return scrMgr.formatScramble(d)}var b=["","2","'"],r=["","2","'","2'"],Xa={111:[[["x"],["y"],["z"]],b],2223:[[["U"],["R"],["F"]],b],2226:[[[["U","D"]],[["R","L"]],[["F",
"B"]]],b],"333o":[[["U","D"],["R","L"],["F","B"]],b],334:[[[["U","U'","U2"],["u","u'","u2"]],[["R2","L2","M2"]],[["F2","B2","S2"]]]],336:[[[["U","U'","U2"],["u","u'","u2"],["3u","3u2","3u'"]],[["R2","L2","M2"]],[["F2","B2","S2"]]]],888:[["U D u d 3u 3d 4u".split(" "),"R L r l 3r 3l 4r".split(" "),"F B f b 3f 3b 4f".split(" ")],b],999:[["U D u d 3u 3d 4u 4d".split(" "),"R L r l 3r 3l 4r 4l".split(" "),"F B f b 3f 3b 4f 4b".split(" ")],b],101010:[["U D u d 3u 3d 4u 4d 5u".split(" "),"R L r l 3r 3l 4r 4l 5r".split(" "),
"F B f b 3f 3b 4f 4b 5f".split(" ")],b],111111:[["U D u d 3u 3d 4u 4d 5u 5d".split(" "),"R L r l 3r 3l 4r 4l 5r 5l".split(" "),"F B f b 3f 3b 4f 4b 5f 5b".split(" ")],b],444:[[["U","D","u"],["R","L","r"],["F","B","f"]],b],"444m":[[["U","D","Uw"],["R","L","Rw"],["F","B","Fw"]],b],555:[[["U","D","u","d"],["R","L","r","l"],["F","B","f","b"]],b],"555wca":[[["U","D","Uw","Dw"],["R","L","Rw","Lw"],["F","B","Fw","Bw"]],b],"666p":[[["U","D","2U","2D","3U"],["R","L","2R","2L","3R"],["F","B","2F","2B","3F"]],
b],"666wca":[[["U","D","Uw","Dw","3Uw"],["R","L","Rw","Lw","3Rw"],["F","B","Fw","Bw","3Fw"]],b],"666s":[[["U","D","U&sup2;","D&sup2;","U&sup3;"],["R","L","R&sup2;","L&sup2;","R&sup3;"],["F","B","F&sup2;","B&sup2;","F&sup3;"]],b],"666si":[[["U","D","u","d","3u"],["R","L","r","l","3r"],["F","B","f","b","3f"]],b],"777p":[["U D 2U 2D 3U 3D".split(" "),"R L 2R 2L 3R 3L".split(" "),"F B 2F 2B 3F 3B".split(" ")],b],"777wca":[["U D Uw Dw 3Uw 3Dw".split(" "),"R L Rw Lw 3Rw 3Lw".split(" "),"F B Fw Bw 3Fw 3Bw".split(" ")],
b],"777s":[["U D U&sup2; D&sup2; U&sup3; D&sup3;".split(" "),"R L R&sup2; L&sup2; R&sup3; L&sup3;".split(" "),"F B F&sup2; B&sup2; F&sup3; B&sup3;".split(" ")],b],"777si":[["U D u d 3u 3d".split(" "),"R L r l 3r 3l".split(" "),"F B f b 3f 3b".split(" ")],b],cm3:[[[["U<","U>","U2"],["E<","E>","E2"],["D<","D>","D2"]],[["R^","Rv","R2"],["M^","Mv","M2"],["L^","Lv","L2"]]]],cm2:[[[["U<","U>","U2"],["D<","D>","D2"]],[["R^","Rv","R2"],["L^","Lv","L2"]]]],233:[[[["U","U'","U2"]],["R2","L2"],["F2","B2"]]],
fto:[[["U","D"],["F","B"],["L","BR"],["R","BL"]],["","'"]],gear:[[["U"],["R"],["F"]]," 2 3 4 5 6 ' 2' 3' 4' 5'".split(" ")],sfl:[[["R","L"],["U","D"]],b],ufo:[[["A"],["B"],["C"],[["U","U'","U2'","U2","U3"]]]],"2gen":[[["U"],["R"]],b],"2genl":[[["U"],["L"]],b],roux:[[["U"],["M"]],b],"3gen_F":[[["U"],["R"],["F"]],b],"3gen_L":[[["U"],["R","L"]],b],RrU:[[["U"],["R","r"]],b],RrUu:[[["U","u"],["R","r"]],b],minx2g:[[["U"],["R"]],r],mlsll:[[[["R U R'","R U2 R'","R U' R'","R U2' R'"]],[["F' U F","F' U2 F",
"F' U' F","F' U2' F"]],[["U","U2","U'","U2'"]]]],half:[[["U","D"],["R","L"],["F","B"]],["2"]],lsll:[[[["R U R'","R U2 R'","R U' R'"]],[["F' U F","F' U2 F","F' U' F"]],[["U","U2","U'"]]]],prco:[[["F","B"],["U","D"],["L","DBR"],["R","DBL"],["BL","DR"],["BR","DL"]],r],skb:[[["R"],["L"],["B"],["U"]],["","'"]],ivy:[[["R"],["L"],["D"],["B"]],["","'"]],112:[[["R"],["R"]],b],eide:[[["OMG"],["WOW"],["WTF"],["WOO-HOO WOO-HOO MATYAS YES YES YAY YEEEEEEEEEEEES".split(" ")],["HAHA"],["XD"],[":D"],["LOL"]],["",
"","","!!!"]]},Qa={sia113:'#{[["U","u"],["R","r"]],%c,%l} z2 #{[["U","u"],["R","r"]],%c,%l}',sia123:'#{[["U"],["R","r"]],%c,%l} z2 #{[["U"],["R","r"]],%c,%l}',sia222:'#{[["U"],["R"],["F"]],%c,%l} z2 y #{[["U"],["R"],["F"]],%c,%l}',335:'#{[[["U","U\'","U2"],["D","D\'","D2"]],["R2","L2"],["F2","B2"]],0,%l} / ${333}',337:'#{[[["U","U\'","U2","u","u\'","u2","U u","U u\'","U u2","U\' u","U\' u\'","U\' u2","U2 u","U2 u\'","U2 u2"],["D","D\'","D2","d","d\'","d2","D d","D d\'","D d2","D\' d","D\' d\'","D\' d2","D2 d","D2 d\'","D2 d2"]],["R2","L2"],["F2","B2"]],0,%l} / ${333}',
r234:"2) ${222so}\\n3) ${333}\\n4) ${[444,40]}",r2345:'${r234}\\n5) ${["555",60]}',r23456:'${r2345}\\n6) ${["666p",80]}',r234567:'${r23456}\\n7) ${["777p",100]}',r234w:'2) ${222so}\\n3) ${333}\\n4) ${["444m",40]}',r2345w:'${r234w}\\n5) ${["555wca",60]}',r23456w:'${r2345w}\\n6) ${["666wca",80]}',r234567w:'${r23456w}\\n7) ${["777wca",100]}',"333ni":'${333}#{[[""]],["","Rw ","Rw2 ","Rw\' ","Fw ","Fw\' "],1}#{[[""]],["","Uw","Uw2","Uw\'"],1}',"444bld":'${444wca}#{[[""]],[""," x"," x2"," x\'"," z"," z\'"],1}#{[[""]],[""," y"," y2"," y\'"],1}',
"555bld":'${["555wca",%l]}#{[[""]],[""," 3Rw"," 3Rw2"," 3Rw\'"," 3Fw"," 3Fw\'"],1}#{[[""]],[""," 3Uw"," 3Uw2"," 3Uw\'"],1}'},w={"4edge":["r b2",["b2 r'","b2 U2 r U2 r U2 r U2 r"],["u"]],"5edge":["r R b B",["B' b' R' r'","B' b' R' U2 r U2 r U2 r U2 r"],["u","d"]],"6edge":["3r r 3b b",["3b' b' 3r' r'","3b' b' 3r' U2 r U2 r U2 r U2 r","3b' b' r' U2 3r U2 3r U2 3r U2 3r","3b' b' r2 U2 3r U2 3r U2 3r U2 3r U2 r"],["u","3u","d"]],"7edge":["3r r 3b b",["3b' b' 3r' r'","3b' b' 3r' U2 r U2 r U2 r U2 r","3b' b' r' U2 3r U2 3r U2 3r U2 3r",
"3b' b' r2 U2 3r U2 3r U2 3r U2 3r U2 r"],["u","3u","3d","d"]]},Va;for(Va in Xa)scrMgr.reg(Va,Ra);for(Va in Qa)scrMgr.reg(Va,h);for(Va in w)scrMgr.reg(Va,a);scrMgr.reg("cubennn",function(a,d){if(1>=d)return"N/A";for(var h=[[],[],[]],w=0;w<d-1;w++)0==w%2?(h[0].push((4>w?"":~~(w/2+1))+(2>w?"U":"u")),h[1].push((4>w?"":~~(w/2+1))+(2>w?"R":"r")),h[2].push((4>w?"":~~(w/2+1))+(2>w?"F":"f"))):(h[0].push((4>w?"":~~(w/2+1))+(2>w?"D":"d")),h[1].push((4>w?"":~~(w/2+1))+(2>w?"L":"l")),h[2].push((4>w?"":~~(w/2+
1))+(2>w?"B":"b")));return n(h,b,10*d)})})(scrMgr.mega,mathlib.rn,mathlib.rndEl);var scramble_333=function(n,Ta,d,Ra,a,h){function b(a){a.cp=[0,1,2,3,4,5,6,7];a.co=[0,0,0,0,0,0,0,0];a.ep=[0,1,2,3,4,5,6,7,8,9,10,11];a.eo=[0,0,0,0,0,0,0,0,0,0,0,0]}function r(a,c,b){var d;for(d=0;8>d;++d){b.cp[d]=a.cp[c.cp[d]];var f=a.co[c.cp[d]];var h=c.co[d];var n=f;n+=3>f?h:6-h;n%=3;3<=f!==3<=h&&(n+=3);b.co[d]=n}}function Xa(){b(this)}function Qa(a,c,f,h){b(this);d(this.cp,a);a=c;var n=0;for(c=6;0<=c;--c)n+=this.co[c]=a%3,a=~~(a/3);this.co[7]=(15-n)%3;Ta(this.ep,f,12);f=h;a=0;for(h=10;0<=h;--h)a^=
this.eo[h]=f&1,f>>=1;this.eo[11]=a}function w(a,c,b){var d;for(d=0;12>d;++d)b.ep[d]=a.ep[c.ep[d]],b.eo[d]=c.eo[d]^a.eo[c.ep[d]]}function Va(){Va=$.noop;var a,c;kb[0]=new Qa(15120,0,119750400,0);kb[3]=new Qa(21021,1494,323403417,0);kb[6]=new Qa(8064,1236,29441808,550);kb[9]=new Qa(9,0,5880,0);kb[12]=new Qa(1230,412,2949660,0);kb[15]=new Qa(224,137,328552,137);for(a=0;18>a;a+=3)for(c=0;2>c;++c)kb[a+c+1]=new Xa,w(kb[a+c],kb[a],kb[a+c+1]),r(kb[a+c],kb[a],kb[a+c+1])}function Za(){return c(0xffffffffffff,
0xffffffffffff,4294967295,4294967295)}function Ya(a){for(var c=0,b=0;b<a.length;b++)-1==a[b]&&c++;return c}function Ua(c,b,d){for(var f=0,h=0,n=0;n<c.length;n++)-1!=c[n]&&(f+=c[n]);f%=d;for(n=0;n<c.length-1;n++)-1==c[n]&&(1==b--?c[n]=((d<<4)-f)%d:(c[n]=a(d),f+=c[n])),h*=d,h+=c[n];return h}function Wa(c,b,d){for(var f=[0,1,2,3,4,5,6,7,8,9,10,11],h=0;h<c.length;h++)-1!=c[h]&&(f[c[h]]=-1);for(var z=h=0;h<f.length;h++)-1!=f[h]&&(f[z++]=f[h]);var w;for(h=0;h<c.length&&0<b;h++)if(-1==c[h]){z=a(b);for(c[h]=
f[z];11>z;z++)f[z]=f[z+1];2==b--&&(w=h)}Ra(n(c,c.length),c.length)==1-d&&(b=c[h-1],c[h-1]=c[w],c[w]=b);return n(c,c.length)}function Sa(a,c){if("number"!==typeof a)return a;for(var b=[],d=0;d<c;d++){var f=a&15;b[d]=15==f?-1:f;a/=16}return b}function c(a,c,b,d,f,z){Va();f=f||hb;z=z||hb;a=Sa(a,12);c=Sa(c,12);b=Sa(b,8);d=Sa(d,8);var $a="";do{var ab=c.slice(),Ta=a.slice(),db=d.slice(),cb=b.slice();ab=Ua(ab,Ya(ab),2);db=Ua(db,Ya(db),3);var bb=Ya(Ta),fb=Ya(cb);0==bb&&0==fb?(Ta=n(Ta,12),cb=n(cb,8)):0!=bb&&
0==fb?(cb=n(cb,8),Ta=Wa(Ta,bb,Ra(cb,8))):(Ta=0==bb&&0!=fb?n(Ta,12):Wa(Ta,bb,-1),cb=Wa(cb,fb,Ra(Ta,12)));if(0!=cb+db+Ta+ab){$a=new Qa(cb,db,Ta,ab);Ta=new Xa;cb=h(z);ab=h(f);for(db=0;db<cb.length;db++)r(kb[cb[db]],$a,Ta),w(kb[cb[db]],$a,Ta),bb=Ta,Ta=$a,$a=bb;for(db=0;db<ab.length;db++)r($a,kb[ab[db]],Ta),w($a,kb[ab[db]],Ta),bb=Ta,Ta=$a,$a=bb;cb=$a;Ta=[];$a=[85,82,70,68,76,66];for(ab=0;54>ab;++ab)Ta[ab]=$a[~~(ab/9)];for(fb=0;8>fb;++fb)for(bb=cb.cp[fb],ab=cb.co[fb],db=0;3>db;++db)Ta[sb[fb][(db+ab)%3]]=
$a[~~(sb[bb][db]/9)];for(fb=0;12>fb;++fb)for(bb=cb.ep[fb],ab=cb.eo[fb],db=0;2>db;++db)Ta[qb[fb][(db+ab)%2]]=$a[~~(qb[bb][db]/9)];$a=String.fromCharCode.apply(null,Ta);$a=(new min2phase.Search).solution($a,21,1E9,50,2)}}while(3>=$a.length);return $a.replace(/ +/g," ")}function z(){return c(0xffffffffffff,0xffffffffffff,1985229328,0)}function $a(){return c(0xba9876543210,0,4294967295,4294967295)}function f(){return c(0xba987654ffff,65535,1985282047,65535)}function eb(a,b,d){a=ub[scrMgr.fixCase(d,ab)];
b=Math.pow(16,a&15);d=Math.pow(16,a>>8&15);return c(0xba9f7654ffff-7*b,64424574975-(15^a>>4&1)*b,1986002943-11*d,1048575-(15^a>>12&3)*d)}function lb(){return c(0xffff7654ffff,0xffff0000ffff,4294967295,4294967295)}function cb(a,b,d){a=Cb[scrMgr.fixCase(d,yb)];return c(0xba987654ffff,0,a[0]+1985216512,a[1],fb,fb)}function mb(){return c(0xba9876543f1f,0,1985282047,65535,fb)}function nb(){var b=a(4);return c(0xba98f6f4ffff,4042326015,1985229328,0,[db[b]],fb)+ob[b]}function jb(b,d,f){b=a(4);d=[];for(var h=
0;h<fb.length;h++)d.push(fb[h].concat(db[b]));return c(0xba98f6f4ffff,4042326015,1985282047,Bb[scrMgr.fixCase(f,zb)],d,fb)+ob[b]}function ib(){return c(0xba9876543210,0,1985282047,65535)}function bb(){return c(0xba987654ffff,65535,1985229328,0)}Qa.prototype=Xa.prototype;var kb=[],sb=[[8,9,20],[6,18,38],[0,36,47],[2,45,11],[29,26,15],[27,44,24],[33,53,42],[35,17,51]],qb=[[5,10],[7,19],[3,37],[1,46],[32,16],[28,25],[30,43],[34,52],[23,12],[21,41],[50,39],[48,14]],pb=new min2phase.Search,fb=[[],[0],
[1],[2]],db=[[],[3,14],[4,13],[5,12]],ob=["","x'","x2","x"],hb=[[]],ub=[8192,4113,8210,4099,8195,4114,8194,4115,8211,4098,8208,4097,8209,4096,8193,4112,0,17,3,18,2,19,1,16,1024,1041,5120,9233,5137,9216,24,8,8200,4104,8216,4120,1048,5128,9224,5144,9240,1032],ab=[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1],Cb=[[12816,8481],[12306,8481],[12576,8481],[12801,8481],[12306,4128],[12321,4128],[12801,4128],[12546,4128],[12816,4128],[12576,4128],[12546,4386],[12576,
4386],[12306,4386],[12321,4386],[12816,4386],[12801,4386],[12576,8736],[12546,8736],[12816,8736],[12801,8736],[12321,8736],[12306,8736],[12816,8448],[12306,8448],[12801,8448],[12576,8448],[12546,8448],[12321,8448],[12321,4608],[12801,4608],[12306,4608],[12576,4608],[12546,4608],[12816,4608],[12546,4353],[12576,4353],[12306,4353],[12321,4353],[12816,4353],[12801,4353],[65535,0]],yb=[1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3],Bb=[0,4626,258,4386,546,33,18,273],
zb=[6,12,24,24,24,24,24,24],tb=[[4146,12816],[12546,12816],[12321,12816],[8961,12816],[12816,12321],[12816,12546],[12816,8961],[12306,12801],[8496,12321],[4896,12546],[12321,12546],[12546,12321],[12801,12801],[12576,12801],[4656,12306],[12306,12306],[531,12801],[8976,12801],[4656,12801],[12576,12306],[12801,12306]],rb=[1,4,4,2,4,4,2,4,4,4,4,4,4,4,1,1,4,4,4,4,4],xb=[[0,0],[4369,4626],[4369,4386],[4369,546],[4369,273],[17,8226],[17,4113],[17,8706],[17,273],[17,4368],[17,8736],[17,546],[17,4353],[257,
8226],[257,273],[257,546],[257,4113],[4369,258],[4369,18],[4369,33],[4369,0],[0,4626],[0,4386],[0,18],[0,33],[0,258],[0,273],[0,546],[17,0],[17,528],[17,8448],[17,33],[17,4098],[257,33],[257,528],[17,4128],[17,258],[17,8208],[17,513],[257,4128],[257,258],[17,4608],[17,288],[17,18],[17,8193],[257,18],[257,288],[17,4641],[17,4386],[17,8466],[17,8721],[257,4641],[257,4386],[17,8481],[17,4626],[257,8481],[257,4626],[257,0]],vb=[1,2,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,2,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,2,2,2];scrMgr.reg("333",Za)("333fm",function(){do{var a=Za();var c=a.split(" ");if(!(3>c.length)){var b=c[0][0];var d=c[1][0];var f=c[c.length-2][0];var h=c[c.length-3][0]}}while("F"==b||"B"==b&&"F"==d||"R"==f||"L"==f&&"R"==h);return"R' U' F "+a+"R' U' F"})("edges",z)("corners",$a)("ll",f)("lsll2",eb,["Easy-01 Easy-02 Easy-03 Easy-04 RE-05 RE-06 RE-07 RE-08 REFC-09 REFC-10 REFC-11 REFC-12 REFC-13 REFC-14 SPGO-15 SPGO-16 SPGO-17 SPGO-18 PMS-19 PMS-20 PMS-21 PMS-22 Weird-23 Weird-24 CPEU-25 CPEU-26 CPEU-27 CPEU-28 CPEU-29 CPEU-30 EPCU-31 EPCU-32 EPCU-33 EPCU-34 EPCU-35 EPCU-36 ECP-37 ECP-38 ECP-39 ECP-40 ECP-41 Solved-42".split(" "),
ab])("f2l",lb)("zbll",cb,["H-BBFF H-FBFB H-RFLF H-RLFF L-FBRL L-LBFF L-LFFB L-LFFR L-LRFF L-RFBL Pi-BFFB Pi-FBFB Pi-FRFL Pi-FRLF Pi-LFRF Pi-RFFL S-FBBF S-FBFB S-FLFR S-FLRF S-LFFR S-LFRF T-BBFF T-FBFB T-FFLR T-FLFR T-RFLF T-RLFF U-BBFF U-BFFB U-FFLR U-FRLF U-LFFR U-LRFF aS-FBBF aS-FBFB aS-FRFL aS-FRLF aS-LFRF aS-RFFL PLL".split(" "),yb])("zzll",mb)("zbls",function(){return c(0xba9f7654ffff,0,1986002943,1048575)})("lse",nb)("cmll",jb,["O H L Pi S T U aS".split(" "),zb])("cll",ib)("ell",bb)("pll",function(a,
b,d){a=tb[scrMgr.fixCase(d,rb)];return c(a[0]+0xba9876540000,0,a[1]+1985216512,0,fb,fb)},["H Ua Ub Z Aa Ab E F Ga Gb Gc Gd Ja Jb Na Nb Ra Rb T V Y".split(" "),rb])("oll",function(a,b,d){a=xb[scrMgr.fixCase(d,vb)];return c(0xba987654ffff,a[0],1985282047,a[1],fb,fb)},["PLL Point-1 Point-2 Point-3 Point-4 Square-5 Square-6 SLBS-7 SLBS-8 Fish-9 Fish-10 SLBS-11 SLBS-12 Knight-13 Knight-14 Knight-15 Knight-16 Point-17 Point-18 Point-19 CO-20 OCLL-21 OCLL-22 OCLL-23 OCLL-24 OCLL-25 OCLL-26 OCLL-27 CO-28 Awkward-29 Awkward-30 P-31 P-32 T-33 C-34 Fish-35 W-36 Fish-37 W-38 BLBS-39 BLBS-40 Awkward-41 Awkward-42 P-43 P-44 T-45 C-46 L-47 L-48 L-49 L-50 I-51 I-52 L-53 L-54 I-55 I-56 CO-57".split(" "),
vb])("2gll",function(){return c(0xba987654ffff,0,1985229328,65535,fb)})("easyc",function(a,b){var d=cross.getEasyCross(b);return c(d[0],d[1],4294967295,4294967295)})("eoline",function(){return c(0xffff7f5fffff,0,4294967295,4294967295)});return{getRandomScramble:Za,getEdgeScramble:z,getCornerScramble:$a,getLLScramble:f,getLSLLScramble:eb,getZBLLScramble:cb,getZZLLScramble:mb,getF2LScramble:lb,getLSEScramble:nb,getCMLLScramble:jb,getCLLScramble:ib,getELLScramble:bb,getAnyScramble:c,genFacelet:function(a){return pb.solution(a,
21,1E9,50,2)},solvFacelet:function(a){return pb.solution(a,21,1E9,50,0)}}}(mathlib.getNPerm,mathlib.setNPerm,mathlib.set8Perm,mathlib.getNParity,mathlib.rn,mathlib.rndEl);var scramble_444=function(n,Ta,d){function Ra(a,c){var b;var d=Array(a);if(void 0!=c)for(b=0;b<a;b++)d[b]=Array(c);return d}function a(a,c,b){var d=qc[a];d&&!d.___clazz$?Ab=d.prototype:(!d&&(d=qc[a]=function(){}),Ab=d.prototype=0>c?{}:new qc[c],Ab.castableTypeMap$=b);for(var f=3;f<arguments.length;++f)arguments[f].prototype=Ab;d.___clazz$&&(Ab.___clazz$=d.___clazz$,d.___clazz$=null)}function h(a){for(var c={},b=0,d=a.length;b<d;++b)c[a[b]]=1;return c}function b(){}function r(){}function Xa(a,c){var b=
Array(c);if(3==a)for(var d=0;d<c;++d){var f={};f.l=f.m=f.h=0;b[d]=f}else if(0<a)for(f=[null,0,!1][a],d=0;d<c;++d)b[d]=f;return b}function Qa(a,c,b,d,f){d=Xa(f,d);w(a,c,b,d);return d}function w(a,c,b,d){Va();var f=Ic,h=Jc;Va();for(var n=0,z=f.length;n<z;++n)d[f[n]]=h[n];d.___clazz$=a;d.castableTypeMap$=c;d.queryId$=b;return d}function Va(){Va=b;Ic=[];Jc=[];var a=new r,c=Ic,d=Jc,f=0,h,n;for(n in a)if(h=a[n])c[f]=n,d[f]=h,++f}function Za(){Za=b;Ac=Ra(15582,36);rc=Ra(15582);Vb=Ra(15582);kc=Ra(48,48);
Xb=Ra(48,36);lc=Ra(48);Kc=Ra(48)}function Ya(a,c){var b;if(null!=c&&c.castableTypeMap$&&c.castableTypeMap$[21]){for(b=0;24>b;++b)if(a.ct[b]!=c.ct[b])return!1;return!0}return!1}function Ua(a){var c;var b=0;var d=8;for(c=23;0<=c;--c)1==a.ct[c]&&(b+=Ta[c][d--]);return b}function Wa(a){var b;if(null!=mc)return mc[Ua(a)];for(b=0;48>b;++b){var d=Ua(a);a:{var f;var h=0;for(f=rc.length-1;h<=f;){var n=h+(~~(f-h)>>1);var z=rc[n];if(z<d)h=n+1;else if(z>d)f=n-1;else{d=n;break a}}d=-h-1}d=0<=d?d:-1;if(-1!=d)return 64*
d+b;c(a,0);1==b%2&&c(a,1);7==b%8&&c(a,2);15==b%16&&c(a,3)}}function Sa(a,c){var b=c%3;switch(~~(c/3)){case 0:gb(a.ct,0,1,2,3,b);break;case 1:gb(a.ct,16,17,18,19,b);break;case 2:gb(a.ct,8,9,10,11,b);break;case 3:gb(a.ct,4,5,6,7,b);break;case 4:gb(a.ct,20,21,22,23,b);break;case 5:gb(a.ct,12,13,14,15,b);break;case 6:gb(a.ct,0,1,2,3,b);gb(a.ct,8,20,12,16,b);gb(a.ct,9,21,13,17,b);break;case 7:gb(a.ct,16,17,18,19,b);gb(a.ct,1,15,5,9,b);gb(a.ct,2,12,6,10,b);break;case 8:gb(a.ct,8,9,10,11,b);gb(a.ct,2,19,
4,21,b);gb(a.ct,3,16,5,22,b);break;case 9:gb(a.ct,4,5,6,7,b);gb(a.ct,10,18,14,22,b);gb(a.ct,11,19,15,23,b);break;case 10:gb(a.ct,20,21,22,23,b);gb(a.ct,0,8,4,14,b);gb(a.ct,3,11,7,13,b);break;case 11:gb(a.ct,12,13,14,15,b),gb(a.ct,1,20,7,18,b),gb(a.ct,0,23,6,17,b)}}function c(a,c){switch(c){case 0:Sa(a,19);Sa(a,28);break;case 1:Sa(a,21);Sa(a,32);break;case 2:gb(a.ct,0,3,1,2,1);gb(a.ct,8,11,9,10,1);gb(a.ct,4,7,5,6,1);gb(a.ct,12,15,13,14,1);gb(a.ct,16,19,21,22,1);gb(a.ct,17,18,20,23,1);break;case 3:Sa(a,
18),Sa(a,29),Sa(a,24),Sa(a,35)}}function z(a,b){var d;for(d=0;d<b;++d)c(a,0),1==d%2&&c(a,1),7==d%8&&c(a,2),15==d%16&&c(a,3)}function $a(a,c){var b;var d=8;for(b=23;0<=b;--b)a.ct[b]=0,c>=Ta[b][d]&&(c-=Ta[b][d--],a.ct[b]=1)}function f(a,c){var b;for(b=0;24>b;++b)a.ct[b]=c.ct[b]}function eb(){var a;this.ct=Ra(24);for(a=0;8>a;++a)this.ct[a]=1;for(a=8;24>a;++a)this.ct[a]=0}function lb(a,c){var b;this.ct=Ra(24);for(b=0;24>b;++b)this.ct[b]=~~(a.ct[b]/2)==c?1:0}function cb(a){var c;this.ct=Ra(24);for(c=0;24>
c;++c)this.ct[c]=a[c]}function mb(){mb=b;Bc=Ra(70,28);Cc=Ra(6435,28);jd=Ra(70,16);kd=Ra(6435,16);Pb=Ra(450450);ld=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,1,0,0,0]}function nb(a){var c;var b=0;var d=8;for(c=14;0<=c;--c)a.ct[c]!=a.ct[15]&&(b+=Ta[c][d--]);return b}function jb(a){var c;var b=0;var d=4;for(c=6;0<=c;--c)a.rl[c]!=a.rl[7]&&(b+=Ta[c][d--]);return 2*b+a.parity}function ib(a,c){a.parity^=ld[c];var b=c%3;switch(~~(c/3)){case 0:gb(a.ct,0,1,2,3,b);break;case 1:gb(a.rl,
0,1,2,3,b);break;case 2:gb(a.ct,8,9,10,11,b);break;case 3:gb(a.ct,4,5,6,7,b);break;case 4:gb(a.rl,4,5,6,7,b);break;case 5:gb(a.ct,12,13,14,15,b);break;case 6:gb(a.ct,0,1,2,3,b);gb(a.rl,0,5,4,1,b);gb(a.ct,8,9,12,13,b);break;case 7:gb(a.rl,0,1,2,3,b);gb(a.ct,1,15,5,9,b);gb(a.ct,2,12,6,10,b);break;case 8:gb(a.ct,8,9,10,11,b);gb(a.rl,0,3,6,5,b);gb(a.ct,3,2,5,4,b);break;case 9:gb(a.ct,4,5,6,7,b);gb(a.rl,3,2,7,6,b);gb(a.ct,11,10,15,14,b);break;case 10:gb(a.rl,4,5,6,7,b);gb(a.ct,0,8,4,14,b);gb(a.ct,3,11,
7,13,b);break;case 11:gb(a.ct,12,13,14,15,b),gb(a.rl,1,4,7,2,b),gb(a.ct,1,0,7,6,b)}}function bb(a,c){switch(c){case 0:ib(a,19);ib(a,28);break;case 1:ib(a,21);ib(a,32);break;case 2:gb(a.ct,0,3,1,2,1),gb(a.ct,8,11,9,10,1),gb(a.ct,4,7,5,6,1),gb(a.ct,12,15,13,14,1),gb(a.rl,0,3,5,6,1),gb(a.rl,1,2,4,7,1)}}function kb(a,c,b){var d;for(d=0;16>d;++d)a.ct[d]=~~(c.ct[d]/2);for(d=0;8>d;++d)a.rl[d]=c.ct[d+16];a.parity=b}function sb(a,c){var b;var d=8;a.ct[15]=0;for(b=14;0<=b;--b)c>=Ta[b][d]?(c-=Ta[b][d--],a.ct[b]=
1):a.ct[b]=0}function qb(a,c){var b;a.parity=c&1;c>>>=1;var d=4;a.rl[7]=0;for(b=6;0<=b;--b)c>=Ta[b][d]?(c-=Ta[b][d--],a.rl[b]=1):a.rl[b]=0}function pb(){this.rl=Ra(8);this.ct=Ra(16)}function fb(){fb=b;sc=Ra(29400,20);md=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1];cc=Ra(29400);Lc=[0,9,14,23,27,28,41,42,46,55,60,69];Mc=Ra(70)}function db(a){var c;var b=0;var d=4;for(c=6;0<=c;--c)a.ud[c]!=a.ud[7]&&(b+=Ta[c][d--]);b*=35;d=4;for(c=6;0<=c;--c)a.fb[c]!=a.fb[7]&&(b+=Ta[c][d--]);var f=a.fb[7]^a.ud[7];var h=
0;d=4;for(c=7;0<=c;--c)a.rl[c]!=f&&(h+=Ta[c][d--]);return a.parity+2*(12*b+Mc[h])}function ob(a,c,b){var d;var f=c.ct[0]>c.ct[8]^c.ct[8]>c.ct[16]^c.ct[0]>c.ct[16]?1:0;for(d=0;8>d;++d)a.ud[d]=c.ct[d]&1^1,a.fb[d]=c.ct[d+8]&1^1,a.rl[d]=c.ct[d+16]&1^1^f;a.parity=f^b}function hb(){this.ud=Ra(8);this.rl=Ra(8);this.fb=Ra(8)}function ub(){ub=b}function ab(){var a;this.ct=Ra(24);for(a=0;24>a;++a)this.ct[a]=~~(a/4)}function Cb(a){ab.call(this);for(a=0;23>a;++a){var c=a+n(24-a);if(this.ct[c]!=this.ct[a]){var b=
this.ct[a];this.ct[a]=this.ct[c];this.ct[c]=b}}}function yb(){yb=b;Ub=Ra(18);var a,c;Ub[0]=new xb(15120,0);Ub[3]=new xb(21021,1494);Ub[6]=new xb(8064,1236);Ub[9]=new xb(9,0);Ub[12]=new xb(1230,412);Ub[15]=new xb(224,137);for(a=0;18>a;a+=3)for(c=0;2>c;++c)Ub[a+c+1]=new rb,tb(Ub[a+c],Ub[a],Ub[a+c+1])}function Bb(a){a.cp=[0,1,2,3,4,5,6,7];a.co=[0,0,0,0,0,0,0,0]}function zb(a,c){var b;for(b=0;8>b;++b)a.cp[b]=c.cp[b],a.co[b]=c.co[b]}function tb(a,c,b){var d;for(d=0;8>d;++d){b.cp[d]=a.cp[c.cp[d]];var f=
a.co[c.cp[d]];var h=c.co[d];var n=f;n+=3>f?h:6-h;n%=3;3<=f^3<=h&&(n+=3);b.co[d]=n}}function rb(){Bb(this)}function xb(a,c){Bb(this);mathlib.set8Perm(this.cp,a);var b=c,d;var f=0;for(d=6;0<=d;--d)f+=this.co[d]=b%3,b=~~(b/3);this.co[7]=(15-f)%3}function vb(a){xb.call(this,n(40320),n(2187))}function Mb(){Mb=b;Yb=Ra(1937880);Dc=Ra(1538);Ec=Ra(1538);nc=Ra(11880);nd=[0,1,6,3,4,5,2,7];Nc=Ra(160,12);Oc=Ra(160,12);Pc=[1,1,1,3,12,60,360,2520,20160,181440,1814400,19958400,239500800];Qc=[0,2,4,6,1,3,7,5,8,9,
10,11]}function Ib(a,c,b,d,f){var h=a.edgeo[f];a.edgeo[f]=a.edge[d];a.edge[d]=a.edgeo[b];a.edgeo[b]=a.edge[c];a.edge[c]=h}function Db(a,c){var b;a.isStd||Gb(a);var d=0;var f=1985229328;var h=47768;for(b=0;b<c;++b){var n=a.edge[b]<<2;d*=12-b;32<=n?(d+=h>>n-32&15,h-=4368<<n-32):(d+=f>>n&15,h-=4369,f-=286331152<<n)}return d}function Fb(a){var c=Db(a,4);c=nc[c];var b=c&7;c>>=3;Qb(a,b);a=Db(a,10)%20160;return 20160*c+a}function Rb(a,c){a.isStd=!1;switch(c){case 0:d(a.edge,0,4,1,5);d(a.edgeo,0,4,1,5);break;
case 1:wb(a.edge,0,4,1,5);wb(a.edgeo,0,4,1,5);break;case 2:d(a.edge,0,5,1,4);d(a.edgeo,0,5,1,4);break;case 3:wb(a.edge,5,10,6,11);wb(a.edgeo,5,10,6,11);break;case 4:d(a.edge,0,11,3,8);d(a.edgeo,0,11,3,8);break;case 5:wb(a.edge,0,11,3,8);wb(a.edgeo,0,11,3,8);break;case 6:d(a.edge,0,8,3,11);d(a.edgeo,0,8,3,11);break;case 7:d(a.edge,2,7,3,6);d(a.edgeo,2,7,3,6);break;case 8:wb(a.edge,2,7,3,6);wb(a.edgeo,2,7,3,6);break;case 9:d(a.edge,2,6,3,7);d(a.edgeo,2,6,3,7);break;case 10:wb(a.edge,4,8,7,9);wb(a.edgeo,
4,8,7,9);break;case 11:d(a.edge,1,9,2,10);d(a.edgeo,1,9,2,10);break;case 12:wb(a.edge,1,9,2,10);wb(a.edgeo,1,9,2,10);break;case 13:d(a.edge,1,10,2,9);d(a.edgeo,1,10,2,9);break;case 14:wb(a.edge,0,4,1,5);wb(a.edgeo,0,4,1,5);d(a.edge,9,11);d(a.edgeo,8,10);break;case 15:wb(a.edge,5,10,6,11);wb(a.edgeo,5,10,6,11);d(a.edge,1,3);d(a.edgeo,0,2);break;case 16:wb(a.edge,0,11,3,8);wb(a.edgeo,0,11,3,8);d(a.edge,5,7);d(a.edgeo,4,6);break;case 17:wb(a.edge,2,7,3,6);wb(a.edgeo,2,7,3,6);d(a.edge,8,10);d(a.edgeo,
9,11);break;case 18:wb(a.edge,4,8,7,9);wb(a.edgeo,4,8,7,9);d(a.edge,0,2);d(a.edgeo,1,3);break;case 19:wb(a.edge,1,9,2,10),wb(a.edgeo,1,9,2,10),d(a.edge,4,6),d(a.edgeo,5,7)}}function Eb(a,c){a.isStd=!1;switch(c){case 0:Rb(a,14);Rb(a,17);break;case 1:Ib(a,11,5,10,6);Ib(a,5,10,6,11);Ib(a,1,2,3,0);Ib(a,4,9,7,8);Ib(a,8,4,9,7);Ib(a,0,1,2,3);break;case 2:Kb(a,4,5),Kb(a,5,4),Kb(a,11,8),Kb(a,8,11),Kb(a,7,6),Kb(a,6,7),Kb(a,9,10),Kb(a,10,9),Kb(a,1,1),Kb(a,0,0),Kb(a,3,3),Kb(a,2,2)}}function Qb(a,c){for(;2<=c;)c-=
2,Eb(a,1),Eb(a,2);0!=c&&Eb(a,0)}function Ob(a,c){var b,d;var f=1985229328;var h=47768;for(b=d=0;11>b;++b){var n=Pc[11-b];var z=~~(c/n);c%=n;d^=z;z<<=2;32<=z?(z-=32,a.edge[b]=h>>z&15,n=(1<<z)-1,h=(h&n)+(h>>4&~n)):(a.edge[b]=f>>z&15,n=(1<<z)-1,f=(f&n)+(f>>>4&~n)+(h<<28),h>>=4)}0==(d&1)?a.edge[11]=f:(a.edge[11]=a.edge[10],a.edge[10]=f);for(b=0;12>b;++b)a.edgeo[b]=b;a.isStd=!0}function Hb(a,c){var b;for(b=0;12>b;++b)a.edge[b]=c.edge[b],a.edgeo[b]=c.edgeo[b];a.isStd=c.isStd}function Lb(a,c){var b;null==
a.temp&&(a.temp=Ra(12));for(b=0;12>b;++b)a.temp[b]=b,a.edge[b]=c.ep[Qc[b]+12]%12;var d=1;for(b=0;12>b;++b)for(;a.edge[b]!=b;){var f=a.edge[b];a.edge[b]=a.edge[f];a.edge[f]=f;var h=a.temp[b];a.temp[b]=a.temp[f];a.temp[f]=h;d^=1}for(b=0;12>b;++b)a.edge[b]=a.temp[c.ep[Qc[b]]%12];return d}function Gb(a){var c;null==a.temp&&(a.temp=Ra(12));for(c=0;12>c;++c)a.temp[a.edgeo[c]]=c;for(c=0;12>c;++c)a.edge[c]=a.temp[a.edge[c]],a.edgeo[c]=c;a.isStd=!0}function wb(a,c,b,d,f){var h=a[c];a[c]=a[d];a[d]=h;h=a[b];
a[b]=a[f];a[f]=h}function Kb(a,c,b){var d=a.edge[c];a.edge[c]=a.edgeo[b];a.edgeo[b]=d}function Jb(){this.edge=Ra(12);this.edgeo=Ra(12)}function Zb(a,c){return a[c>>4]>>((c&15)<<1)&3}function Sb(a,c,b){var d=Oc[c];var f=Nc[c];var h=0;var n=1985229328;var z=47768;for(c=0;c<b;++c){var w=d[a[f[c]]]<<2;h*=12-c;32<=w?(h+=z>>w-32&15,z-=4368<<w-32):(h+=n>>w&15,z-=4369,n-=286331152<<w)}return h}function hc(a){var c=new Jb;var b=0;var d=Zb(Yb,a);if(3==d)return 10;for(;0!=a;){0==d?d=2:--d;var f=~~(a/20160);
f=Dc[f];var h=a%20160;Ob(c,20160*f+h);for(f=0;17>f;++f){h=Sb(c.edge,f<<3,4);h=nc[h];var n=h&7;h>>=3;n=Sb(c.edge,f<<3|n,10)%20160;h=20160*h+n;if(Zb(Yb,h)==d){++b;a=h;break}}}return b}function $b(a,c,b){a[c>>4]^=(3^b)<<((c&15)<<1)}function jc(){jc=b}function bc(){var a;this.ep=Ra(24);for(a=0;24>a;++a)this.ep[a]=a}function ac(a){bc.call(this);for(a=0;23>a;++a){var c=a+n(24-a);if(c!=a){var b=this.ep[a];this.ep[a]=this.ep[c];this.ep[c]=b}}}function ec(){ec=b;Rc=[35,1,34,2,4,6,22,5,19]}function Wb(a,c){var b=
a.edge;var d=c.edge,f;for(f=0;24>f;++f)b.ep[f]=d.ep[f];b=a.center;d=c.center;for(f=0;24>f;++f)b.ct[f]=d.ct[f];zb(a.corner,c.corner);a.value=c.value;a.add1=c.add1;a.length1=c.length1;a.length2=c.length2;a.length3=c.length3;a.sym=c.sym;for(b=0;60>b;++b)a.moveBuffer[b]=c.moveBuffer[b];a.moveLength=c.moveLength;a.edgeAvail=c.edgeAvail;a.centerAvail=c.centerAvail;a.cornerAvail=c.cornerAvail}function Tb(a){for(;a.centerAvail<a.moveLength;){var c=a.center,b=a.moveBuffer[a.centerAvail++];var d=b%3;switch(~~(b/
3)){case 0:gb(c.ct,0,1,2,3,d);break;case 1:gb(c.ct,16,17,18,19,d);break;case 2:gb(c.ct,8,9,10,11,d);break;case 3:gb(c.ct,4,5,6,7,d);break;case 4:gb(c.ct,20,21,22,23,d);break;case 5:gb(c.ct,12,13,14,15,d);break;case 6:gb(c.ct,0,1,2,3,d);gb(c.ct,8,20,12,16,d);gb(c.ct,9,21,13,17,d);break;case 7:gb(c.ct,16,17,18,19,d);gb(c.ct,1,15,5,9,d);gb(c.ct,2,12,6,10,d);break;case 8:gb(c.ct,8,9,10,11,d);gb(c.ct,2,19,4,21,d);gb(c.ct,3,16,5,22,d);break;case 9:gb(c.ct,4,5,6,7,d);gb(c.ct,10,18,14,22,d);gb(c.ct,11,19,
15,23,d);break;case 10:gb(c.ct,20,21,22,23,d);gb(c.ct,0,8,4,14,d);gb(c.ct,3,11,7,13,d);break;case 11:gb(c.ct,12,13,14,15,d),gb(c.ct,1,20,7,18,d),gb(c.ct,0,23,6,17,d)}}return a.center}function fc(a){for(;a.cornerAvail<a.moveLength;){var c=a.corner,b=a.moveBuffer[a.cornerAvail++]%18;!c.temps&&(c.temps=new rb);tb(c,Ub[b],c.temps);zb(c,c.temps)}return a.corner}function Nb(a){for(;a.edgeAvail<a.moveLength;){var c=a.edge,b=a.moveBuffer[a.edgeAvail++];var d=b%3;switch(~~(b/3)){case 0:gb(c.ep,0,1,2,3,d);
gb(c.ep,12,13,14,15,d);break;case 1:gb(c.ep,11,15,10,19,d);gb(c.ep,23,3,22,7,d);break;case 2:gb(c.ep,0,11,6,8,d);gb(c.ep,12,23,18,20,d);break;case 3:gb(c.ep,4,5,6,7,d);gb(c.ep,16,17,18,19,d);break;case 4:gb(c.ep,1,20,5,21,d);gb(c.ep,13,8,17,9,d);break;case 5:gb(c.ep,2,9,4,10,d);gb(c.ep,14,21,16,22,d);break;case 6:gb(c.ep,0,1,2,3,d);gb(c.ep,12,13,14,15,d);gb(c.ep,9,22,11,20,d);break;case 7:gb(c.ep,11,15,10,19,d);gb(c.ep,23,3,22,7,d);gb(c.ep,2,16,6,12,d);break;case 8:gb(c.ep,0,11,6,8,d);gb(c.ep,12,
23,18,20,d);gb(c.ep,3,19,5,13,d);break;case 9:gb(c.ep,4,5,6,7,d);gb(c.ep,16,17,18,19,d);gb(c.ep,8,23,10,21,d);break;case 10:gb(c.ep,1,20,5,21,d);gb(c.ep,13,8,17,9,d);gb(c.ep,14,0,18,4,d);break;case 11:gb(c.ep,2,9,4,10,d),gb(c.ep,14,21,16,22,d),gb(c.ep,7,15,1,17,d)}}return a.edge}function td(a){var b,d;var f=Array(a.moveLength-(a.add1?2:0));for(b=d=0;b<a.length1;++b)f[d++]=a.moveBuffer[b];var h=a.sym;for(b=a.length1+(a.add1?2:0);b<a.moveLength;++b)if(27<=Xb[h][a.moveBuffer[b]]){f[d++]=Xb[h][a.moveBuffer[b]]-
9;var n=Rc[Xb[h][a.moveBuffer[b]]-27];h=kc[h][n]}else f[d++]=Xb[h][a.moveBuffer[b]];b=kc[lc[h]];a:{a=Tb(a);var z;a=new cb(a.ct);for(z=0;48>z;++z){h=!0;for(n=0;24>n;++n)if(a.ct[n]!=~~(n/4)){h=!1;break}if(h){a=z;break a}c(a,0);1==z%2&&c(a,1);7==z%8&&c(a,2);15==z%16&&c(a,3)}a=-1}b=b[a];a="";h=b;for(b=d-1;0<=b;--b)d=f[b],d=3*~~(d/3)+(2-d%3),27<=Xb[h][d]?(a=a+Sc[Xb[h][d]-9]+" ",n=Rc[Xb[h][d]-27],h=kc[h][n]):a=a+Sc[Xb[h][d]]+" ";return a}function dc(a,c){a.moveBuffer[a.moveLength++]=c}function vc(){this.moveBuffer=
Ra(60);this.edge=new bc;this.center=new ab;this.corner=new rb}function wc(a){vc.call(this);Wb(this,a)}function Vc(a){this.moveBuffer=Ra(60);this.edge=new ac(a);this.center=new Cb(a);this.corner=new vb(a)}function Wc(){}function Xc(){Xc=b;var a,c;Sc="U  ;U2 ;U' ;R  ;R2 ;R' ;F  ;F2 ;F' ;D  ;D2 ;D' ;L  ;L2 ;L' ;B  ;B2 ;B' ;Uw ;Uw2;Uw';Rw ;Rw2;Rw';Fw ;Fw2;Fw';Dw ;Dw2;Dw';Lw ;Lw2;Lw';Bw ;Bw2;Bw'".split(";");gc=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,19,21,22,23,25,28,30,31,32,34,36];tc=[0,1,2,4,6,
7,8,9,10,11,13,15,16,17,19,22,25,28,31,34,36];od=Ra(37);pd=Ra(37);oc=Ra(37,36);Fc=Ra(29,28);Gc=Ra(21,20);Tc=Ra(36);uc=Ra(28);pc=Ra(20);for(a=0;29>a;++a)od[gc[a]]=a;for(a=0;21>a;++a)pd[tc[a]]=a;for(a=0;36>a;++a){for(c=0;36>c;++c)oc[a][c]=~~(a/3)==~~(c/3)||~~(a/3)%3==~~(c/3)%3&&a>c;oc[36][a]=!1}for(a=0;29>a;++a)for(c=0;28>c;++c)Fc[a][c]=oc[gc[a]][gc[c]];for(a=0;21>a;++a)for(c=0;20>c;++c)Gc[a][c]=oc[tc[a]][tc[c]];for(a=0;36>a;++a)for(Tc[a]=36,c=a;36>c;++c)if(!oc[a][c]){Tc[a]=c-1;break}for(a=0;28>a;++a)for(uc[a]=
28,c=a;28>c;++c)if(!Fc[a][c]){uc[a]=c-1;break}for(a=0;20>a;++a)for(pc[a]=20,c=a;20>c;++c)if(!Gc[a][c]){pc[a]=c-1;break}}function ud(a){a.solution="";var c=Wa(new lb(Tb(a.c),0));var b=Wa(new lb(Tb(a.c),1));var d=Wa(new lb(Tb(a.c),2));var f=Vb[~~c>>6];var n=Vb[~~b>>6];var z=Vb[~~d>>6];a.p1SolsCnt=0;a.arr2idx=0;wd(a.p1sols.heap);for(a.length1=(f<n?f:n)<z?f<n?f:n:z;100>a.length1&&!(z<=a.length1&&xc(a,~~d>>>6,d&63,a.length1,-1,0)||f<=a.length1&&xc(a,~~c>>>6,c&63,a.length1,-1,0)||n<=a.length1&&xc(a,~~b>>>
6,b&63,a.length1,-1,0));++a.length1);z=yd(a.p1sols,Qa(zd,h([25,30,40]),24,0,0));z.sort(function(a,c){return a.value-c.value});n=9;do{d=z[0].value;a:for(;100>d;++d)for(b=0;b<z.length&&!(z[b].value>d);++b)if(!(d-z[b].length1>n)&&(Wb(a.c1,z[b]),kb(a.ct2,Tb(a.c1),yc(Nb(a.c1).ep)),c=nb(a.ct2),f=jb(a.ct2),a.length1=z[b].length1,a.length2=d-z[b].length1,Yc(a,c,f,a.length2,28,0)))break a;++n}while(100==d);a.arr2.sort(function(a,c){return a.value-c.value});z=0;d=13;do{n=a.arr2[0].value;a:for(;100>n;++n)for(b=
0;b<Math.min(a.arr2idx,100)&&!(a.arr2[b].value>n);++b)if(!(n-a.arr2[b].length1-a.arr2[b].length2>d)){c=Lb(a.e12,Nb(a.arr2[b]));ob(a.ct3,Tb(a.arr2[b]),c^yc(fc(a.arr2[b]).cp));c=db(a.ct3);f=Db(a.e12,10);var w=hc(Fb(a.e12));if(w<=n-a.arr2[b].length1-a.arr2[b].length2&&Zc(a,f,c,w,n-a.arr2[b].length1-a.arr2[b].length2,20,0)){z=b;break a}}++d}while(100==n);d=new wc(a.arr2[z]);a.length1=d.length1;a.length2=d.length2;n=n-a.length1-a.length2;for(b=0;b<n;++b)dc(d,tc[a.move3[b]]);a.solution=td(d)}function vd(a,
b){if(!qd){var d,h,n;var w=new eb;for(d=0;24>d;++d)w.ct[d]=d;var r=new cb(w.ct);var Qa=new cb(w.ct);var ab=new cb(w.ct);for(d=0;48>d;++d){for(h=0;48>h;++h){for(n=0;48>n;++n)Ya(w,r)&&(kc[d][h]=n,0==n&&(lc[d]=h)),c(r,0),1==n%2&&c(r,1),7==n%8&&c(r,2),15==n%16&&c(r,3);c(w,0);1==h%2&&c(w,1);7==h%8&&c(w,2);15==h%16&&c(w,3)}c(w,0);1==d%2&&c(w,1);7==d%8&&c(w,2);15==d%16&&c(w,3)}for(d=0;48>d;++d)for(f(w,Qa),z(w,lc[d]),h=0;36>h;++h)for(f(r,w),Sa(r,h),z(r,d),n=0;36>n;++n)if(f(ab,Qa),Sa(ab,n),Ya(ab,r)){Xb[d][h]=
n;break}$a(w,0);for(d=0;48>d;++d)Kc[lc[d]]=Ua(w),c(w,0),1==d%2&&c(w,1),7==d%8&&c(w,2),15==d%16&&c(w,3);mc=Ra(735471);w=new eb;h=Ra(22984);for(Qa=0;22984>Qa;Qa++)h[Qa]=0;for(Qa=r=0;735471>Qa;++Qa)if(0==(h[~~Qa>>>5]&1<<(Qa&31))){$a(w,Qa);for(d=0;48>d;++d)ab=Ua(w),h[~~ab>>>5]|=1<<(ab&31),null!=mc&&(mc[ab]=r<<6|lc[d]),c(w,0),1==d%2&&c(w,1),7==d%8&&c(w,2),15==d%16&&c(w,3);rc[r++]=Qa}w=new eb;r=new eb;for(Qa=0;15582>Qa;++Qa)for($a(r,rc[Qa]),ab=0;36>ab;++ab)f(w,r),Sa(w,ab),Ac[Qa][ab]=Wa(w);mc=null;zc(Vb);
r=Vb[0]=0;for(Qa=1;15582!=Qa;){var Va=(h=4<r)?-1:r;w=h?r:-1;++r;for(ab=0;15582>ab;++ab)if(Vb[ab]==Va)for(n=0;27>n;++n)if(d=~~Ac[ab][n]>>>6,Vb[d]==w)if(++Qa,h){Vb[ab]=r;break}else Vb[d]=r}Qa=new pb;for(w=0;70>w;++w)for(r=0;28>r;++r)qb(Qa,w),ib(Qa,gc[r]),Bc[w][r]=jb(Qa);for(w=0;70>w;++w)for(qb(Qa,w),r=0;16>r;++r)jd[w][r]=jb(Qa),bb(Qa,0),1==r%2&&bb(Qa,1),7==r%8&&bb(Qa,2);for(w=0;6435>w;++w)for(sb(Qa,w),r=0;16>r;++r)kd[w][r]=nb(Qa)&65535,bb(Qa,0),1==r%2&&bb(Qa,1),7==r%8&&bb(Qa,2);for(w=0;6435>w;++w)for(r=
0;28>r;++r)sb(Qa,w),ib(Qa,gc[r]),Cc[w][r]=nb(Qa)&65535;zc(Pb);ab=Pb[0]=Pb[18]=Pb[28]=Pb[46]=Pb[54]=Pb[56]=0;for(d=6;450450!=d;){Va=(n=6<ab)?-1:ab;var Xa=n?ab:-1;++ab;for(w=0;450450>w;++w)if(Pb[w]==Va)for(Qa=~~(w/70),h=w%70,r=0;23>r;++r){var fb=Cc[Qa][r];var Za=Bc[h][r];fb=70*fb+Za;if(Pb[fb]==Xa)if(++d,n){Pb[w]=ab;break}else Pb[fb]=ab}}for(w=0;12>w;++w)Mc[Lc[w]]=w;Qa=new hb;for(w=0;29400>w;++w)for(r=0;20>r;++r){h=Qa;n=w;h.parity=n&1;n>>>=1;Va=Lc[n%12];n=~~(n/12);ab=4;for(d=7;0<=d;--d)h.rl[d]=0,Va>=
Ta[d][ab]&&(Va-=Ta[d][ab--],h.rl[d]=1);Va=n%35;n=~~(n/35);ab=4;h.fb[7]=0;for(d=6;0<=d;--d)Va>=Ta[d][ab]?(Va-=Ta[d][ab--],h.fb[d]=1):h.fb[d]=0;ab=4;h.ud[7]=0;for(d=6;0<=d;--d)n>=Ta[d][ab]?(n-=Ta[d][ab--],h.ud[d]=1):h.ud[d]=0;ab=Qa;d=r;ab.parity^=md[d];switch(d){case 0:case 1:case 2:gb(ab.ud,0,1,2,3,d%3);break;case 3:gb(ab.rl,0,1,2,3,1);break;case 4:case 5:case 6:gb(ab.fb,0,1,2,3,(d-1)%3);break;case 7:case 8:case 9:gb(ab.ud,4,5,6,7,(d-1)%3);break;case 10:gb(ab.rl,4,5,6,7,1);break;case 11:case 12:case 13:gb(ab.fb,
4,5,6,7,(d+1)%3);break;case 14:gb(ab.ud,0,1,2,3,1);gb(ab.rl,0,5,4,1,1);gb(ab.fb,0,5,4,1,1);break;case 15:gb(ab.rl,0,1,2,3,1);gb(ab.fb,1,4,7,2,1);gb(ab.ud,1,6,5,2,1);break;case 16:gb(ab.fb,0,1,2,3,1);gb(ab.ud,3,2,5,4,1);gb(ab.rl,0,3,6,5,1);break;case 17:gb(ab.ud,4,5,6,7,1);gb(ab.rl,3,2,7,6,1);gb(ab.fb,3,2,7,6,1);break;case 18:gb(ab.rl,4,5,6,7,1);gb(ab.fb,0,3,6,5,1);gb(ab.ud,0,3,4,7,1);break;case 19:gb(ab.fb,4,5,6,7,1),gb(ab.ud,0,7,6,1,1),gb(ab.rl,1,4,7,2,1)}sc[w][r]=db(Qa)&65535}zc(cc);Qa=cc[0]=0;
for(ab=1;29400!=ab;){for(w=0;29400>w;++w)if(cc[w]==Qa)for(r=0;17>r;++r)-1==cc[sc[w][r]]&&(cc[sc[w][r]]=Qa+1,++ab);++Qa}w=new Jb;for(Qa=0;20>Qa;++Qa)for(ab=0;8>ab;++ab){Ob(w,0);Rb(w,Qa);Qb(w,ab);for(r=0;12>r;++r)Nc[Qa<<3|ab][r]=w.edge[r];Gb(w);for(r=0;12>r;++r)Oc[Qa<<3|ab][r]=w.temp[r]}r=new Jb;h=Ra(1485);for(Qa=0;1485>Qa;Qa++)h[Qa]=0;for(Qa=w=0;11880>Qa;++Qa)if(0==(h[~~Qa>>>3]&1<<(Qa&7))){Ob(r,Qa*Pc[8]);for(d=0;8>d;++d)ab=Db(r,4),ab==Qa&&(Ec[w]=(Ec[w]|1<<d)&65535),h[~~ab>>3]|=1<<(ab&7),nc[ab]=w<<
3|nd[d],Eb(r,0),1==d%2&&(Eb(r,1),Eb(r,2));Dc[w++]=Qa}var Cb;Qa=new Jb;ab=new Jb;h=new Jb;zc(Yb);r=0;Hc=1;for($b(Yb,0,0);31006080!=Hc;){n=9<r;Va=r%3;w=(r+1)%3;d=n?3:Va;Va=n?Va:3;if(9<=r)break;for(Za=0;31006080>Za;Za+=16){var mb=Yb[~~Za>>4];if(n||-1!=mb)for(fb=Za,Xa=Za+16;fb<Xa;++fb,mb>>=2)if((mb&3)==d){var ob=~~(fb/20160);ob=Dc[ob];var lb=fb%20160;Ob(Qa,20160*ob+lb);for(ob=0;17>ob;++ob){lb=Sb(Qa.edge,ob<<3,4);lb=nc[lb];var kb=lb&7;lb>>=3;var ub=Sb(Qa.edge,ob<<3|kb,10)%20160;ub=20160*lb+ub;if(Zb(Yb,
ub)==Va){$b(Yb,n?fb:ub,w);++Hc;if(n)break;ub=Ec[lb];if(1!=ub)for(Hb(ab,Qa),Rb(ab,ob),Qb(ab,kb),Cb=1;0!=(ub=~~ub>>1&65535);++Cb)1==(ub&1)&&(Hb(h,ab),Qb(h,Cb),kb=20160*lb+Db(h,10)%20160,Zb(Yb,kb)==Va&&($b(Yb,kb,w),++Hc))}}}}++r}qd=!0}a.c=new Vc(b);ud(a);return a.solution}function xc(a,c,b,d,f,h){var n,z,w;if(0==c){if(c=0==d){Wb(a.c1,a.c);for(c=0;c<a.length1;++c)dc(a.c1,a.move1[c]);switch(Kc[b]){case 0:dc(a.c1,24);dc(a.c1,35);a.move1[a.length1]=24;a.move1[a.length1+1]=35;a.add1=!0;b=19;break;case 12869:dc(a.c1,
18);dc(a.c1,29);a.move1[a.length1]=18;a.move1[a.length1+1]=29;a.add1=!0;b=34;break;case 735470:a.add1=!1,b=0}kb(a.ct2,Tb(a.c1),yc(Nb(a.c1).ep));c=nb(a.ct2);d=jb(a.ct2);a.c1.value=Pb[70*c+d]+a.length1;a.c1.length1=a.length1;a.c1.add1=a.add1;a.c1.sym=b;++a.p1SolsCnt;if(500>a.p1sols.heap.size)var r=new wc(a.c1);else{b=a.p1sols;if(0==b.heap.size)r=null;else{c=b.heap.array[0];d=b.heap;f=b.heap.size-1;h=d.array[f];d.array.splice(f,1);--d.size;if(0<b.heap.size){ic(b.heap,0,h);d=0;f=b.heap.size;for(w=b.heap.array[d];2*
d+1<f;){h=(n=2*d+1,r=n+1,z=n,r<f&&0>b.heap.array[n].value-b.heap.array[r].value&&(z=r),z);if(0>b.heap.array[h].value-w.value)break;ic(b.heap,d,b.heap.array[h]);d=h}ic(b.heap,d,w)}r=c}r.value>a.c1.value&&Wb(r,a.c1)}n=a.p1sols;b:{z=n.heap.size;b=n.heap;c=b.size++;for(b.array[c]=r;0<z;){b=z;z=~~((z-1)/2);if(0>=r.value-n.heap.array[z].value){ic(n.heap,b,r);break b}ic(n.heap,b,n.heap.array[z])}ic(n.heap,z,r)}c=1E4==a.p1SolsCnt}return c}for(n=0;27>n;n+=3)if(n!=f&&n!=f-9&&n!=f-18)for(w=0;3>w;++w){z=n+w;
r=Ac[c][Xb[b][z]];var Qa=Vb[~~r>>>6];if(Qa>=d){if(Qa>d)break}else if(Qa=kc[b][r&63],r>>>=6,a.move1[h]=z,xc(a,r,Qa,d-1,n,h+1))return!0}return!1}function Yc(a,c,b,d,f,h){var n;if(0==c&&0==Pb[b]){if(c=0==d){Wb(a.c2,a.c1);for(c=0;c<a.length2;++c)dc(a.c2,a.move2[c]);c=Nb(a.c2);b=0;f=!1;for(d=0;12>d;++d)b|=1<<c.ep[d],f=f!=12<=c.ep[d];0!=(b&~~b>>12)||f?c=!1:(c=Lb(a.e12,Nb(a.c2)),ob(a.ct3,Tb(a.c2),c^yc(fc(a.c2).cp)),c=db(a.ct3),Db(a.e12,10),b=hc(Fb(a.e12)),a.arr2[a.arr2idx]?Wb(a.arr2[a.arr2idx],a.c2):a.arr2[a.arr2idx]=
new wc(a.c2),a.arr2[a.arr2idx].value=a.length1+a.length2+Math.max(b,cc[c]),a.arr2[a.arr2idx].length2=a.length2,++a.arr2idx,c=a.arr2idx==a.arr2.length)}return c}for(n=0;23>n;++n)if(Fc[f][n])n=uc[n];else{var z=Cc[c][n];var w=Bc[b][n];var r=Pb[70*z+w];if(r>=d)r>d&&(n=uc[n]);else if(a.move2[h]=gc[n],Yc(a,z,w,d-1,n,h+1))return!0}return!1}function Zc(a,c,b,d,f,h,n){var z;if(0==f)return 0==c&&0==b;Ob(a.tempe[n],c);for(z=0;17>z;++z)if(Gc[h][z])z=pc[z];else{c=sc[b][z];var w=cc[c];if(w>=f)w>f&&14>z&&(z=pc[z]);
else{w=Sb(a.tempe[n].edge,z<<3,10);var r=~~(w/20160);r=nc[r];var Qa=r&7;r>>=3;var ab=Sb(a.tempe[n].edge,z<<3|Qa,10)%20160;Qa=d;r=Zb(Yb,20160*r+ab);r=3==r?10:(1227133513<<r>>Qa&3)+Qa-1;if(r>=f)r>f&&14>z&&(z=pc[z]);else if(Zc(a,w,c,r,f-1,z,n+1))return a.move3[n]=z,!0}}return!1}function $c(){var a;this.p1sols=new gd(new Wc);this.move1=Ra(15);this.move2=Ra(20);this.move3=Ra(20);this.c1=new vc;this.c2=new vc;this.ct2=new pb;this.ct3=new hb;this.e12=new Jb;this.tempe=Ra(20);this.arr2=Ra(100);for(a=0;20>
a;++a)this.tempe[a]=new Jb}function ad(){ad=b}function yc(a){var c,b,d;var f=d=0;for(b=a.length;f<b;++f)for(c=f;c<b;++c)a[f]>a[c]&&(d^=1);return d}function gb(a,c,b,d,f,h){switch(h){case 0:h=a[f];a[f]=a[d];a[d]=a[b];a[b]=a[c];a[c]=h;break;case 1:h=a[c];a[c]=a[d];a[d]=h;h=a[b];a[b]=a[f];a[f]=h;break;case 2:h=a[c],a[c]=a[b],a[b]=a[d],a[d]=a[f],a[f]=h}}function bd(){}function cd(a,c,b,d){var f=new bd;f.typeName=a+c;ed(0!=b?-b:0)&&fd(0!=b?-b:0,f);f.modifiers=4;f.superclass=Uc;f.componentType=d;return f}
function dd(a,c,b,d){var f=new bd;f.typeName=a+c;ed(b)&&fd(b,f);f.superclass=d;return f}function ed(a){return"number"==typeof a&&0<a}function fd(a,c){c.seedId=a;if(2==a)var b=String.prototype;else if(0<a)if(b=qc[c.seedId])b=b.prototype;else{b=qc[a]=function(){};b.___clazz$=c;return}else return;b.___clazz$=c}function wd(a){a.array=Qa(rd,h([30,40]),0,0,0);a.size=0}function ic(a,c,b){var d=a.array[c];a.array[c]=b;return d}function xd(){this.array=Qa(rd,h([30,40]),0,0,0);this.array.length=500}function zc(a){var c=
a.length,b;for(b=0;b<c;++b)a[b]=-1}function yd(a,c){var b=a.heap,d=c;if(d.length<b.size){var f=Xa(0,b.size);w(d.___clazz$,d.castableTypeMap$,d.queryId$,f);d=f}for(f=0;f<b.size;++f)d[f]=b.array[f];d.length>b.size&&(d[b.size]=null);return d}function gd(a){this.heap=new xd;this.cmp=a}function hd(){hd=b;Xc();ad();Za();mb();fb();Mb();ub();yb();jc();ec();sd=new $c}function id(){hd();return(scramble_333.getRandomScramble()+vd(sd,Math)).replace(/\s+/g," ")}var Ab,qc={};a(1,-1,{});Ab.value=null;a(73,1,{},
r);Ab.queryId$=0;var Ic,Jc;a(153,1,h([21]),eb,lb,cb);var Vb,Ac,Kc,mc=null,rc,lc,Xb,kc;a(154,1,{},pb);Ab.parity=0;var Cc,Pb,kd,ld,Bc,jd;a(155,1,{},hb);Ab.parity=0;var sc,md,cc,Lc,Mc;a(156,1,{},ab,Cb);a(157,1,h([22]),rb,xb,vb);Ab.temps=null;var Ub;a(158,1,h([23]),Jb);Ab.isStd=!0;Ab.temp=null;var Qc,Hc=0,Yb,Pc,Nc,Oc,nc,Dc,nd,Ec;a(159,1,{},bc,ac);a(160,1,h([24,34]),vc,wc,Vc);Ab.compareTo$=function(a){return this.value-a.value};Ab.add1=!1;Ab.center=null;Ab.centerAvail=0;Ab.corner=null;Ab.cornerAvail=0;
Ab.edge=null;Ab.edgeAvail=0;Ab.length1=0;Ab.length2=0;Ab.length3=0;Ab.moveLength=0;Ab.sym=0;Ab.value=0;var Rc;a(161,1,{},Wc);Ab.compare=function(a,c){return c.value-a.value};var oc,Fc,Gc,gc,Sc,tc,Tc,uc,pc,od,pd;a(163,1,h([26]),$c);Ab.add1=!1;Ab.arr2idx=0;Ab.c=null;Ab.length1=0;Ab.length2=0;Ab.p1SolsCnt=0;Ab.solution="";var qd=!1;Ab.val$outerIter=null;Ab.size=0;a(239,1,{},gd);Ab.cmp=null;Ab.heap=null;var Uc=dd("java.lang.","Object",1,null),rd=cd("[Ljava.lang.","Object;",356,Uc),Ad=dd("cs.threephase.",
"FullCube",160,Uc),zd=cd("[Lcs.threephase.","FullCube;",381,Ad),sd;scrMgr.reg("444wca",id);return{getRandomScramble:id}}(mathlib.rn,mathlib.Cnk,mathlib.circle);(function(n,Ta,d,Ra){function a(a,c){c<<=2;if(24<c){c=48-c;var b=a.ul;a.ul=(a.ul>>c|a.ur<<24-c)&16777215;a.ur=(a.ur>>c|b<<24-c)&16777215}else 0<c?(b=a.ul,a.ul=(a.ul<<c|a.ur>>24-c)&16777215,a.ur=(a.ur<<c|b>>24-c)&16777215):0==c?(b=a.ur,a.ur=a.dl,a.dl=b,a.ml=1-a.ml):-24<=c?(c=-c,b=a.dl,a.dl=(a.dl<<c|a.dr>>24-c)&16777215,a.dr=(a.dr<<c|b>>24-c)&16777215):-24>c&&(c=48+c,b=a.dl,a.dl=(a.dl>>c|a.dr<<24-c)&16777215,a.dr=(a.dr>>c|b<<24-c)&16777215)}function h(a,c){var b;6>c?b=a.ul>>(5-c<<2):12>c?b=a.ur>>(11-
c<<2):18>c?b=a.dl>>(17-c<<2):b=a.dr>>(23-c<<2);return b&15}function b(a,c,b){6>c?(a.ul&=~(15<<(5-c<<2)),a.ul|=b<<(5-c<<2)):12>c?(a.ur&=~(15<<(11-c<<2)),a.ur|=b<<(11-c<<2)):18>c?(a.dl&=~(15<<(17-c<<2)),a.dl|=b<<(17-c<<2)):(a.dr&=~(15<<(23-c<<2)),a.dr|=b<<(23-c<<2))}function r(){this.arr=[];this.prm=[]}function Xa(a){var c;void 0===a&&(a=Ra(3678));var d=new r;var f=jb[a];var h=324508639;var n=38177486;var z=c=8;for(a=0;24>a;a++)if(0==(f>>a&1)){var w=Ra(c)<<2;b(d,23-a,n>>w&15);w=(1<<w)-1;n=(n&w)+(n>>
4&~w);--c}else w=Ra(z)<<2,b(d,23-a,h>>w&15),b(d,22-a,h>>w&15),w=(1<<w)-1,h=(h&w)+(h>>4&~w),--z,++a;d.ml=Ra(2);return d}function Qa(c,b,d,f,n,z){if(0==d&&4>f){if(b=0==f)a:{b=c.Search_d;f=c.Search_c;b.ul=f.ul;b.ur=f.ur;b.dl=f.dl;b.dr=f.dr;b.ml=f.ml;for(b=0;b<c.Search_length1;++b)a(c.Search_d,c.Search_move[b]);b=c.Search_d;f=c.Search_sq;for(n=0;8>n;++n)b.prm[n]=h(b,3*n+1)>>1;f.cornperm=Ta(b.prm);f.topEdgeFirst=h(b,0)==h(b,1);n=f.topEdgeFirst?2:0;for(z=0;4>z;n+=3,++z)b.prm[z]=h(b,n)>>1;f.botEdgeFirst=
h(b,12)==h(b,13);for(n=f.botEdgeFirst?14:12;8>z;n+=3,++z)b.prm[z]=h(b,n)>>1;f.edgeperm=Ta(b.prm);f.ml=b.ml;n=c.Search_sq.edgeperm;f=c.Search_sq.cornperm;z=c.Search_sq.ml;for(b=Math.max(pb[c.Search_sq.edgeperm<<1|z],pb[c.Search_sq.cornperm<<1|z]);b<c.Search_maxlen2;++b)if(w(c,n,f,c.Search_sq.topEdgeFirst,c.Search_sq.botEdgeFirst,z,b,c.Search_length1,0)){for(f=0;f<b;++f)a(c.Search_d,c.Search_move[c.Search_length1+f]);f=c;n="";d=z=0;for(b=b+c.Search_length1-1;0<=b;b--){var r=c.Search_move[b];0<r?(r=
12-r,z=6<r?r-12:r):0>r?(r=12+r,d=6<r?r-12:r):(r="/",b==c.Search_length1-1&&(r="`/`"),n=0==z&&0==d?n+r:n+(" ("+z+","+d+")"+r),z=d=0)}if(0!=z||0!=d)n+=" ("+z+","+d+") ";f.Search_sol_string=n;b=!0;break a}b=!1}return b}if(0!=z){var Sa=kb[b];r=ib[Sa];if(r<f&&(c.Search_move[n]=0,Qa(c,Sa,r,f-1,n+1,0)))return!0}Sa=b;if(0>=z)for(d=0;;){d+=bb[Sa];Sa=d>>4;d&=15;if(12<=d)break;r=ib[Sa];if(r>f)break;else if(r<f&&(c.Search_move[n]=d,Qa(c,Sa,r,f-1,n+1,1)))return!0}Sa=b;if(1>=z)for(d=0;;){d+=nb[Sa];Sa=d>>4;d&=15;
if(6<=d)break;r=ib[Sa];if(r>f)break;else if(r<f&&(c.Search_move[n]=-d,Qa(c,Sa,r,f-1,n+1,2)))return!0}return!1}function w(a,c,b,d,f,h,n,z,r){var Qa,Sa;if(0==n&&!d&&f)return!0;if(0!=r&&d==f){var $a=db[c];var Ua=db[b];if(pb[$a<<1|1-h]<n&&pb[Ua<<1|1-h]<n&&(a.Search_move[z]=0,w(a,$a,Ua,d,f,1-h,n-1,z+1,0)))return!0}if(0>=r){$a=(Sa=!d)?fb[c]:c;Ua=Sa?b:fb[b];var ab=Sa?1:2;var Va=pb[$a<<1|h];for(Qa=pb[Ua<<1|h];12>ab&&Va<=n&&Va<=n;){if(Va<n&&Qa<n&&(a.Search_move[z]=ab,w(a,$a,Ua,Sa,f,h,n-1,z+1,1)))return!0;
(Sa=!Sa)?($a=fb[$a],Va=pb[$a<<1|h],ab+=1):(Ua=fb[Ua],Qa=pb[Ua<<1|h],ab+=2)}}if(1>=r)for($a=(f=!f)?qb[c]:c,Ua=f?b:qb[b],ab=f?1:2,Va=pb[$a<<1|h],Qa=pb[Ua<<1|h];ab<(6<n?6:12)&&Va<=n&&Va<=n;){if(Va<n&&Qa<n&&(a.Search_move[z]=-ab,w(a,$a,Ua,d,f,h,n-1,z+1,2)))return!0;(f=!f)?($a=qb[$a],Va=pb[$a<<1|h],ab+=1):(Ua=qb[Ua],Qa=pb[Ua<<1|h],ab+=2)}return!1}function Va(a,b){a.Search_c=b;var d=b.ur&1118481;d|=d>>3;d|=d>>6;d=d&15|d>>12&48;var f=b.ul&1118481;f|=f>>3;f|=f>>6;f=f&15|f>>12&48;var n=b.dr&1118481;n|=n>>
3;n|=n>>6;n=n&15|n>>12&48;var z=b.dl&1118481;z|=z>>3;z|=z>>6;z=z&15|z>>12&48;var w,r;var Sa=0;b.arr[0]=h(b,0);for(w=1;24>w;++w)h(b,w)!=b.arr[Sa]&&(b.arr[++Sa]=h(b,w));for(Sa=r=0;16>Sa;++Sa)for(w=Sa+1;16>w;++w)b.arr[Sa]>b.arr[w]&&(r^=1);z=c(r<<24|f<<18|d<<12|z<<6|n);for(a.Search_length1=ib[z];100>a.Search_length1&&(a.Search_maxlen2=Math.min(32-a.Search_length1,17),!Qa(a,z,ib[z],a.Search_length1,0,-1));++a.Search_length1);return a.Search_sol_string}function Za(){this.Search_move=[];this.Search_d=new r;
this.Search_sq=new $a}function Ya(){Ya=$.noop;sb=[0,3,6,12,15,24,27,30,48,51,54,60,63];jb=[];ib=[];bb=[];nb=[];kb=[];var a,b;for(b=a=0;28561>b;++b){var d=sb[b%13];var h=sb[~~(b/13)%13];var n=sb[~~(~~(b/13)/13)%13];var z=sb[~~(~~(~~(b/13)/13)/13)];h=z<<18|n<<12|h<<6|d;16==f(h)&&(jb[a++]=h)}a=new Sa;for(b=0;7356>b;++b){Wa(a,b);h=bb;d=b;var w=a;z=n=0;do 0==(w.top&2048)?(n+=1,w.top<<=1):(n+=2,w.top=w.top<<2^12291),z=1-z;while(0!=(f(w.top&63)&1));0==(f(w.top)&2)&&(w.Shape_parity^=z);h[d]=n;bb[b]|=Ua(a)<<
4;Wa(a,b);h=nb;d=b;w=a;z=n=0;do 0==(w.bottom&2048)?(n+=1,w.bottom<<=1):(n+=2,w.bottom=w.bottom<<2^12291),z=1-z;while(0!=(f(w.bottom&63)&1));0==(f(w.bottom)&2)&&(w.Shape_parity^=z);h[d]=n;nb[b]|=Ua(a)<<4;Wa(a,b);z=a.top&63;h=f(z);d=f(a.bottom&4032);a.Shape_parity^=1&(h&d)>>1;a.top=a.top&4032|a.bottom>>6&63;a.bottom=a.bottom&63|z<<6;kb[b]=Ua(a)}for(b=0;7536>b;++b)ib[b]=-1;ib[c(14378715)]=0;ib[c(31157686)]=0;ib[c(23967451)]=0;ib[c(7191990)]=0;h=4;d=0;for(a=-1;h!=d;)for(d=h,++a,b=0;7536>b;++b)if(ib[b]==
a){n=0;z=b;do z=bb[z],n+=z&15,z>>=4,-1==ib[z]&&(++h,ib[z]=a+1);while(12!=n);n=0;z=b;do z=nb[z],n+=z&15,z>>=4,-1==ib[z]&&(++h,ib[z]=a+1);while(12!=n);z=kb[b];-1==ib[z]&&(++h,ib[z]=a+1)}}function Ua(a){return eb(jb,a.top<<12|a.bottom)<<1|a.Shape_parity}function Wa(a,c){a.Shape_parity=c&1;a.top=jb[c>>1];a.bottom=a.top&4095;a.top>>=12}function Sa(){}function c(a){return eb(jb,a&16777215)<<1|a>>24}function z(){z=$.noop;pb=[];db=[];fb=[];qb=[];var a,c,b;var f=[];for(c=0;40320>c;++c)n(f,c),d(f,2,4)(f,3,
5),db[c]=Ta(f),n(f,c),d(f,0,3,2,1),fb[c]=Ta(f),n(f,c),d(f,4,7,6,5),qb[c]=Ta(f);for(c=0;80640>c;++c)pb[c]=-1;var h=pb[0]=0;for(a=1;80640>a;){var w=(b=11<=h)?-1:h;f=b?h:-1;++h;c=0;a:for(;80640>c;++c)if(pb[c]==w){var r=c>>1;var Qa=c&1;var Sa=db[r]<<1|1-Qa;if(pb[Sa]==f&&(++a,pb[b?c:Sa]=h,b))continue a;Sa=r;for(r=0;4>r;++r)if(Sa=fb[Sa],pb[Sa<<1|Qa]==f&&(++a,pb[b?c:Sa<<1|Qa]=h,b))continue a;for(r=0;4>r;++r)if(Sa=qb[Sa],pb[Sa<<1|Qa]==f&&(++a,pb[b?c:Sa<<1|Qa]=h,b))continue a}}}function $a(){}function f(a){a-=
a>>1&1431655765;a=(a>>2&858993459)+(a&858993459);a=(a>>4)+a&252645135;a+=a>>8;return a+(a>>16)&63}function eb(a,c){var b;var d=0;for(b=a.length-1;d<=b;){var f=d+(b-d>>1);var h=a[f];if(h<c)d=f+1;else if(h>c)b=f-1;else return f}return-d-1}function lb(){lb=$.noop;for(var a=new Sa,c=0;c<ob.length;c++){for(var b=[ob[c]],d=0;d<b.length;d++){var f=b[d];do f=bb[f<<1]>>5,-1==b.indexOf(f)&&b.push(f);while(f!=b[d]);do f=nb[f<<1]>>5,-1==b.indexOf(f)&&b.push(f);while(f!=b[d]);Wa(a,f<<1);f=a.top;a.top=a.bottom;
a.bottom=f;f=Ua(a)>>1;-1==b.indexOf(f)&&b.push(f)}ob[c]=b}}function cb(a,c,b){Ya();z();return Va(ub,Xa())}var mb=r.prototype=function(){}.prototype;mb.dl=10062778;mb.dr=14536702;mb.ml=0;mb.ul=70195;mb.ur=4544119;mb=Za.prototype=function(){}.prototype;mb.Search_c=null;mb.Search_length1=0;mb.Search_maxlen2=0;mb.Search_sol_string=null;mb=Sa.prototype=function(){}.prototype;mb.bottom=0;mb.Shape_parity=0;mb.top=0;var nb,jb,ib,bb,kb,sb;mb=$a.prototype=function(){}.prototype;mb.botEdgeFirst=!1;mb.cornperm=
0;mb.edgeperm=0;mb.ml=0;mb.topEdgeFirst=!1;var qb,pb,fb,db,ob=[0,1,3,18,19,1004,1005,1006,1007,1008,1009,1011,1015,1016,1018,1154,1155,1156,1157,1158,1159,1161,1166,1168,424,425,426,427,428,429,431,436,95,218,341,482,528,632,1050,342,343,345,346,348,353,223,487,533,535,1055,219,225,483,489,639,1051,1057,486,1054,1062,6,21,34,46,59,71,144,157,182,305,7,22,35,47,60,72,145,158,183,306,8,23,36,48,61,73,146,159,184,307],hb=[16,16,16,10,16,24,16,24,16,24,16,16,4,24,16,48,32,48,32,48,32,32,48,16,48,32,48,
16,48,32,32,48,36,48,72,72,48,48,72,48,36,72,48,48,72,32,48,16,32,48,16,32,48,48,16,48,48,36,72,36,72,96,96,72,96,72,72,72,72,24,48,64,64,48,64,48,48,48,48,16,24,32,32,24,32,24,24,24,24,8],ub=new Za;scrMgr.reg("sqrs",cb);scrMgr.reg("sqrcsp",function(a,c,b){Ya();z();lb();a=mathlib.rndEl(ob[scrMgr.fixCase(b,hb)]);return Va(ub,Xa(a))},["Star-x8 Star-x71 Star-x62 Star-x44 Star-x53 Square-Scallop Square-rPawn Square-Shield Square-Barrel Square-rFist Square-Mushroom Square-lPawn Square-Square Square-lFist Square-Kite Kite-Scallop Kite-rPawn Kite-Shield Kite-Barrel Kite-rFist Kite-Mushroom Kite-lPawn Kite-lFist Kite-Kite Barrel-Scallop Barrel-rPawn Barrel-Shield Barrel-Barrel Barrel-rFist Barrel-Mushroom Barrel-lPawn Barrel-lFist Scallop-Scallop Scallop-rPawn Scallop-Shield Scallop-rFist Scallop-Mushroom Scallop-lPawn Scallop-lFist Shield-rPawn Shield-Shield Shield-rFist Shield-Mushroom Shield-lPawn Shield-lFist Mushroom-rPawn Mushroom-rFist Mushroom-Mushroom Mushroom-lPawn Mushroom-lFist Pawn-rPawn-rPawn Pawn-rPawn-lPawn Pawn-rPawn-rFist Pawn-lPawn-rFist Pawn-lPawn-lPawn Pawn-rPawn-lFist Pawn-lPawn-lFist Fist-rFist-rFist Fist-lFist-rFist Fist-lFist-lFist Pair-x6 Pair-r42 Pair-x411 Pair-r51 Pair-l42 Pair-l51 Pair-x33 Pair-x312 Pair-x321 Pair-x222 L-x6 L-r42 L-x411 L-r51 L-l42 L-l51 L-x33 L-x312 L-x321 L-x222 Line-x6 Line-r42 Line-x411 Line-r51 Line-l42 Line-l51 Line-x33 Line-x312 Line-x321 Line-x222".split(" "),
hb]);return{initialize:$.noop,getRandomScramble:cb}})(mathlib.set8Perm,mathlib.get8Perm,mathlib.circle,mathlib.rn);(function(){function n(a,h){var n=b.set([],h&31),w=Xa.set([],h>>5),Qa=r.set([],a),Ua=[];mathlib.fillFacelet(Ta,Ua,[0,1,2,3],w,6);mathlib.fillFacelet(d,Ua,Qa,n,6);n=[4,2,3,1,5,0];for(w=0;6>w;w++)for(Qa=0;2>Qa;Qa++){var Ra=d[w][0^Qa],Sa=d[w][1^Qa],c=6*~~(Ra/6)+n[(n.indexOf(Ra%6)+5)%6],z=6*~~(Sa/6)+n[(n.indexOf(Sa%6)+1)%6];if(Ua[c]==Ua[Ra]&&Ua[z]==Ua[Sa])return!1}return!0}var Ta=[[3,16,11],[4,23,15],[5,9,22],[10,17,21]],d=[[1,7],[2,14],[0,18],[6,12],[8,20],[13,19]],Ra=new mathlib.Solver(4,2,[[0,[function(b,
d){mathlib.acycle(b,a[d])},"p",6,-1],360],[0,function(d,n){var w=b.set([],d&31),r=Xa.set([],d>>5);r[n]++;mathlib.acycle(w,a[n],1,h[n]);return Xa.get(r)<<5|b.get(w)},2592]]),a=[[0,1,3],[1,2,5],[0,4,2],[3,5,4]],h=[[0,1,0,2],[0,1,0,2],[0,0,1,2],[0,0,1,2]],b=new mathlib.coord("o",6,-2),r=new mathlib.coord("p",6,-1),Xa=new mathlib.coord("o",4,3);scrMgr.reg(["pyro","pyrso","pyrl4e","pyrnb","pyr4c"],function(a){var b="pyro"==a?0:8,d="pyrl4e"==a?2:7;do{if("pyro"==a||"pyrso"==a||"pyr4c"==a){var h=mathlib.rn(360);
var r=mathlib.rn(2592)}else if("pyrl4e"==a)h=mathlib.get8Perm(mathlib.set8Perm([],mathlib.rn(12),4,-1).concat([4,5]),6,-1),r=864*mathlib.rn(3)+mathlib.rn(8);else if("pyrnb"==a){do h=mathlib.rn(360),r=mathlib.rn(2592);while(!n(h,r))}var Qa=Ra.search([h,r],0).length;var Wa=Ra.toStr(Ra.search([h,r],b).reverse(),"ULRB",["'",""])+" ";for(var Sa=0;4>Sa;Sa++){var c=mathlib.rn("pyr4c"==a?2:3);2>c&&(Wa+="lrbu".charAt(Sa)+[" ","' "][c],Qa++)}}while(Qa<d);return Wa})})();(function(){function n(b,d){var h=Xa.set([],b%12),c=r.set([],~~(b/12)),n=Qa.set([],d%81);d=w.set([],~~(d/81));for(var $a=[],f=0;6>f;f++)$a[5*f]=c[f];mathlib.fillFacelet(Ra,$a,[0,1,2,3],n,5);mathlib.fillFacelet(a,$a,h,d,5);for(f=0;30>f;f+=5)for(h=1;5>h;h++)if($a[f]==$a[f+h])return!1;return!0}function Ta(a,d){var n=Xa.set([],a%12),c=r.set([],~~(a/12));mathlib.acycle(c,h[d]);mathlib.acycle(n,b[d]);return 12*r.get(c)+Xa.get(n)}function d(a,d){var h=Qa.set([],a%81),c=w.set([],~~(a/81));h[d]++;mathlib.acycle(c,
b[d],1,[0,2,1,3]);return 81*w.get(c)+Qa.get(h)}var Ra=[[4,16,7],[1,11,22],[26,14,8],[29,19,23]],a=[[3,6,12],[2,21,17],[27,9,18],[28,24,13]],h=[[0,3,1],[0,2,4],[1,5,2],[3,4,5]],b=[[0,1,2],[0,3,1],[0,2,3],[1,3,2]],r=new mathlib.coord("p",6,-1),Xa=new mathlib.coord("p",4,-1),Qa=new mathlib.coord("o",4,3),w=new mathlib.coord("o",4,-3),Va=new mathlib.Solver(4,2,[[0,Ta,4320],[0,d,2187]]),Za=new mathlib.Solver(4,2,[[0,function(a,b){return~~(Ta(12*a,b)/12)},360],[0,function(a,b){return d(a,b)%81},81]]),Ya=
[0,1,2,0,2,1,1,2,0,2,1,0];scrMgr.reg(["skbo","skbso","skbnb"],function(a){var b="skbso"==a?6:2,d="skbo"==a?0:8;do{var c=mathlib.rn(4320);var h=mathlib.rn(2187)}while(0==c&&0==h||Ya[c%12]!=(h+~~(h/3)+~~(h/9)+~~(h/27))%3||null!=Va.search([c,h],0,b)||"skbnb"==a&&!n(c,h));a=Va.search([c,h],d).reverse();c=[];h=["L","R","B","U"];for(b=0;b<a.length;b++){d=a[b][0];var w=1-a[b][1];2==d&&mathlib.acycle(h,[0,3,1],w+1);c.push(h[d]+(1==w?"'":""))}return c.join(" ")})(["ivyo","ivyso"],function(a){var b="ivyso"==
a?6:0;do{a=mathlib.rn(360);var d=mathlib.rn(81)}while(0==a&&0==d||null!=Za.search([a,d],0,1));return Za.toStr(Za.search([a,d],b).reverse(),"RLDB","' ")})})();(function(n){function Ta(a,d){mathlib.acycle(a,h[d],1,b[d])}function d(a,b){for(var d=mathlib.set8Perm([],a,7),h=r.set([],b),c=[],n=0;24>n;n++)c[n]=n>>2;mathlib.fillFacelet(Xa,c,d,h,4);for(n=0;24>n;n+=4)if((1<<c[n]|1<<c[n+3])&(1<<c[n+1]|1<<c[n+2]))return!1;return!0}function Ra(b,h,Qa){var Sa="222o"==b?0:9;do{var c=2;if("222o"==b||"222so"==b){var z=n(5040);var $a=n(729);c=3}else if("222eg"==b){$a=w[Qa&7];z=[0,2,3,4,5,1][Qa>>3];z=mathlib.set8Perm([0,0,0,0].concat(Za[z]),n(24),4);z=mathlib.get8Perm(z,
7);var f=n(4);for($a=r.set([],$a);0<f--;)Ta($a,0);$a=r.get($a)}else{if(/^222eg[012]$/.exec(b))return Ra("222eg",h,[0,8,40][~~b[5]]+Qa);if("222nb"==b){do z=n(5040),$a=n(729);while(!d(z,$a))}}}while(0==z&&0==$a||null!=a.search([z,$a],0,c));return a.toStr(a.search([z,$a],Sa).reverse(),"URF","'2 ")}var a=new mathlib.Solver(3,3,[[0,[function(a,b){mathlib.acycle(a,h[b])},"p",7],5040],[0,[Ta,"o",7,-3],729]]),h=[[0,2,3,1],[0,1,5,4],[0,4,6,2]],b=[null,[0,1,0,1,3],[1,0,1,0,3]],r=new mathlib.coord("o",7,-3),
Xa=[[3,4,9],[1,20,5],[2,8,17],[0,16,21],[13,11,6],[15,7,22],[12,19,10]],Qa=[1,2,4,4,4,4,4,4,1,2,4,4,4,4,4,4,1,2,4,4,4,4,4,4,1,2,4,4,4,4,4,4,1,2,4,4,4,4,4,4,1,2,4,4,4,4,4,4],w=[0,17,5,14,8,1,2,4],Va="EG0-O EG0-H EG0-L EG0-Pi EG0-S EG0-T EG0-U EG0-aS EG1B-O EG1B-H EG1B-L EG1B-Pi EG1B-S EG1B-T EG1B-U EG1B-aS EG1L-O EG1L-H EG1L-L EG1L-Pi EG1L-S EG1L-T EG1L-U EG1L-aS EG1F-O EG1F-H EG1F-L EG1F-Pi EG1F-S EG1F-T EG1F-U EG1F-aS EG1R-O EG1R-H EG1R-L EG1R-Pi EG1R-S EG1R-T EG1R-U EG1R-aS EG2-O EG2-H EG2-L EG2-Pi EG2-S EG2-T EG2-U EG2-aS".split(" "),
Za=[[4,5,6],[4,6,5],[6,5,4],[5,4,6],[5,6,4],[6,4,5]];scrMgr.reg(["222o","222so","222nb"],Ra)("222eg0",Ra,[Va.slice(0,8),Qa.slice(0,8)])("222eg1",Ra,[Va.slice(8,40),Qa.slice(8,40)])("222eg2",Ra,[Va.slice(40,48),Qa.slice(40,48)])("222eg",Ra,[Va,Qa])})(mathlib.rn);(function(){function n(a,b){mathlib.acycle(a,[0,b+1])}function Ta(a,b){var d=mathlib.set8Perm([],~~(a/3),4);mathlib.acycle(d,Xa[b]);return 3*mathlib.get8Perm(d,4)+(a%3+(0==b?1:0))%3}function d(a,d,n){return 72*h[n][~~(d/72)]+b[(n+a)%3][d%72]}function Ra(a,d,n,Xa){if(0==d)return 0==a[0]&&0==a[1]&&0==a[2]&&0==a[3];if(Math.max(mathlib.getPruning(r[0],72*a[0]+a[1]),mathlib.getPruning(r[1],72*a[0]+a[2]),mathlib.getPruning(r[2],72*a[0]+a[3]))>d)return!1;for(var w=0;3>w;w++)if(w!=n)for(var Qa=a.slice(),
Va=0;11>Va;Va++){Qa[0]=h[w][Qa[0]];for(var Sa=1;4>Sa;Sa++)Qa[Sa]=b[(w+Sa-1)%3][Qa[Sa]];if(Ra(Qa,d-1,w,Xa))return Xa.push("URF".charAt(w)+"' 2' 3' 4' 5' 6 5 4 3 2 ".split(" ")[Va]),!0}}function a(){a=$.noop;mathlib.createMove(b,72,Ta,3);mathlib.createMove(h,24,[n,"p",4],3);for(var Qa=0;3>Qa;Qa++)mathlib.createPrun(r[Qa],0,1728,5,d.bind(null,Qa),3,12,0)}var h=[],b=[],r=[[],[],[]],Xa=[[0,3,2,1],[0,1],[0,3]];scrMgr.reg(["gearo","gearso"],function(b){a();do{var d=[mathlib.rn(24)];for(var h=0;3>h;h++){do d[h+
1]=mathlib.rn(72);while(15==mathlib.getPruning(r[h],72*d[0]+d[h+1]))}}while(0==d);b="gearso"==b?4:0;for(h=[];!Ra(d,b,-1,h);)b++;return h.reverse().join(" ")})})();(function(){var n=new mathlib.Solver(4,1,[[0,function(d,n){var a=mathlib.set8Perm([],d>>4,4);mathlib.acycle(a,Ta[n]);return(mathlib.get8Perm(a,4)<<4)+(d&15^1<<n)},384]]),Ta=[[0,1],[2,3],[0,3],[1,2]];scrMgr.reg("133",function(){var d=1+mathlib.rn(191);d=2*d+((mathlib.getNParity(d>>3,4)^d>>1^d>>2^d)&1);return n.toStr(n.search([d],0),"RLFB",[""])})})();(function(n,Ta){function d(){d=$.noop;for(var b=[],r,Ra=0;40320>Ra;Ra++)a[Ra]=[];for(Ra=0;40320>Ra;Ra++)mathlib.set8Perm(b,Ra),n(b,0,1,2,3),r=a[0][Ra]=Ta(b),n(b,4,5,6,7),r=a[1][r]=Ta(b),n(b,2,5)(b,3,6),r=a[2][r]=Ta(b),n(b,0,5)(b,3,4),a[3][r]=Ta(b);mathlib.createPrun(h,0,40320,12,a,4,3)}function Ra(b,d,Xa,Qa,w){if(0==Xa)return 0==b+d;if(mathlib.getPruning(h,b)>Xa)return!1;var r,Za;for(Za=0;4>Za;Za++)if(Za!=Qa){var Ya=b;var Ua=d;for(r=0;r<(2>Za?3:1);r++){Ya=a[Za][Ya];var Wa=Za;2>Wa||(Ua=mathlib.set8Perm([],
Ua,3),2==Wa?n(Ua,0,1):3==Wa&&n(Ua,0,2),Ua=Ta(Ua,3));if(Ra(Ya,Ua,Xa-1,Za,w))return w.push(["U","D","R2","F2"][Za]+(2>Za?" 2'".charAt(r):"")),!0}}}var a=[],h=[];scrMgr.reg("223",function(){d();do{var a=mathlib.rn(40320);var h=mathlib.rn(6)}while(0==h+a);for(var n=[],Qa=0;99>Qa&&!Ra(a,h,Qa,-1,n);Qa++);return n.reverse().join(" ")})})(mathlib.circle,mathlib.get8Perm);var clock=function(n,Ta){function d(a,b,d,h,n){for(var w=a[0].length;h<w;h++)a[d][h]=(a[d][h]+a[b][h]*n)%12}var Ra=[[0,1,1,0,1,1,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,0,1,1,0,0,0,0,0],[0,0,0,1,1,0,1,1,0,0,0,0,0,0],[1,1,0,1,1,0,0,0,0,0,0,0,0,0],[1,1,1,1,1,1,0,0,0,0,0,0,0,0],[0,1,1,0,1,1,0,1,1,0,0,0,0,0],[0,0,0,1,1,1,1,1,1,0,0,0,0,0],[1,1,0,1,1,0,1,1,0,0,0,0,0,0],[1,1,1,1,1,1,1,1,1,0,0,0,0,0],[11,0,0,0,0,0,0,0,0,1,0,1,1,0],[0,0,0,0,0,0,11,0,0,0,0,1,1,1],[0,0,0,0,0,0,0,0,11,0,1,1,0,1],[0,0,11,0,0,0,0,0,0,1,
1,1,0,0],[11,0,11,0,0,0,0,0,0,1,1,1,1,0],[11,0,0,0,0,0,11,0,0,1,0,1,1,1],[0,0,0,0,0,0,11,0,11,0,1,1,1,1],[0,0,11,0,0,0,0,0,11,1,1,1,0,1],[11,0,11,0,0,0,11,0,11,1,1,1,1,1]],a=[-1,1,-1,-1,-1,5,-1,7,-1,-1,-1,11],h=[7695,42588,47187,85158,86697,156568,181700,209201,231778],b="UR DR DL UL U R D L ALL".split(" ");scrMgr.reg("clko",function(r){var Xa=[];for(r=0;14>r;r++)Xa[r]=n(12);r=[];r.length=18;if(14==Xa.length&&18==r.length)for(var Qa=15,w=0;w<Ta[18][14];w++){var Va=w;var Za=14;for(var Ya=0,Ua=17;0<=
Ua;Ua--)Va>=Ta[Ua][Za]&&(Va-=Ta[Ua][Za--],Ya|=1<<Ua);Za=Ya;Va=!1;for(Ya=0;Ya<h.length;Ya++)if((Za&h[Ya])==h[Ya]){Va=!0;break}if(!Va){Va=[];for(Ya=Ua=0;18>Ya;Ya++)1==(Za>>Ya&1)&&(Va[Ua++]=Ya);Za=[];for(Ua=0;14>Ua;Ua++){Za[Ua]=[];for(Ya=0;14>Ya;Ya++)Za[Ua][Ya]=Ra[Va[Ya]][Ua];Za[Ua][14]=Xa[Ua]}b:{Ya=Za;Ua=Ya[0].length;for(var Wa=0;Wa<Ua-1;Wa++){if(-1==a[Ya[Wa][Wa]]){for(var Sa=-1,c=Wa+1;14>c;c++)if(-1!=a[Ya[c][Wa]]){Sa=c;break}if(-1==Sa)c:for(c=Wa;13>c;c++)for(var z=c+1;14>z;z++)if(-1!=a[(Ya[c][Wa]+
Ya[z][Wa])%12]){d(Ya,z,c,Wa,1);Sa=c;break c}if(-1==Sa){for(c=Wa+1;14>c;c++)if(0!=Ya[c][Wa]){Ya=-1;break b}Ya=Wa+1;break b}c=Ya;z=c[Wa];c[Wa]=c[Sa];c[Sa]=z}Sa=a[Ya[Wa][Wa]];for(c=Wa;c<Ua;c++)Ya[Wa][c]=Ya[Wa][c]*Sa%12;for(c=Wa+1;14>c;c++)d(Ya,Wa,c,Wa,12-Ya[c][Wa])}Ya=0}if(0==Ya){Ya=!0;for(Ua=14;14>Ua;Ua++)if(0!=Za[Ua][14]){Ya=!1;break}if(Ya){Ya=Za;for(Ua=Ya[0].length-2;0<Ua;Ua--)for(Wa=Ua-1;0<=Wa;Wa--)0!=Ya[Wa][Ua]&&d(Ya,Ua,Wa,Ua,12-Ya[Wa][Ua]);for(Ua=Ya=0;14>Ua;Ua++)0!=Za[Ua][14]&&Ya++;if(Ya<Qa){for(Ua=
0;18>Ua;Ua++)r[Ua]=0;for(Ua=0;14>Ua;Ua++)r[Va[Ua]]=Za[Ua][14];Qa=Ya}}}}}Xa="";for(Qa=0;9>Qa;Qa++)w=r[Qa],0!=w&&(Va=6>=w,6<w&&(w=12-w),Xa+=b[Qa]+w+(Va?"+":"-")+" ");Xa+="y2 ";for(Qa=0;9>Qa;Qa++)w=r[Qa+9],0!=w&&(Va=6>=w,6<w&&(w=12-w),Xa+=b[Qa]+w+(Va?"+":"-")+" ");r=!0;for(Qa=0;4>Qa;Qa++)1==n(2)&&(Xa+=(r?"":" ")+b[Qa],r=!1);return Xa});return{moveArr:Ra}}(mathlib.rn,mathlib.Cnk);(function(){var n=[[0,1,2,3],[0,2,5,4]],Ta=[[0,0,0,0,2],[0,1,0,1,2]],d=new mathlib.Solver(2,3,[[0,function(d,a){var h=d>>3,b=d,r=d<<1|mathlib.getNParity(h,6)^b>>1&1;h=mathlib.set8Perm([],h,6);mathlib.acycle(h,n[a]);0==a&&(b+=2);1==a&&(r+=1);return mathlib.getNPerm(h,6)<<3|b&6|r>>1&1},5760],[0,[function(d,a){mathlib.acycle(d,n[a],1,Ta[a])},"o",6,-2],32]]);scrMgr.reg("lsemu",function(){do{var n=mathlib.rn(5760);var a=mathlib.rn(32)}while(0==a+n);return d.toStr(d.search([n,a],0),"UM"," 2'").replace(/ +/g,
" ")})})();(function(n,Ta,d){function Ra(a,c,b,d){void 0==d&&(d=[""]);for(var f=0,h,z=[],w=0;w<b;w++){do h=n(a.length);while(f>>h&1);z.push(a[h]+Ta(d));f&=~c[h];f|=1<<h}return z.join(" ")}function a(a){return" "+Ta([a+"=0",a+"+1",a+"+2",a+"+3",a+"+4",a+"+5",a+"+6",a+"-5",a+"-4",a+"-3",a+"-2",a+"-1"])+" "}function h(){return Ta(["U","d"])+Ta(["U","d"])}function b(a,c,b,d){for(var f=[[0,-1],[1,0],[-1,0],[0,1]],h=0,z=3,w,r=5,Qa=[],Sa=0;Sa<c;Sa++){do w=n(4);while(0>h+f[w][0]||3<h+f[w][0]||0>z+f[w][1]||3<z+f[w][1]||
3==w+r);h+=f[w][0];z+=f[w][1];0<Qa.length&&Qa[Qa.length-1][0]==w?Qa[Qa.length-1][1]++:Qa.push([w,1]);r=w}c="";for(Sa=0;Sa<Qa.length;Sa++)if(f=a?Qa[Sa][0]:3-Qa[Sa][0],f=(b?"":"ULRD").charAt(f),d)c+=f+(1==Qa[Sa][1]?"":Qa[Sa][1])+" ";else for(h=0;h<Qa[Sa][1];h++)c+=f+" ";return c}function r(a,c){var b="",d,f;for(d=0;d<c;d++){b+="  ";for(f=0;f<a;f++)b+=(0==f%2?"R":"D")+Ta(["++","--"])+" ";b+="U"+(b.endsWith("-- ")?"'\\n":"~\\n")}return b}function Xa(a,c){Ua=[];var b;Qa(1,a,c);var d="";for(b=0;b<Ua[0].length;b++){var f=
Ua[0][b];d=7==f[0]?d+"/":d+(" ("+f[0]+","+f[1]+") ")}return d}function Qa(a,c,b){for(var d=0;d<a;d++){Wa=[1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0];Ua[d]=[];for(var f=0;f<b;){var h=n(12)-5,z=2==c?0:n(12)-5,r=(0==h?0:1)+(0==z?0:1);(f+r<=b||1!=c)&&(0<r||0==f)&&w(h,z)&&(1==c&&(f+=r),0<r&&(Ua[d][Ua[d].length]=[h,z]),f<b||1!=c)&&(f++,Ua[d][Ua[d].length]=[7,0],w(7,0))}}}function w(a,c){var b;if(7==a){for(b=0;6>b;b++)mathlib.circle(Wa,b+6,b+12);return!0}if(Wa[(17-a)%12]||Wa[(11-a)%12]||Wa[12+(17-
c)%12]||Wa[12+(11-c)%12])return!1;var d=Wa.slice(0,12);var f=Wa.slice(12,24);for(b=0;12>b;b++)Wa[b]=d[(12+b-a)%12],Wa[b+12]=f[(12+b-c)%12];return!0}function Va(a,c){for(var b=0,d=[],f=0;4>f;f++)d[f]=n(3),0<d[f]?(d[f]="ulrb".charAt(f)+["! ","' "][d[f]-1],b++):d[f]="";return a.substr(0,a.length-c*b)+" "+d.join("")}var Za=["","2","'"],Ya=["","2","'","2'"],Ua=[],Wa=[];scrMgr.reg("444yj",function(a,c){var b=[["U","D"],["R","L","r"],["F","B","f"]],d=[],f=0,h,w="";var r=-1;for(h=0;h<c;h++){var Qa=0;do{var Sa=
n(b.length),Ua=n(b[Sa].length);if(Sa!=r||0==d[Ua]){if(Sa==r)d[Ua]=1,Qa=n(Za.length);else{for(r=0;r<b[Sa].length;r++)d[r]=0;r=Sa;d[Ua]=1;Qa=n(Za.length)}0==Sa&&0==Ua&&(f=(f+4+Qa)%4);w=1==Sa&&2==Ua?0==f||3==f?w+("l"+Za[Qa]+" "):w+("r"+Za[Qa]+" "):2==Sa&&2==Ua?0==f||1==f?w+("b"+Za[Qa]+" "):w+("f"+Za[Qa]+" "):w+(b[Sa][Ua]+Za[Qa]+" ");Qa=1}}while(0==Qa)}return w});scrMgr.reg("bic",function(a,c){function b(a){var c=[],b,d,n,z=0;for(b=0;9>b;b++){for(d=n=0;d<c.length;d++)c[d]==h[f[a][b]]&&(n=1);0==n&&(c[c.length]=
h[f[a][b]],0==h[f[a][b]]&&(z=1))}return 5==c.length&&1==z}function d(a,c){for(var b=0;b<c;b++){var d=h[f[a][0]];h[f[a][0]]=h[f[a][6]];h[f[a][6]]=h[f[a][4]];h[f[a][4]]=h[f[a][2]];h[f[a][2]]=d;d=h[f[a][7]];h[f[a][7]]=h[f[a][5]];h[f[a][5]]=h[f[a][3]];h[f[a][3]]=h[f[a][1]];h[f[a][1]]=d}}for(var f=[[0,1,2,5,8,7,6,3,4],[6,7,8,13,20,19,18,11,12],[0,3,6,11,18,17,16,9,10],[8,5,2,15,22,21,20,13,14]],h=[1,1,2,3,3,2,4,4,0,5,6,7,8,9,10,10,5,6,7,8,9,11,11],w="",r=[],Qa,Sa,Ua,Ra;r.length<c;){Qa=[1,1,1,1];for(Sa=
0;4>Sa;Sa++)1!=Qa[Sa]||b(Sa)||(Qa[Sa]=0);for(Sa=0;0==Sa;)Ua=n(4),1==Qa[Ua]&&(Ra=n(3)+1,d(Ua,Ra),Sa=1);r[r.length]=[Ua,Ra];2<=r.length&&r[r.length-1][0]==r[r.length-2][0]&&(r[r.length-2][1]=(r[r.length-2][1]+r[r.length-1][1])%4,r=r.slice(0,r.length-1));1<=r.length&&0==r[r.length-1][1]&&(r=r.slice(0,r.length-1))}for(Qa=0;Qa<c;Qa++)w+="UFLR"[r[Qa][0]]+Za[r[Qa][1]-1]+" ";return w});scrMgr.reg("15p 15pm 15pat clkwca clk clkc clke giga mgmo mgmp mgmc heli redi redim pyrm prcp mpyr r3 r3ni sq1h sq1t sq2 ssq1t bsq -1 333noob lol".split(" "),
function(w,c){var z="";switch(w){case "15p":return b(!1,c);case "15pm":return b(!0,c);case "15pat":return b(!1,c,!0,!0);case "clkwca":var Sa="0+ 1+ 2+ 3+ 4+ 5+ 6+ 1- 2- 3- 4- 5-".split(" ");z="UR? DR? DL? UL? U? R? D? L? ALL? y2 U? R? D? L? ALL?????";for(var f=0;14>f;f++)z=z.replace("?",Ta(Sa));return z.replace("?",Ta([""," UR"])).replace("?",Ta([""," DR"])).replace("?",Ta([""," DL"])).replace("?",Ta([""," UL"]));case "clk":return"UU"+a("u")+"dU"+a("u")+"dd"+a("u")+"Ud"+a("u")+"dU"+a("u")+"Ud"+a("u")+
"UU"+a("u")+"UU"+a("u")+"UU"+a("u")+"dd     "+h()+"\\ndd"+a("d")+"dU"+a("d")+"UU"+a("d")+"Ud"+a("d")+"UU     UU     Ud     dU     UU     dd"+a("d")+h();case "clkc":z="";for(f=0;4>f;f++)z+="("+(n(12)-5)+", "+(n(12)-5)+") / ";for(f=0;6>f;f++)z+="("+(n(12)-5)+") / ";for(f=0;4>f;f++)z+=Ta(["d","U"]);return z;case "clke":return"UU"+a("u")+"dU"+a("u")+"dU"+a("u")+"UU"+a("u")+"UU"+a("u")+"UU"+a("u")+"Ud"+a("u")+"Ud"+a("u")+"dd"+a("u")+"dd     "+h()+"\\nUU     UU     dU"+a("d")+"dU     dd"+a("d")+"Ud     Ud"+
a("d")+"UU     UU"+a("d")+"dd"+a("d")+h();case "giga":z="";for(f=0;f<Math.ceil(c/10);f++){z+="  ";for(Sa=0;10>Sa;Sa++)z+=(0==Sa%2?"Rr".charAt(n(2)):"Dd".charAt(n(2)))+Ta(["+ ","++","- ","--"])+" ";z+="y"+Ta(Ya)+"\\n"}return z;case "mgmo":return Ra("F B U D L DBR DL BR DR BL R DBL".split(" "),[1364,2728,1681,2402,2629,1418,2329,1574,1129,2198,421,602],c);case "mgmp":return r(10,Math.ceil(c/10));case "mgmc":z=Math.ceil(c/10);f="";var Wa;for(Sa=0;Sa<z;Sa++){f+=" ";for(Wa=0;5>Wa;Wa++)f+=Ta(["+","-"])+
Ta(["+","-"])+" ";f+="U"+Ta(["'\\n","~\\n"])}return f;case "heli":return Ra("UF UR UB UL FR BR BL FL DF DR DB DL".split(" "),[154,53,106,197,771,1542,3084,2313,2704,1328,2656,1472],c);case "redi":return Ra("LRFBlrfb".split(""),[28,44,67,131,193,194,52,56],c,["","'"]);case "redim":z=[];for(f=0;f<c;f++)z.push(d([["R"],["L"]],["","'"],3+n(3)));return z.join(" x ");case "pyrm":return z=d([["U"],["L"],["R"],["B"]],["!","'"],c),Va(z,3).replace(/!/g,"");case "prcp":return r(10,Math.ceil(c/10));case "mpyr":return z=
Ra("U! L! R! B! Uw Lw Rw Bw".split(" "),[224,208,176,112,238,221,187,119],c,["!","'"]),Va(z,4).replace(/!/g,"");case "r3":for(f=0;f<c;f++)z+=(0==f?"":"\\n")+(f+1)+") ${333}";return scrMgr.formatScramble(z);case "r3ni":for(f=0;f<c;f++)z+=(0==f?"":"\\n")+(f+1)+") ${333ni}";return scrMgr.formatScramble(z);case "sq1h":return Xa(1,c);case "sq1t":return Xa(0,c);case "sq2":for(f=0;f<c;)if(Sa=n(12)-5,Wa=n(12)-5,0!=Sa||0!=Wa)f++,z+="("+Sa+","+Wa+") / ";return z;case "ssq1t":Ua=[];Qa(2,0,c);f=Ua[0];Sa=Ua[1];
Wa="";7==f[0][0]&&(f=[[0,0]].concat(f));7==Sa[0][0]&&(Sa=[[0,0]].concat(Sa));for(z=0;z<c;z++)Wa+="("+f[2*z][0]+","+Sa[2*z][0]+","+Sa[2*z][1]+","+f[2*z][1]+") / ";return Wa;case "bsq":return Xa(2,c);case "-1":for(f=0;f<c;f++)z+=String.fromCharCode(32+n(224));return z+"Error: subscript out of range";case "333noob":return z=d(SCRAMBLE_NOOBST,SCRAMBLE_NOOBSS.split("|"),c).replace(/t/,"T"),z.substr(0,z.length-2)+".";case "lol":return z=d([["L"],["O"]],0,c),z.replace(/ /g,"")}console.log("Error")})})(mathlib.rn,
mathlib.rndEl,scrMgr.mega);var storage=execMain(function(){function n(a){a=""+a;return String.fromCharCode(47+a.length)+a}function Ta(a,b){return"session_"+n(a)+(void 0==b?"":"_"+n(b))}function d(a){console.log("IndexedDB Error",a||"undefined")}function Ra(a,h,n,r){(r=r||b)?(r=r.transaction(["sessions"],a),r.oncomplete=n||$.noop,r.onerror=d,r=r.objectStore("sessions"),h(r)):requestAnimFrame(function(){Ra(a,h,n)})}function a(a,b){return new Promise(function(d,n){if(h)Ra("readwrite",function(b){b.clear();for(var d=1;d<=~~kernel.getProp("sessionN");d++)for(var h=
mathlib.str2obj(a["session"+d]||[]),n=0;n<(Math.ceil(h.length/100)||1);n++)b.put(h.slice(100*n,100*(n+1)),Ta(d,n))},d,b);else{for(var w=1;w<=~~kernel.getProp("sessionN");w++)localStorage["session"+w]=obj2str(a["session"+w]);d()}})}var h=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB,b,r=/^session_\d(\d+)_\d(\d+)$/;h&&$(function(){var n=h.open("cstimer",1);n.onerror=d;n.onupgradeneeded=function(b){console.log("Update Data From LocalStorage");var d=
b.target.result;d.createObjectStore("sessions").transaction.oncomplete=function(b){a(localStorage,function(){},d)}};n.onsuccess=function(a){b=a.target.result}});return{set:function(a,b,d){return new Promise(function(n,w){h?Ra("readwrite",function(h){var n=~~(d/100),w=IDBKeyRange.bound(Ta(a,n),Ta(a+1),!1,!0);for(h["delete"](w);n<(Math.ceil(b.length/100)||1);n++)h.put(b.slice(100*n,100*(n+1)),Ta(a,n))},function(){n(b)}):(localStorage["session"+a]=JSON.stringify(b),n(b))})},get:function(a,b,d){return new Promise(function(n,
w){var r=[];if(h)Ra("readonly",function(b){var d=IDBKeyRange.bound(Ta(a),Ta(a+1),!1,!0);b.openCursor(d).onsuccess=function(a){if(a=a.target.result)Array.prototype.push.apply(r,a.value),a["continue"]()}},function(){b=b||0;d=d||r.length;if(0!=b||d!=r.length)r=r.slice(b,d);n(r)});else{var Qa=localStorage["session"+a];void 0!=Qa&&""!=Qa&&(r=JSON.parse(Qa));if(0!=b||d!=r.length)r=r.slice(b,d);n(r)}})},del:function(a,b,d){h?Ra("readwrite",function(d){d["delete"](IDBKeyRange.bound(Ta(a),Ta(a+1),!1,!0));
var h=IDBKeyRange.bound(Ta(b),Ta(b+1),!1,!0);d.openCursor(h).onsuccess=function(b){if(b=b.target.result){var h=r.exec(b.key);d.put(b.value,Ta(a,~~h[2]));d["delete"](b.key);b["continue"]()}}},d):(localStorage["session"+a]=localStorage["session"+b],delete localStorage["session"+b],d&&requestAnimFrame(d))},importAll:a,exportAll:function(){return new Promise(function(a,b){var d={};if(h)Ra("readonly",function(a){a.openCursor().onsuccess=function(a){if(a=a.target.result){var b=~~r.exec(a.key)[1];d["session"+
b]=d["session"+b]||[];Array.prototype.push.apply(d["session"+b],a.value);a["continue"]()}}},function(){a(d)});else{for(var n=1;n<=~~kernel.getProp("sessionN");n++)void 0!=localStorage["session"+n]&&(d["session"+n]=mathlib.str2obj(localStorage["session"+n]));a(d)}})}}});var TimeStat=execMain(function(){function n(d,Ra,a,h){this.avgSizes=d.slice();this.timeAt=a;this.timeSort=h||n.dnfsort;this.reset(Ra)}function Ta(d){var n=kernel.getProp("trim","p5");return"p"==n[0]?Math.ceil(d/100*n.slice(1)):"m"==n?Math.max(0,d-1>>1):~~n}n.dnfsort=function(d,n){return d==n?0:0>d?1:0>n?-1:d-n};n.prototype.reset=function(d){this.timesLen=d;this.shouldRecalc=!0};n.prototype.getAllStats=function(){this.genStats();var d=this.timesLen-this.tree.rankOf(-1);return[d,d==this.timesLen?-1:
kernel.round(this.tree.cumSum(this.timesLen-d)/(this.timesLen-d))]};n.prototype.genStats=function(){if(this.shouldRecalc){this.bestAvg=[];this.lastAvg=[];this.bestAvgIndex=[];this.treesAvg=[];this.tree=sbtree.tree(this.timeSort);this.bestTime=this.worstTime=-1;this.bestTimeIndex=this.worstTimeIndex=0;var d=this.timesLen;for(this.timesLen=0;this.timesLen<d;)this.doPushed(!0,this.timesLen!=d-1);this.shouldRecalc=!1}};n.prototype.pushed=function(d){this.genStats();this.doPushed(d)};n.prototype.doPushed=
function(d,n){var a=[];this.timesLen++;var h=this.timesLen-1,b=this.timeAt(h);this.tree.insert(b,h);if(!n){var r=this.bestTime;this.bestTime=0==this.timesLen?-1:this.tree.rank(0);this.bestTimeIndex=this.tree.find(this.bestTime);this.worstTime=0==this.timesLen?-1:this.tree.rank(Math.max(0,this.tree.rankOf(-1)-1));this.worstTimeIndex=this.tree.find(this.worstTime);0>this.timeSort(b,r)&&-1!=r&&a.push("single")}for(r=0;r<this.avgSizes.length;r++){var Ra=Math.abs(this.avgSizes[r]);if(this.timesLen<Ra)break;
var Qa=0>this.avgSizes[r]?0:Ta(Ra),w=Ra-2*Qa,Va=this.treesAvg[r]||sbtree.tree(this.timeSort);if(this.timesLen==Ra){for(var Za=0;Za<Ra;Za++)Va.insert(this.timeAt(Za),Za);this.bestAvg[r]=[-1,0,-1,-1];this.bestAvgIndex[r]=0;this.lastAvg[r]=[-1,0,-1,-1]}else Va.remove(this.timeAt(h-Ra)).insert(b,h);Za=Va.cumSum(Ra-Qa)-Va.cumSum(Qa);var Ya=Math.sqrt((Va.cumSk2(Ra-Qa)-Va.cumSk2(Qa)-Za*Za/w)/(w-1))/1E3;Qa=[Va.rankOf(-1)<Ra-Qa?-1:Za/w,Ya,Va.rank(Qa-1),Va.rank(Ra-Qa)];0>this.timeSort(Qa[0],this.bestAvg[r][0])&&
(0<=this.bestAvg[r][0]&&!n&&a.push((0<this.avgSizes[r]?"ao":"mo")+Ra),this.bestAvg[r]=Qa,this.bestAvgIndex[r]=h-Ra+1);this.lastAvg[r]=Qa;this.treesAvg[r]=Va}0==a.length||d||logohint.push("Session best "+a.join(" ")+"!")};n.prototype.getMinMaxInt=function(){if(this.getAllStats()[0]==this.timesLen)return null;var d=[100,200,500,1E3,2E3,5E3,1E4,2E4,5E4,1E5];if("a"==kernel.getProp("disPrec")){var n=(this.worstTime-this.bestTime)/10;for(var a=0;a<d.length;a++)if(n<d[a]){n=d[a];break}}else n=d[kernel.getProp("disPrec")];
return[this.worstTime,this.bestTime,n]};n.prototype.runAvgMean=function(d,n,a,h){a=a||n;void 0===h&&(h=Ta(a));if(!(0>d||d+n>this.timesLen)){if(0>=a-h)return[-1,0,-1,-1];for(var b=sbtree.tree(this.timeSort),r=0;r<a;r++)b.insert(this.timeAt(d+r),r);for(var Ra=a-2*h,Qa=b.cumSum(a-h)-b.cumSum(h),w=Math.sqrt((b.cumSk2(a-h)-b.cumSk2(h)-Qa*Qa/Ra)/(Ra-1))/1E3,Va=[[b.rankOf(-1)<a-h?-1:Qa/Ra,w,b.rank(h-1),b.rank(a-h)]],Za=d-a,Ya=a;Ya<n;Ya++)b.remove(this.timeAt(Za+Ya)).insert(this.timeAt(d+Ya),r),Qa=b.cumSum(a-
h)-b.cumSum(h),w=Math.sqrt((b.cumSk2(a-h)-b.cumSk2(h)-Qa*Qa/Ra)/(Ra-1))/1E3,Va.push([b.rankOf(-1)<a-h?-1:Qa/Ra,w,b.rank(h-1),b.rank(a-h)]);return Va}};n.prototype.getTrimList=function(d,n,a,h){for(var b=[],r=[],Ra=Ta(n),Qa=0;Qa<n;Qa++){var w=this.timeAt(d+Qa),Va=this.timeSort(w,a);w=this.timeSort(h,w);0>Va?b.push(Qa):0>w?r.push(Qa):0==Va&&b.length<Ra?b.unshift(Qa):0==w&&r.length<Ra&&r.unshift(Qa)}return b.slice(-Ra).concat(r.slice(-Ra))};return n});var stats=execMain(function(n,Ta,d){function Ra(a){if(kernel.getProp("delmul")){var b=prompt(STATS_CFM_DELMUL,1);if(null==b||!/^\d+$/.exec(b)||0==~~b)return}else{if(!confirm(STATS_CFM_DELETE))return;b=1}bb.splice(a,~~b);rb.reset(bb.length);xb.reset(bb.length);Eb.save(a);yb.updateTable(!1);return!0}function a(a){for(var b=0,c=0,d=0;d<bb.length;d++){var f=bb[d][0];-1==f[0]||f.length<=a?c+=1:b+=z(a,d)}return c==bb.length?-1:b/(bb.length-c)}function h(a,b){switch(a[0]){case 0:return n(a[1]);case -1:return"DNF"+
(b?"("+n(a[1])+")":"");default:return n(a[0]+a[1])+"+"}}function b(a){if(2==a.length)return"";var b=[];b.push(n(a[a.length-1]));for(var c=a.length-2;1<=c;c--)b.push(n(a[c]-a[c+1]));return"="+b.join("+")}function r(a){return"https://alg.cubing.net/?alg="+encodeURIComponent((a[4][0]||"").replace(/@(\d+)/g,"/*$1*/").replace(/-/g,"&#45;"))+"&setup="+encodeURIComponent(a[1]||"")}function Xa(a){a=~~$(a.target).attr("data");var b=rb;0!=a&&(b=new TimeStat(tb,bb.length,z.bind(void 0,a)));lb(b,$a,0==a?0:STATS_CURSPLIT.replace("%d",
a))}function Qa(a,b,c){var f=bb[a],z=f[0],r=[];r.push('<td class="times">'+(f[2]&&"*")+(a+1)+'</td><td class="times">'+h(z,!1)+"</td>");f=xb.runAvgMean(a-Gb+1,Gb,0,0<Hb?void 0:0);var w=xb.runAvgMean(a-wb+1,wb,0,0<Lb?void 0:0);r.push("<td"+(f?' class="times"':"")+">"+(f?d(f[0][0]):"-")+"</td><td"+(w?' class="times"':"")+">"+(w?d(w[0][0]):"-")+"</td>");if(1<b){r.push("<td>"+n(z[z.length-1])+"</td>");for(f=z.length-2;1<=f;f--)r.push("<td>"+n(z[f]-z[f+1])+"</td>");for(f=z.length-1;f<b;f++)r.push("<td>-</td>")}r=
r.join("");c&&c.html(r);return'<tr data="'+a+'">'+r+"</tr>"}function w(b){ob.empty().unbind("click").click(Xa);var c=bb.length,f=xb.getAllStats();ob.append('<th colspan="4" data="0" class="times">'+STATS_SOLVE+": "+(c-f[0])+"/"+c+"<br>"+STATS_AVG+": "+d(f[1])+"</th>").css("font-size","1.2em");if(1<b)for(c=1;c<=b;c++)ob.append('<th data="'+c+'" class="times">'+d(a(c))+"</th>").css("font-size","")}function Va(){if(!Cb){if(kernel.getProp("statsum")){ab.css("display","inline-block");rb.getAllStats();
var a=$("<select>").change(function(a){kernel.setProp("statsrc",$(a.target).val())});a.append($("<option>").val("t").html("time"));var b=["t"];if(1!=zb)for(var c=0;c<zb;c++)a.append($("<option>").val("p"+(c+1)).html("P."+(c+1))),b.push("p"+(c+1));c=kernel.getProp("statsrc","t");-1==b.indexOf(c)?(a.append($("<option>").val("n").html("select")),a.val("n"),b.push("n")):a.val(c);c=[];0<bb.length?(c.push('<td class="times click" data="cs">'+n(rb.timeAt(bb.length-1))+"</td>"),c.push('<td class="times click" data="bs">'+
n(rb.bestTime)+"</td>")):(c.push("<td><span>-</span></td>"),c.push("<td><span>-</span></td>"));for(var f=[],h=0;h<tb.length;h++){var z=Math.abs(tb[h]);bb.length>=z&&(f.push("<tr><th>"+"am"[tb[h]>>>31]+"o"+z+"</th>"),f.push('<td class="times click" data="c'+"am"[tb[h]>>>31]+h+'">'+d(rb.lastAvg[h][0])+"</td>"),f.push('<td class="times click" data="b'+"am"[tb[h]>>>31]+h+'">'+d(rb.bestAvg[h][0])+"</td>"))}ub.empty().append($("<tr>").append("<th></th><th>"+vb[1]+"</th><th>"+vb[0]+"</th>"),$("<tr>").append(1==
b.length?"<th>time</th>":$("<th>").append(a),c.join("")),f.join(""))}else ub.empty(),ab.hide();ib()}}function Za(){if(!Cb){Va();Ib.update();Fb.update();Rb.update();Qb.update();var a=bb.length-1,b=xb.runAvgMean(a-Gb+1,Gb,0,0<Hb?void 0:0),c=xb.runAvgMean(a-wb+1,wb,0,0<Lb?void 0:0);kernel.pushSignal("avg",[(0<Hb?"ao":"mo")+Gb+": "+(b?d(b[0][0]):"-"),(0<Lb?"ao":"mo")+wb+": "+(c?d(c[0][0]):"-"),b?[a-Gb+1,Gb,10*Gb,0>Hb]:void 0,c?[a-wb+1,wb,10*wb,0>Lb]:void 0,Wa.bind(void 0,xb,$a)])}}function Ya(){var a=
kernel.getProp("statsrc","t");return"t"==a?Db:"p"==a[0]?z.bind(void 0,~~a.slice(1)):Db}function Ua(a,c,d){var f=h(c[0],!0)+b(c[0])+(c[2]?"["+c[2]+"]":"");-1!=$.inArray(a,d)&&(f="("+f+")");kernel.getProp("printScr")&&(f+="   "+c[1]);kernel.getProp("printDate")&&(f+="   @"+mathlib.time2str(c[3]));return kernel.getProp("printScr")||kernel.getProp("printDate")?a+1+". "+f+" \n":f+", "}function Wa(a,b,c,f,h,n){if(0!=a.timesLen){var z=[0,[null],[null]],r=[];0!=c+f&&(n?z=a.runAvgMean(c,f,0,0)[0]:(z=a.runAvgMean(c,
f)[0],r=a.getTrimList(c,f,z[2],z[3])));var w="";if(kernel.getProp("printDate")&&2<f){w=b(c);var Qa=b(c+f-1);w=vb[11].replace("%s",mathlib.time2str(w&&w[3])).replace("%e",mathlib.time2str(Qa&&Qa[3]));w=" ("+w+")"}w=[mathlib.time2str(+new Date/1E3,vb[3])+w+"\n"];1<h&&(2==h?w.push(vb[8]):10==h?w.push(vb[5]):n?w.push(vb[6].replace("%mk",~~(h/10))):w.push(vb[7].replace("%mk",~~(h/10))),w.push(": "+d(z[0])));w.push("\n\n"+vb[10]+"\n");for(h=0;h<f;h++)w.push(Ua(kernel.getProp("absidx")?c+h:h,b(c+h),r));
w=w.join("").slice(0,-2);sb.val(w);kernel.showDialog([sb,eb,void 0,eb,[STATS_EXPORTCSV,function(){Sa(a,b,c,f);return!1}]],"stats",STATS_CURROUND);sb[0].select()}}function Sa(a,b,c,d){if(0!=a.timesLen){window.Blob||alert("Do not support your browser!");a=["No.;Time;Comment;Scramble;Date"];for(var f=0;f<zb;f++)a[0]+=";P."+(f+1);for(f=0;f<d;f++){var z=b(c+f),w=[];w.push(f+1);w.push(h(z[0],!0));w.push(z[2]?z[2]:"");w.push(z[1]);w.push(mathlib.time2str(z[3]));w.push(n(z[0][z[0].length-1]));for(var r=z[0].length-
2;1<=r;r--)w.push(n(z[0][r]-z[0][r+1]));for(r=z[0].length-1;r<zb;r++)w.push("");for(r=0;r<w.length;r++){z=w;var Qa=r,Sa=w[r];Sa=Sa.toString();if(-1!=Sa.indexOf(";")||-1!=Sa.indexOf("\n"))Sa='"'+Sa.replace(/"/g,'""')+'"';z[Qa]=Sa}a.push(w.join(";"))}a=a.join("\r\n");b=new Blob([a],{type:"text/csv"});c=$('<a class="click"/>').appendTo("body");c.attr("href",URL.createObjectURL(b));c.attr("download","csTimerExport_"+mathlib.time2str(new Date/1E3,"%Y%M%D_%h%m%s")+".csv");c[0].click();c.remove()}}function c(a,
b,c){c=$(c.target).attr("data");if(void 0!=c){var d=~~c.substr(2);switch(c.substr(0,2)){case "bs":Wa(a,b,a.bestTimeIndex,1,10,!0);break;case "cs":Wa(a,b,a.timesLen-1,1,10,!0);break;case "ws":Wa(a,b,a.worstTimeIndex,1,10,!0);break;case "bm":Wa(a,b,a.bestAvgIndex[d],-tb[d],10*-tb[d],!0);break;case "cm":Wa(a,b,a.timesLen+tb[d],-tb[d],10*-tb[d],!0);break;case "ba":Wa(a,b,a.bestAvgIndex[d],tb[d],10*tb[d],!1);break;case "ca":Wa(a,b,a.timesLen-tb[d],tb[d],10*tb[d],!1);break;case "tt":lb(a,b)}}}function z(a,
b){var c=bb[b][0];return-1==c[0]||c.length<=a?-1:Jb*~~((0==a?c[0]+c[1]:c[c.length-a]-(c[c.length-a+1]||0))/Jb)}function $a(a){return bb[a]}function f(a){for(var b=[],c=0;c<a.length;c++)b.push(c);b.sort(function(b,c){var d=a[b][3]||0,f=a[c][3]||0;return d==f?b-c:d-f});for(c=0;c<a.length;c++)b[c]=a[b[c]];return b}function eb(){sb.val("")}function lb(a,b,c){var f=a.getAllStats(),h=f[0],z=a.runAvgMean(0,bb.length)[0];f=f[1];var w=a.timesLen,r="";if(kernel.getProp("printDate")&&2<w){r=b(0);var Qa=b(w-
1);r=vb[11].replace("%s",mathlib.time2str(r&&r[3])).replace("%e",mathlib.time2str(Qa&&Qa[3]));r=" ("+r+")"}r=[mathlib.time2str(+new Date/1E3,vb[3])+r];r.push(vb[4].replace("%d",w-h+"/"+w)+"\n");r.push(vb[5]);r.push("    "+vb[0]+": "+n(a.bestTime));r.push("    "+vb[2]+": "+n(a.worstTime)+"\n");for(h=0;h<tb.length;h++)Qa=Math.abs(tb[h]),w>=Qa&&(r.push(vb[7-(tb[h]>>>31)].replace("%mk",Qa)),r.push("    "+vb[1]+": "+d(a.lastAvg[h][0])+" ( = "+cb(a.lastAvg[h][1],2)+")"),r.push("    "+vb[0]+": "+d(a.bestAvg[h][0])+
" ( = "+cb(a.bestAvg[h][1],2)+")\n"));r.push(vb[8].replace("%v",d(z[0])).replace("%sgm",cb(z[1],2)).replace(/[{}]/g,""));r.push(vb[9].replace("%v",d(f)+"\n"));if(0!=w){r.push(vb[10]);z=[];for(f=0;f<w;f++)z.push(Ua(f,b(f),[]));z=z.join("").slice(0,-2);r.push(z)}r=r.join("\n");sb.val(r);kernel.showDialog([sb,eb,void 0,eb,[STATS_EXPORTCSV,function(){Sa(a,b,0,w);return!1}]],"stats",c||STATS_CURSESSION);sb[0].select()}function cb(a,b){a&&a!=Number.POSITIVE_INFINITY&&a!=Number.NEGATIVE_INFINITY||(a=0);
for(var c=""+Math.round(a*Math.pow(10,b));c.length<b+1;)c="0"+c;var d=c.length;return c.substr(0,d-b)+"."+c.substr(d-b,b)}function mb(a){a=a.split(/[\s,;]+/);for(var b=/([am])o(\d+)/,c=[],d=0;d<a.length;d++){var f=b.exec(a[d]);if(!f)return!1;c.push(("a"==f[1]?1:-1)*~~f[2])}c.sort(function(a,b){return Math.abs(a)-Math.abs(b)});return c}function nb(a){(a=mb(a))?(tb=a,rb=new TimeStat(tb,bb.length,Ya()),xb=new TimeStat([],bb.length,Db),Mb.updateStatal(tb),Za()):(kernel.setProp("statal","mo3 ao5 ao12 ao100"),
kernel.reprop())}function jb(a,b){if("time"==a){var c=b;if("string"==typeof c[0]){var d=[c[2],c[1]||Ob,c[0],c[3]||Math.round(((new Date).getTime()-c[2][1])/1E3)];c[4]&&d.push(c[4]);bb.push(d);c=c[2]}else bb.push([c,Ob,"",Math.round(((new Date).getTime()-c[1])/1E3)]);rb.pushed();xb.pushed();Eb.save(bb.length-1);c.length-1>zb?yb.updateTable(!0):yb.appendRow(bb.length-1);Za();kernel.pushSignal("timestd",bb[bb.length-1])}else"scramble"==a||"scrambleX"==a?Ob=b[1]:"property"==a?/^(:?useMilli|timeFormat|stat[12][tl]|statinv)$/.exec(b[0])?
(Jb=kernel.getProp("useMilli")?1:10,Hb=[1,-1][~~kernel.getProp("stat1t")]*kernel.getProp("stat1l"),Lb=[1,-1][~~kernel.getProp("stat2t")]*kernel.getProp("stat2l"),Gb=Math.abs(Hb),wb=Math.abs(Lb),yb.updateTable(!1)):"statsum"==b[0]?Va():"statal"==b[0]?(c=b[1],"u"==c&&(c="modify"==b[2],d=kernel.getProp("statalu"),c||!/^\s*([am]o\d+[\s,;]*)+\s*$/.exec(d))&&(c=prompt("Statistics Details",d||"mo3 ao5 ao12 ao100"),/^\s*([am]o\d+[\s,;]*)+\s*$/.exec(c)&&mb(c)?kernel.setProp("statalu",c):(null!=c&&alert("INVALID VALUES!"),
kernel.setProp("statal","mo3 ao5 ao12 ao100"),kernel.reprop())),c=kernel.getProp("statal"),nb("u"==c?kernel.getProp("statalu"):c)):"statalu"==b[0]?nb(b[1]):"trim"==b[0]?(rb.reset(bb.length),xb.reset(bb.length),Mb.updateStatal(tb),Za()):"view"==b[0]?ib():"statHide"==b[0]?b[1]?pb.hide():pb.show():"statsrc"==b[0]?(rb=new TimeStat(tb,bb.length,Ya()),Za()):"wndStat"==b[0]?ib():"sr_statal"==b[0]&&kernel.setProp("sr_statalu",b[1]):"ctrl"==a&&"stats"==b[0]?"clr"==b[1]?Eb.getButton().click():"undo"==b[1]?
Bb.delLast():"OK"==b[1]?Bb.setCfm(0):"+2"==b[1]?Bb.setCfm(2E3):"DNF"==b[1]&&Bb.setCfm(-1):"ashow"!=a||b?"button"==a&&"stats"==b[0]&&b[1]&&setTimeout(ib,50):yb.hideAll()}function ib(){$("html").hasClass("m")?qb.height(Math.max(ab.height(),ob.height()+2*db.height())):null!=qb[0].offsetParent&&qb.outerHeight(~~(kb.height()-(pb.is(":hidden")?0:pb.outerHeight())-ab.outerHeight()-5))}var bb=[],kb=$('<div id="stats" />'),sb=$('<textarea rows="10" readonly />'),qb=$('<div class="myscroll" />'),pb=$("<div>"),
fb=$("<table />").click(function(a){a=$(a.target);if(a.is("td")&&"-"!=a.html()){var b=a.prevAll(),c=b.length;b=~~(0==c?a:b.eq(-1)).html().replace("*","")-1;if(!(4<c||0>c))switch(c){case 0:if(kernel.getProp("rsfor1s")){Wa(rb,$a,b,1,10,!0);break}case 1:Bb.proc(b,a);break;case 2:Wa(rb,$a,b-Gb+1,Gb,10*Gb,0>Hb);break;case 3:Wa(rb,$a,b-wb+1,wb,10*wb,0>Lb)}}}).addClass("table"),db=$("<tr />"),ob=$("<tr />"),hb=$('<tr class="click" ><th class="click" colspan="15">...</th></tr>'),ub=$('<table class="sumtable" />').click(function(a){c(rb,
$a,a)}).addClass("table"),ab=$('<div class="statc" />'),Cb=!0,yb=function(){function a(a){zb=1;for(a=0;a<bb.length;a++)zb=Math.max(zb,bb[a][0].length-1);db.empty().append(r,"<th>"+STATS_TIME+"</th><th>"+(0<Hb?"ao":"mo")+Gb+"</th><th>"+(0<Lb?"ao":"mo")+wb+"</th>");if(1<zb)for(a=0;a<zb;a++)db.append("<th>P."+(a+1)+"</th>");Sa=[];Ra=bb.length-1;kernel.getProp("statinv")?fb.empty().append(db,hb,ob):fb.empty().append(ob,db,hb);d();0>Ra?hb.unbind("click").hide():hb.unbind("click").click(yb.showAll).show();
r.unbind("click").click(c);w(zb);Za();qb.scrollTop(kernel.getProp("statinv")?fb[0].scrollHeight:0)}function c(){var b=prompt("Filter Pattern: (23*, 15.1*, comments, scrambles, date)");null!=b&&b!=z&&(z=b?(b+"").replace(/[.\\+*?\[\^\]$(){}=!<>|:\-]/g,"\\$&").replace(/\\\*/g,".*").replace(/\\\?/g,"."):".*",n=new RegExp(z,"g"),a(!0))}function d(){for(var a=Sa.length+50,c=[];0<=Ra&&Sa.length<a;){var d=bb[Ra];if(n.exec(h(d[0],!0)+b(d[0]))||n.exec(d[1])||n.exec(d[2])||n.exec(mathlib.time2str(d[3])))c.push(Qa(Ra,
zb)),Sa.push(Ra);Ra--}kernel.getProp("statinv")?hb.after(c.reverse().join("")):hb.before(c.join(""))}function f(a){d();0>Ra&&hb.unbind("click").hide()}var n=/.*/,z=".*",r=$('<th class="click">').html("&#8981;"),Sa=[],Ra=0;return{appendRow:function(b){var c=Qa(b,zb);kernel.getProp("statinv")?(ob.before(c),qb.scrollTop(fb[0].scrollHeight)):(db.after(c),qb.scrollTop(0));Sa.unshift(b);w(zb);50<Sa.length&&yb.hideAll();".*"!=z&&(z=".*",n=/.*/,a(!0))},showAll:f,hideAll:function(){for(;50<Sa.length;)(kernel.getProp("statinv")?
hb.next():hb.prev()).remove(),Ra=Sa.pop();0<Ra&&hb.unbind("click").click(f).show()},updateTable:a,updateFrom:function(a){for(var b=a.attr("data"),c=Math.min(b+Math.max(Gb,wb),bb.length);void 0!==b&&b<c&&0<=b;)Qa(~~b,zb,a),a=kernel.getProp("statinv")?a.next():a.prev(),b=a.attr("data");w(zb)}}}(),Bb=function(){function a(){bb[fb][2]=Ua.val();Eb.save(fb);Qa(fb,zb,Xa)}function c(a){a=$(a.target);var c=a.attr("data");c&&("p"==c?(a={" OK ":0," +2 ":2E3," DNF ":-1}[a.html()],n(a,fb,Xa)):"d"==c?Ra(fb)&&(fb=
void 0,d()):"s"==c?(a=bb[fb],$.clipboardCopy(a[1])&&logohint.push("scramble copied")):"c"==c&&(a=bb[fb],$.clipboardCopy(h(a[0],!0)+b(a[0])+(a[2]?"["+a[2]+"]":"")+"   "+a[1]+"   @"+mathlib.time2str(a[3]))&&logohint.push("solve copied")))}function d(){kernel.isDialogShown("cfm")&&kernel.hideDialog();cb&&(w.css("font-size","0.8em"),cb.empty().append(w),fb=bb.length-1,Xa=kernel.getProp("statinv")?ob.prev():db.next(),f())}function f(){if(bb[fb]){var d=bb[fb],f="";d[4]&&(f=$('<a target="_blank">'+STATS_REVIEW+
"</a>").addClass("click"),f.attr("href",r(d)),f=$("<tr>").append($("<td>").append(f),$("<td>").append(ab)));w.empty().append(Sa,"<br>",b(d[0]),"<br>").append('<span class="click" data="c"> &#128203; </span>|<span class="click" data="p"> OK </span>|<span class="click" data="p"> +2 </span>|<span class="click" data="p"> DNF </span>| ',Ta).append("<br>",$('<table style="display:inline-block;">').append($("<tr>").append("<td>"+STATS_COMMENT+"</td>",$("<td>").append(Ua)),$("<tr>").append('<td><span class="click" data="s">'+
SCRAMBLE_SCRAMBLE+"</span></td>",$("<td>").append(Va)),$("<tr>").append("<td>"+STATS_DATE+"</td>",$("<td>").append(Ya)),f)).unbind("click").click(c);Sa.html(h(d[0],!0));Va.val(d[1]);Ya.val(mathlib.time2str(d[3]));Ua.val(d[2]).unbind("change").change(a);ab.val(d[4]?JSON.stringify(d[4]):"")}else w.empty()}function n(a,b,c){bb[b][0][0]!=a&&(bb[b][0][0]=a,rb.reset(bb.length),xb.reset(bb.length),Eb.save(b),yb.updateFrom(c),Za(),b==fb&&f(),kernel.pushSignal("timepnt",bb[b]))}function z(a,b){cb=a;void 0!=
a&&d()}var w=$('<div style="text-align:center; font-family: initial;">'),Sa=$('<span style="font-size:2.5em;"/>'),Ua=$('<input type="text">').css("width","8em"),Ta=$('<input type="button" data="d">').val("X"),Va=$('<input type="text" readonly>').css("width","8em"),Ya=$('<input type="text" readonly>').css("width","8em"),ab=$('<input type="text" readonly>').css("width","8em"),fb=0,Xa,cb;$(function(){tools.regTool("cfm",TOOLS_CFMTIME,z);kernel.regListener("cfm","session",d)});return{proc:function(a,
b){fb=a;Xa=b.parent();f();w.css("font-size","1.2em");kernel.showDialog([w,d,void 0,d,[STATS_SSSTAT,function(){d();Wa(rb,$a,a,1,10,!0)}]],"cfm","Solves No."+(a+1))},delLast:function(){0!=bb.length&&Ra(bb.length-1)&&(fb=void 0,d())},setCfm:function(a){0!=bb.length&&n(a,bb.length-1,kernel.getProp("statinv")?ob.prev():db.next())}}}(),zb=0,tb=[-3,5,12,50,100,1E3],rb=new TimeStat(tb,0,Db),xb=new TimeStat([],0,Db),vb=STATS_STRING.split("|");for(Ta=0;13>Ta;Ta++)vb[Ta]=vb[Ta]||"";var Mb=function(){function a(a){return-1==
Va[a][0][0]?-1:~~((Va[a][0][0]+Va[a][0][1])/Jb)*Jb}function b(a){return Va[a]}function h(){Va=[];for(var a=Promise.resolve(),b=~~kernel.getProp("sessionN"),c=JSON.parse(kernel.getProp("sessionData")),h=Ua.val(),z=Ta.val(),r=-1==$a.val()?-1:~~(+new Date/1E3)-86400*$a.val(),w=0;w<b;w++){var Qa=Eb.rank2idx(w+1);if("*"==h||c[Qa].name==h)if("*"==z||(c[Qa].opt.scrType||"333")==z)a=a.then(function(a){return new Promise(function(b){storage.get(a).then(function(a){for(var c=0;c<a.length;c++)(a[c][3]||0)<r||
Va.push(a[c]);b()})})}.bind(void 0,Qa))}a.then(function(){Va=f(Va);db.reset(Va.length);var a=db.getAllStats(),b=a[0],c=a[1],h=0;for(a=0;a<Va.length;a++)h+=Va[a][0][1];a=[];a.push('<span class="click" data="tt">'+vb[4].replace("%d",db.timesLen-b+"/"+db.timesLen)+", "+vb[9].replace("%v",d(c))+"</span>\n");a.push("<span>"+vb[12].replace("%d",n(h))+"</span>\n");a.push(vb[0]+': <span class="click" data="bs">'+n(db.bestTime)+"</span>");a.push(" | "+vb[2]+': <span class="click" data="ws">'+n(db.worstTime)+
"</span>\n");b=!1;c='<table class="table"><tr><td></td><td>'+vb[1]+"</td><td>"+vb[0]+"</td></tr>";for(h=0;h<tb.length;h++){var z=Math.abs(tb[h]);db.timesLen>=z&&(b||(b=!0,a.push(c)),a.push("<tr><td>"+vb[7-(tb[h]>>>31)].replace("%mk",z)),a.push('<td><span class="click" data="c'+"am"[tb[h]>>>31]+h+'">'+d(db.lastAvg[h][0])+" (="+cb(db.lastAvg[h][1],2)+")</span></td>"),a.push('<td><span class="click" data="b'+"am"[tb[h]>>>31]+h+'">'+d(db.bestAvg[h][0])+" (="+cb(db.bestAvg[h][1],2)+")</span></td></tr>"))}b&&
a.push("</table>");a=a.join("");Ra.html(a.replace(/\n/g,"<br>"))})}function z(){var a=!1,b=JSON.parse(kernel.getProp("sessionData"));$.each(b,function(b,c){ab[b]&&c.name==ab[b].name&&(c.opt||{}).scrType==(ab[b].opt||{}).scrType||(a=!0)});ab=b;if(a){var c=[],d=[];Ua.empty().append($("<option />").val("*").html(STATS_XSESSION_NAME));Ta.empty().append($("<option />").val("*").html(STATS_XSESSION_SCR));$.each(b,function(a,b){var f=b.name;-1==$.inArray(f,c)&&(c.push(f),Ua.append($("<option />").val(f).html(f)));
f=(b.opt||{}).scrType||"333";-1==$.inArray(f,d)&&(d.push(f),Ta.append($("<option />").val(f).html(scramble.getTypeName(f))))})}}function r(a,d){(Ya=a)&&!/^scr/.exec(d)&&(z(),a.empty().append(Sa),Wa.unbind("click").click(h),Ra.unbind("click").click(function(a){c(db,b,a)}))}function w(a,b){"sessionData"==b[0]&&Ya&&z()}var Qa=STATS_XSESSION_DATE.split("|"),Sa=$("<div />").css("text-align","center").css("font-size","0.7em"),Ra=$("<div />"),Ua=$("<select>"),$a=$("<select>").append($("<option>").val(-1).html(Qa[0]),
$("<option>").val(1).html(Qa[1]),$("<option>").val(7).html(Qa[2]),$("<option>").val(30).html(Qa[3]),$("<option>").val(365).html(Qa[4])).val(-1),Ta=$("<select>"),Wa=$('<span class="click">'+STATS_XSESSION_CALC+"</span>"),db=new TimeStat([],0,a),Va=[],Ya=null,ab={};$(function(){Sa.append(Ua,$a,Ta," ",Wa,"<br>",Ra);"undefined"!=typeof tools&&tools.regTool("hugestats",TOOLS_HUGESTATS,r);kernel.regListener("labelstat","property",w,/^sessionData$/)});return{update:$.noop,updateStatal:function(b){db=new TimeStat(b,
0,a)}}}(),Ib=function(){function a(){if(h){var a=rb.getAllStats(),b=a[0],c=a[1],z=0;for(a=0;a<bb.length;a++)z+=bb[a][0][1];a=[];a.push('<span class="click" data="tt">'+vb[4].replace("%d",rb.timesLen-b+"/"+rb.timesLen)+", "+vb[9].replace("%v",d(c))+"</span>\n");a.push("<span>"+vb[12].replace("%d",n(z))+"</span>\n");a.push(vb[0]+': <span class="click" data="bs">'+n(rb.bestTime)+"</span>");a.push(" | "+vb[2]+': <span class="click" data="ws">'+n(rb.worstTime)+"</span>\n");b=!1;c='<table class="table"><tr><td></td><td>'+
vb[1]+"</td><td>"+vb[0]+"</td></tr>";for(z=0;z<tb.length;z++){var w=Math.abs(tb[z]);rb.timesLen>=w&&(b||(b=!0,a.push(c)),a.push("<tr><td>"+vb[7-(tb[z]>>>31)].replace("%mk",w)),a.push('<td><span class="click" data="c'+"am"[tb[z]>>>31]+z+'">'+d(rb.lastAvg[z][0])+" (="+cb(rb.lastAvg[z][1],2)+")</span></td>"),a.push('<td><span class="click" data="b'+"am"[tb[z]>>>31]+z+'">'+d(rb.bestAvg[z][0])+" (="+cb(rb.bestAvg[z][1],2)+")</span></td></tr>"))}b&&a.push("</table>");a=a.join("");f.html(a.replace(/\n/g,
"<br>"))}}function b(b,d){(h=void 0!=b)&&!/^scr/.exec(d)&&(b.empty().append(f.unbind("click").click(function(a){c(rb,$a,a)})),a())}var f=$("<div />").css("text-align","center").css("font-size","0.7em"),h=!1;$(function(){"undefined"!=typeof tools&&tools.regTool("stats",TOOLS_STATS,b)});return{update:a}}(),Db=z.bind(void 0,0),Fb=function(){function a(){if(d){c.empty();var a=xb.getMinMaxInt();if(a){var b=a[0],f=a[1];a=a[2];b=~~(b/a);f=~~(f/a);for(var h={},z={},w=0,r=z[b+1]=0;r<bb.length;r++){var Qa=
Db(r);-1!=Qa?(Qa=~~(Qa/a),h[Qa]=(h[Qa]||0)+1,w=Math.max(h[Qa],w),z[Qa]=r+1):z[b+1]=r+1}for(r=b;r>f;r--)z[r]=Math.max(z[r+1],z[r]||0);Qa=[];var Sa=0,Ra=1E3<=a?/[^\.]+(?=\.)/:/[^\.]+\.[\d]/,Ua=n(b*a).match(Ra)[0].length;for(r=f;r<=b;r++){f=n(r*a).match(Ra)[0];var $a=n((r+1)*a).match(Ra)[0];h[r]=h[r]||0;Sa+=h[r];f=mathlib.valuedArray(Ua-f.length,"&nbsp;").join("")+f;$a=mathlib.valuedArray(Ua-$a.length,"&nbsp;").join("")+$a;Qa.push("<tr><td>"+f+'+</td><td><span class="cntbar" style="width: '+h[r]/w*5+
'em;">'+h[r]+"</span></td><td>&nbsp;&lt;"+$a+'</td><td><span class="cntbar" style="width: '+Sa/bb.length*5+'em; white-space: nowrap;">'+(bb.length-z[r+1])+"/"+Sa+"</span></td></tr>")}c.html('<table style="border:none;">'+Qa.join("")+"</table>")}}}function b(b,f){(d=void 0!=b)&&!/^scr/.exec(f)&&(b.empty().append(c),a())}var c=$("<div />"),d=!1;$(function(){"undefined"!=typeof tools&&(kernel.regListener("distribution","property",function(b,c){"disPrec"==c[0]&&a()},/^disPrec$/),kernel.regProp("tools",
"disPrec",1,STATS_PREC,["a",["a",0,1,2,3,4,5,6,7,8,9],STATS_PREC_STR.split("|")],1),tools.regTool("distribution",TOOLS_DISTRIBUTION,b))});return{update:a}}(),Rb=function(){function a(){if(h&&d[0].getContext){f=d[0].getContext("2d");var a=kernel.getProp("imgSize")/10;z=50;d.width(12*a+"em");d.height(6*a+"em");d.attr("width",10*z+1);d.attr("height",5*z+5);r=5*z;z*=10;f.lineWidth=2;f.font="12pt Arial";f.fillText("time",50,13);f.strokeStyle="#888";f.beginPath();f.moveTo(90,7);f.lineTo(150,7);f.stroke();
f.fillText((0<Hb?"ao":"mo")+Gb,200,13);f.strokeStyle="#f00";f.beginPath();f.moveTo(240,7);f.lineTo(300,7);f.stroke();f.fillText((0<Lb?"ao":"mo")+wb,350,13);f.strokeStyle="#00f";f.beginPath();f.moveTo(390,7);f.lineTo(450,7);f.stroke();if(a=xb.getMinMaxInt()){var c=a[2],w=Math.ceil(a[0]/c)*c;a=~~(a[1]/c)*c;var Qa=w-a,Sa=1E3<=c?/[^\.]+(?=\.)/:/[^\.]+\.[\d]/,Ra=[0,1,1,0,0],Ua=[0,0,1,1,0];f.fillStyle="#fff";f.beginPath();f.moveTo(Ra[0]*(z-35)+35,(1-Ua[0])*(r-25)+25);for(var $a=1;$a<Ra.length;$a++)f.lineTo(Ra[$a]*
(z-35)+35,(1-Ua[$a])*(r-25)+25);f.fill();f.closePath();f.fillStyle="#000";f.strokeStyle="#ccc";f.lineWidth=1;f.textAlign="right";for(Ra=a;Ra<=w;Ra+=c)b([0,1],[(Ra-a)/Qa,(Ra-a)/Qa],"#ccc"),Ua=n(Ra).match(Sa)[0],f.fillText(Ua,30,(w-Ra)/Qa*(r-25)+30);f.lineWidth=2;if(1<bb.length){c=[];w=[];for(Ra=0;Ra<bb.length;Ra++)Sa=Db(Ra),-1!=Sa&&(c.push(Ra/(bb.length-1)),w.push(Math.max(0,Math.min(1,(Sa-a)/Qa))));b(c,w,"#888")}if(bb.length>Gb){c=[];w=[];Sa=xb.runAvgMean(0,bb.length,Gb,0<Hb?void 0:0);for(Ra=0;Ra<
Sa.length;Ra++)-1!=Sa[Ra][0]&&(c.push((Ra+Gb-1)/(bb.length-1)),w.push(Math.max(0,Math.min(1,(Sa[Ra][0]-a)/Qa))));b(c,w,"#f00")}if(bb.length>wb){c=[];w=[];Sa=xb.runAvgMean(0,bb.length,wb,0<Lb?void 0:0);for(Ra=0;Ra<Sa.length;Ra++)-1!=Sa[Ra][0]&&(c.push((Ra+wb-1)/(bb.length-1)),w.push(Math.max(0,Math.min(1,(Sa[Ra][0]-a)/Qa))));b(c,w,"#00f")}b([0,1,1,0,0],[0,0,1,1,0],"#000")}}}function b(a,b,c){f.strokeStyle=c;f.beginPath();f.moveTo(a[0]*(z-35)+35,(1-b[0])*(r-25)+25);for(c=1;c<a.length;c++)f.lineTo(a[c]*
(z-35)+35,(1-b[c])*(r-25)+25);f.stroke();f.closePath()}function c(b,c){(h=void 0!=b)&&!/^scr/.exec(c)&&(b.empty().append(d),a())}var d=$("<canvas />"),f,h=!1,z,r;$(function(){"undefined"!=typeof tools&&(kernel.regListener("trend","property",function(b,c){"disPrec"==c[0]&&a()},/^disPrec$/),d[0].getContext&&tools.regTool("trend",TOOLS_TREND,c))});return{update:a}}(),Eb=function(){function a(a){Za=a;kernel.setProp("session",Za);hb[Za]=hb[Za]||{name:Za,opt:{}};kernel.setSProps(hb[Za].opt||{});b();return $a()}
function b(){for(var a=1;a<=ob;a++){"object"!=typeof hb[a]&&(hb[a]={});var b={name:a,opt:{}},d;for(d in b)void 0===hb[a][d]&&(hb[a][d]=b[d]);hb[a].scr&&(hb[a].opt.scrType=hb[a].scr,delete hb[a].scr);hb[a].phases&&(hb[a].opt.phases=hb[a].phases,delete hb[a].phases);hb[a].rank=hb[a].rank||a}c();qb.empty();for(a=0;a<lb.length;a++)qb.append($("<option />").val(lb[a]).html(hb[lb[a]].name));qb.append(jb,ub);qb.val(Za)}function c(){lb=[];for(var a=1;a<=ob;a++)lb.push(a);lb.sort(function(a,b){return hb[a].rank-
hb[b].rank});for(a=0;a<lb.length;a++)hb[lb[a]].rank=a+1;kernel.setProp("sessionData",JSON.stringify(hb))}function h(a){return hb[a].rank+"-"+hb[a].name}function n(a,c){$.isNumeric(a)||(a=(hb[Za]||{}).rank||ob);Za=++ob;var d=new Date;d=d.getMonth()+1+"."+d.getDate()+" "+Kb;kernel.setProp("sessionN",ob);var f=hb[lb[a-1]]||{};hb[Za]=void 0===c||c?{name:f.name||d,opt:JSON.parse(JSON.stringify(f.opt||{})),rank:a+.5}:{name:d,opt:kernel.getSProps(),rank:a+.5};b()}function z(b,c){n(b,c);bb=[];xb.reset(bb.length);
rb.reset(bb.length);db();a(Za);kernel.blur();kernel.getProp("imrename")&&Ra(Za,!0)}function r(b){b!=ob&&(hb[b]=hb[ob]);delete hb[ob];storage.del(b,ob);ob--;kernel.setProp("sessionN",ob);kernel.setProp("sessionData",JSON.stringify(hb));0==ob?z():Za==b?kernel.setProp("session",1):Za==ob+1&&a(b)}function w(a){if(0!=("stat"in hb[a]?hb[a].stat[0]:1)&&!confirm(STATS_CFM_DELSS.replace("%s",h(a))))return!1;r(a);return!0}function Qa(){confirm(STATS_CFM_RESET)&&(bb=[],rb.reset(),xb.reset(),db(),yb.updateTable(!1),
kernel.blur())}function Ra(a,b){void 0===a&&(a=Za);var c=prompt(b?STATS_SESSION_NAMEC:STATS_SESSION_NAME,hb[a].name);null!=c&&(c=$("<div/>").text(c).html(),hb[a].name=c,kernel.setProp("sessionData",JSON.stringify(hb)))}function Ua(a,b){Cb=!1;bb=b;rb.reset(bb.length);xb.reset(bb.length);yb.updateTable(!1);hb[a]=hb[a]||{name:a,opt:{}};hb[a].stat=[bb.length].concat(xb.getAllStats());hb[a].date=[(bb[0]||[])[3],(bb[bb.length-1]||[])[3]];kernel.setProp("sessionData",JSON.stringify(hb));kernel.isDialogShown("ssmgr")&&
cb();kernel.pushSignal("session","load")}function $a(){return storage.get(Za).then(Ua.bind(void 0,Za))}function db(a){hb[Za].stat=[bb.length].concat(xb.getAllStats());hb[Za].date=[(bb[0]||[])[3],(bb[bb.length-1]||[])[3]];kernel.setProp("sessionData",JSON.stringify(hb));return storage.set(Za,bb,a)}function Ta(c){c=$(c.target);if(c.is("td, th, select")&&(c.hasClass("click")||c.is("select"))){for(var d=c.parent();!d.is("tr");)d=d.parent();var f=d.children();5>f.length&&(f=d.prev().children());d=~~f.first().html().replace(/-.*$/,
"");f=lb[d-1];switch(c.attr("data")||c.val()){case "r":Ra(f);break;case "u":1!=d&&(hb[f].rank--,hb[lb[d-2]].rank++,kernel.setProp("sessionData",JSON.stringify(hb)));break;case "d":d!=lb.length&&(hb[f].rank++,hb[lb[d]].rank--,kernel.setProp("sessionData",JSON.stringify(hb)));break;case "s":a(f);break;case "+":z(d);break;case "x":w(f);break;case "m":Wa(f);break;case "o":ab();break;case "p":Va();break;case "e":Xa(c.parent());return;case "g":nb=!1;break;case "gn":nb="name";break;case "gs":nb="scr";break;
case "v":storage.get(f).then(function(a){Sa(new TimeStat([],a.length,function(a,b){return-1==a[b][0][0]?-1:~~((a[b][0][0]+a[b][0][1])/Jb)*Jb}.bind(void 0,a)),function(a,b){return a[b]}.bind(void 0,a),0,a.length)});break;default:return}kernel.blur();b();cb()}}function Va(){var a=prompt(STATS_PROMPTSPL.replace("%s",h(Za)),~~(bb.length/2));if(null!=a)if(a=~~a,1>a||a>bb.length-1)alert(STATS_ALERTSPL);else{var b=Za,c=bb.slice(-a);n();storage.set(Za,c).then(function(){Za=b;bb=bb.slice(0,-a);rb.reset();
xb.reset();db();Ua(Za,bb)})}}function Wa(b){if(Za!=b&&confirm(STATS_ALERTMG.replace("%f",h(Za)).replace("%t",h(b)))){var c=Za;storage.get(b).then(function(a){Array.prototype.push.apply(a,bb);return storage.set(b,a)}).then(function(d){delete hb[b].stat;hb[Za].date=[(d[0]||[])[3],(d[d.length-1]||[])[3]];kernel.setProp("sessionData",JSON.stringify(hb));a(b);r(c)})}}function ab(){for(var a=f(bb),b=0,c=0;c<bb.length;c++)a[c]!=bb[c]&&b++;0==b?logohint.push("Already sorted"):confirm(STATS_SSMGR_SORTCFM.replace("%d",
b))&&(bb=a,rb.reset(),xb.reset(),db(),Ua(Za,bb))}function Ya(a){var b=lb[a-1],c=hb[b],f=["?/?","?"];if("stat"in c){var h=c.stat;f[0]=h[0]-h[1]+"/"+h[0];f[1]=d(h[2])}h=STATS_SSMGR_OPS.split("|");h='<select><option value="">...</option><option value="r">'+h[0]+'</option><option value="+">'+h[1]+'</option><option value="'+(b==Za?'p">'+h[2]:'m">'+h[3])+'</option><option value="x">'+h[4]+"</option>"+(b==Za?'<option value="o">'+h[5]+"</option>":"")+'<option value="v">'+STATS_EXPORTCSV+"</option></select>";
var n=1==a?"<td></td>":'<td class="click" data="u">&#8593;</td>',z=a==lb.length?"<td></td>":'<td class="click" data="d">&#8595;</td>',r="<td>"+scramble.getTypeName(c.opt.scrType||"333")+"</td>",w="<td>"+f[0]+"</td>";f="<td>"+f[1]+"</td>";var Qa=mathlib.time2str((hb[b].date||[])[1],"%Y-%M-%D");return'<tr class="'+(b==Za?"selected mhide":"mhide")+'"><td class="click" data="s">'+a+"-"+c.name+(b==Za?"*":"")+"</td>"+w+f+"<td>"+Qa+"</td>"+r+"<td>"+(c.opt.phases||1)+"</td>"+n+z+'<td class="seltd">'+h+'</td></tr><tr class="'+
(b==Za?"selected ":"")+'mshow t"><td class="click" data="s" rowspan=2>'+a+"-"+c.name+(b==Za?"*":"")+"</td>"+w+r+n+z+'</tr><tr class="'+(b==Za?"selected ":"")+'mshow b">'+f+"<td>"+Qa+"&nbsp;"+(c.opt.phases||1)+'P.</td><td class="seltd" colspan=2>'+h+"</td></tr>"}function fb(a){for(var b=!1,c=[],d=0;d<a.length;d++){var f=lb[a[d]];b=b||Za==f;c.push(hb[f].name+"("+scramble.getTypeName(hb[f].opt.scrType||"333")+")")}c=c.join(", ");45<c.length&&(c=c.slice(0,42)+"...");return"<tr"+(b?' class="selected"':
"")+'><td class="click" data="e" colspan=9 style="text-align:left;">'+(b?"*":"")+"[+] "+a.length+" session(s): "+c+"</td></tr>"}function Xa(a){for(var b=a.next();b.is(":hidden");b=b.next())b.css("display","");a.remove()}function cb(){c();kb.empty().append('<tr class="mhide"><th class="click" data='+("name"==nb?'"g">[+]':'"gn">[-]')+" "+STATS_SSMGR_NAME+"</th><th>"+STATS_SOLVE+"</th><th>"+STATS_AVG+"</th><th>"+STATS_DATE+'</th><th class="click" data='+("scr"==nb?'"g">[+]':'"gs">[-]')+" "+SCRAMBLE_SCRAMBLE+
'</th><th>P.</th><th colspan=3>OP</th></tr><tr class="mshow t"><th rowspan=2 class="click" data='+("name"==nb?'"g">[+]':'"gn">[-]')+" "+STATS_SSMGR_NAME+"</th><th>"+STATS_SOLVE+'</th><th class="click" data='+("scr"==nb?'"g">[+]':'"gs">[-]')+" "+SCRAMBLE_SCRAMBLE+'</th><th colspan=2 rowspan=2>OP</th></tr><tr class="mshow b"><th>'+STATS_AVG+"</th><th>"+STATS_DATE+" & P.</th></tr>");for(var a=[],b=NaN,d=0;d<lb.length;d++){var f=hb[lb[d]];nb&&f[nb]==b?a[a.length-1].push(d):(a.push([d]),b=f[nb])}for(d=
0;d<a.length;d++)if(1==a[d].length)kb.append(Ya(a[d][0]+1));else for(kb.append(fb(a[d])),b=0;b<a[d].length;b++)kb.append($(Ya(a[d][b]+1)).hide());kb.unbind("click").click(Ta).unbind("change").change(Ta)}function pb(){cb();kernel.showDialog([mb,0,void 0,0,[STATS_SSMGR_ORDER,function(){if(!confirm(STATS_SSMGR_ODCFM))return!1;for(var a=[],d=1;d<=ob;d++)a.push(d);a.sort(function(a,b){var c=scramble.getTypeIdx(hb[a].opt.scrType||"333"),d=scramble.getTypeIdx(hb[b].opt.scrType||"333");return c==d?hb[a].rank-
hb[b].rank:c-d});for(d=0;d<a.length;d++)hb[a[d]].rank=d+1;c();b();cb();return!1}]],"ssmgr",STATS_SSMGR_TITLE)}function eb(c,d){if("property"==c)"set"==d[2]||"session"==d[2]||d[0].startsWith("session")||(hb[Za].opt=kernel.getSProps(),kernel.setProp("sessionData",JSON.stringify(hb))),"session"==d[0]&&~~d[1]!=Za?a(d[1]):"sessionData"==d[0]?(hb=JSON.parse(d[1]),"set"!=d[2]&&b()):"sessionN"==d[0]?ob=d[1]:"scrType"==d[0]?(Kb=d[1],"modify"==d[2]&&kernel.getProp("scr2ss")&&z(void 0,!1)):"statclr"==d[0]&&
(d[1]?sb.val("X").unbind("click").click(Qa):sb.val("+").unbind("click").click(z));else if("ctrl"==c&&"stats"==d[0]){var f=hb[Za].rank;"+"==d[1]&&f<ob?kernel.setProp("session",lb[f]):"-"==d[1]&&1<f&&kernel.setProp("session",lb[f-2])}}var ob=15,Za=-1,mb=$("<div />"),kb=$("<table />").appendTo(mb).addClass("table ssmgr"),sb=$('<input type="button">').val("+"),hb,lb,jb=$("<option />").val("new").html("New.."),ub=$("<option />").val("del").html("Delete.."),qb=$("<select />").change(function(){kernel.blur();
"new"==qb.val()?z(ob,!1):"del"==qb.val()?w(Za)||qb.val(Za):a(~~qb.val())}),nb=!1;$(function(){kernel.regListener("ssmgr","property",eb);kernel.regListener("ssmgr","ctrl",eb,/^stats$/);kernel.regProp("stats","sessionN",-6,"Number of Sessions",[15]);kernel.regProp("stats","sessionData",-6,"Session Data",["{}"]);ob=kernel.getProp("sessionN");hb=JSON.parse(kernel.getProp("sessionData"));b();kernel.setProp("sessionData",JSON.stringify(hb));kernel.regProp("stats","session",-6,"Current Session Index",[1])});
return{getSelect:function(){return qb},showMgrTable:pb,importSessions:function(c){if(c&&0!=c.length){for(var d=Za,f=0;f<c.length;f++){var h=c[f],n=kernel.getSProps(),z;for(z in h.opt)n[z]=h.opt[z];Za=++ob;hb[Za]={name:h.name||Za,opt:n,rank:ob};kernel.setProp("sessionN",ob);bb=h.times;rb.reset(bb.length);xb.reset(bb.length);db()}b();a(d);pb();logohint.push("Import %d session(s)".replace("%d",c.length));return c.length}},getButton:function(){return sb},rank2idx:function(a){return lb[a-1]},load:$a,save:db}}(),
Qb=function(){function a(a){a-=Ua;var b=new Date(1E3*a);switch($a){case "d":return~~(a/86400);case "w":return~~((a/86400-Sa.val())/7);case "m":return 12*b.getFullYear()+b.getMonth();case "y":return b.getFullYear()}}function b(a){switch($a){case "d":return mathlib.time2str(86400*a+Ua,"%Y-%M-%D");case "w":return mathlib.time2str(86400*(7*a+~~Sa.val())+Ua,"Start@ %Y-%M-%D");case "m":return~~(a/12)+"-"+("0"+(a%12+1)).slice(-2);case "y":return""+a}}function c(){for(var b=Promise.resolve(),c=[],d=~~kernel.getProp("sessionN"),
f=0;f<d;f++){var h=Eb.rank2idx(f+1);b=b.then(function(b){return new Promise(function(d){storage.get(b).then(function(f){c[b]={};for(var h=0;h<f.length;h++)if(f[h][3]){var n=a(f[h][3]);c[b][n]=c[b][n]||[0,0];c[b][n][0]+=1;c[b][n][1]+=-1!=f[h][0][0]}d()})})}.bind(void 0,h))}return b.then(function(){Ra=c})}function d(a){a=$(a.target).html();"&gt;"==a?Ta--:"&lt;"==a?Ta=Math.min(Ta+1,0):"+"==a?Va++:"-"==a&&(Va=Math.max(1,Va-1));f()}function f(){if(Xa){var a=$('<table class="table">');bb.empty().append("Period",
z.unbind("change").change(n)," Start of day",r.unbind("change").change(n)," week",Sa.unbind("change").change(n),"<br>",a);for(var c=JSON.parse(kernel.getProp("sessionData")),f=~~kernel.getProp("sessionN"),h=$("<tr>").append(ab.unbind("click").click(d),Wa.unbind("click").click(d)),w=$("<tr>").append(Ya.unbind("click").click(d),fb.unbind("click").click(d)),Qa=0;Qa<Va;Qa++)h.append($("<td rowspan=2>").html(b(db-Qa+Ta).replace(" ","<br>")));a.append(h,w);for(Qa=0;Qa<f;Qa++)if(h=Eb.rank2idx(Qa+1),0!=Object.keys(Ra[h]||
{}).length){w=$("<tr>").append($("<td colspan=2>").html(c[h].name));for(var Ua=0;Ua<Va;Ua++){var $a=Ra[h][db-Ua+Ta];w.append($("<td>").html($a?$a[1]+"/"+$a[0]:"-"))}a.append(w)}}}function h(a,b){Xa=!!a;a&&!/^scr/.exec(b)&&(a.empty().append(bb),n())}function n(){Xa&&($a=z.val(),Ua=3600*r.val()+60*(new Date).getTimezoneOffset(),db=a(+new Date/1E3),c().then(f))}for(var z=$("<select>").append($("<option>").val("d").html("day"),$("<option>").val("w").html("week"),$("<option>").val("m").html("month"),$("<option>").val("y").html("year")).val("d"),
r=$("<select>"),w=0;24>w;w++){var Qa=("0"+w).slice(-2)+":00";r.append($("<option>").val(w).html(Qa))}var Sa=$("<select>").append($("<option>").val(3).html("Sun"),$("<option>").val(4).html("Mon"),$("<option>").val(5).html("Tue"),$("<option>").val(6).html("Wed"),$("<option>").val(0).html("Thu"),$("<option>").val(1).html("Fri"),$("<option>").val(2).html("Sat")).val(3),Ra=[],Ua,$a,db,Ta=0,Va=3,Wa=$('<td class="click">').html("&gt;"),ab=$('<td class="click">').html("&lt;"),Ya=$('<td class="click">').html("+"),
fb=$('<td class="click">').html("-");$("<td colspan=1>");var Xa=!1,bb=$("<div />").css("text-align","center").css({"font-size":"0.7em","max-height":"20em","overflow-y":"auto"});$(function(){"undefined"!=typeof tools&&tools.regTool("dlystat","Daily Statistics",h);kernel.regListener("dlystat","property",f,/^sessionData$/)});return{update:n}}(),Ob="",Hb,Lb,Gb,wb,Kb="333",Jb=1;$(function(){kernel.regListener("stats","time",jb);kernel.regListener("stats","scramble",jb);kernel.regListener("stats","scrambleX",
jb);kernel.regListener("stats","property",jb,/^(:?useMilli|timeFormat|stat(:?sum|[12][tl]|alu?|inv|Hide|src)|session(:?Data)?|scrType|phases|trim|view|wndStat|sr_.*)$/);kernel.regListener("stats","ctrl",jb,/^stats$/);kernel.regListener("stats","ashow",jb);kernel.regListener("stats","button",jb);kernel.regProp("stats","trim",1,PROPERTY_TRIM,["p5","1 p1 p5 p10 p20 m".split(" "),["1","1%","5%","10%","20%",PROPERTY_TRIM_MED]],1);kernel.regProp("stats","statsum",0,PROPERTY_SUMMARY,[!0],1);kernel.regProp("stats",
"printScr",0,PROPERTY_PRINTSCR,[!0],1);kernel.regProp("stats","printDate",0,PROPERTY_PRINTDATE,[!1],1);kernel.regProp("stats","imrename",0,PROPERTY_IMRENAME,[!1],1);kernel.regProp("stats","scr2ss",0,PROPERTY_SCR2SS,[!1]);kernel.regProp("stats","statinv",0,PROPERTY_STATINV,[!1],1);kernel.regProp("stats","statclr",0,STATS_STATCLR,[!0],1);kernel.regProp("stats","absidx",0,STATS_ABSIDX,[!1],1);kb.append(pb.append($('<span class="click" />').html(STATS_SESSION).click(Eb.showMgrTable),Eb.getSelect(),Eb.getButton()),
ab.append(ub),$('<div class="stattl">').append(qb.append(fb)));$(window).bind("resize",ib);fb.append(db,ob);kernel.addWindow("stats",BUTTON_TIME_LIST,kb,!0,!0,4);qb.bind("scroll",function(){var a=qb[0];a.scrollHeight-a.scrollTop<a.clientHeight+5&&!kernel.getProp("statinv")&&hb.click()});var a=STATS_TYPELEN.split("|");kernel.regProp("stats","stat1t",1,a[0].replace("%d",1),[0,[0,1],a.slice(2)],1);kernel.regProp("stats","stat1l",2,a[1].replace("%d",1),[5,3,1E3],1);kernel.regProp("stats","stat2t",1,a[0].replace("%d",
2),[0,[0,1],a.slice(2)],1);kernel.regProp("stats","stat2l",2,a[1].replace("%d",2),[12,3,1E3],1);kernel.regProp("stats","rsfor1s",0,STATS_RSFORSS,[!1]);kernel.regProp("stats","statalu",5,PROPERTY_STATALU,["mo3 ao5 ao12 ao100"],1);kernel.regProp("stats","statal",1,PROPERTY_STATAL,["mo3 ao5 ao12 ao100",["mo3 ao5 ao12 ao100","mo3 ao5 ao12 ao25 ao50 ao100","mo3 ao5 ao12 ao25 ao50 ao100 ao200 ao500 ao1000 ao2000 ao5000 ao10000","u"],["mo3 ao5 ao12 ao100","mo3 ao5 ao12 ao25 ao50 ao100","mo3 ao5 ao12 ao25 ao50 ao100 ao200 ao500 ao1000 ao2000 ao5000 ao10000",
"Custom"]],1);kernel.regProp("stats","delmul",0,PROPERTY_DELMUL,[!0]);kernel.regProp("ui","statHide",-1,"Hide Session Title",[!1]);kernel.setProp("sr_statalu",kernel.getProp("sr_statal"))});return{importSessions:Eb.importSessions,getReviewUrl:r,pretty:h}},[kernel.pretty,kernel.round,kernel.pround]);var tools=execMain(function(){function n(a,b){if(-1==a)for(var c=0;c<kernel.getProp("NTools");c++)n(c,b);else if(!Xa){for(c in Sa)Sa[c]();w[a].empty()}else for(c in Sa)if(c==Va[a])Sa[c](w[a],b)}function Ta(a,b){for(var c in Sa)if(c==Va[a])Sa[c](void 0,b)}function d(a){if(/^222(so|[236o]|eg[012]?|nb)$/.exec(a))return"222";if(/^(333(oh?|ni|f[mt])?|(z[zb]|[coep]|cm|2g|ls)?ll|lse(mu)?|2genl?|3gen_[LF]|edges|corners|f2l|lsll2|zbls|roux|RrU|half|easyc|eoline)$/.exec(a))return"333";if(/^(444([mo]|wca|yj|bld)?|4edge|RrUu)$/.exec(a))return"444";
if(/^(555(wca|bld)?|5edge)$/.exec(a))return"555";if(/^(666(si|[sp]|wca)?|6edge)$/.exec(a))return"666";if(/^(777(si|[sp]|wca)?|7edge)$/.exec(a))return"777";if(/^888$/.exec(a))return"888";if(/^999$/.exec(a))return"999";if(/^101010$/.exec(a))return"101010";if(/^111111$/.exec(a))return"111111";if(/^cubennn$/.exec(a))return"cubennn";if(/^pyr(s?[om]|l4e|nb|4c)$/.exec(a))return"pyr";if(/^skb(s?o|nb)?$/.exec(a))return"skb";if(/^sq(rs|1[ht]|rcsp)$/.exec(a))return"sq1";if(/^clk(wca|o)$/.exec(a))return"clk";
if(/^mgmp$/.exec(a))return"mgm";if(/^15p(at|ra?p?)?$/.exec(a))return"15p";if(/^15p(rmp|m)$/.exec(a))return"15b";if(/^8p(at|ra?p?)?$/.exec(a))return"8p";if(/^8p(rmp|m)$/.exec(a))return"8b"}function Ra(a,b){DEBUG&&console.log("[func select]",a,b);kernel.blur();for(var c=void 0===a?4:a+1,d=void 0===a?0:a;d<c;d++){var h=Ya[d].getSelected();Va[d]!=h&&(Ta(d,"property"),Va[d]=h,kernel.setProp("toolsfunc",JSON.stringify(Va)),n(d,"property"))}}function a(a,b){if("property"==a)if("imgSize"==b[0]||/^col/.exec(b[0]))for(var c=
0;c<kernel.getProp("NTools");c++)"image"==Va[c]&&n(c,a);else if("NTools"==b[0])for(c=0;4>c;c++)c<b[1]?(Qa[c].show(),""==w[c].html()&&n(c,a)):(Qa[c].hide(),Ta(c,a));else if("toolHide"==b[0]){c=!b[1];for(var d=0;4>d;d++)c?Za[d].show():Za[d].hide()}else{if("toolsfunc"==b[0]&&"session"==b[2]){d=JSON.parse(b[1]);for(c=0;4>c;c++)Ya[c].loadVal(d[c]);Ra()}}else if("scramble"==a||"scrambleX"==a)r=b,n(-1,a);else if("button"==a&&"tools"==b[0])if(Xa=b[1])for(c=0;c<kernel.getProp("NTools");c++)Xa&&""==w[c].html()&&
n(c,a);else n(-1,a)}function h(a){$(a.target).hasClass("click")||$(a.target).is("input, textarea, select")||kernel.setProp("toolHide",!1)}function b(a){a=$(this);if("a"==a.attr("data"))a.prevAll().show(),a.prev().hide(),a.hide();else if("n"==a.attr("data")){var b=a.prevAll(":hidden");b.last().show();1==b.length&&(a.next().hide(),a.hide())}}for(var r=["-","",0],Xa=!1,Qa=[],w=[],Va=["image","stats","cross"],Za=[],Ya=[],Ua=[],Wa=0;4>Wa;Wa++)w[Wa]=$("<div />"),Za[Wa]=$("<span />"),Ya[Wa]=new kernel.TwoLvMenu(Ua,
Ra.bind(null,Wa),$("<select />"),$("<select />")),Qa[Wa]=$("<div />").css("display","inline-block");$(function(){kernel.regListener("tools","property",a,/^(?:imgSize|image|toolsfunc|NTools|col(?:cube|pyr|skb|sq1|mgm)|toolHide)$/);kernel.regListener("tools","scramble",a);kernel.regListener("tools","scrambleX",a);kernel.regListener("tools","button",a,/^tools$/);for(var b=$('<div id="toolsDiv"/>'),d=0;4>d;d++)w[d].click(h),Za[d].append("<br>",TOOLS_SELECTFUNC,Ya[d].select1,Ya[d].select2),Qa[d].append(w[d],
Za[d]).appendTo(b),1==d&&b.append("<br>");kernel.regProp("tools","solSpl",0,PROPERTY_HIDEFULLSOL,[!1]);kernel.regProp("tools","imgSize",2,PROPERTY_IMGSIZE,[15,5,50]);kernel.regProp("tools","NTools",2,PROPERTY_NTOOLS,[1,1,4]);d=JSON.stringify(["image","stats","cross","distribution"]);kernel.regProp("tools","toolsfunc",5,PROPERTY_TOOLSFUNC,[d],1);var n=kernel.getProp("toolsfunc",d);-1==n.indexOf("[")&&(n=d.replace("image",n),kernel.setProp("toolsfunc",n));Va=JSON.parse(n);kernel.addWindow("tools",BUTTON_TOOLS,
b,!1,!0,6);kernel.regProp("ui","toolHide",-1,"Hide Tools Selector",[!1])});var Sa={};return{regTool:function(a,b,d){DEBUG&&console.log("[regtool]",a,b);Sa[a]=d;b=b.split(">");if(2==b.length){d=-1;for(var c=0;c<Ua.length;c++)if(Ua[c][0]==b[0]&&$.isArray(Ua[c][1])){d=c;break}-1!=d?Ua[d][1].push([b[1],a]):Ua.push([b[0],[[b[1],a]]])}else Ua.push([b[0],a]);for(c=0;4>c;c++)Ya[c].reset(Va[c])},getCurScramble:function(){return r},getSolutionSpan:function(a){for(var c=$("<span />"),d=0;d<a.length;d++)c.append('<span style="display:none;">&nbsp;'+
a[d]+"</span>");kernel.getProp("solSpl")?(c.append($('<span class="click" data="n">[+1]</span>').click(b)),c.append($('<span class="click" data="a">['+a.length+"f]</span>").click(b))):c.children().show();return c},scrambleType:function(a){return null==a.match(/^([\d]?[xyzFRUBLDfrubldSME]([w]|&sup[\d];)?[2']?\s*)+$/)?"-":a.match(/^([xyzFRU][2']?\s*)+$/)?"222o":a.match(/^([xyzFRUBLDSME][2']?\s*)+$/)?"333":a.match(/^(([xyzFRUBLDfru]|[FRU]w)[2']?\s*)+$/)?"444":a.match(/^(([xyzFRUBLDfrubld])[w]?[2']?\s*)+$/)?
"555":"-"},puzzleType:d,isPuzzle:function(a,b){b=b||r;var c=d(b[0]);b=b[1];return c?c==a:"222"==a?b.match(/^([xyzFRU][2']?\s*)+$/):"333"==a?b.match(/^([xyzFRUBLDSME][2']?\s*)+$/):"444"==a?b.match(/^(([xyzFRUBLDfru]|[FRU]w)[2']?\s*)+$/):"555"==a?b.match(/^(([xyzFRUBLDfrubld])[w]?[2']?\s*)+$/):"skb"==a?b.match(/^([RLUB]'?\s*)+$/):"pyr"==a?b.match(/^([RLUBrlub]'?\s*)+$/):"sq1"==a?b.match(/^$/):!1}}});var image=execMain(function(){function n(a){var b=a[0];"input"==b&&(b=tools.scrambleType(a[1]));b=tools.puzzleType(b);var c;for(c=0;12>c;c++)if(b==Sa[c])return Ua(c,a[1]),!0;return"cubennn"==b?(Ua(a[2],a[1]),!0):"pyr"==b?(Ya(a[1]),!0):"skb"==b?(Za(a[1]),!0):"sq1"==b?(Va(a[1]),!0):"clk"==b?(w(a[1]),!0):"mgm"==b?(Qa(a[1]),!0):"15b"==b||"15p"==b?(Wa(b[2],4,a[1]),!0):"8b"==b||"8p"==b?(Wa(b[1],3,a[1]),!0):!1}function Ta(a){a&&(d=$("<canvas>"),Ra=d[0].getContext("2d"),a.empty().append(d),n(tools.getCurScramble())||
a.html(IMAGE_UNAVAILABLE))}var d,Ra,a=Math.sqrt(3)/2,h=Math.PI,b=$.ctxRotate,r=$.ctxTransform,Xa=$.ctxDrawPolygon,Qa=function(){function a(a,c,d,f){for(var n=0;5>n;n++)Xa(Ra,Za[a[c+n]],b([Sa,Ua],2*h/5*n+f),d),Xa(Ra,Za[a[c+n+5]],b([Ta,Va],2*h/5*n+f),d);Xa(Ra,Za[a[c+10]],b([Wa,Ya],f),d)}var n=[[4,0,1,2,3,9,5,6,7,8,10,11,12,13,58,59,16,17,18,63,20,21,22,23,24,14,15,27,28,29,19,31,32,33,34,35,25,26,38,39,40,30,42,43,44,45,46,36,37,49,50,51,41,53,54,55,56,57,47,48,60,61,62,52,64,65,66,67,68,69,70,71,72,
73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131],[81,77,78,3,4,86,82,83,8,85,87,122,123,124,125,121,127,128,129,130,126,131,89,90,24,25,88,94,95,29,97,93,98,33,34,35,36,37,38,39,40,41,42,43,44,26,22,23,48,30,31,27,28,53,32,69,70,66,67,68,74,75,71,72,73,76,101,102,103,99,100,106,107,108,104,105,109,46,47,79,80,45,51,52,84,49,50,54,0,1,2,91,
92,5,6,7,96,9,10,15,11,12,13,14,20,16,17,18,19,21,113,114,110,111,112,118,119,115,116,117,120,55,56,57,58,59,60,61,62,63,64,65],[0,1,2,3,4,5,6,7,8,9,10,33,34,35,14,15,38,39,40,19,42,43,44,45,46,25,26,49,50,51,30,53,54,55,56,57,36,37,60,61,62,41,64,65,11,12,13,47,48,16,17,18,52,20,21,22,23,24,58,59,27,28,29,63,31,32,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,
124,125,121,122,123,129,130,126,127,128,131]],f=(Math.sqrt(5)+1)/2,r=.25/Math.tan(h/5),w=2.6+3*Math.cos(.1*h)*f,Qa=2.2+1*Math.sin(.1*h)*f,Sa=[0,r,0,-r],Ua=[-1,-.75,-.5,-.75],Ta=[Math.cos(.1*h)-r,r,0,.5*Math.sin(.4*h)],Va=[-Math.sin(.1*h)+-.25,-.75,-.5,.5*-Math.cos(.4*h)],Wa=[.5*Math.sin(0*h),.5*Math.sin(.4*h),.5*Math.sin(.8*h),.5*Math.sin(1.2*h),.5*Math.sin(1.6*h)],Ya=[.5*-Math.cos(0*h),.5*-Math.cos(.4*h),.5*-Math.cos(.8*h),.5*-Math.cos(1.2*h),.5*-Math.cos(1.6*h)],Za="#fff #d00 #060 #81f #fc0 #00b #ffb #8df #f83 #7e0 #f9f #999".split(" "),
qb=/[RD][+-]{2}|U'?/;return function(b){Za=kernel.getProp("colmgm").match(c);for(var r=[],z=0;12>z;z++)for(var Sa=0;11>Sa;Sa++)r[11*z+Sa]=z;b=b.split(/\s+/);for(z=0;z<b.length;z++)if(Sa=qb.exec(b[z])){var Ua="URD".indexOf(Sa[0][0]),Ta=/[-']/.exec(Sa[0][1]);Sa=r;Ua=n[Ua];var Va=Sa.slice();if(Ta)for(Ta=0;132>Ta;Ta++)Sa[Ua[Ta]]=Va[Ta];else for(Ta=0;132>Ta;Ta++)Sa[Ta]=Va[Ua[Ta]]}z=kernel.getProp("imgSize")/7.5;d.width(7*z+"em");d.height(3.5*z+"em");d.attr("width",392);d.attr("height",196);a(r,0,[40,2.6+
0*f,2.2+0*f],0*h);a(r,11,[40,2.6+Math.cos(.1*h)*f,2.2+Math.sin(.1*h)*f],.2*h);a(r,22,[40,2.6+Math.cos(.5*h)*f,2.2+Math.sin(.5*h)*f],.6*h);a(r,33,[40,2.6+Math.cos(.9*h)*f,2.2+Math.sin(.9*h)*f],1*h);a(r,44,[40,2.6+Math.cos(1.3*h)*f,2.2+Math.sin(1.3*h)*f],1.4*h);a(r,55,[40,2.6+Math.cos(1.7*h)*f,2.2+Math.sin(1.7*h)*f],1.8*h);a(r,66,[40,w+Math.cos(.7*h)*f,Qa+Math.sin(.7*h)*f],0*h);a(r,77,[40,w+Math.cos(.3*h)*f,Qa+Math.sin(.3*h)*f],1.6*h);a(r,88,[40,w+Math.cos(1.9*h)*f,Qa+Math.sin(1.9*h)*f],1.2*h);a(r,
99,[40,w+Math.cos(1.5*h)*f,Qa+Math.sin(1.5*h)*f],.8*h);a(r,110,[40,w+Math.cos(1.1*h)*f,Qa+Math.sin(1.1*h)*f],.4*h);a(r,121,[40,w+0*f,Qa+0*f],1*h);Ra&&(Ra.fillStyle="#000",Ra.font="20px serif",Ra.textAlign="center",Ra.textBaseline="middle",Ra.fillText("U",104,88),Ra.fillText("F",104,40*(2.2+Math.sin(.5*h)*f)))}}(),w=function(){var a=/([UD][RL]|ALL|[UDRLy])(\d[+-]?)?/,c="UR DR DL UL U R D L ALL".split(" ");return function(f){var n=f.split(/\s+/),w=clock.moveArr,z=9;f=[0,0,0,0];for(var Qa=[0,0,0,0,0,
0,0,0,0,0,0,0,0,0],Sa=0;Sa<n.length;Sa++){var Ua=a.exec(n[Sa]);if(Ua)if("y2"==Ua[0])z=0;else{var Ta=c.indexOf(Ua[1])+z;if(void 0==Ua[2])f[Ta%9]=1;else{var Va=~~Ua[2][0];Va="+"==Ua[2][1]?Va:12-Va;for(Ua=0;14>Ua;Ua++)Qa[Ua]=(Qa[Ua]+w[Ta][Ua]*Va)%12}}}Qa=[Qa[0],Qa[3],Qa[6],Qa[1],Qa[4],Qa[7],Qa[2],Qa[5],Qa[8],12-Qa[2],Qa[10],12-Qa[8],Qa[9],Qa[11],Qa[13],12-Qa[0],Qa[12],12-Qa[6]];f=[f[3],f[2],f[0],f[1],1-f[0],1-f[1],1-f[3],1-f[2]];Sa=kernel.getProp("imgSize")/7.5;d.width(6.25*Sa+"em");d.height(3*Sa+"em");
d.attr("width",375);d.attr("height",180);n=[10,30,50];w=[10,30,50,75,95,115];for(Sa=0;18>Sa;Sa++)z=["#37b","#5cf"][~~(Sa/9)],Ta=[3,w[~~(Sa/3)],n[Sa%3]],Ra&&(Ua=r(b([[1,1,0,-1,-1,-1,1,0],[0,-1,-8,-1,0,1,1,0]],Qa[Sa]/6*h),Ta),Va=Ua[0],Ua=Ua[1],Ra.beginPath(),Ra.fillStyle=z,Ra.arc(Va[7],Ua[7],9*Ta[0],0,2*h),Ra.fill(),Ra.beginPath(),Ra.fillStyle="#ff0",Ra.strokeStyle="#f00",Ra.moveTo(Va[0],Ua[0]),Ra.bezierCurveTo(Va[1],Ua[1],Va[1],Ua[1],Va[2],Ua[2]),Ra.bezierCurveTo(Va[3],Ua[3],Va[3],Ua[3],Va[4],Ua[4]),
Ra.bezierCurveTo(Va[5],Ua[5],Va[6],Ua[6],Va[0],Ua[0]),Ra.closePath(),Ra.fill(),Ra.stroke());n=[20,40];w=[20,40,85,105];for(Sa=0;8>Sa;Sa++)Qa=["#850","#ff0"][f[Sa]],z=[3,w[~~(Sa/2)],n[Sa%2]],Ra&&(Ta=r([[0],[0]],z),Ra.beginPath(),Ra.fillStyle=Qa,Ra.strokeStyle="#000",Ra.arc(Ta[0][0],Ta[1][0],3*z[0],0,2*h),Ra.fill(),Ra.stroke())}}(),Va=function(){function n(a){for(var b=[],c=0;12>c;c++)b[(c+a[0])%12]=w[c];for(c=0;12>c;c++)b[c+12]=w[(c+a[1])%12+12];if(a[2])for(f=1-f,c=0;6>c;c++)mathlib.circle(b,c+6,23-
c);w=b}var w=[],f=0,Qa=[[0,-.5,.5],[0,-a-1,-a-1]],Sa=[[0,-.5,-a-1,-a-1],[0,-a-1,-a-1,-.5]],Ua=[[0,-.5,-a-1],[0,-a-1,-a-1]],Ta=[[0,-a-1,-a-1],[0,-a-1,-.5]],Va=r(Qa,[.66,0,0]),Wa=r(Sa,[.66,0,0]),Ya={U:"#ff0",R:"#f80",F:"#0f0",D:"#fff",L:"#f00",B:"#00f"},Za=/^\s*\(\s*(-?\d+),\s*(-?\d+)\s*\)\s*$/;return function(r){var z=kernel.getProp("colsq1").match(c);Ya={U:z[0],R:z[1],F:z[2],D:z[3],L:z[4],B:z[5]};w=[0,0,1,2,2,3,4,4,5,6,6,7,8,8,9,10,10,11,12,12,13,14,14,15];f=0;z=r.split("/");for(r=0;r<z.length;r++)if(/^\s*$/.exec(z[r]))n([0,
0,1]);else{var Sa=Za.exec(z[r]);n([~~Sa[1]+12,~~Sa[2]+12,1])}n([0,0,1]);r=kernel.getProp("imgSize")/10;d.width(11*r/1.3+"em");d.height(6.3*r/1.3+"em");d.attr("width",495);d.attr("height",283.5);z=[45,2.7,2.7];for(r=0;12>r;r++)0==w[r]%2?w[r]==w[(r+1)%12]&&(Xa(Ra,Ya["LBBRRFFLBLRBFRLF"[w[r]]],b(Ta,(r-3)*h/6),z),Xa(Ra,Ya["LBBRRFFLBLRBFRLF"[w[r]+1]],b(Ua,(r-3)*h/6),z),Xa(Ra,Ya["UD"[8<=w[r]?1:0]],b(Wa,(r-3)*h/6),z)):(Xa(Ra,Ya["-B-R-F-L-B-R-F-L"[w[r]]],b(Qa,(r-5)*h/6),z),Xa(Ra,Ya["UD"[8<=w[r]?1:0]],b(Va,
(r-5)*h/6),z));z=[45,2.7+5.4,2.7];for(r=12;24>r;r++)0==w[r]%2?w[r]==w[(r+1)%12+12]&&(Xa(Ra,Ya["LBBRRFFLBLRBFRLF"[w[r]]],b(Ta,-r*h/6),z),Xa(Ra,Ya["LBBRRFFLBLRBFRLF"[w[r]+1]],b(Ua,-r*h/6),z),Xa(Ra,Ya["UD"[8<=w[r]?1:0]],b(Wa,-r*h/6),z)):(Xa(Ra,Ya["-B-R-F-L-B-R-F-L"[w[r]]],b(Qa,(-1-r)*h/6),z),Xa(Ra,Ya["UD"[8<=w[r]?1:0]],b(Va,(-1-r)*h/6),z));z=[45,5.4,5.7];Xa(Ra,Ya.L,[[-a-1,-a-1,-.5,-.5],[.5,-.5,-.5,.5]],z);0==f?Xa(Ra,Ya.L,[[a+1,a+1,-.5,-.5],[.5,-.5,-.5,.5]],z):Xa(Ra,Ya.R,[[a,a,-.5,-.5],[.5,-.5,-.5,.5]],
z)}}(),Za=function(){var b=[],h="#fff #00f #f00 #ff0 #0f0 #f80".split(" "),f=[[45*a,45*a,186.75*a,-22.5,22.5,45],[45*a,0,328.5*a,-22.5,45,67.5],[45*a,0,234*a,-22.5,45,114.75],[0,-45*a,139.5*a,45,-22.5,209.25],[45*a,0,139.5*a,22.5,45,114.75],[45*a,0,45*a,22.5,45,67.5]];return function(n){h=kernel.getProp("colskb").match(c);for(var r=0,w=0;6>w;w++)for(var z=0;5>z;z++)b[r++]=w;n=kernel.parseScramble(n,"RULB");for(w=0;w<n.length;w++){r=n[w][0];z=1==n[w][2]?1:2;for(var Qa=0;Qa<z;Qa++)switch(r){case 0:mathlib.circle(b,
10,5,15);mathlib.circle(b,14,8,17);mathlib.circle(b,12,9,16);mathlib.circle(b,13,6,19);mathlib.circle(b,24,4,28);break;case 1:mathlib.circle(b,0,25,5);mathlib.circle(b,2,26,7);mathlib.circle(b,4,27,9);mathlib.circle(b,1,28,6);mathlib.circle(b,21,19,12);break;case 2:mathlib.circle(b,20,15,25);mathlib.circle(b,23,18,29);mathlib.circle(b,21,16,28);mathlib.circle(b,24,19,27);mathlib.circle(b,13,9,1);break;case 3:mathlib.circle(b,5,25,15),mathlib.circle(b,9,28,19),mathlib.circle(b,8,26,18),mathlib.circle(b,
7,29,17),mathlib.circle(b,2,23,14)}}w=kernel.getProp("imgSize")/10;d.width((8*a+.3)*w+"em");d.height(6.2*w+"em");d.attr("width",45*(8*a+.3)+1);d.attr("height",280);for(w=0;6>w;w++)n=w,r=f[n],Xa(Ra,h[b[5*n]],[[-1,0,1,0],[0,1,0,-1]],r),Xa(Ra,h[b[5*n+1]],[[-1,-1,0],[0,-1,-1]],r),Xa(Ra,h[b[5*n+2]],[[0,1,1],[-1,-1,0]],r),Xa(Ra,h[b[5*n+3]],[[-1,-1,0],[0,1,1]],r),Xa(Ra,h[b[5*n+4]],[[0,1,1],[1,1,0]],r)}}(),Ya=function(){var b=[],h=["#0f0","#f00","#00f","#ff0"],f=[3.5,1.5,5.5,3.5],n=[0,3*a,3*a,6.5*a],r=[0,
6,5,4],w=[1,7,3,5],Qa=[2,8,4,3],Sa=[[0,1,2],[2,3,0],[1,0,3],[3,2,1]],Ua=[-.5,.5,0],Ta=[a,a,0],Va=[-a,-a,0];return function(z){h=kernel.getProp("colpyr").match(c);for(var Wa=0,Ya=0;4>Ya;Ya++)for(var $a=0;9>$a;$a++)b[Wa++]=Ya;z=kernel.parseScramble(z,"URLB");for(Ya=0;Ya<z.length;Ya++){var fb=z[Ya][0]+(2==z[Ya][1]?4:0);Wa=1==z[Ya][2]?1:2;$a=4<=fb?1:4;fb=Sa[fb%4];for(var db=0;db<$a;db++)for(var Za=0;Za<Wa;Za++)mathlib.circle(b,9*fb[0]+r[db],9*fb[1]+w[db],9*fb[2]+Qa[db])}Ya=kernel.getProp("imgSize")/10;
d.width(7*Ya+"em");d.height(6.5*a*Ya+"em");d.attr("width",315);d.attr("height",292.5*a);for(Ya=0;4>Ya;Ya++){z=Ya;Wa=0!=z;$a=[0,-1,1,0,.5,-.5,0,-.5,.5];fb=[0,2,2,2,1,1,2,3,3];for(db=0;db<fb.length;db++)fb[db]*=Wa?-a:a,$a[db]*=Wa?-1:1;for(db=0;9>db;db++)Xa(Ra,h[b[9*z+db]],[Ua,6<=db!=Wa?Va:Ta],[45,f[z]+$a[db],n[z]+fb[db]])}}}(),Ua=function(){function a(a,c,d,f){var h=f*f,n,r,w;5<a&&(a-=6);for(w=0;w<d;w++){for(n=0;n<f;n++){if(0==a){var z=6*h-f*c-f+n;var Qa=2*h-f*c-1-n;var Sa=3*h-f*c-1-n;var Ua=5*h-f*
c-f+n}else 1==a?(z=3*h+c+f*n,Qa=3*h+c-f*(n+1),Sa=h+c-f*(n+1),Ua=5*h+c+f*n):2==a?(z=3*h+c*f+n,Qa=4*h+f-1-c+f*n,Sa=c*f+f-1-n,Ua=2*h-1-c-f*n):3==a?(z=4*h+c*f+f-1-n,Qa=2*h+c*f+n,Sa=h+c*f+n,Ua=5*h+c*f+f-1-n):4==a?(z=6*h-1-c-f*n,Qa=f-1-c+f*n,Sa=2*h+f-1-c+f*n,Ua=4*h-1-c-f*n):5==a&&(z=4*h-f-c*f+n,Qa=2*h-f+c-f*n,Sa=h-1-c*f-n,Ua=4*h+c+f*n);var Ra=b[z];b[z]=b[Qa];b[Qa]=b[Sa];b[Sa]=b[Ua];b[Ua]=Ra}if(0==c)for(n=0;n+n<f;n++)for(r=0;r+r<f-1;r++)z=a*h+n+r*f,Sa=a*h+(f-1-n)+(f-1-r)*f,3>a?(Qa=a*h+(f-1-r)+n*f,Ua=a*h+
r+(f-1-n)*f):(Ua=a*h+(f-1-r)+n*f,Qa=a*h+r+(f-1-n)*f),Ra=b[z],b[z]=b[Qa],b[Qa]=b[Sa],b[Sa]=b[Ua],b[Ua]=Ra}}var b=[],f="#ff0 #fa0 #00f #fff #f00 #0d0".split(" ");return function(h,n){f=kernel.getProp("colcube").match(c);for(var r=0,w=0;6>w;w++)for(var z=0;z<h*h;z++)b[r++]=w;w=kernel.parseScramble(n,"DLBURF");for(r=0;r<w.length;r++){for(z=0;z<w[r][1];z++)a(w[r][0],z,w[r][2],h);if(-1==w[r][1]){for(z=0;z<h-1;z++)a(w[r][0],z,-w[r][2],h);a((w[r][0]+3)%6,0,w[r][2]+4,h)}}w=kernel.getProp("imgSize")/50;d.width(39*
w+"em");d.height(29*w+"em");d.attr("width",39*h/9*30+1);d.attr("height",29*h/9*30+1);for(w=0;6>w;w++){r=w;z=h;var Qa=10/9,Sa=10/9;0==r?(Qa*=z,Sa*=2*z):1==r?(Qa*=0,Sa*=z):2==r?(Qa*=3*z,Sa*=z):3==r?(Qa*=z,Sa*=0):4==r?(Qa*=2*z,Sa*=z):5==r&&(Qa*=z,Sa*=z);for(var Ua=0;Ua<z;Ua++)for(var Ta=1==r||2==r?z-1-Ua:Ua,Va=0;Va<z;Va++)Xa(Ra,f[b[(r*z+(0==r?z-1-Va:Va))*z+Ta]],[[Ua,Ua,Ua+1,Ua+1],[Va,Va+1,Va+1,Va]],[30,Qa,Sa])}}}(),Wa=function(){return function(a,b,f){for(var h=[],n=[[1,0],[0,1],[0,-1],[-1,0]],r=0;r<
b*b;r++)h[r]=r;r=b-1;var w=b-1,z=/([ULRD\uFFEA\uFFE9\uFFEB\uFFEC])([\d]?)/;f=f.split(" ");for(var Qa=0;Qa<f.length;Qa++){var Sa=z.exec(f[Qa]);if(Sa){var Ua="ULRD".indexOf(Sa[1])%4;Sa=~~Sa[2]||1;Ua=n["b"==a?3-Ua:Ua];for(var Va=0;Va<Sa;Va++)mathlib.circle(h,r*b+w,(r+Ua[0])*b+w+Ua[1]),r+=Ua[0],w+=Ua[1]}}a=kernel.getProp("imgSize")/50;d.width(30*a+"em");d.height(30*a+"em");d.attr("width",50*(b+.2));d.attr("height",50*(b+.2));a=kernel.getProp("col15p").match(c);a[b-1]=a[a.length-1];for(r=0;r<b;r++)for(f=
0;f<b;f++)n=h[f*b+r],w=Math.min(~~(n/b),n%b),n++,Xa(Ra,a[w],[[r+.05,r+.05,r+1-.05,r+1-.05],[f+.05,f+1-.05,f+1-.05,f+.05]],[50,.1,.1]),n!=b*b&&(Ra.fillStyle="#000",Ra.font="30px monospace",Ra.textAlign="center",Ra.textBaseline="middle",Ra.fillText(n,50*(r+.5+.1),50*(f+.5+.1)))}}(),Sa="  222 333 444 555 666 777 888 999 101010 111111".split(" "),c=/#[0-9a-fA-F]{3}/g;$(function(){d=$("<canvas>");d[0].getContext&&tools.regTool("image",TOOLS_IMAGE,Ta)});return{draw:n}});var cross=function(n,Ta,d,Ra,a,h,b){function r(a,b){var c=cb[b][~~(a/24)];return 24*~~(c/384)+mb[a%24][(c>>4)%24]}function Xa(a,b){var c=cb[b][a>>4];return~~(c/384)<<4|nb[a&15][(c>>4)%24]^c&15}function Qa(a,b){for(var c=3;0<=c;c--)b[c]=a&1,a>>=1}function w(a){for(var b=0,c=0;4>c;c++)b<<=1,b|=a[c];return b}function Va(a,b){var c=cb[b][~~(a/384)];return 384*~~(c/384)+16*mb[(a>>4)%24][(c>>4)%24]+(nb[a&15][(c>>4)%24]^c&15)}function Za(){Za=$.noop;for(var b=0;24>b;b++)mb[b]=[];for(b=0;16>b;b++)nb[b]=[];
var c=[],z=[],Sa=[];for(b=0;24>b;b++)for(var Ua=0;24>Ua;Ua++){Ra(c,b,4);Ra(z,Ua,4);for(var Va=0;4>Va;Va++)Sa[Va]=c[z[Va]];mb[b][Ua]=a(Sa,4);if(16>b){Qa(b,c);for(Va=0;4>Va;Va++)Sa[Va]=c[z[Va]];nb[b][Ua]=w(Sa)}}n(cb,495,function(b,c){for(var d=[0,0,0,0,0,0,0,0,0,0,0,0],f=4,n=0;12>n;n++)b>=h[11-n][f]?(b-=h[11-n][f--],d[n]=f<<1):d[n]=-1;Ta(d,c);b=0;f=4;var r=0,w=[];for(n=0;12>n;n++)0<=d[n]&&(b+=h[11-n][f--],w[f]=d[n]>>1,r|=(d[n]&1)<<3-f);return 24*b+a(w,4)<<4|r});$a=[];f=[];d($a,0,11880,5,r);d(f,0,7920,
6,Xa)}function Ya(){function a(a,b){var c=~~(a/3);return 3*[[3,1,2,7,0,5,6,4],[0,1,6,2,4,5,7,3],[1,2,3,0,4,5,6,7],[0,5,1,3,4,6,2,7],[4,0,2,3,5,1,6,7],[0,1,2,3,7,4,5,6]][b][c]+(a%3+[[2,0,0,1,1,0,0,2],[0,0,1,2,0,0,2,1],[0,0,0,0,0,0,0,0],[0,1,2,0,0,2,1,0],[1,2,0,0,2,1,0,0],[0,0,0,0,0,0,0,0]][b][c])%3}Ya=$.noop;Za();for(var b=0;24>b;b++){ib[b]=[];jb[b]=[];for(var c=0;6>c;c++){ib[b][c]=a(b,c);var f=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];f[b>>1]=b&1;Ta(f,c);for(var h=0;12>h;h++)if(0<=f[h]){jb[b][c]=h<<1|
f[h];break}}}eb=[];for(b=0;4>b;b++)c=[],d(c,72*(b+4)+2*(b+4),576,5,function(a,b){return 24*ib[~~(a/24)][b]+jb[a%24][b]}),eb[b]=c}function Ua(a,c,d,h,n,w,z,Qa){if(0==w)return 0==a&&0==c&&d==2*(n+4)&&h==3*(n+4);if(b($a,a)>w||b(f,c)>w||b(eb[n],24*h+d)>w)return!1;var Sa,Ra;for(Ra=0;6>Ra;Ra++)if(Ra!=z&&Ra!=z-3){var Va=a;var Ta=c;var Wa=d;var Ya=h;for(Sa=0;3>Sa;Sa++)if(Va=r(Va,Ra),Ta=Xa(Ta,Ra),Wa=jb[Wa][Ra],Ya=ib[Ya][Ra],Ua(Va,Ta,Wa,Ya,n,w-1,Ra,Qa))return Qa.push("FRUBLD".charAt(Ra)+" 2'".charAt(Sa)),!0}return!1}
function Wa(a,c,d,h,n){if(0==d)return 0==a&&0==c;if(b($a,a)>d||b(f,c)>d)return!1;var w,z;for(z=0;6>z;z++)if(z!=h&&z!=h-3){var Qa=a;var Sa=c;for(w=0;3>w;w++)if(Qa=r(Qa,z),Sa=Xa(Sa,z),Wa(Qa,Sa,d-1,z,n))return n.push("FRUBLD".charAt(z)+" 2'".charAt(w)),!0}return!1}function Sa(a){Za();for(var b=[],c=0;6>c;c++){for(var d=0,f=0,h=0;h<a.length;h++)for(var n=kb[c].indexOf("FRUBLD".charAt(a[h][0])),w=a[h][2],z=0;z<w;z++)d=Xa(d,n),f=r(f,n);h=[];for(n=0;100>n&&!Wa(f,d,n,-1,h);n++);h.reverse();b.push(h)}return b}
function c(a,b){Ya();for(var c=0,d=0,f=[8,10,12,14],h=[12,15,18,21],n=0;n<a.length;n++)for(var w=kb[b].indexOf("FRUBLD".charAt(a[n][0])),z=a[n][2],Qa=0;Qa<z;Qa++){c=Xa(c,w);d=r(d,w);for(var Sa=0;4>Sa;Sa++)f[Sa]=jb[f[Sa]][w],h[Sa]=ib[h[Sa]][w]}n=[];w=!1;for(z=0;!w;){for(Sa=0;4>Sa;Sa++)if(Ua(d,c,f[Sa],h[Sa],Sa,z,-1,n)){w=!0;break}z++}n.reverse();return n}function z(){z=$.noop;Za();lb=[];d(lb,0,190080,7,Va,6,3,6)}var $a,f,eb,lb,cb=[],mb=[],nb=[],jb=[],ib=[],bb="DULRFB".split(""),kb="FRUBLD FLDBRU FDRBUL FULBDR URBDLF DRFULB".split(" "),
sb="&nbsp;&nbsp; z2 z' z&nbsp; x' x&nbsp;".split(" "),qb;execMain(function(){function a(){var b=$(this).parent(),d="DULRFB".indexOf(b.html()[0]);c(qb,d);var f=$(this).html();if("ec"==f){var h=c(qb,d);f="<<"}else h=Sa(qb)[d],f="ec";f=$("<span />").html(f).addClass("click").click(a);b.empty().append(bb[d]+"(",f,"): "+sb[d],tools.getSolutionSpan(h),"<br>")}function b(b){if(b)if(tools.isPuzzle("333")){var c=tools.getCurScramble()[1];b.empty();qb=kernel.parseScramble(c,"FRUBLD");c=Sa(qb);for(var d=0;6>
d;d++){var f=$('<span class="sol"/>'),h=$("<span />").html("ec").addClass("click").click(a);f.append(bb[d]+"(",h,"): "+sb[d],tools.getSolutionSpan(c[d]),"<br>");b.append(f)}}else b.html(IMAGE_UNAVAILABLE)}$(function(){tools.regTool("cross",TOOLS_SOLVERS+">"+TOOLS_CROSS,b)})});return{solve:Sa,getEasyCross:function(a){z();8<a&&(a=8);var c=mathlib.rn([1,16,174,1568,11377,57758,155012,189978,190080][a])+1,d;for(d=0;190080>d&&!(b(lb,d)<=a&&0==--c);d++);a=~~(d/384);var f=(d>>4)%24;c=[];var n=[],r=[],w=
[];Qa(d&15,w);Ra(r,f,4);f=4;var Sa=[7,6,5,4,10,9,8,11,3,2,1,0];for(d=0;12>d;d++)a>=h[11-d][f]?(a-=h[11-d][f--],c[Sa[d]]=r[f],n[Sa[d]]=w[f]):c[Sa[d]]=n[Sa[d]]=-1;return[c,n]}}}(mathlib.createMove,mathlib.edgeMove,mathlib.createPrun,mathlib.setNPerm,mathlib.getNPerm,mathlib.Cnk,mathlib.getPruning);execMain(function(n,Ta,d,Ra){function a(a,b){var d=[0,0,0,0,0,0,0,0,0,0,0,0],c=a%12,h=~~(a/12);h>=c&&h++;d[c]=2;d[h]=4;Ta(d,b);for(var n=0;12>n;n++)1==d[n]>>1?c=n:2==d[n]>>1&&(h=n);h>c&&h--;return 12*h+c}function h(){h=$.noop;n(Xa,2048,[Ta,"o",12,-2]);n(Qa,132,a)}function b(a,b){h();var d=kernel.parseScramble(a,"FRUBLD");b.empty();for(var c=0;12>c;c++){for(var n=0,r=116,f=0;f<d.length;f++)for(var Ua=Za[c].indexOf("FRUBLD".charAt(d[f][0])),Ra=d[f][2],Ta=0;Ta<Ra;Ta++)n=Xa[Ua][n],r=Qa[Ua][r];n=w.search([n,
r],0);for(f=0;f<n.length;f++)n[f]="FRUBLD".charAt(n[f][0])+" 2'".charAt(n[f][1]);b.append($('<span class="sol">').append(Va[c]+": "+Ya[c],tools.getSolutionSpan(n)),"<br>")}}function r(a){if(a)if(tools.isPuzzle("333")){var d=tools.getCurScramble();b(d[1],a)}else a.html(IMAGE_UNAVAILABLE)}var Xa=[],Qa=[],w=new mathlib.Solver(6,3,[[0,[Ta,"o",12,-2],2048],[116,a,132]]),Va="D(LR) D(FB) U(LR) U(FB) L(UD) L(FB) R(UD) R(FB) F(LR) F(UD) B(LR) B(UD)".split(" "),Za="FRUBLD RBULFD FLDBRU LBDRFU FDRBUL DBRUFL FULBDR UBLDFR URBDLF RDBLUF DRFULB RUFLDB".split(" "),
Ya="&nbsp;&nbsp;&nbsp; &nbsp;y&nbsp; z2&nbsp; z2y z'&nbsp; z'y &nbsp;z&nbsp; z&nbsp;y x'&nbsp; x'y &nbsp;x&nbsp; x&nbsp;y".split(" ");$(function(){tools.regTool("eoline",TOOLS_SOLVERS+">"+TOOLS_EOLINE,r)});return{solve:b}},[mathlib.createMove,mathlib.edgeMove,mathlib.createPrun,mathlib.getPruning]);execMain(function(n){function Ta(a,d){h.ca=[0,0,0,0,0,0,0,0];for(var r=1;3>r;r++){var w=a%24;a=~~(a/24);h.ca[w&7]=r|w&24}n.CornMult(h,n.moveCube[3*d],b);w=[];for(r=0;8>r;r++)w[b.ca[r]&7]=r|b.ca[r]&24;a=0;for(r=2;0<r;r--)a=24*a+w[r];return a}function d(a,d){h.ea=[0,0,0,0,0,0,0,0,0,0,0,0];for(var r=1;4>r;r++){var w=a%24;a=~~(a/24);h.ea[w>>1]=r<<1|w&1}n.EdgeMult(h,n.moveCube[3*d],b);w=[];for(r=0;12>r;r++)w[b.ea[r]>>1]=r<<1|b.ea[r]&1;a=0;for(r=3;0<r;r--)a=24*a+w[r];return a}function Ra(a,b){b.empty();
for(var h=0;4>h;h++){a:{var n=a,Ra=Qa[h];var Sa=[126];for(var c=[11964],z=1;4>z;z++)Sa[z]=Ta(Sa[z-1],4),c[z]=d(c[z-1],4);var Va=[];Ra=Ra.split("");for(var f=0;4>f;f++){Va[f]=Ra.join("");var Za=kernel.parseScramble(n,Va[f]);for(z=0;z<Za.length;z++)for(var lb=Za[z][0],cb=0;cb<Za[z][2];cb++)Sa[f]=Ta(Sa[f],lb),c[f]=d(c[f],lb);mathlib.circle(Ra,0,2,3,5)}for(Ra=1;12>Ra;Ra++)for(f=0;4>f;f++)if(n=r.search([Sa[f],c[f]],1==Ra?0:Ra,Ra)){n.push(f);Sa=n;break a}Sa=void 0}c=Sa.pop();0==h%2&&(c=(c+2)%4);for(f=0;f<
Sa.length;f++)Sa[f]="URFDLB".charAt(Sa[f][0])+" 2'".charAt(Sa[f][1]);b.append($('<span class="sol">').append(Xa[h]+": "+w[h]+["&nbsp;&nbsp;&nbsp;","x'&nbsp;","x2&nbsp;","x&nbsp;&nbsp;"][c],tools.getSolutionSpan(Sa)),"<br>")}}function a(a){if(a)if(tools.isPuzzle("333")){var b=tools.getCurScramble();Ra(b[1],a)}else a.html(IMAGE_UNAVAILABLE)}var h=new n,b=new n,r=new mathlib.Solver(6,3,[[126,Ta,576],[11964,d,13824]]),Xa=["LU","LD","FU","FD"],Qa=["DRBULF","URFDLB","DBLUFR","UBRDFL"],w=["&nbsp;&nbsp;",
"&nbsp;&nbsp;","y&nbsp;","y&nbsp;"];$(function(){tools.regTool("roux1",TOOLS_SOLVERS+">"+TOOLS_ROUX1,a)});return{solve:Ra}},[mathlib.CubieCube]);var gsolver=function(){function n(b,h){for(var n=0;n<d.length;n++)h=b(h,d[n]);for(n=0;n<a.length;n++)h=b(h,a[n]);return h}function Ta(a,b){var d={};b=b||" 2'";for(var h in a)for(var n=0;n<b.length;n++)d[h+b[n]]=a[h];return d}var d,Ra,a,h=function(){function a(a,b){for(var c=a.split(""),d=h["URF".indexOf(b[0])],n="? 2'".indexOf(b[1]),f=0;f<d.length;f++)mathlib.acycle(c,d[f],n);return c.join("")}var b="URFDLB".split(""),h=[[[0,1,3,2],[4,8,16,20],[5,9,17,21]],[[4,5,7,6],[1,22,13,9],[3,20,15,11]],[[8,
9,11,10],[2,4,13,19],[3,6,12,17]]],n=new mathlib.gSolver("XXXX???????????????????? ????XXXX???????????????? ????????XXXX???????????? ????????????XXXX???????? ????????????????XXXX???? ????????????????????XXXX".split(" "),a,Ta({U:1,R:2,F:3}));return function(h,r){d=kernel.parseScramble(h,"URF");for(var c="UUUURRRRFFFFDDDDLLLLBBBB",w=0;w<d.length;w++){var Qa=d[w];c=a(c,"URF".charAt(Qa[0])+" 2'".charAt(Qa[2]-1))}for(Qa=0;6>Qa;Qa++){var f=[];for(w=0;24>w;w++)f.push(c[w]=="URFDLB".charAt(Qa)?"X":"?");w=
n.search(f.join(""),0);r.append(b[Qa]+": ",tools.getSolutionSpan(w),"<br>")}}}(),b=function(){function h(a,b){for(var c=a.split(""),d=Wa["URFDLBurfdlbMESxyz".indexOf(b[0])],f="? 2'".indexOf(b[1]),h=0;h<d.length;h++)mathlib.acycle(c,d[h],f);return c.join("")}function r(a,b,c){c+=" // orientation \n";for(var d=0;d<b.length&&void 0!=b[d];d++)c+=b[d].join(" ").replace(/\s+/g," ")+" // "+a[d].head+(0==b[d].length?" skip":"")+"\n";return"https://alg.cubing.net/?alg="+encodeURIComponent(c)}function w(b,
c){var d=+new Date,f=[null,0],w=[];a=[];for(var z=0;z<b.length;z++){if(!b[z].solv){b[z].solv={};for(var Qa in b[z].step)b[z].solv[Qa]=new mathlib.gSolver([Qa],h,b[z].move)}var Sa=void 0,Ua=h,Ta=b[z].solv,Va=b[z].step,Wa=b[z].fmov||[];f=f[1];var Ya=b[z].maxl||10,Xa=0;a:for(;Xa<Ya+1;Xa++)for(var Za in Ta)if((Va[Za]|f)==Va[Za]){var $a=n(Ua,Za);Sa=Ta[Za].search($a,0,Xa);if(void 0!=Sa){f|=Va[Za];break a}for(var bb=0;bb<Wa.length;bb++)if(Sa=Ua($a,Wa[bb]),Sa=Ta[Za].search(Sa,0,Xa),void 0!=Sa){Sa.unshift(Wa[bb]);
f|=Va[Za];break a}}f=[Sa,f];w[z]=f[0];if(void 0==f[0]){c.append(b[z].head+": &nbsp;(no solution found in %d moves)".replace("%d",b[z].maxl||10),"<br>");break}c.append(b[z].head+": ",0==w[z].length?"&nbsp;(skip)":tools.getSolutionSpan(w[z]),"<br>");a=a.concat(w[z]);DEBUG&&console.log("[step solver]",b[z].head+": ",w[z],"->",f[1],n(h,mathlib.SOLVED_FACELET),+new Date-d)}c.append($('<a class="click" target="_blank">alg.cubing.net</a>').attr("href",r(b,w,kb)+"&setup="+encodeURIComponent(Ra)))}function Qa(){kb=
jb.val();b.exec(ib,Ra,bb.empty())}var Wa=[[[0,2,8,6],[1,5,7,3],[18,36,45,9],[19,37,46,10],[20,38,47,11]],[[9,11,17,15],[10,14,16,12],[2,51,29,20],[5,48,32,23],[8,45,35,26]],[[18,20,26,24],[19,23,25,21],[6,9,29,44],[7,12,28,41],[8,15,27,38]],[[27,29,35,33],[28,32,34,30],[24,15,51,42],[25,16,52,43],[26,17,53,44]],[[36,38,44,42],[37,41,43,39],[0,18,27,53],[3,21,30,50],[6,24,33,47]],[[45,47,53,51],[46,50,52,48],[2,36,33,17],[1,39,34,14],[0,42,35,11]],[[0,2,8,6],[1,5,7,3],[18,36,45,9],[19,37,46,10],[20,
38,47,11],[21,39,48,12],[22,40,49,13],[23,41,50,14]],[[9,11,17,15],[10,14,16,12],[2,51,29,20],[5,48,32,23],[8,45,35,26],[1,52,28,19],[4,49,31,22],[7,46,34,25]],[[18,20,26,24],[19,23,25,21],[6,9,29,44],[7,12,28,41],[8,15,27,38],[3,10,32,43],[4,13,31,40],[5,16,30,37]],[[27,29,35,33],[28,32,34,30],[24,15,51,42],[25,16,52,43],[26,17,53,44],[21,12,48,39],[22,13,49,40],[23,14,50,41]],[[36,38,44,42],[37,41,43,39],[0,18,27,53],[3,21,30,50],[6,24,33,47],[1,19,28,52],[4,22,31,49],[7,25,34,46]],[[45,47,53,51],
[46,50,52,48],[2,36,33,17],[1,39,34,14],[0,42,35,11],[5,37,30,16],[4,40,31,13],[3,43,32,10]],[[1,19,28,52],[4,22,31,49],[7,25,34,46]],[[21,12,48,39],[22,13,49,40],[23,14,50,41]],[[3,10,32,43],[4,13,31,40],[5,16,30,37]],[[9,11,17,15],[10,14,16,12],[2,51,29,20],[5,48,32,23],[8,45,35,26],[36,42,44,38],[37,39,43,41],[0,53,27,18],[3,50,30,21],[6,47,33,24],[1,52,28,19],[4,49,31,22],[7,46,34,25]],[[0,2,8,6],[1,5,7,3],[18,36,45,9],[19,37,46,10],[20,38,47,11],[27,33,35,29],[28,30,34,32],[24,42,51,15],[25,
43,52,16],[26,44,53,17],[21,39,48,12],[22,40,49,13],[23,41,50,14]],[[18,20,26,24],[19,23,25,21],[6,9,29,44],[7,12,28,41],[8,15,27,38],[45,51,53,47],[46,48,52,50],[2,17,33,36],[1,14,34,39],[0,11,35,42],[3,10,32,43],[4,13,31,40],[5,16,30,37]]],Sa=Ta({U:0,R:17,F:34,D:48,L:65,B:82}),c=Ta({U:0,R:17,F:34,L:65,B:82}),z=Ta({U:0,R:17,M:97,r:113}),Xa=Ta({U:0,R:17,L:65}),f=[{move:Sa,maxl:8,head:"Cross",step:{"----U--------R--R-----F--F--D-DDD-D-----L--L-----B--B-":0}},{move:c,head:"F2L-1",step:{"----U-------RR-RR-----FF-FF-DDDDD-D-----L--L-----B--B-":1,
"----U--------R--R----FF-FF-DD-DDD-D-----LL-LL----B--B-":2,"----U--------RR-RR----F--F--D-DDD-DD----L--L----BB-BB-":4,"----U--------R--R-----F--F--D-DDDDD----LL-LL-----BB-BB":8}},{move:c,head:"F2L-2",step:{"----U-------RR-RR----FFFFFFDDDDDD-D-----LL-LL----B--B-":3,"----U-------RRRRRR----FF-FF-DDDDD-DD----L--L----BB-BB-":5,"----U--------RR-RR---FF-FF-DD-DDD-DD----LL-LL---BB-BB-":6,"----U-------RR-RR-----FF-FF-DDDDDDD----LL-LL-----BB-BB":9,"----U--------R--R----FF-FF-DD-DDDDD----LLLLLL----BB-BB":10,
"----U--------RR-RR----F--F--D-DDDDDD---LL-LL----BBBBBB":12}},{move:c,head:"F2L-3",step:{"----U-------RRRRRR---FFFFFFDDDDDD-DD----LL-LL---BB-BB-":7,"----U-------RR-RR----FFFFFFDDDDDDDD----LLLLLL----BB-BB":11,"----U-------RRRRRR----FF-FF-DDDDDDDD---LL-LL----BBBBBB":13,"----U--------RR-RR---FF-FF-DD-DDDDDD---LLLLLL---BBBBBB":14}},{move:c,head:"F2L-4",step:{"----U-------RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB":15}}],eb=[{move:Sa,maxl:10,fmov:["x ","x2","x'"],head:"Step 1",step:{"---------------------F--F--D--D--D-----LLLLLL-----B--B":0}},
{move:z,maxl:16,head:"Step 2",step:{"------------RRRRRR---F-FF-FD-DD-DD-D---LLLLLL---B-BB-B":1}}],lb=[{move:Sa,maxl:8,head:"2x2x2",step:{"---------------------FF-FF-DD-DD--------LL-LL---------":1,"------------------------------DD-DD----LL-LL-----BB-BB":2}},{move:Sa,maxl:10,head:"2x2x3",step:{"---------------------FF-FF-DD-DD-DD----LLLLLL----BB-BB":3}}],cb=[{move:Sa,maxl:10,head:"EOLine",step:{"-H-HUH-H-----R-------HFH-F--D-HDH-D-----L-------HBH-B-":0}},{move:Xa,maxl:16,head:"ZZF2L1",step:{"-H-HUH-H----RRRRRR---HFF-FF-DDHDD-DD----L-------BBHBB-":1,
"-H-HUH-H-----R-------FFHFF-DD-DDHDD----LLLLLL---HBB-BB":2}},{move:Xa,maxl:16,head:"ZZF2L2",step:{"-H-HUH-H----RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB":3}}],mb=[{move:Sa,maxl:7,head:"EO",step:{"-H-HUH-H-----R-------HFH----H-HDH-H-----L-------HBH---":0}},{move:Sa,maxl:10,head:"DR",step:{"UUUUUUUUU---RRR------FFF---UUUUUUUUU---RRR------FFF---":1}}],nb,jb,ib,bb,kb="z2";execMain(function(){for(var a="z2;;z ;z';x ;x'".split(";"),b=0;6>b;b++)for(var c=0;3>c;c++)a.push(a[b]+" y"+" 2'".charAt(c));jb=$("<select>");
for(b=0;b<a.length;b++)jb.append($("<option>").val(a[b]).html(a[b]))});return{exec:function(b,c,r){if("222"==b){d=kernel.parseScramble(c,"URFDLB");for(b=0;b<d.length;b++)d[b]="URFDLB".charAt(d[b][0])+" 2'".charAt(d[b][2]-1);c="URF UFL ULB UBR DFR DLF DBL DRB".split(" ");var z="----UU-UURR-RR-----FF-FF------------------------------ ---UU-UU----------FF-FF--------------LL-LL------------ UU-UU-------------------------------LL-LL-----BB-BB--- -UU-UU----RR-RR------------------------------BB-BB---- ------------RR-RR-----FF-FF-DD-DD--------------------- ---------------------FF-FF-DD-DD--------LL-LL--------- ------------------------------DD-DD----LL-LL-----BB-BB -------------RR-RR-------------DD-DD------------BB-BB-".split(" ");
nb=nb||new mathlib.gSolver(z,h,Sa);for(b=0;8>b;b++){r.append(c[b]+": ");a=[];var Ra=nb.search(n(h,z[b]),0);Ra?r.append(tools.getSolutionSpan(Ra),"<br>"):r.append("no solution found<br>")}}else{bb=r;ib=b;z=kb.split(" ");Ra=[0,1,2,3,4,5];for(var Ua=[[5,1,0,2,4,3],[0,2,4,3,5,1],[1,3,2,4,0,5]],Ta=0;Ta<z.length;Ta++)if(z[Ta][0])for(var Va="xyz".indexOf(z[Ta][0]),Wa="? 2'".indexOf(z[Ta][1]||" "),Ya=0;Ya<Wa;Ya++)for(var Xa=0;6>Xa;Xa++)Ra[Xa]=Ua[Va][Ra[Xa]];for(Xa=0;6>Xa;Xa++)Ra[Xa]="URFDLB".charAt(Ra[Xa]);
z=Ra.join("");d=kernel.parseScramble(c,"URFDLB");for(c=0;c<d.length;c++)d[c]=z.charAt(d[c][0])+" 2'".charAt(d[c][2]-1);r.append("Orientation:",jb.unbind("change").change(Qa),"<br>");"cf"==b&&w(f,r);"roux"==b&&w(eb,r);"petrus"==b&&w(lb,r);"zz"==b&&w(cb,r);"eodr"==b&&w(mb,r)}},move:h}}(),r=function(){function b(a,b){if(!a)return null;b=~~b;a=a.split("|");if(0==b){var c=a[0].slice(6);a[0]=a[0].slice(0,6)+a[1].slice(6);a[1]=a[1].slice(0,6)+c}else if(c=0<b?0:1,b=Math.abs(b),a[c]=a[c].slice(b)+a[c].slice(0,
b),/[a-h]/.exec(a[c][0]+a[c][6]))return null;return a.join("|")}function h(a){for(var b=0,c=0,d=[],h=0;h<a.length;h++)0==a[h]?(0==b&&0==c?d.push("/"):d.push((b+5)%12-5+","+((c+5)%12-5)+"/"),b=c=0):0<a[h]?b+=~~a[h]:c-=~~a[h];return d}for(var r={0:33},w=1;12>w;w++)r[""+w]=0,r[""+-w]=16;var Qa,Sa;return function(c,w){Qa=Qa||new mathlib.gSolver(["0Aa0Aa0Aa0Aa|Aa0Aa0Aa0Aa0","0Aa0Aa0Aa0Aa|0Aa0Aa0Aa0Aa","Aa0Aa0Aa0Aa0|Aa0Aa0Aa0Aa0","Aa0Aa0Aa0Aa0|0Aa0Aa0Aa0Aa"],b,r);Sa=Sa||new mathlib.gSolver(["0Aa0Aa0Aa0Aa|Bb1Bb1Bb1Bb1",
"0Aa0Aa0Aa0Aa|1Bb1Bb1Bb1Bb","Aa0Aa0Aa0Aa0|Bb1Bb1Bb1Bb1","Aa0Aa0Aa0Aa0|1Bb1Bb1Bb1Bb"],b,r);d=[];for(var z=/^\s*\(\s*(-?\d+),\s*(-?\d+)\s*\)\s*$/,f=c.split("/"),Ra=0;Ra<f.length;Ra++){if(!/^\s*$/.exec(f[Ra])){var Ua=z.exec(f[Ra]);~~Ua[1]&&d.push((~~Ua[1]+12)%12);~~Ua[2]&&d.push(-(~~Ua[2]+12)%12)}d.push(0)}0<d.length&&d.pop();a=[];z=Qa.search(n(b,"0Aa0Aa0Aa0Aa|Aa0Aa0Aa0Aa0"),0);w.append("Shape: ",tools.getSolutionSpan(h(z)),"<br>");a=a.concat(z);z=Sa.search(n(b,"0Aa0Aa0Aa0Aa|Bb1Bb1Bb1Bb1"),0);w.append("Color: ",
tools.getSolutionSpan(h(z)),"<br>")}}(),Xa=function(){function b(a,b){for(var d=a.split(""),c=h["RULBrbxy".indexOf(b[0])],n="? '*".indexOf(b[1]),r=0;r<c.length;r++)mathlib.acycle(d,c[r],n);return d.join("")}var h=[[[5,25,15],[9,28,17],[7,29,16],[8,26,19],[23,14,4]],[[0,20,25],[2,21,27],[4,22,29],[1,23,26],[19,7,11]],[[10,15,20],[13,18,24],[11,16,23],[14,19,22],[29,1,8]],[[25,20,15],[29,23,19],[28,21,18],[27,24,17],[13,9,2]],[[0,25,5],[4,26,7],[3,27,9],[2,28,6],[17,12,21]],[[0,20,25],[2,21,27],[4,
22,29],[1,23,26],[19,7,11]],[[0,25,15,10],[1,27,19,13],[2,29,18,11],[3,26,17,14],[4,28,16,12],[6,7,9,8],[21,23,24,22]],[[5,10,20,25],[6,11,21,26],[7,12,22,27],[8,13,23,28],[9,14,24,29],[1,2,4,3],[16,18,19,17]],[]],r;return function(h,w){r=r||new mathlib.gSolver(["?L?L??B?B?UUUUU?R?R???F?F?????","?F?F??L?L?UUUUU?B?B???R?R?????","?R?R??F?F?UUUUU?L?L???B?B?????","?B?B??R?R?UUUUU?F?F???L?L?????"],b,Ta({R:0,r:1,B:2,b:3}," '"));d=kernel.parseScramble(h,"RULB");for(var Qa=0;Qa<d.length;Qa++)d[Qa]="RULB".charAt(d[Qa][0])+
" 2'".charAt(d[Qa][2]-1);var c="URFDLB".split(""),z="UUUUU?RR???FF????????LL???BB?? ???BBUUUUU??L?L?FF????????R?R? ?B?B??R?R?UUUUU?F?F???L?L????? ????????RR???BBUUUUU???LL???FF ?BB????????R?R????FFUUUUU??L?L ??F?F??R?R???????B?B?L?L?UUUUU".split(" ");for(Qa=0;6>Qa;Qa++){a=[];var Ra=["x*","y ",null,"x ","y*","y'"],f=~~(n(b,"U????R????F????D????L????B????").indexOf(c[Qa])/5);Ra[f]&&a.push(Ra[f]);(Ra=r.search(n(b,z[Qa]),0))?(w.append(c[Qa]+": "),a[0]&&w.append("&nbsp;"+a[0].replace("'","2").replace("*",
"'")),w.append(tools.getSolutionSpan(Ra),"<br>")):w.append(c[Qa]+": no solution found<br>")}}}(),Qa=function(){function b(a,b){for(var d=a.split(""),c=h["RULB".indexOf(b[0])],n="? '".indexOf(b[1]),r=0;r<c.length;r++)mathlib.acycle(d,c[r],n);return d.join("")}var h=[[[5,9,22],[0,7,20],[1,8,18]],[[3,16,11],[1,14,6],[2,12,7]],[[4,23,15],[2,18,13],[0,19,14]],[[10,17,21],[8,12,19],[6,13,20]]],r;return function(h,w){r=r||new mathlib.gSolver(["????FF??RRR??L?L?L?DDDDD"],b,Ta({R:0,U:1,L:2,B:3}," '"));d=kernel.parseScramble(h,
"RULBrulb");h=[];for(var Qa=0;Qa<d.length;Qa++)1==d[Qa][1]&&h.push("RULB".charAt(d[Qa][0])+" 2'".charAt(d[Qa][2]-1));var c=["D","L","R","F"],z=[["RULB","LUBR","BURL"],["URBL","LRUB","BRLU"],["RLBU","ULRB","BLUR"],["RBUL","UBLR","LBRU"]];for(Qa=0;4>Qa;Qa++){a=[];var Ra,f=0;a:for(;99>f;f++)for(var Ua=0;3>Ua;Ua++){var Va=z[Qa][Ua];d=[];for(var Wa=0;Wa<h.length;Wa++)d.push("RULB"[Va.indexOf(h[Wa][0])]+h[Wa][1]);if(Ra=r.search(n(b,"????FF??RRR??L?L?L?DDDDD"),f,f)){for(Wa=0;Wa<Ra.length;Wa++)Ra[Wa]=Va["RULB".indexOf(Ra[Wa][0])]+
Ra[Wa][1];break a}}Ra?w.append(c[Qa]+": ",tools.getSolutionSpan(Ra),"<br>"):w.append(c[Qa]+": no solution found<br>")}}}();(function(){function b(a,b){var c=a.indexOf("-"),d=c>>2;c&=3;var f=a.split(""),h=~~b[1],n=[d<<2|c];if("V"==b[0]){if("$"==f[d<<2|h])return null;for(var r=c>h?-1:1;c!=h;)c+=r,n.push(d<<2|c)}else{if("$"==f[h<<2|c])return null;for(r=d>h?-1:1;d!=h;)d+=r,n.push(d<<2|c)}n.reverse();mathlib.acycle(f,n);return f.join("")}function d(a){var b=[];a=a.split("");for(var c=0;c<a.length;c++)"?"==
a[c]&&(a[c]="-",b.push(a.join("")),a[c]="?");return b}function h(c,d){for(var f=[],h=0;h<d.length;h++)f[h]=c[d[h]];c=f.join("");for(h=0;h<a.length;h++)c=b(c,a[h]);return c}function n(a){do{var b=mathlib.rndPerm(a*a);var c=(a-1-~~(b.indexOf(b.length-1)/a))*(a-1);for(var d=0;d<b.length;d++)for(var f=d+1;f<b.length;f++)b[d]>b[f]&&b[d]!=b.length-1&&c++}while(0!=c%2);return b}function r(b,d){var f=+new Date,r=[],w=0;if(4==b){r[0]=n(4);for(var Sa=r[0],Ra=[],Ua=[0,4,8,12,1,5,9,13,2,6,10,14,3,7,11,15],Ta=
0;16>Ta;Ta++)Ra[Ta]=Ua[Sa[Ua[Ta]]];r[1]=Ra;Sa=0;a:for(;99>Sa;Sa++)for(w=0;2>w;w++)if(Ra=r[w].indexOf(r.length-1),a=["V"+(Ra&3),"H"+(Ra>>2)],Ra=c.search(h("0123???????????-",r[w]),Sa,Sa)){a=a.concat(Ra);break a}Sa=z.search(h("01234???8???c??-",r[w]).replace(/[0123]/g,"$"),0);a=a.concat(Sa)}else if(3==b){Sa=n(3);Ra=[5,6,7,9,10,11,13,14,15];for(Ua=0;16>Ua;Ua++)r[Ua]=Ra[Sa[Ra.indexOf(Ua)]]||Ua;Ra=r.indexOf(r.length-1);a=["V"+(Ra&3),"H"+(Ra>>2)];r=[r]}Sa=Qa.search(h("0123456789abcde-",r[w]).replace(/[012348c]/g,
"$"),0);a=a.concat(Sa);DEBUG&&console.log("[15p solver]",w,h("0123456789abcde-",r[w]),a.join(""),a.length,+new Date-f);a.reverse();Ra=d.slice(3==b?3:4);f=[];w=0==w?"VH":"HV";r=-1==Ra.indexOf("a")?["DR","UL"]:["",""];Sa=-1!=Ra.indexOf("m");Ra=-1!=Ra.indexOf("p");Ua=[3,3];for(Ta=0;Ta<a.length;Ta++)if(Ta<a.length-1&&a[Ta][0]==a[Ta+1][0]||2<=Ta&&a[Ta-2]==a[Ta])a.splice(Ta,1),Ta=-1;for(Ta=0;Ta<a.length;Ta++){var Va=~~a[Ta][1],Wa=w.indexOf(a[Ta][0]);if(Ua[Wa]!=Va){var Xa=r[Sa!=Ua[Wa]>Va?0:1][Wa],Ya=
Math.abs(Ua[Wa]-Va);if(Ra)f.push(Xa+Ya);else for(;0<Ya--;)f.push(Xa);Ua[Wa]=Va}}return f.join(" ").replace(/1/g,"")}var w=Ta({V:0,H:1},"0123"),c=new mathlib.gSolver(d("0123????????????"),b,w),z=new mathlib.gSolver(d("$$$$4???8???c???"),b,w),Qa=new mathlib.gSolver(["$$$$$567$9ab$de-"],b,w);scrMgr.reg(["15prp","15prap","15prmp"],r.bind(null,4))(["8prp","8prap","8prmp"],r.bind(null,3))})();var w=execMain(function(){function h(a){var b=cb[0].getBoundingClientRect(),c=a.offsetX/30*cb[0].width/b.width;
a=a.offsetY/30*cb[0].height/b.height;for(b=0;6>b;b++)if(c>=3.3*bb[b]&&c<=3.3*bb[b]+3&&a>=3.3*kb[b]&&a<=3.3*kb[b]+3){var d=~~(c-3.3*bb[b]),f=~~(a-3.3*kb[b]);nb=nb.split("");nb[9*b+3*f+d]=ib;nb=nb.join("");r(mb,b,d,f,nb)}c>=bb[6]&&c<=bb[6]+5&&a>=kb[6]&&a<=kb[6]+2&&(d=~~(c-bb[6]),f=~~(a-kb[6]),ib="URFDLB-XYZ".charAt(2*d+f),$.ctxDrawPolygon(mb,jb[ib],sb,[30,1.5,1.5]))}function r(a,b,c,d,f){$.ctxDrawPolygon(a,jb[f[9*b+3*d+c]],[[c,c,c+1,c+1],[d,d+1,d+1,d]],[30,3.3*bb[b],3.3*kb[b]])}function w(a,b){var c=
kernel.getProp("imgSize")/48;cb.width(39*c+"em");cb.height(29*c+"em");cb.attr("width",391);cb.attr("height",87/9*30+1);for(c=0;6>c;c++)for(var d=0;3>d;d++)for(var f=0;3>f;f++)r(a,c,d,f,b);for(d=0;5>d;d++)for(f=0;2>f;f++)$.ctxDrawPolygon(a,jb["URFDLB-XYZ".charAt(2*d+f)],[[d,d,d+1,d+1],[f,f+1,f+1,f]],[30,7.25,.5]);$.ctxDrawPolygon(a,jb[ib],sb,[30,1.5,1.5])}function Qa(a){a=z.val();z.val("");kernel.blur();"input"==a?(a=prompt("U1U2...U9R1..R9F1..D1..L1..B1..B9",nb),null!=a&&(qb.exec(a)?(nb=a,w(mb,nb)):
logohint.push("Invalid Input"))):""!=a&&(nb=a,w(mb,nb))}function Ra(){if(c){var a=pb[1].searchNext(1E3,1E3);var b=eb.length+" sol(s), @"+~~((+new Date-fb)/1E3)+"s|"+pb[1].maxl+"f";a&&eb.push(a.join(" ")+" ("+a.length+"f)");f.html(eb.join("\n")+"\n"+b);f[0].scrollTop=f[0].scrollHeight;setTimeout(Ra,16)}}function Sa(){(c=!c)?Xa.val("Stop Solve!"):Xa.val("Start Solve!");kernel.blur();if(c){pb[0]!=nb&&(pb[0]=nb,pb[1]=new mathlib.gSolver([nb],b.move,Ta({U:0,R:17,F:34,D:48,L:65,B:82})));var a=n(b.move,
nb);pb[1].search(a,0,0);fb=+new Date;eb=[];Ra()}}var c=!1,z=$('<select style="font-size:0.75em;">'),Xa=$('<input type="button" value="Start Solve!" style="font-size:0.75em;">'),f=$('<textarea wrap=off rows="2" cols="30" style="font-size:0.75em;">'),eb=[],lb={"3x3x3":mathlib.SOLVED_FACELET,Empty:"----U--------R--------F--------D--------L--------B----","2x2x2":"----UU-UURR-RR-----FF-FF------------------------------","2x2x3":"---UUUUUURR-RR----FFFFFF-------------LL-LL------------",Cross:"----U--------R--R-----F--F--D-DDD-D-----L--L-----B--B-",
XCross:"----U-------RR-RR-----FF-FF-DDDDD-D-----L--L-----B--B-",EOLine:"-X-XUX-X-----R-------XFX-F--D-XDX-D-----L-------XBX-B-",Roux1:"---------------------F--F--D--D--D-----LLLLLL-----B--B",Domino:"UUUUUUUUU---RRR------FFF---UUUUUUUUU---RRR------FFF---","EO&CO":"XYXYUYXYX----R-------YFY---XYXYDYXYX----L-------YBY---",Corner:"U-U---U-UR-R---R-RF-F---F-FD-D---D-DL-L---L-LB-B---B-B"},cb,mb,nb=mathlib.SOLVED_FACELET,jb={U:"#fff",R:"#f00",F:"#0d0",D:"#ff0",L:"#fa0",B:"#00f","-":"#777",X:"#0ff",Y:"#f0f",
Z:"#000"},ib="-",bb=[1,2,1,1,0,3,7.25],kb=[0,1,1,2,1,1,.5],sb=[[-.7,-.7,.7,.7],[-.7,.7,.7,-.7]],qb=/^[URFDLBXYZ-]{54}$/,pb=["",null],fb=0;$(function(){cb=$("<canvas>");if(cb[0].getContext){mb=cb[0].getContext("2d");z.append($("<option>").val("").html("Edit subset"));for(var a in lb)z.append($("<option>").val(lb[a]).html(a));z.append($("<option>").val("input").html("..."));nb=lb.Cross;w(mb,nb)}});return function(b,n){d=kernel.parseScramble(b,"URFDLB");for(var r=0;r<d.length;r++)d[r]="URFDLB".charAt(d[r][0])+
" 2'".charAt(d[r][2]-1);a=[];n.empty().append(z.unbind("change").change(Qa)," ").append(Xa.unbind("click").click(Sa),"<br>").append(f.empty(),"<br>").append(cb.unbind("mousedown").bind("mousedown",h));c&&Sa()}});execMain(function(){function a(a,d){if(d){d.empty();var n=$('<span class="sol"/>'),Ta=tools.getCurScramble();Ra=Ta[1];if("222face"==a&&tools.isPuzzle("222"))h(Ta[1],n);else if("333udf"==a&&tools.isPuzzle("333")&&/^[URFDLB 2']+$/.exec(Ta[1]))w(Ta[1],n);else if(a.startsWith("333")&&tools.isPuzzle("333")&&
/^[URFDLB 2']+$/.exec(Ta[1]))b.exec(a.slice(3),Ta[1],n);else if("sq1cs"==a&&tools.isPuzzle("sq1"))r(Ta[1],n);else if("skbl1"==a&&tools.isPuzzle("skb"))Xa(Ta[1],n);else if("pyrv"==a&&tools.isPuzzle("pyr"))Qa(Ta[1],n);else{d.html(IMAGE_UNAVAILABLE);return}d.append(n)}}$(function(){tools.regTool("222face",TOOLS_SOLVERS+">"+TOOLS_222FACE,a.bind(null,"222face"));tools.regTool("333cf",TOOLS_SOLVERS+">Cross + F2L",a.bind(null,"333cf"));tools.regTool("333roux",TOOLS_SOLVERS+">Roux S1 + S2",a.bind(null,"333roux"));
tools.regTool("333petrus",TOOLS_SOLVERS+">2x2x2 + 2x2x3",a.bind(null,"333petrus"));tools.regTool("333zz",TOOLS_SOLVERS+">EOLine + ZZF2L",a.bind(null,"333zz"));tools.regTool("333222",TOOLS_SOLVERS+">2x2x2",a.bind(null,"333222"));tools.regTool("333eodr",TOOLS_SOLVERS+">EO + DR",a.bind(null,"333eodr"));tools.regTool("sq1cs",TOOLS_SOLVERS+">SQ1 S1 + S2",a.bind(null,"sq1cs"));tools.regTool("pyrv",TOOLS_SOLVERS+">Pyraminx V",a.bind(null,"pyrv"));tools.regTool("skbl1",TOOLS_SOLVERS+">Skewb Face",a.bind(null,
"skbl1"));tools.regTool("333udf",TOOLS_SOLVERS+">3x3x3 General",a.bind(null,"333udf"))})});return{rubiksCube:b}}();var giikerutil=execMain(function(n){function Ta(a){a&&(w.html(Wa).removeClass("click").unbind("click"),GiikerCube.isConnected()||w.html("Bluetooth: Connect").addClass("click").click(Xa),a.empty().append(w,"<br>").append(Va.unbind("click").click(h),"<br>").append("Raw Data: ",Za,"<br>").append("Last Solve: ",Ya,"<br>").append(Ua),Sa())}function d(){GiikerCube.isConnected()?(GiikerCube.getCube().getBatteryLevel().then(function(a){z=a[0];Wa=a[1]+": Connected | "+(z||"??")+"%";w.html(Wa)}),c=setTimeout(d,
6E4)):c=0}function Ra(){ib&&(clearTimeout(ib),ib=0);kernel.getProp("giiAED")&&(ib=setTimeout(function(){a:{var b=kb;if(1!=b.length%2){var c=[];c[b.length]=new n;for(var d=b.length-1;0<=d;d--)c[d]=new n,n.CubeMult(n.moveCube[b[d]],c[d+1],c[d]);for(d=1;3>d;d++){bb=0;if(a(b,0,d,new n,c)){b=d;break a}if(9999<bb)break}}b=99}99!=b&&(b=lb.toFaceCube(),2>=cubeutil.getProgress(b,"cfop")||(b=scramble_333.genFacelet(lb.toFaceCube()),10>b.length/3?DEBUG&&console.log("[giiker]","Possible error, gen="+b.replace(/ /g,
"")+", ignore"):(DEBUG&&console.log("[giiker]","Almost error, gen="+b.replace(/ /g,"")+", mark solved"),h())))},1E3))}function a(b,c,d,f,h){if(0==d)return f.isEqual((new n).invFrom(h[c]));for(var r=new n;c<b.length-1;c++){if(~~(b[c]/3)%3!=~~(b[c+1]/3)%3){var w=(new n).init(f.ca,f.ea);n.CubeMult(w,n.moveCube[b[c+1]],r);n.CubeMult(r,n.moveCube[b[c]],w);n.CubeMult(w,h[c+2],r);if(9999<++bb)break;if(r.edgeCycles()<d)var z=a(b,c+2,d-1,w,h);if(z)return!0}n.CubeMult(f,n.moveCube[b[c]],r);f.init(r.ca,r.ea)}return!1}
function h(){mb.invFrom(eb);cb=mathlib.SOLVED_FACELET;kernel.setProp("giiSolved",f);kb=[];sb=[];pb=0;Sa();$a(cb,["U "],jb)}function b(a,b,h,Qa){h=h||$.now();Wa=Qa+": Connected | "+(z||"??")+"%";w.html(Wa).removeClass("click").unbind("click");f=a;eb.fromFacelet(f);n.EdgeMult(mb,eb,lb);n.CornMult(mb,eb,lb);cb=lb.toFaceCube();kb.push(3*"URFDLB".indexOf(b[0][0])+" 2'".indexOf(b[0][1]));sb.push(timer.getCurTime(h));a=kb.length;if(20<a){Qa="";for(var Ua=0;Ua<pb;Ua++){var Ta=kb[Ua];Qa+="URFDLB".charAt(~~(Ta/
3))+" 2'".charAt(Ta%3)}var Va="";for(Ua=pb;Ua<kb.length;Ua++)Ta=kb[Ua],Va+="URFDLB".charAt(~~(Ta/3))+" 2'".charAt(Ta%3)+"/*"+sb[Ua]+"*/";r(Za,a+" move(s)",Qa,Va)}cb==mathlib.SOLVED_FACELET&&(kb=[],sb=[],pb=0);Sa();0==c&&d();Ra();$a(cb,b,h)}function r(a,b,c,d){a.attr("href","https://alg.cubing.net/?alg="+d+"&setup="+c);a.html(b)}function Xa(){f=kernel.getProp("giiSolved",mathlib.SOLVED_FACELET);eb.fromFacelet(f);mb.invFrom(eb);GiikerCube.setCallBack(b);return GiikerCube.isConnected()?Promise.resolve():
GiikerCube.init()}function Qa(a,b){var c=b[0];qb=b[1];if("333"!=tools.puzzleType(c))qb="";else{c=kernel.parseScramble(qb,"URFDLB");var d=new n;nb.init(d.ca,d.ea);for(var f=0;f<c.length;f++){var h=3*c[f][0]+c[f][2]-1;0>h||18<=h||(n.EdgeMult(nb,n.moveCube[h],d),n.CornMult(nb,n.moveCube[h],d),h=nb,nb=d,d=h)}}}var w=$("<span></span>"),Va=$("<span>Reset (Mark Solved)</span>").addClass("click"),Za=$('<a target="_blank">0 move(s)</a>').addClass("click"),Ya=$('<a target="_blank"></a>').addClass("click"),
Ua=$("<canvas>"),Wa="Connected | ??%",Sa=function(){var a=[1,2,1,1,0,3],b=[0,1,1,2,1,1],c="#ff0 #fa0 #00f #fff #f00 #0d0".split(" "),d;return function(){if(Ua)if(kernel.getProp("giiVRC"))Ua.hide();else{c=kernel.getProp("colcube").match(/#[0-9a-fA-F]{3}/g);Ua.show();d=Ua[0].getContext("2d");var f=kernel.getProp("imgSize")/50;Ua.width(39*f+"em");Ua.height(29*f+"em");Ua.attr("width",391);Ua.attr("height",87/9*30+1);for(f=0;6>f;f++)for(var h=f,n=cb,r=10/3*a[h],w=10/3*b[h],z=0;3>z;z++)for(var Qa=0;3>Qa;Qa++)$.ctxDrawPolygon(d,
c["DLBURF".indexOf(n[3*(3*h+Qa)+z])],[[z,z,z+1,z+1],[Qa,Qa+1,Qa+1,Qa]],[30,r,w])}}}(),c=0,z=0,$a=$.noop,f=mathlib.SOLVED_FACELET,eb=new n,lb=new n,cb=f,mb=new n,nb=new n,jb=$.now(),ib=0,bb=0,kb=[],sb=[],qb,pb=0;$(function(){kernel.regListener("giiker","scramble",Qa);kernel.regListener("tool","property",Sa,/^(?:giiVRC)$/);tools.regTool("giikerutil",TOOLS_GIIKER,Ta)});return{setCallBack:function(a){$a=a},markSolved:h,checkScramble:function(){return""==qb?!1:nb.isEqual(lb)},markScrambled:function(){pb=
kb.length},init:Xa,setLastSolve:function(a){r(Ya,"Ready",qb,a)}}},[mathlib.CubieCube]);var insertionFinder=execMain(function(){function n(){$.ajax({url:"http://mf.qiyuuu.com/api/if.cube",dataType:"jsonp",data:{scramble:Ra.val(),skeleton:a.val()},success:function(a,b,d){a.validate?(h.val(a.url),Ta(a.url)):h.val("Error. Because of parity or scramble/skeleton overflow. ")}})}function Ta(a){$.ajax({url:a,dataType:"jsonp",success:function(a,b,d){h.val(a.result.replace(/<br \/>/g,"").replace(/^\s+|\s+$/g,""))}})}function d(a){a&&(a.empty().append(r),b.unbind("click").click(n))}var Ra=$('<textarea rows="3" style="width: 100%" />'),
a=$('<textarea rows="3" style="width: 100%" />'),h=$('<textarea rows="5" style="width: 100%" readonly />'),b=$('<input type="button">').val("submit").click(n),r=$("<div />").css("text-align","center");$(function(){r.append("scramble:","<br>",Ra,"<br>","skeleton:","<br>",a,"<br>",b,"<br>",h);tools.regTool("if","InsertionFinder",d)})});var metronome=execMain(function(){function n(a){return 99<a?a:" "+a}function Ta(a){a?(a.empty().append("BPM: ",w,Za,"<br />").append("Vol: ",Va,Ya,"<br />",Qa,"<br />").append("<br />",$("<label>").append(Sa,'<span class="click"> Beep at</span>'),"<br />",Wa),w.unbind().on("input",function(){Za.html(n(w.val()));Ra()}),Va.unbind().on("input",function(){Ya.html(n(Va.val()));Ua.gain.value=Va.val()/100}),Qa.html(c?"Stop!":"Start!"),Qa.unbind().click(function(){c=!c;Qa.html(c?"Stop!":"Start!");Ra()}),
d()):(null!=z&&(clearInterval(z),z=null),c=!1)}function d(){Sa.unbind("change").change(h).prop("checked",kernel.getProp("beepEn"));Wa.unbind("change").change(h).val(kernel.getProp("beepAt"));h()}function Ra(){null!=z&&(clearInterval(z),z=null);if(c){var b=6E4/~~w.val();z=setInterval(a,b)}}function a(a){var b=Xa.createOscillator();b.type="sine";b.frequency.value=a||440;b.connect(Ua);b.start(Xa.currentTime);b.stop(Xa.currentTime+.1)}function h(){Sa.prop("checked")?b(Wa.val()):null!=$a&&(clearInterval($a),
$a=null);kernel.setProp("beepEn",Sa.prop("checked"));kernel.blur()}function b(a){null!=$a&&(clearInterval($a),$a=null);a=a.split(",");for(var b=0;b<a.length;b++)a[b]=~~(1E3*a[b].trim())/1E3;a=a.filter(Number);a.sort(function(a,b){return a-b});f=a;Wa.val(a.join(","));kernel.setProp("beepAt",a.join(","));$a=setInterval(r,100)}function r(){var b=~~timer.getCurTime()/1E3;if(0==b)eb=0;else{for(var c=!1;eb<f.length&&b>f[eb]-.05;)++eb,c=!0;c&&a(550)}}var Xa,Qa=$('<span style="display:inline-block; text-align:center; width:100%;"/>').addClass("click"),
w=$('<input type="range" value="60" min="10" max="360" style="width:7em;" />'),Va=$('<input type="range" value="30" min="0" max="100" style="width:7em;" />'),Za=$("<span />").html(" 60"),Ya=$("<span />").html(" 30"),Ua,Wa=$('<input type="text" style="width:7em;" />'),Sa=$('<input type="checkbox" />'),c=!1,z=null,$a=null,f=[],eb=0;$(function(){kernel.regProp("tools","beepEn",-6,"Beep Enable",[!1]);kernel.regProp("tools","beepAt",-6,"Beep At",["5,10,15,20"]);var a=window.AudioContext||window.webkitAudioContext;
void 0!==a&&(Xa=new a,Ua=Xa.createGain(),Ua.gain.value=.3,Ua.connect(Xa.destination),tools.regTool("mtrnm",TOOLS_METRONOME,Ta));d()});return{playTick:a}});var onlinecomp=execMain(function(){function n(a,b){for(;mb.length>b;)mb.pop().remove();var c=a;if(-1!=nb.indexOf(c))c=null;else{var d=[];c+="|";for(var f=c.length,h=$('<select style="max-width: unset;">'),r=0;r<nb.length;r++)if(nb[r].startsWith(c)){var w=nb[r].slice(f).split("|",1)[0];-1==d.indexOf(w)&&(d.push(w),h.append($("<option>").val(w).html(w)))}c=0==d.length?null:h.change(Ta)}c&&(mb[b]=c,z.append(mb[b]),n(a+"|"+mb[b].val(),b+1))}function Ta(a){a=$(a.target).prevAll("select").length;for(var b=
"",c=0;c<=a;c++)b=b+"|"+mb[c].val();n(b,a+1);Xa();b=="|"+OLCOMP_UPDATELIST+"..."&&d()}function d(){c.val("...");$.post("https://cstimer.net/comp.php",{action:"list"},function(a){nb=[];a=JSON.parse(a).data;for(var b=0;b<a.length;b++){var d=a[b].fullname;jb[d]=a[b].name;for(var f=JSON.parse(a[b].value),h=0;h<f.length;h++)nb.push("|"+d+"|"+f[h])}nb.push("|"+OLCOMP_UPDATELIST+"...");jb[OLCOMP_UPDATELIST+"..."]="update";n("",0);Xa();c.hide()}).error(function(){logohint.push("Network Error");c.val(OLCOMP_UPDATELIST)})}
function Ra(){for(var a="",b=0;b<mb.length;b++)a+="|"+mb[b].val();if(-1==nb.indexOf(a))alert("Invalid Input");else return b=a.slice(1).split("|",1)[0],a=a.slice(b.length+2),b=jb[b],[b,a]}function a(){var a=Ra();$.post("https://cstimer.net/comp.php",{action:"scramble",comp:a[0],path:a[1]},function(a){a=JSON.parse(a);0==a.retcode&&a.data?(sb=a=a.data,qb=$.map(a,function(a){return(a=/^\$T([a-zA-Z0-9]+)\$\s*(.*)$/.exec(a))?scramble.getTypeName(a[1]):"???"}),Xa(!0),kernel.setProp("scrType","remoteComp")):
logohint.push(a.reason||"Server Error")}).error(function(){logohint.push("Network Error")})}function h(){var a=prompt(OLCOMP_SUBMITAS,exportFunc.getDataId("locData","compid"));if(null==a)return!1;if(!exportFunc.isValidId(a))return alert(EXPORT_INVID),!1;localStorage.locData=JSON.stringify({id:exportFunc.getDataId("locData","id"),compid:a});b();return a}function b(){Ua.empty().append("ID: ");Wa.empty();Sa.empty();if(exportFunc.getDataId("wcaData","cstimer_token")){var a=exportFunc.getDataId("wcaData",
"wca_me").wca_id;Wa.append(a||"WCA Account"," (WCA)").click(function(){exportFunc.logoutFromWCA(!0);b()});Ua.append(Wa)}else Wa.append(EXPORT_LOGINWCA),Wa.click(function(){location.href=exportFunc.wcaLoginUrl}),(a=exportFunc.getDataId("locData","compid"))?Sa.append(a+" ("+OLCOMP_ANONYM+")"):Sa.append("N/A ("+OLCOMP_ANONYM+")"),Ua.append(Sa.unbind("click").click(h)," | ",Wa)}function r(a,d){!a||ib?ib=!!a:(a.empty().append($('<div style="font-size: 0.75em; text-align: center;">').append(Ua,c,z).append($a).append(f,
" ",eb," ").append($("<label>").append(cb,OLCOMP_WITHANONYM)," ",lb)),n("",0),b(),Xa(),ib=!0)}function Xa(a,b){bb=[];a||(sb=[],qb=[]);b||(kb=!1);Qa()}function Qa(){f.unbind("click");eb.unbind("click");lb.unbind("click").click(Za);if(2>mb.length)f.attr("disabled",!0).val(OLCOMP_START),eb.attr("disabled",!0);else{$a.empty();if(0==qb.length)mb[0].val().startsWith("*")||mb[0].val().startsWith("+")||kb?kb?f.attr("disabled",!0).val(OLCOMP_SUBMIT):f.attr("disabled",!0).val(OLCOMP_START):f.removeAttr("disabled").val(OLCOMP_START).click(a);
else{for(var b=0;b<qb.length;b++)/^\$T([a-zA-Z0-9]+)\$\s*(.*)$/.exec(qb[b]),$a.append(b+1+". "+(bb[b]?stats.pretty(bb[b][0]):qb[b]),"<br>");bb.length!=qb.length||kb?f.attr("disabled",!0):(f.removeAttr("disabled"),f.val(OLCOMP_SUBMIT).click(w))}eb.removeAttr("disabled").click(Va)}kernel.blur()}function w(){if(!kb){var a=exportFunc.getDataId("wcaData","cstimer_token")||exportFunc.getDataId("locData","compid")||h();if(a){var b=Ra();$.post("https://cstimer.net/comp.php",{action:"submit",comp:b[0],path:b[1],
uid:a,value:JSON.stringify(bb)},function(a){'{"retcode":0}'==a?(kb=!0,logohint.push("Submitted")):logohint.push("Network Error");Qa()}).error(function(){logohint.push("Network Error")})}}}function Va(){if(0==bb.length||kb||confirm(OLCOMP_ABORT)){Xa(!1,!0);var a=Ra(),b=cb.prop("checked")?1:0;$.post("https://cstimer.net/comp.php",{action:"result",comp:a[0],path:a[1],anonym:b},function(a){try{a=JSON.parse(a)}catch(xb){a={}}if(0!==a.retcode)logohint.push("Server Error");else{var b=$.sha256("cstimer_public_salt_"+
exportFunc.getDataId("locData","compid")),c=(exportFunc.getDataId("wcaData","wca_me")||{}).wca_id,d=a.scramble;a=$.map(a.data,function(a){var b=JSON.parse(a.value);if(5==b.length){var c=new TimeStat([5],b.length,function(a){return-1==b[a][0][0]?-1:b[a][0][0]+b[a][0][1]});c.getAllStats();return{uid:a.uid,wca_id:a.wca_id,value:b,ao5:c.lastAvg[0][0],bo5:c.bestTime}}});a.sort(function(a,b){var c=TimeStat.dnfsort(a.ao5,b.ao5);return 0==c?TimeStat.dnfsort(a.bo5,b.bo5):c});for(var f=['<table class="table"><tr><th></th><th>User</th><th>ao5</th><th>bo5</th><th>Results</th></tr>'],
h=0;h<a.length;h++){var n=a[h].uid,r=a[h].value,w=a[h].ao5,z=a[h].bo5,Qa=a[h].wca_id;f.push("<tr><td>"+(h+1)+"</td>");void 0!==Qa?(n=Qa?'<a target="_blank" href="https://www.worldcubeassociation.org/persons/'+Qa+'">'+Qa+"</a>":OLCOMP_WCAACCOUNT,f.push(Qa==c?"<th>"+OLCOMP_ME+":"+n+"</th><td>":"<td>"+n+"</td><td>")):f.push(n==b?"<th>"+OLCOMP_ME+"</th><td>":"<td>"+OLCOMP_ANONYM+"</td><td>");f.push(kernel.pretty(w)+"</td><td>"+kernel.pretty(z)+"</td><td>");for(n=0;n<r.length;n++)4<r[n].length?(r[n][1]=
scramble.scrStd("",d[n]||"")[1],f.push('<a target="_blank" class="click" href="'+stats.getReviewUrl(r[n])+'">'+stats.pretty(r[n][0])+"</a> ")):f.push(stats.pretty(r[n][0])+" ");f.push("</td>");f.push("</tr>")}f.push("</table>");$a.empty().html(f.join(""))}}).error(function(){logohint.push("Network Error")})}}function Za(){if(0==bb.length||kb||confirm(OLCOMP_ABORT)){Xa(!1,!0);var a=exportFunc.getDataId("wcaData","cstimer_token")||exportFunc.getDataId("locData","compid")||h();a&&$.post("https://cstimer.net/comp.php",
{action:"myresult",uid:a},function(a){try{a=JSON.parse(a)}catch(ab){a={}}if(0!==a.retcode)logohint.push("Server Error");else{a=a.data;for(var b=['<table class="table"><tr><th></th><th>Comp.</th><th>ao5</th><th>bo5</th><th>Results</th></tr>'],c=0;c<a.length;c++){var d=JSON.parse(a[c].value);if(5!=d.length)return;var f=new TimeStat([5],d.length,function(a){return-1==d[a][0][0]?-1:d[a][0][0]+d[a][0][1]});f.getAllStats();b.push("<tr><td>"+(c+1)+"</td>");b.push("<td>"+a[c].fullname+"|"+a[c].path+"</td>");
b.push("<td>"+kernel.pretty(f.lastAvg[0][0])+"</td>");b.push("<td>"+kernel.pretty(f.bestTime)+"</td><td>");for(f=0;f<d.length;f++)4<d[f].length?(d[f][1]=scramble.scrStd("",JSON.parse(a[c].scramble)[f]||"")[1],b.push('<a target="_blank" class="click" href="'+stats.getReviewUrl(d[f])+'">'+stats.pretty(d[f][0])+"</a> ")):b.push(stats.pretty(d[f][0])+" ");b.push("</td>");b.push("</tr>")}b.push("</table>");$a.empty().html(b.join(""))}}).error(function(){logohint.push("Network Error")})}}function Ya(a,
c){if(ib)if("export"==a)b();else{c=JSON.parse(JSON.stringify(c));var d=c[1];c[1]="";c[2]="";if("timestd"==a)for(var f=bb.length;f<sb.length;f++){var h=scramble.scrStd("",sb[f])[1];if(h!=d)c[0]=[-1,1],bb.push(c);else{bb.push(c);break}}else if("timepnt"==a)for(f=0;f<bb.length;f++)if(h=scramble.scrStd("",sb[f])[1],h==d){bb[f]=c;break}Qa()}}var Ua=$("<div>"),Wa=$('<span class="click">'),Sa=$('<span class="click">'),c=$('<input type="button">').val(OLCOMP_UPDATELIST).click(d),z=$("<div>"),$a=$('<div class="noScrollBar" style="max-height: 8em; overflow-y: auto;">'),
f=$('<input type="button">'),eb=$('<input type="button">').val(OLCOMP_VIEWRESULT),lb=$('<input type="button">').val(OLCOMP_VIEWMYRESULT),cb=$('<input type="checkbox">'),mb=[],nb=[],jb={},ib=!1,bb=[],kb=!1,sb=[],qb=[];$(function(){tools.regTool("onlinecomp",OLCOMP_OLCOMP,r);kernel.regListener("onlinecomp","timestd",Ya);kernel.regListener("onlinecomp","timepnt",Ya);kernel.regListener("onlinecomp","export",Ya,/^account$/)});return{getScrambles:function(){return 0==bb.length?sb.slice():[]}}});execMain(function(){function n(){var a=prompt(TOOLS_SYNCSEED_INPUTA);kernel.blur();null!=a&&(/^[a-zA-Z0-9]+$/.exec(a)?Ta(a):logohint.push("Invalid Value"))}function Ta(a){w=!0;Va=Va||mathlib.getSeed();mathlib.setSeed(0,"syncseed"+a);scramble.setCacheEnable(!1);b.html(a).addClass("click");kernel.pushSignal("ctrl",["scramble","next"])}function d(){w&&confirm(TOOLS_SYNCSEED_DISABLE)&&(w&&(w=!1,mathlib.setSeed(0,Va[1]+""+Va[0]),Va=void 0,scramble.setCacheEnable(!0),kernel.pushSignal("ctrl",["scramble",
"next"])),b.html("N/A").unbind("click").removeClass("click"))}function Ra(){Ta(""+~~((new Date).getTime()/1E3/30));kernel.blur()}function a(){alert(TOOLS_SYNCSEED_HELP)}function h(h){h&&h.empty().append(TOOLS_SYNCSEED_SEED,r.unbind("click").click(a),": ",b.unbind("click").click(d)).append("<br><br>",Xa.unbind("click").click(n)).append("<br>",Qa.unbind("click").click(Ra))}var b=$("<span>").html("N/A"),r=$('<span class="click">').html("[?]"),Xa=$('<input type="button">').val(TOOLS_SYNCSEED_INPUT),Qa=
$('<input type="button">').val(TOOLS_SYNCSEED_30S),w=!1,Va;$(function(){tools.regTool("syncseed",TOOLS_SYNCSEED,h)})});execMain(function(n){function Ta(a,d,b){for(var h=0;h<b.length;h++)d=a(d,b[h]);return d}function d(a){if(a){a.empty();var d=$('<span class="sol"/>').html("Fetching...");a.append(d);var b=tools.getCurScramble();!tools.isPuzzle("333")||"pll"!=b[0]&&"oll"!=b[0]?a.html(IMAGE_UNAVAILABLE):Ra.findAlgByScramble(b[0],b[1],function(a){if(a){d.empty();for(var b=0;b<a.length;b++)d.append(a[b],"<br>")}else d.html("N/A")})}}var Ra=function(){function a(a){a=a.split(" ");for(var b=[],d=0;d<a.length;d++)if(a[d]){var h=
r.exec(a[d]);if(!h)return[];var n=1==h[1].length?h[1]:h[1].toLowerCase();b.push(n+"? 2'".charAt((4+(h[2]?2:1)*(h[3]?-1:1))%4))}return b}function d(a){for(var b={},d=0;4>d;d++){for(var h=0;4>h;h++)b[a]=b[a]||[(h+d)%4,d],a=n(a,"y ").toLowerCase(),a=a.replace(/u/g,"U").replace(/r/g,"F").replace(/f/g,"L").replace(/d/g,"D").replace(/l/g,"B").replace(/b/g,"R").toUpperCase();a=n(a,"U ")}return b}var b=mathlib.SOLVED_FACELET,r=/^([URFDLBurfdlbMESxyz]|[URFDLB]w)(2?)('?)$/;return{findAlgByScramble:function(h,
r,w){h={oll:"UUUUUUUUU???RRRRRR???FFFFFFDDDDDDDDD???LLLLLL???BBBBBB"}[h]||b;var Qa=[];r=a(r);var Ra=d(Ta(n,h,r));r=[];for(var Ya in Ra){if(Ya==h){w(["Already solved"]);return}r.push(Ya)}r=r.join(",");$.post("https://cstimer.net/alg.php",{states:r},function(a){a=JSON.parse(a);if(0!=a.retcode)w(["Network Error"]);else{a=a.data;for(var b={},d=0;d<a.length;d++)b[a[d].state]=b[a[d].state]||[],b[a[d].state].push(a[d].algorithm);for(var c in Ra){a=Ra[c];for(var h in b){a:{for(d=0;d<h.length;d++)if(c[d]!=
h[d]&&"?"!=c[d]){d=!1;break a}d=!0}if(d){var n=b[h];for(d=0;d<n.length;d++)Qa.push((0<a[0]?"(y"+"? 2'".charAt(a[0])+") ":"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;")+n[d])}}}w(Qa)}}).error(function(){w(["Network Error"])})}}}();$(function(){tools.regTool("algs","Search Algs",d)})},[gsolver.rubiksCube.move]);var shortcuts=execMain(function(){function n(a,h){if(kernel.getProp("useKSC")){var b;h.altKey&&h.ctrlKey?b=Ra[h.which]:h.altKey?b=Ta[h.which]:h.ctrlKey&&(b=d[h.which]);void 0!=b&&(void 0==b[1]?kernel.setProp(b[0][0],b[0][1]):kernel.pushSignal(b[1],b[0]),kernel.clrKey(),kernel.blur())}}var Ta={49:[["scrType","sqrs"]],50:[["scrType","222so"]],51:[["scrType","333"]],52:[["scrType","444wca"]],53:[["scrType","555wca"]],54:[["scrType","666wca"]],55:[["scrType","777wca"]],67:[["scrType","clkwca"]],77:[["scrType",
"mgmp"]],80:[["scrType","pyrso"]],83:[["scrType","skbso"]],73:[["scrType","input"]],37:[["scramble","last"],"ctrl"],39:[["scramble","next"],"ctrl"],38:[["stats","-"],"ctrl"],40:[["stats","+"],"ctrl"],68:[["stats","clr"],"ctrl"],90:[["stats","undo"],"ctrl"]},d={49:[["stats","OK"],"ctrl"],50:[["stats","+2"],"ctrl"],51:[["stats","DNF"],"ctrl"]},Ra={84:[["input","t"]],73:[["input","i"]],83:[["input","s"]],77:[["input","m"]],86:[["input","v"]],71:[["input","g"]]};$(function(){kernel.regListener("shortcut",
"keydown",n);kernel.regProp("tools","useKSC",0,PROPERTY_USEKSC,[!0])})});var help=execMain(function(){function n(){$(this).hasClass("enable")||Ta($(this).html())}function Ta(a){if(void 0===a)for(a in h)break;Ra(a)&&d(a)}function d(a,b){r.children().appendTo(kernel.temp);for(var d in h)$("<div />").html(d).addClass(d==a?"tab enable":"tab disable").click(n).appendTo(r)}function Ra(a,b){setTimeout(function(){Qa.scrollTop(Qa.scrollTop()+h[a].position().top-3)},0);return!0}function a(){var a=ABOUT_LANG,b;for(b in h)50<h[b].position().top||(a=h[b].is("h1, h2, h3")?h[b].html():
ABOUT_LANG);d(a)}var h={},b=$('<table class="options" />'),r=$("<td />"),Xa=$("<td />").addClass("tabValue"),Qa=$('<div class="noScrollBar helptable">');b.append($("<tr />").append(r,Xa.append(Qa)));$(function(){for(var d=$("#about").children(),n=0;n<d.length;n++){var r=d.eq(n),Ra=r.appendTo(Qa).html();r.is("h1, h2, h3")&&!d.eq(n+1).is("h1, h2, h3")?h[Ra]=r:h[ABOUT_LANG]=h[ABOUT_LANG]||r}Ta();$("#about").html(b);Qa.scrollTop();Qa.unbind("scroll").scroll(a)})});var stackmat=execMain(function(){function n(d){h=d;b=a.createMediaStreamSource(d);r=a.createScriptProcessor(1024,1,1);r.onaudioprocess=function(a){a=a.inputBuffer.getChannelData(0);for(var b=0;b<a.length;b++){Va=Math.max(1E-4,Va+(a[b]*a[b]-Va)*Za);var d=1/Math.sqrt(Va)*a[b];Ya.unshift(d);if((Ya.pop()-d)*(Ua?1:-1)>Sa&&Math.abs(d-(Ua?1:-1))-1>Wa&&c>.6*Xa){for(var f=0;f<Math.round(c/Xa);f++)Qa(Ua);Ua^=1;c=0}else c>2*Xa&&(Qa(Ua),c-=Xa);c++;10>cb?z=Math.max(1E-4,z+(Math.pow(d-(Ua?1:-1),2)-z)*Za):100<cb&&
(z=1)}};b.connect(r);r.connect(a.destination)}function Ta(a){$a.push(a);a!=lb?(lb=a,cb=1):cb++;mb++;if(10<cb)eb=a,$a=[],0!=f.length&&(f=[]),100<cb&&jb.on?(jb.on=!1,jb.noise=Math.min(1,z)||0,jb.power=Va,ib(jb)):700<mb&&(mb=100,jb.noise=Math.min(1,z)||0,jb.power=Va,ib(jb));else if(10==$a.length)if($a[0]==eb||$a[9]!=eb)$a=$a.slice(1);else{a=0;for(var b=8;0<b;b--)a=a<<1|($a[b]==eb?1:0);f.push(String.fromCharCode(a));a:if(a=f,9==a.length||10==a.length){DEBUG&&console.log("[stackmat]",a);b=/[0-9]/;var c=
a[0];if(/[ SILRCA]/.exec(c)){for(var h=64,n=1;n<a.length-3;n++){if(!b.exec(a[n]))break a;h+=~~a[n]}h==a[a.length-3].charCodeAt(0)&&d(c,6E4*~~a[1]+1E3*~~(a[2]+a[3])+~~(a[4]+a[5]+(10==a.length?a[6]:"0")),9==a.length?10:1)}}$a=[]}}function d(a,b,c){var d=$.now();200<d-nb&&DEBUG&&console.log("[stackmat] signal miss ",d-nb);nb=d;d={};d.time_milli=b;d.unit=c;d.on=!0;kernel.getProp("stkHead")||(a="S");b=c==jb.unit?d.time_milli>jb.time_milli:Math.floor(d.time_milli/10)>Math.floor(jb.time_milli/10);d.greenLight=
"A"==a;d.leftHand="L"==a||"A"==a||"C"==a;d.rightHand="R"==a||"A"==a||"C"==a;d.running=("S"!=a||"S"==jb.signalHeader)&&(" "==a||b);d.signalHeader=a;d.unknownRunning=!jb.on;d.noise=Math.min(1,z)||0;d.power=Va;jb=d;mb=0;ib(jb)}function Ra(a){if(lb!=eb&&1==cb&&($a.push(a),24==$a.length)){for(var b=0,c=5;0<=c;c--){b*=10;for(var h=0;4>h;h++)b+=$a[4*c+h]<<h}$a=[];d("S",b,1)}a!=lb?(lb=a,cb=1):cb++;10<cb&&(eb=a,$a=[],f=[],1E3<cb&&jb.on?(jb.on=!1,jb.noise=Math.min(1,z)||0,jb.power=Va,ib(jb)):4E3<cb&&(cb=1E3,
jb.noise=Math.min(1,z)||0,jb.power=Va,ib(jb)))}var a,h,b,r,Xa,Qa,w,Va=1,Za=1E-4,Ya=[],Ua=0,Wa=.2,Sa=.7,c=0,z=0,$a=[],f=[],eb=0,lb=0,cb=0,mb=0,nb=0,jb={time_milli:0,unit:10,on:!1,greenLight:!1,leftHand:!1,rightHand:!1,running:!1,unknownRunning:!0,signalHeader:"I",noise:1,power:1},ib=$.noop;return{init:function(b,c,d){w=b;void 0===navigator.mediaDevices&&(navigator.mediaDevices={});void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(a){var b=navigator.webkitGetUserMedia||
navigator.mozGetUserMedia||navigator.msGetUserMedia;return b?new Promise(function(c,d){b.call(navigator,a,c,d)}):Promise.reject(Error("getUserMedia is not implemented in this browser"))});a=new (window.AudioContext||window.webkitAudioContext);"m"==w?(Xa=a.sampleRate/8E3,Qa=Ra):(Xa=a.sampleRate/1200,Qa=Ta);Za=.001/Xa;Ya.length=Math.ceil(Xa/6);$a=[];f=[];b={echoCancellation:!1,noiseSuppression:!1};c&&(b.deviceId={exact:c});return void 0==h?navigator.mediaDevices.getUserMedia({audio:b}).then(function(b){if("suspended"==
a.state&&!d)return Promise.reject();n(b)},console.log):Promise.resolve()},stop:function(){void 0!=h&&(b.disconnect(r),r.disconnect(a.destination),h.stop&&h.stop(),h=void 0)},updateInputDevices:function(){var a=[],b=new Promise(function(b,c){b(a)});return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(function(c){for(var d=0;d<c.length;d++){var f=c[d];"audioinput"===f.kind&&a.push([f.deviceId,f.label||"microphone "+(a.length+1)])}return b}):
b},setCallBack:function(a){ib=a}}});
execMain(function(){window.nativeStackmat&&(stackmat=function(){DEBUG&&console.log("Use Native Stackmat");var n="stackmat_callback_"+~~(1E7*Math.random()),Ta;nativeStackmat.setCallback(n);window[n]=function(d){DEBUG&&console.log(JSON.stringify(d));Ta&&Ta(d)};return{init:function(){nativeStackmat.init();return Promise.resolve()},stop:function(){nativeStackmat.stop();return Promise.resolve()},updateInputDevices:function(){return new Promise(function(d,n){d([[void 0,"native"]])})},setCallBack:function(d){Ta=
d}}}())});var stackmatutil=execMain(function(n){function Ta(b){b?(h=!0,b.empty().append(Ra,"<br>","Device:&nbsp;&nbsp;",a)):h=!1}function d(){stackmat.updateInputDevices().then(function(b){a.empty();for(var d=0;d<b.length;d++)a.append($("<option>").val(b[d][0]).text(b[d][1]));a.unbind("change").change(function(){stackmat.stop();console.log("select device ",a.val());stackmat.init(void 0,a.val(),!0);kernel.blur()})})}var Ra=$("<span>").html("status:  unknown"),a=$('<select style="font-size: 1rem;">'),h=!1;$(function(){tools.regTool("stackmatutil",
"stackmat",Ta);kernel.regProp("timer","stkHead",0,PROPERTY_STKHEAD,[!0]);d()});return{init:function(a,h){return stackmat.init(a,void 0,h).then(d)},stop:stackmat.stop,setCallBack:function(a){stackmat.setCallBack(function(b){if(h){var d="status:  "+(b.on?"on":"off")+"<br>";d+="noise:   "+~~(100*b.noise)+"%<br>";d+="power:   "+~~(100*Math.log10(b.power))/10+"dB<br>";d+="header:  "+b.signalHeader+"<br>";d+="pad:     "+(b.leftHand?"L":" ")+(b.rightHand?"R":" ")+"<br>";d+="running: "+(b.running?"yes":"no");
Ra.html(d.replace(/ /g,"&nbsp;"))}a&&a(b)})}}});var GiikerCube=execMain(function(){var n=void 0,Ta=null,d=function(){function a(a){d(a.target.value)}function d(a){for(var b=$.now(),d=[],n=0;20>n;n++)d.push(a.getUint8(n));if(167==d[18]){a=[176,81,104,224,86,137,237,119,38,26,193,161,210,126,150,81,93,13,236,249,89,235,88,24,113,81,214,131,130,199,2,169,39,165,171,41];var c=d[19]>>4&15,r=d[19]&15;for(n=0;18>n;n++)d[n]+=a[n+c]+a[n+r];d=d.slice(0,18)}a=[];for(n=0;n<d.length;n++)a.push(d[n]>>4&15),a.push(d[n]&15);n=[];for(d=0;3>d;d++)for(c=8;0!=c;c>>=
1)n.push(a[d+28]&c?1:0);c=new mathlib.CubieCube;r=[-1,1,-1,1,1,-1,1,-1];for(d=0;8>d;d++)c.ca[d]=a[d]-1|(3+a[d+8]*r[d])%3<<3;for(d=0;12>d;d++)c.ea[d]=a[d+16]-1<<1|n[d];n=c.toFaceCube(Ra,Ta);r=a.slice(32,40);c=[];for(d=0;d<r.length;d+=2)c.push("BDLURF".charAt(r[d]-1)+" 2'".charAt((r[d+1]-1)%7));if(DEBUG){r=[];for(d=0;40>d;d++)r.push("0123456789abcdef".charAt(a[d]));console.log("[giiker]","Raw Data: ",a.join(""));console.log("[giiker]","Current State: ",n);console.log("[giiker]","A Valid Generator: ",
scramble_333.genFacelet(n));console.log("[giiker]","Previous Moves: ",c.reverse().join(" "));c.reverse()}h(n,c,b,w);return[n,c]}var n=null,Qa=null,w,Ra=[[26,15,29],[20,8,9],[18,38,6],[24,27,44],[51,35,17],[45,11,2],[47,0,36],[53,42,33]],Ta=[[25,28],[23,12],[19,7],[21,41],[32,16],[5,10],[3,37],[30,43],[52,34],[48,14],[46,1],[50,39]];return{init:function(b){w=b.name.startsWith("Gi")?"Giiker":"Mi Smart";return b.gatt.connect().then(function(a){n=a;return a.getPrimaryService("0000aadb-0000-1000-8000-00805f9b34fb")}).then(function(a){return a.getCharacteristic("0000aadc-0000-1000-8000-00805f9b34fb")}).then(function(a){Qa=
a;return Qa.startNotifications()}).then(function(){return Qa.readValue()}).then(function(b){d(b)[0]!=kernel.getProp("giiSolved",mathlib.SOLVED_FACELET)&&(b=kernel.getProp("giiRST"),("a"==b||"p"==b&&confirm(CONFIRM_GIIRST))&&giikerutil.markSolved());return Qa.addEventListener("characteristicvaluechanged",a)})},opservs:["0000aadb-0000-1000-8000-00805f9b34fb","0000aaaa-0000-1000-8000-00805f9b34fb"],getBatteryLevel:function(){var a,b,d,h=function(a){d([a.target.value.getUint8(1),w]);b.removeEventListener("characteristicvaluechanged",
h);b.stopNotifications()};return n.getPrimaryService("0000aaaa-0000-1000-8000-00805f9b34fb").then(function(b){a=b;return b.getCharacteristic("0000aaab-0000-1000-8000-00805f9b34fb")}).then(function(a){b=a;return b.startNotifications()}).then(function(){return b.addEventListener("characteristicvaluechanged",h)}).then(function(){return a.getCharacteristic("0000aaac-0000-1000-8000-00805f9b34fb")}).then(function(a){a.writeValue((new Uint8Array([181])).buffer);return new Promise(function(a){d=a})})}}}(),
Ra=function(){function a(a){for(var b=[],d=0;d<a.byteLength;d++)b[d]=a.getUint8(d);if(null==c)return b;16<b.length&&(b=b.slice(0,b.length-16).concat(c.decrypt(b.slice(b.length-16))));c.decrypt(b);return b}function d(a){return a.getPrimaryService("0000180a-0000-1000-8000-00805f9b34fb").then(function(a){Za=a;return a.getCharacteristic("00002a28-0000-1000-8000-00805f9b34fb")}).then(function(a){return a.readValue()}).then(function(a){var b=a.getUint8(0)<<16|a.getUint8(1)<<8|a.getUint8(2);DEBUG&&console.log("[gancube] version",
JSON.stringify(b));c=null;if(65543<b&&65536==(b&16776704))return Za.getCharacteristic("00002a23-0000-1000-8000-00805f9b34fb").then(function(a){return a.readValue()}).then(function(a){var d=z[b>>8&255];if(d){d=JSON.parse(LZString.decompressFromEncodedURIComponent(d));for(var f=0;6>f;f++)d[f]=d[f]+a.getUint8(5-f)&255;a=d}else a=void 0;a?(DEBUG&&console.log("[gancube] key",JSON.stringify(a)),c=new bb(a)):logohint.push("Not support your Gan cube")});logohint.push("Not support your Gan cube")})}function n(){return 50>
ib?new Promise(function(a){a(!1)}):Ya.readValue().then(function(b){b=a(b);for(var c=[],d=0;d<b.length-2;d+=3)for(var f=b[d^1]<<16|b[d+1^1]<<8|b[d+2^1],h=21;0<=h;h-=3)c.push("URFDLB".charAt(f>>h&7)),12==h&&c.push("URFDLB".charAt(d/3));lb=c.join("");ib=0;return new Promise(function(a){a(!0)})})}function Qa(){if(Ta)return Ua.readValue().then(function(b){b=a(b);cb=$.now();nb=b[12];if(nb!=jb){$a=[];for(var c=0;6>c;c++){var d=b[13+c];$a.unshift("URFDLB".charAt(~~(d/3))+" 2'".charAt(d%3))}var r;return Wa.readValue().then(function(b){r=
b=a(b);return n()}).then(function(a){if(a&&-1==jb)h(lb,$a,cb,"Gan 356i"),f.fromFacelet(lb),jb=nb,lb!=kernel.getProp("giiSolved",mathlib.SOLVED_FACELET)&&(a=kernel.getProp("giiRST"),("a"==a||"p"==a&&confirm(CONFIRM_GIIRST))&&giikerutil.markSolved());else{for(var b=[],c=0;9>c;c++)b.unshift(~~((r[2*c+1]|r[2*c+2]<<8)/.95));var d=nb-jb&255;jb=nb;ib+=d;6<d&&(ib=50,d=6);var n=mb;for(c=d-1;0<=c;c--)n+=b[c];2E3<Math.abs(n-cb)&&(console.log("[gancube]","time adjust",cb-n,"@",cb),mb+=cb-n);for(c=d-1;0<=c;c--)d=
3*"URFDLB".indexOf($a[c][0])+" 2'".indexOf($a[c][1]),mathlib.CubieCube.EdgeMult(f,mathlib.CubieCube.moveCube[d],eb),mathlib.CubieCube.CornMult(f,mathlib.CubieCube.moveCube[d],eb),mb+=b[c],h(eb.toFaceCube(),$a.slice(c),mb,"Gan 356i"),d=eb,eb=f,f=d;a&&f.toFaceCube()!=lb&&(console.log("[gancube]","Cube state check error"),console.log("[gancube]","calc",f.toFaceCube()),console.log("[gancube]","read",lb),f.fromFacelet(lb))}})}}).then(Qa)}var w,Ra,Za,Ya,Ua,Wa,Sa,c=null,z=["NoRgnAHANATADDWJYwMxQOxiiEcfYgSK6Hpr4TYCs0IG1OEAbDszALpA",
"NoNg7ANATFIQnARmogLBRUCs0oAYN8U5J45EQBmFADg0oJAOSlUQF0g"],$a,f=new mathlib.CubieCube,eb=new mathlib.CubieCube,lb,cb,mb=0,nb=-1,jb=-1,ib=1E3,bb=function(){function a(a,b){for(var c=a.slice(),h=0;16>h;h++)a[h]=d[c[f[h]]]^b[h]}function b(a){if(0==h.length){for(var b=0;256>b;b++)d[c[b]]=b;for(b=0;128>b;b++)h[b]=b<<1,h[128+b]=b<<1^27}a=a.slice();b=1;for(var f=16;176>f;f+=4){var n=a.slice(f-4,f);0==f%16&&(n=[c[n[1]]^b,c[n[2]],c[n[3]],c[n[0]]],b=h[b]);for(var r=0;4>r;r++)a[f+r]=a[f+r-16]^n[r]}this.key=
a}var c=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,
126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],d=[],f=[0,13,10,7,4,1,14,11,8,5,2,15,12,9,6,3],h=[];b.prototype.decrypt=function(b){for(var c=
this.key.slice(160,176),d=0;16>d;d++)b[d]^=c[d];for(c=144;16<=c;c-=16){a(b,this.key.slice(c,c+16));d=b;for(var f=0;16>f;f+=4){var n=d[f+0],r=d[f+1],w=d[f+2],z=d[f+3],Qa=n^r^w^z,Ra=h[Qa],Sa=h[h[Ra^n^w]]^Qa;Qa^=h[h[Ra^r^z]];d[f+0]=d[f+0]^Sa^h[n^r];d[f+1]=d[f+1]^Qa^h[r^w];d[f+2]=d[f+2]^Sa^h[w^z];d[f+3]=d[f+3]^Qa^h[z^n]}}a(b,this.key.slice(0,16));return b};return b}();return{init:function(a){return a.gatt.connect().then(function(a){w=a;return d(a)}).then(function(){return w.getPrimaryService("0000fff0-0000-1000-8000-00805f9b34fb")}).then(function(a){Ra=
a;return Ra.getCharacteristic("0000fff2-0000-1000-8000-00805f9b34fb")}).then(function(a){Ya=a;return Ra.getCharacteristic("0000fff5-0000-1000-8000-00805f9b34fb")}).then(function(a){Ua=a;return Ra.getCharacteristic("0000fff6-0000-1000-8000-00805f9b34fb")}).then(function(a){Wa=a;return Ra.getCharacteristic("0000fff7-0000-1000-8000-00805f9b34fb")}).then(function(a){Sa=a}).then(Qa)},opservs:["0000fff0-0000-1000-8000-00805f9b34fb","0000180a-0000-1000-8000-00805f9b34fb"],getBatteryLevel:function(){return Sa.readValue().then(function(b){b=
a(b);return new Promise(function(a){a([b[7],"Gan 356i"])})})}}}(),a=function(){function a(a){a=a.target.value;var b=$.now();if(!(4>a.byteLength)&&42==a.getUint8(0)&&13==a.getUint8(a.byteLength-2)&&10==a.getUint8(a.byteLength-1)){var f=a.getUint8(2),n=a.byteLength-6;if(1==f)for(f=0;f<n;f+=2){var r=Ra[a.getUint8(3+f)>>1],Qa=[0,2][a.getUint8(3+f)&1],Va=3*r+Qa;console.log("move","URFDLB".charAt(r)+" 2'".charAt(Qa));mathlib.CubieCube.EdgeMult($a,mathlib.CubieCube.moveCube[Va],z);mathlib.CubieCube.CornMult($a,
mathlib.CubieCube.moveCube[Va],z);c=z.toFaceCube();h(c,["URFDLB".charAt(r)+" 2'".charAt(Qa)],b,"GoCube");r=z;z=$a;$a=r;20<++Sa&&(Sa=0,w.writeValue((new Uint8Array([51])).buffer))}else if(2==f){b=[];for(n=0;6>n;n++)for(r=9*Ra[n],Qa=Ya[n],b[r+4]="BFUDRL".charAt(a.getUint8(3+9*n)),f=0;8>f;f++)b[r+Ta[(f+Qa)%8]]="BFUDRL".charAt(a.getUint8(3+9*n+f+1));a=b.join("");a!=c&&(console.log("facelet",a),z.fromFacelet(a))}else if(3!=f)if(5==f)for(console.log("battery level",d(a)),Ua=a.getUint8(3);0!=Wa.length;)Wa.shift()(Ua);
else 7==f?console.log("offline stats",d(a)):8==f&&console.log("cube type",d(a))}}function d(a){for(var b=[],c=0;c<a.byteLength;c++)b.push(a.getUint8(c)>>4&15),b.push(a.getUint8(c)&15);return b}var n,Qa,w,Ra=[5,2,0,3,1,4],Ta=[0,1,2,5,8,7,6,3],Ya=[0,0,6,2,0,0],Ua=-1,Wa=[],Sa=100,c=mathlib.SOLVED_FACELET,z=new mathlib.CubieCube,$a=new mathlib.CubieCube;return{init:function(b){return b.gatt.connect().then(function(a){return a.getPrimaryService("6e400001-b5a3-f393-e0a9-e50e24dcca9e")}).then(function(a){n=
a;return n.getCharacteristic("6e400002-b5a3-f393-e0a9-e50e24dcca9e")}).then(function(a){w=a;return n.getCharacteristic("6e400003-b5a3-f393-e0a9-e50e24dcca9e")}).then(function(a){Qa=a;return Qa.startNotifications()}).then(function(){return Qa.addEventListener("characteristicvaluechanged",a)}).then(function(){return w.writeValue((new Uint8Array([51])).buffer)})},opservs:["6e400001-b5a3-f393-e0a9-e50e24dcca9e"],getBatteryLevel:function(){w.writeValue((new Uint8Array([50])).buffer);return new Promise(function(a){Wa.push(a)})}}}(),
h=$.noop;return{init:function(b){return window.navigator&&window.navigator.bluetooth?window.navigator.bluetooth.requestDevice({filters:[{namePrefix:"Gi"},{namePrefix:"Mi Smart Magic Cube"},{namePrefix:"GAN"},{namePrefix:"GoCube"},{services:["0000fe95-0000-1000-8000-00805f9b34fb"]},{services:[d.opservs[0]]}],optionalServices:[].concat(d.opservs,Ra.opservs,a.opservs)}).then(function(b){console.log(b);Ta=b;return b.name.startsWith("Gi")||b.name.startsWith("Mi Smart Magic Cube")?(n=d,d.init(b)):b.name.startsWith("GAN")?
(n=Ra,Ra.init(b)):b.name.startsWith("GoCube")?(n=a,a.init(b)):Promise.resolve()}):(alert("Bluetooth API is not available. Ensure https access, and try chrome with chrome://flags/#enable-experimental-web-platform-features enabled"),Promise.resolve())},stop:function(){Ta&&(Ta.gatt.disconnect(),Ta=null)},isConnected:function(){return null!=Ta},setCallBack:function(a){h=a},getCube:function(){return n}}});var GanTimerState={};GanTimerState[GanTimerState.DISCONNECT=0]="DISCONNECT";GanTimerState[GanTimerState.GET_SET=1]="GET_SET";GanTimerState[GanTimerState.HANDS_OFF=2]="HANDS_OFF";GanTimerState[GanTimerState.RUNNING=3]="RUNNING";GanTimerState[GanTimerState.STOPPED=4]="STOPPED";GanTimerState[GanTimerState.IDLE=5]="IDLE";GanTimerState[GanTimerState.HANDS_ON=6]="HANDS_ON";GanTimerState[GanTimerState.FINISHED=7]="FINISHED";
var GanTimerDriver=execMain(function(){function n(a){var b=[];if(a)for(var d=0;d<a.byteLength;d++)b.push(a.getUint8(d).toString(16).padStart(2,"0"));return b.join(" ")}function Ta(a){a=a.target.value;try{if(a&&0!=a.byteLength&&254==a.getUint8(0)){var b=a.getUint16(a.byteLength-2,!0),d=a.buffer.slice(2,a.byteLength-2),h=new DataView(d);d=65535;for(var Qa=0;Qa<h.byteLength;++Qa){d^=h.getUint8(Qa)<<8;for(var w=0;8>w;++w)d=0<(d&32768)?d<<1^4129:d<<1}var Ta=b==(d&65535)}else Ta=!1}catch(Za){Ta=!1}Ta?"function"==
typeof Ra&&(Ta=Ra,b={state:a.getUint8(3)},b.state==GanTimerState.STOPPED&&(h=a.getUint8(4),d=a.getUint8(5),a=a.getUint16(6,!0),b.recordedTime={minutes:h,seconds:d,milliseconds:a,asTimestamp:6E4*h+1E3*d+a}),Ta(b)):console.log("GanTimerDriver: Invalid event data received from Timer: "+n(a))}function d(){a&&(a.removeEventListener("characteristicvaluechanged",Ta),a=void 0);"function"==typeof Ra&&Ra({state:GanTimerState.DISCONNECT})}var Ra,a;return{connect:function(){return navigator.bluetooth?navigator.bluetooth.getAvailability().then(function(a){if(!a)return Promise.reject("Bluetooth is not available. Ensure HTTPS access, and check bluetooth is enabled on your device")}).then(function(){return navigator.bluetooth.requestDevice({filters:[{namePrefix:"GAN"}],
optionalServices:["0000fff0-0000-1000-8000-00805f9b34fb"]})}).then(function(a){a.addEventListener("gattserverdisconnected",d);return a.gatt.connect()}).then(function(a){return a.getPrimaryService("0000fff0-0000-1000-8000-00805f9b34fb")}).then(function(a){return a.getCharacteristic("0000fff5-0000-1000-8000-00805f9b34fb")}).then(function(d){a=d;a.addEventListener("characteristicvaluechanged",Ta);a.startNotifications()}):Promise.reject("Bluetooth API is not supported by this browser. Try fresh Chrome version!")},
disconnect:function(){return a?(a.service.device.removeEventListener("gattserverdisconnected",d),a.removeEventListener("characteristicvaluechanged",Ta),a.stopNotifications().then(function(){a.service.device.gatt.disconnect();a=void 0})):Promise.resolve()},setStateUpdateCallback:function(a){Ra=a}}});var csTimerWorker=execBoth(function(){if(!window.Worker)return{};var n=new Worker("js/cstimer.js"),Ta={},d=0;n.onmessage=function(d){d=d.data;var a=Ta[d[0]];delete Ta[d[0]];a&&a(d[2])};n.postMessage([0,"set",["SCRAMBLE_NOOBST",SCRAMBLE_NOOBST]]);n.postMessage([0,"set",["SCRAMBLE_NOOBSS",SCRAMBLE_NOOBSS]]);return{getScramble:function(Ra,a){++d;Ta[d]=a;n.postMessage([d,"scramble",Ra]);return d}}},function(){self.onmessage=function(n){var Ta=n.data;n=Ta[0];var d=Ta[1];Ta=Ta[2];var Ra=void 0;switch(d){case "scramble":Ra=
scrMgr.scramblers[Ta[0]];Ra=Ra.apply(Ra,Ta);break;case "set":self[Ta[0]]=Ta[1]}postMessage([n,d,Ra])}});
